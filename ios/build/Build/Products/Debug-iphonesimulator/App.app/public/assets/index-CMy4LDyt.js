var JU=Object.defineProperty;var tS=t=>{throw TypeError(t)};var ez=(t,e,r)=>e in t?JU(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var M=(t,e,r)=>ez(t,typeof e!="symbol"?e+"":e,r),fx=(t,e,r)=>e.has(t)||tS("Cannot "+r);var k=(t,e,r)=>(fx(t,e,"read from private field"),r?r.call(t):e.get(t)),re=(t,e,r)=>e.has(t)?tS("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),ne=(t,e,r,n)=>(fx(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),ce=(t,e,r)=>(fx(t,e,"access private method"),r);var Um=(t,e,r,n)=>({set _(i){ne(t,e,i,r)},get _(){return k(t,e,n)}});function tz(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Wh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ka(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var UP={exports:{}},B1={},zP={exports:{}},bt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zp=Symbol.for("react.element"),rz=Symbol.for("react.portal"),nz=Symbol.for("react.fragment"),iz=Symbol.for("react.strict_mode"),sz=Symbol.for("react.profiler"),az=Symbol.for("react.provider"),oz=Symbol.for("react.context"),lz=Symbol.for("react.forward_ref"),cz=Symbol.for("react.suspense"),uz=Symbol.for("react.memo"),dz=Symbol.for("react.lazy"),rS=Symbol.iterator;function hz(t){return t===null||typeof t!="object"?null:(t=rS&&t[rS]||t["@@iterator"],typeof t=="function"?t:null)}var $P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},VP=Object.assign,WP={};function Wd(t,e,r){this.props=t,this.context=e,this.refs=WP,this.updater=r||$P}Wd.prototype.isReactComponent={};Wd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Wd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function HP(){}HP.prototype=Wd.prototype;function x2(t,e,r){this.props=t,this.context=e,this.refs=WP,this.updater=r||$P}var y2=x2.prototype=new HP;y2.constructor=x2;VP(y2,Wd.prototype);y2.isPureReactComponent=!0;var nS=Array.isArray,GP=Object.prototype.hasOwnProperty,w2={current:null},qP={key:!0,ref:!0,__self:!0,__source:!0};function ZP(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)GP.call(e,n)&&!qP.hasOwnProperty(n)&&(i[n]=e[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:zp,type:t,key:s,ref:a,props:i,_owner:w2.current}}function fz(t,e){return{$$typeof:zp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function b2(t){return typeof t=="object"&&t!==null&&t.$$typeof===zp}function pz(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var iS=/\/+/g;function px(t,e){return typeof t=="object"&&t!==null&&t.key!=null?pz(""+t.key):e.toString(36)}function I0(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case zp:case rz:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+px(a,0):n,nS(i)?(r="",t!=null&&(r=t.replace(iS,"$&/")+"/"),I0(i,e,r,"",function(d){return d})):i!=null&&(b2(i)&&(i=fz(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(iS,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",nS(t))for(var l=0;l<t.length;l++){s=t[l];var c=n+px(s,l);a+=I0(s,e,r,c,i)}else if(c=hz(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=n+px(s,l++),a+=I0(s,e,r,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function zm(t,e,r){if(t==null)return t;var n=[],i=0;return I0(t,n,"","",function(s){return e.call(r,s,i++)}),n}function mz(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ni={current:null},D0={transition:null},gz={ReactCurrentDispatcher:ni,ReactCurrentBatchConfig:D0,ReactCurrentOwner:w2};function KP(){throw Error("act(...) is not supported in production builds of React.")}bt.Children={map:zm,forEach:function(t,e,r){zm(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return zm(t,function(){e++}),e},toArray:function(t){return zm(t,function(e){return e})||[]},only:function(t){if(!b2(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};bt.Component=Wd;bt.Fragment=nz;bt.Profiler=sz;bt.PureComponent=x2;bt.StrictMode=iz;bt.Suspense=cz;bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gz;bt.act=KP;bt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=VP({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=w2.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)GP.call(e,c)&&!qP.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:zp,type:t.type,key:i,ref:s,props:n,_owner:a}};bt.createContext=function(t){return t={$$typeof:oz,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:az,_context:t},t.Consumer=t};bt.createElement=ZP;bt.createFactory=function(t){var e=ZP.bind(null,t);return e.type=t,e};bt.createRef=function(){return{current:null}};bt.forwardRef=function(t){return{$$typeof:lz,render:t}};bt.isValidElement=b2;bt.lazy=function(t){return{$$typeof:dz,_payload:{_status:-1,_result:t},_init:mz}};bt.memo=function(t,e){return{$$typeof:uz,type:t,compare:e===void 0?null:e}};bt.startTransition=function(t){var e=D0.transition;D0.transition={};try{t()}finally{D0.transition=e}};bt.unstable_act=KP;bt.useCallback=function(t,e){return ni.current.useCallback(t,e)};bt.useContext=function(t){return ni.current.useContext(t)};bt.useDebugValue=function(){};bt.useDeferredValue=function(t){return ni.current.useDeferredValue(t)};bt.useEffect=function(t,e){return ni.current.useEffect(t,e)};bt.useId=function(){return ni.current.useId()};bt.useImperativeHandle=function(t,e,r){return ni.current.useImperativeHandle(t,e,r)};bt.useInsertionEffect=function(t,e){return ni.current.useInsertionEffect(t,e)};bt.useLayoutEffect=function(t,e){return ni.current.useLayoutEffect(t,e)};bt.useMemo=function(t,e){return ni.current.useMemo(t,e)};bt.useReducer=function(t,e,r){return ni.current.useReducer(t,e,r)};bt.useRef=function(t){return ni.current.useRef(t)};bt.useState=function(t){return ni.current.useState(t)};bt.useSyncExternalStore=function(t,e,r){return ni.current.useSyncExternalStore(t,e,r)};bt.useTransition=function(){return ni.current.useTransition()};bt.version="18.3.1";zP.exports=bt;var b=zP.exports;const nt=ka(b),YP=tz({__proto__:null,default:nt},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vz=b,xz=Symbol.for("react.element"),yz=Symbol.for("react.fragment"),wz=Object.prototype.hasOwnProperty,bz=vz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_z={key:!0,ref:!0,__self:!0,__source:!0};function XP(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)wz.call(e,n)&&!_z.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:xz,type:t,key:s,ref:a,props:i,_owner:bz.current}}B1.Fragment=yz;B1.jsx=XP;B1.jsxs=XP;UP.exports=B1;var o=UP.exports,QP={exports:{}},Ti={},JP={exports:{}},eT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,G){var ee=R.length;R.push(G);e:for(;0<ee;){var ie=ee-1>>>1,Ee=R[ie];if(0<i(Ee,G))R[ie]=G,R[ee]=Ee,ee=ie;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var G=R[0],ee=R.pop();if(ee!==G){R[0]=ee;e:for(var ie=0,Ee=R.length,Ke=Ee>>>1;ie<Ke;){var Ue=2*(ie+1)-1,ze=R[Ue],De=Ue+1,Y=R[De];if(0>i(ze,ee))De<Ee&&0>i(Y,ze)?(R[ie]=Y,R[De]=ee,ie=De):(R[ie]=ze,R[Ue]=ee,ie=Ue);else if(De<Ee&&0>i(Y,ee))R[ie]=Y,R[De]=ee,ie=De;else break e}}return G}function i(R,G){var ee=R.sortIndex-G.sortIndex;return ee!==0?ee:R.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],d=[],h=1,f=null,m=3,g=!1,y=!1,x=!1,N=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(R){for(var G=r(d);G!==null;){if(G.callback===null)n(d);else if(G.startTime<=R)n(d),G.sortIndex=G.expirationTime,e(c,G);else break;G=r(d)}}function E(R){if(x=!1,S(R),!y)if(r(c)!==null)y=!0,ae(j);else{var G=r(d);G!==null&&me(E,G.startTime-R)}}function j(R,G){y=!1,x&&(x=!1,_(O),O=-1),g=!0;var ee=m;try{for(S(G),f=r(c);f!==null&&(!(f.expirationTime>G)||R&&!V());){var ie=f.callback;if(typeof ie=="function"){f.callback=null,m=f.priorityLevel;var Ee=ie(f.expirationTime<=G);G=t.unstable_now(),typeof Ee=="function"?f.callback=Ee:f===r(c)&&n(c),S(G)}else n(c);f=r(c)}if(f!==null)var Ke=!0;else{var Ue=r(d);Ue!==null&&me(E,Ue.startTime-G),Ke=!1}return Ke}finally{f=null,m=ee,g=!1}}var D=!1,T=null,O=-1,B=5,P=-1;function V(){return!(t.unstable_now()-P<B)}function F(){if(T!==null){var R=t.unstable_now();P=R;var G=!0;try{G=T(!0,R)}finally{G?q():(D=!1,T=null)}}else D=!1}var q;if(typeof w=="function")q=function(){w(F)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,le=H.port2;H.port1.onmessage=F,q=function(){le.postMessage(null)}}else q=function(){N(F,0)};function ae(R){T=R,D||(D=!0,q())}function me(R,G){O=N(function(){R(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){y||g||(y=!0,ae(j))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(R){switch(m){case 1:case 2:case 3:var G=3;break;default:G=m}var ee=m;m=G;try{return R()}finally{m=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,G){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var ee=m;m=R;try{return G()}finally{m=ee}},t.unstable_scheduleCallback=function(R,G,ee){var ie=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ie+ee:ie):ee=ie,R){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=ee+Ee,R={id:h++,callback:G,priorityLevel:R,startTime:ee,expirationTime:Ee,sortIndex:-1},ee>ie?(R.sortIndex=ee,e(d,R),r(c)===null&&R===r(d)&&(x?(_(O),O=-1):x=!0,me(E,ee-ie))):(R.sortIndex=Ee,e(c,R),y||g||(y=!0,ae(j))),R},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(R){var G=m;return function(){var ee=m;m=G;try{return R.apply(this,arguments)}finally{m=ee}}}})(eT);JP.exports=eT;var Nz=JP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cz=b,ji=Nz;function ve(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tT=new Set,Ef={};function Uc(t,e){Sd(t,e),Sd(t+"Capture",e)}function Sd(t,e){for(Ef[t]=e,t=0;t<e.length;t++)tT.add(e[t])}var ro=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fy=Object.prototype.hasOwnProperty,Sz=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sS={},aS={};function Ez(t){return Fy.call(aS,t)?!0:Fy.call(sS,t)?!1:Sz.test(t)?aS[t]=!0:(sS[t]=!0,!1)}function Az(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function kz(t,e,r,n){if(e===null||typeof e>"u"||Az(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ii(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Nn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Nn[t]=new ii(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Nn[e]=new ii(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Nn[t]=new ii(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Nn[t]=new ii(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Nn[t]=new ii(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Nn[t]=new ii(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Nn[t]=new ii(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Nn[t]=new ii(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Nn[t]=new ii(t,5,!1,t.toLowerCase(),null,!1,!1)});var _2=/[\-:]([a-z])/g;function N2(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(_2,N2);Nn[e]=new ii(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(_2,N2);Nn[e]=new ii(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(_2,N2);Nn[e]=new ii(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Nn[t]=new ii(t,1,!1,t.toLowerCase(),null,!1,!1)});Nn.xlinkHref=new ii("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Nn[t]=new ii(t,1,!1,t.toLowerCase(),null,!0,!0)});function C2(t,e,r,n){var i=Nn.hasOwnProperty(e)?Nn[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(kz(e,r,i,n)&&(r=null),n||i===null?Ez(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var fo=Cz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$m=Symbol.for("react.element"),hu=Symbol.for("react.portal"),fu=Symbol.for("react.fragment"),S2=Symbol.for("react.strict_mode"),Ly=Symbol.for("react.profiler"),rT=Symbol.for("react.provider"),nT=Symbol.for("react.context"),E2=Symbol.for("react.forward_ref"),By=Symbol.for("react.suspense"),Uy=Symbol.for("react.suspense_list"),A2=Symbol.for("react.memo"),ko=Symbol.for("react.lazy"),iT=Symbol.for("react.offscreen"),oS=Symbol.iterator;function _h(t){return t===null||typeof t!="object"?null:(t=oS&&t[oS]||t["@@iterator"],typeof t=="function"?t:null)}var br=Object.assign,mx;function Hh(t){if(mx===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);mx=e&&e[1]||""}return`
`+mx+t}var gx=!1;function vx(t,e){if(!t||gx)return"";gx=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var n=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){n=d}t.call(e.prototype)}else{try{throw Error()}catch(d){n=d}t()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var c=`
`+i[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{gx=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Hh(t):""}function jz(t){switch(t.tag){case 5:return Hh(t.type);case 16:return Hh("Lazy");case 13:return Hh("Suspense");case 19:return Hh("SuspenseList");case 0:case 2:case 15:return t=vx(t.type,!1),t;case 11:return t=vx(t.type.render,!1),t;case 1:return t=vx(t.type,!0),t;default:return""}}function zy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case fu:return"Fragment";case hu:return"Portal";case Ly:return"Profiler";case S2:return"StrictMode";case By:return"Suspense";case Uy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case nT:return(t.displayName||"Context")+".Consumer";case rT:return(t._context.displayName||"Context")+".Provider";case E2:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case A2:return e=t.displayName||null,e!==null?e:zy(t.type)||"Memo";case ko:e=t._payload,t=t._init;try{return zy(t(e))}catch{}}return null}function Pz(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zy(e);case 8:return e===S2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ll(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function sT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Tz(t){var e=sT(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Vm(t){t._valueTracker||(t._valueTracker=Tz(t))}function aT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=sT(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function dg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function $y(t,e){var r=e.checked;return br({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function lS(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ll(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function oT(t,e){e=e.checked,e!=null&&C2(t,"checked",e,!1)}function Vy(t,e){oT(t,e);var r=ll(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Wy(t,e.type,r):e.hasOwnProperty("defaultValue")&&Wy(t,e.type,ll(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function cS(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Wy(t,e,r){(e!=="number"||dg(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Gh=Array.isArray;function Iu(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ll(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Hy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ve(91));return br({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function uS(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(ve(92));if(Gh(r)){if(1<r.length)throw Error(ve(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ll(r)}}function lT(t,e){var r=ll(e.value),n=ll(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function dS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function cT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?cT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Wm,uT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Wm=Wm||document.createElement("div"),Wm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Wm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Af(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var cf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Iz=["Webkit","ms","Moz","O"];Object.keys(cf).forEach(function(t){Iz.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),cf[e]=cf[t]})});function dT(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||cf.hasOwnProperty(t)&&cf[t]?(""+e).trim():e+"px"}function hT(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=dT(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var Dz=br({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qy(t,e){if(e){if(Dz[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ve(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ve(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ve(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ve(62))}}function Zy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ky=null;function k2(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Yy=null,Du=null,Ou=null;function hS(t){if(t=Wp(t)){if(typeof Yy!="function")throw Error(ve(280));var e=t.stateNode;e&&(e=W1(e),Yy(t.stateNode,t.type,e))}}function fT(t){Du?Ou?Ou.push(t):Ou=[t]:Du=t}function pT(){if(Du){var t=Du,e=Ou;if(Ou=Du=null,hS(t),e)for(t=0;t<e.length;t++)hS(e[t])}}function mT(t,e){return t(e)}function gT(){}var xx=!1;function vT(t,e,r){if(xx)return t(e,r);xx=!0;try{return mT(t,e,r)}finally{xx=!1,(Du!==null||Ou!==null)&&(gT(),pT())}}function kf(t,e){var r=t.stateNode;if(r===null)return null;var n=W1(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ve(231,e,typeof r));return r}var Xy=!1;if(ro)try{var Nh={};Object.defineProperty(Nh,"passive",{get:function(){Xy=!0}}),window.addEventListener("test",Nh,Nh),window.removeEventListener("test",Nh,Nh)}catch{Xy=!1}function Oz(t,e,r,n,i,s,a,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(r,d)}catch(h){this.onError(h)}}var uf=!1,hg=null,fg=!1,Qy=null,Mz={onError:function(t){uf=!0,hg=t}};function Rz(t,e,r,n,i,s,a,l,c){uf=!1,hg=null,Oz.apply(Mz,arguments)}function Fz(t,e,r,n,i,s,a,l,c){if(Rz.apply(this,arguments),uf){if(uf){var d=hg;uf=!1,hg=null}else throw Error(ve(198));fg||(fg=!0,Qy=d)}}function zc(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function xT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function fS(t){if(zc(t)!==t)throw Error(ve(188))}function Lz(t){var e=t.alternate;if(!e){if(e=zc(t),e===null)throw Error(ve(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return fS(i),t;if(s===n)return fS(i),e;s=s.sibling}throw Error(ve(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a)throw Error(ve(189))}}if(r.alternate!==n)throw Error(ve(190))}if(r.tag!==3)throw Error(ve(188));return r.stateNode.current===r?t:e}function yT(t){return t=Lz(t),t!==null?wT(t):null}function wT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=wT(t);if(e!==null)return e;t=t.sibling}return null}var bT=ji.unstable_scheduleCallback,pS=ji.unstable_cancelCallback,Bz=ji.unstable_shouldYield,Uz=ji.unstable_requestPaint,Tr=ji.unstable_now,zz=ji.unstable_getCurrentPriorityLevel,j2=ji.unstable_ImmediatePriority,_T=ji.unstable_UserBlockingPriority,pg=ji.unstable_NormalPriority,$z=ji.unstable_LowPriority,NT=ji.unstable_IdlePriority,U1=null,xa=null;function Vz(t){if(xa&&typeof xa.onCommitFiberRoot=="function")try{xa.onCommitFiberRoot(U1,t,void 0,(t.current.flags&128)===128)}catch{}}var Is=Math.clz32?Math.clz32:Gz,Wz=Math.log,Hz=Math.LN2;function Gz(t){return t>>>=0,t===0?32:31-(Wz(t)/Hz|0)|0}var Hm=64,Gm=4194304;function qh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function mg(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var l=a&~i;l!==0?n=qh(l):(s&=a,s!==0&&(n=qh(s)))}else a=r&~i,a!==0?n=qh(a):s!==0&&(n=qh(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Is(e),i=1<<r,n|=t[r],e&=~i;return n}function qz(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zz(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Is(s),l=1<<a,c=i[a];c===-1?(!(l&r)||l&n)&&(i[a]=qz(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function Jy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function CT(){var t=Hm;return Hm<<=1,!(Hm&4194240)&&(Hm=64),t}function yx(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function $p(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Is(e),t[e]=r}function Kz(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Is(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function P2(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Is(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Xt=0;function ST(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ET,T2,AT,kT,jT,ew=!1,qm=[],Yo=null,Xo=null,Qo=null,jf=new Map,Pf=new Map,Io=[],Yz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mS(t,e){switch(t){case"focusin":case"focusout":Yo=null;break;case"dragenter":case"dragleave":Xo=null;break;case"mouseover":case"mouseout":Qo=null;break;case"pointerover":case"pointerout":jf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pf.delete(e.pointerId)}}function Ch(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Wp(e),e!==null&&T2(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Xz(t,e,r,n,i){switch(e){case"focusin":return Yo=Ch(Yo,t,e,r,n,i),!0;case"dragenter":return Xo=Ch(Xo,t,e,r,n,i),!0;case"mouseover":return Qo=Ch(Qo,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return jf.set(s,Ch(jf.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Pf.set(s,Ch(Pf.get(s)||null,t,e,r,n,i)),!0}return!1}function PT(t){var e=Gl(t.target);if(e!==null){var r=zc(e);if(r!==null){if(e=r.tag,e===13){if(e=xT(r),e!==null){t.blockedOn=e,jT(t.priority,function(){AT(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function O0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=tw(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Ky=n,r.target.dispatchEvent(n),Ky=null}else return e=Wp(r),e!==null&&T2(e),t.blockedOn=r,!1;e.shift()}return!0}function gS(t,e,r){O0(t)&&r.delete(e)}function Qz(){ew=!1,Yo!==null&&O0(Yo)&&(Yo=null),Xo!==null&&O0(Xo)&&(Xo=null),Qo!==null&&O0(Qo)&&(Qo=null),jf.forEach(gS),Pf.forEach(gS)}function Sh(t,e){t.blockedOn===e&&(t.blockedOn=null,ew||(ew=!0,ji.unstable_scheduleCallback(ji.unstable_NormalPriority,Qz)))}function Tf(t){function e(i){return Sh(i,t)}if(0<qm.length){Sh(qm[0],t);for(var r=1;r<qm.length;r++){var n=qm[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Yo!==null&&Sh(Yo,t),Xo!==null&&Sh(Xo,t),Qo!==null&&Sh(Qo,t),jf.forEach(e),Pf.forEach(e),r=0;r<Io.length;r++)n=Io[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Io.length&&(r=Io[0],r.blockedOn===null);)PT(r),r.blockedOn===null&&Io.shift()}var Mu=fo.ReactCurrentBatchConfig,gg=!0;function Jz(t,e,r,n){var i=Xt,s=Mu.transition;Mu.transition=null;try{Xt=1,I2(t,e,r,n)}finally{Xt=i,Mu.transition=s}}function e$(t,e,r,n){var i=Xt,s=Mu.transition;Mu.transition=null;try{Xt=4,I2(t,e,r,n)}finally{Xt=i,Mu.transition=s}}function I2(t,e,r,n){if(gg){var i=tw(t,e,r,n);if(i===null)jx(t,e,n,vg,r),mS(t,n);else if(Xz(i,t,e,r,n))n.stopPropagation();else if(mS(t,n),e&4&&-1<Yz.indexOf(t)){for(;i!==null;){var s=Wp(i);if(s!==null&&ET(s),s=tw(t,e,r,n),s===null&&jx(t,e,n,vg,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else jx(t,e,n,null,r)}}var vg=null;function tw(t,e,r,n){if(vg=null,t=k2(n),t=Gl(t),t!==null)if(e=zc(t),e===null)t=null;else if(r=e.tag,r===13){if(t=xT(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return vg=t,null}function TT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zz()){case j2:return 1;case _T:return 4;case pg:case $z:return 16;case NT:return 536870912;default:return 16}default:return 16}}var qo=null,D2=null,M0=null;function IT(){if(M0)return M0;var t,e=D2,r=e.length,n,i="value"in qo?qo.value:qo.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return M0=i.slice(t,1<n?1-n:void 0)}function R0(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Zm(){return!0}function vS(){return!1}function Ii(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Zm:vS,this.isPropagationStopped=vS,this}return br(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Zm)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Zm)},persist:function(){},isPersistent:Zm}),e}var Hd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},O2=Ii(Hd),Vp=br({},Hd,{view:0,detail:0}),t$=Ii(Vp),wx,bx,Eh,z1=br({},Vp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:M2,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Eh&&(Eh&&t.type==="mousemove"?(wx=t.screenX-Eh.screenX,bx=t.screenY-Eh.screenY):bx=wx=0,Eh=t),wx)},movementY:function(t){return"movementY"in t?t.movementY:bx}}),xS=Ii(z1),r$=br({},z1,{dataTransfer:0}),n$=Ii(r$),i$=br({},Vp,{relatedTarget:0}),_x=Ii(i$),s$=br({},Hd,{animationName:0,elapsedTime:0,pseudoElement:0}),a$=Ii(s$),o$=br({},Hd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),l$=Ii(o$),c$=br({},Hd,{data:0}),yS=Ii(c$),u$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},d$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},h$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function f$(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=h$[t])?!!e[t]:!1}function M2(){return f$}var p$=br({},Vp,{key:function(t){if(t.key){var e=u$[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=R0(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?d$[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:M2,charCode:function(t){return t.type==="keypress"?R0(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?R0(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),m$=Ii(p$),g$=br({},z1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wS=Ii(g$),v$=br({},Vp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:M2}),x$=Ii(v$),y$=br({},Hd,{propertyName:0,elapsedTime:0,pseudoElement:0}),w$=Ii(y$),b$=br({},z1,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_$=Ii(b$),N$=[9,13,27,32],R2=ro&&"CompositionEvent"in window,df=null;ro&&"documentMode"in document&&(df=document.documentMode);var C$=ro&&"TextEvent"in window&&!df,DT=ro&&(!R2||df&&8<df&&11>=df),bS=" ",_S=!1;function OT(t,e){switch(t){case"keyup":return N$.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function MT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pu=!1;function S$(t,e){switch(t){case"compositionend":return MT(e);case"keypress":return e.which!==32?null:(_S=!0,bS);case"textInput":return t=e.data,t===bS&&_S?null:t;default:return null}}function E$(t,e){if(pu)return t==="compositionend"||!R2&&OT(t,e)?(t=IT(),M0=D2=qo=null,pu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return DT&&e.locale!=="ko"?null:e.data;default:return null}}var A$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function NS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!A$[t.type]:e==="textarea"}function RT(t,e,r,n){fT(n),e=xg(e,"onChange"),0<e.length&&(r=new O2("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var hf=null,If=null;function k$(t){qT(t,0)}function $1(t){var e=vu(t);if(aT(e))return t}function j$(t,e){if(t==="change")return e}var FT=!1;if(ro){var Nx;if(ro){var Cx="oninput"in document;if(!Cx){var CS=document.createElement("div");CS.setAttribute("oninput","return;"),Cx=typeof CS.oninput=="function"}Nx=Cx}else Nx=!1;FT=Nx&&(!document.documentMode||9<document.documentMode)}function SS(){hf&&(hf.detachEvent("onpropertychange",LT),If=hf=null)}function LT(t){if(t.propertyName==="value"&&$1(If)){var e=[];RT(e,If,t,k2(t)),vT(k$,e)}}function P$(t,e,r){t==="focusin"?(SS(),hf=e,If=r,hf.attachEvent("onpropertychange",LT)):t==="focusout"&&SS()}function T$(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $1(If)}function I$(t,e){if(t==="click")return $1(e)}function D$(t,e){if(t==="input"||t==="change")return $1(e)}function O$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Us=typeof Object.is=="function"?Object.is:O$;function Df(t,e){if(Us(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Fy.call(e,i)||!Us(t[i],e[i]))return!1}return!0}function ES(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function AS(t,e){var r=ES(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ES(r)}}function BT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?BT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function UT(){for(var t=window,e=dg();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=dg(t.document)}return e}function F2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function M$(t){var e=UT(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&BT(r.ownerDocument.documentElement,r)){if(n!==null&&F2(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=AS(r,s);var a=AS(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var R$=ro&&"documentMode"in document&&11>=document.documentMode,mu=null,rw=null,ff=null,nw=!1;function kS(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;nw||mu==null||mu!==dg(n)||(n=mu,"selectionStart"in n&&F2(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ff&&Df(ff,n)||(ff=n,n=xg(rw,"onSelect"),0<n.length&&(e=new O2("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=mu)))}function Km(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var gu={animationend:Km("Animation","AnimationEnd"),animationiteration:Km("Animation","AnimationIteration"),animationstart:Km("Animation","AnimationStart"),transitionend:Km("Transition","TransitionEnd")},Sx={},zT={};ro&&(zT=document.createElement("div").style,"AnimationEvent"in window||(delete gu.animationend.animation,delete gu.animationiteration.animation,delete gu.animationstart.animation),"TransitionEvent"in window||delete gu.transitionend.transition);function V1(t){if(Sx[t])return Sx[t];if(!gu[t])return t;var e=gu[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in zT)return Sx[t]=e[r];return t}var $T=V1("animationend"),VT=V1("animationiteration"),WT=V1("animationstart"),HT=V1("transitionend"),GT=new Map,jS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bl(t,e){GT.set(t,e),Uc(e,[t])}for(var Ex=0;Ex<jS.length;Ex++){var Ax=jS[Ex],F$=Ax.toLowerCase(),L$=Ax[0].toUpperCase()+Ax.slice(1);bl(F$,"on"+L$)}bl($T,"onAnimationEnd");bl(VT,"onAnimationIteration");bl(WT,"onAnimationStart");bl("dblclick","onDoubleClick");bl("focusin","onFocus");bl("focusout","onBlur");bl(HT,"onTransitionEnd");Sd("onMouseEnter",["mouseout","mouseover"]);Sd("onMouseLeave",["mouseout","mouseover"]);Sd("onPointerEnter",["pointerout","pointerover"]);Sd("onPointerLeave",["pointerout","pointerover"]);Uc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Uc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Uc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Uc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Uc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Uc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B$=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zh));function PS(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Fz(n,e,void 0,t),t.currentTarget=null}function qT(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;PS(i,l,d),s=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,d=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;PS(i,l,d),s=c}}}if(fg)throw t=Qy,fg=!1,Qy=null,t}function or(t,e){var r=e[lw];r===void 0&&(r=e[lw]=new Set);var n=t+"__bubble";r.has(n)||(ZT(e,t,2,!1),r.add(n))}function kx(t,e,r){var n=0;e&&(n|=4),ZT(r,t,n,e)}var Ym="_reactListening"+Math.random().toString(36).slice(2);function Of(t){if(!t[Ym]){t[Ym]=!0,tT.forEach(function(r){r!=="selectionchange"&&(B$.has(r)||kx(r,!1,t),kx(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ym]||(e[Ym]=!0,kx("selectionchange",!1,e))}}function ZT(t,e,r,n){switch(TT(e)){case 1:var i=Jz;break;case 4:i=e$;break;default:i=I2}r=i.bind(null,e,r,t),i=void 0,!Xy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function jx(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=Gl(l),a===null)return;if(c=a.tag,c===5||c===6){n=s=a;continue e}l=l.parentNode}}n=n.return}vT(function(){var d=s,h=k2(r),f=[];e:{var m=GT.get(t);if(m!==void 0){var g=O2,y=t;switch(t){case"keypress":if(R0(r)===0)break e;case"keydown":case"keyup":g=m$;break;case"focusin":y="focus",g=_x;break;case"focusout":y="blur",g=_x;break;case"beforeblur":case"afterblur":g=_x;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=xS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=n$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=x$;break;case $T:case VT:case WT:g=a$;break;case HT:g=w$;break;case"scroll":g=t$;break;case"wheel":g=_$;break;case"copy":case"cut":case"paste":g=l$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=wS}var x=(e&4)!==0,N=!x&&t==="scroll",_=x?m!==null?m+"Capture":null:m;x=[];for(var w=d,S;w!==null;){S=w;var E=S.stateNode;if(S.tag===5&&E!==null&&(S=E,_!==null&&(E=kf(w,_),E!=null&&x.push(Mf(w,E,S)))),N)break;w=w.return}0<x.length&&(m=new g(m,y,null,r,h),f.push({event:m,listeners:x}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",m&&r!==Ky&&(y=r.relatedTarget||r.fromElement)&&(Gl(y)||y[no]))break e;if((g||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,g?(y=r.relatedTarget||r.toElement,g=d,y=y?Gl(y):null,y!==null&&(N=zc(y),y!==N||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=d),g!==y)){if(x=xS,E="onMouseLeave",_="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(x=wS,E="onPointerLeave",_="onPointerEnter",w="pointer"),N=g==null?m:vu(g),S=y==null?m:vu(y),m=new x(E,w+"leave",g,r,h),m.target=N,m.relatedTarget=S,E=null,Gl(h)===d&&(x=new x(_,w+"enter",y,r,h),x.target=S,x.relatedTarget=N,E=x),N=E,g&&y)t:{for(x=g,_=y,w=0,S=x;S;S=tu(S))w++;for(S=0,E=_;E;E=tu(E))S++;for(;0<w-S;)x=tu(x),w--;for(;0<S-w;)_=tu(_),S--;for(;w--;){if(x===_||_!==null&&x===_.alternate)break t;x=tu(x),_=tu(_)}x=null}else x=null;g!==null&&TS(f,m,g,x,!1),y!==null&&N!==null&&TS(f,N,y,x,!0)}}e:{if(m=d?vu(d):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var j=j$;else if(NS(m))if(FT)j=D$;else{j=T$;var D=P$}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(j=I$);if(j&&(j=j(t,d))){RT(f,j,r,h);break e}D&&D(t,m,d),t==="focusout"&&(D=m._wrapperState)&&D.controlled&&m.type==="number"&&Wy(m,"number",m.value)}switch(D=d?vu(d):window,t){case"focusin":(NS(D)||D.contentEditable==="true")&&(mu=D,rw=d,ff=null);break;case"focusout":ff=rw=mu=null;break;case"mousedown":nw=!0;break;case"contextmenu":case"mouseup":case"dragend":nw=!1,kS(f,r,h);break;case"selectionchange":if(R$)break;case"keydown":case"keyup":kS(f,r,h)}var T;if(R2)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else pu?OT(t,r)&&(O="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(O="onCompositionStart");O&&(DT&&r.locale!=="ko"&&(pu||O!=="onCompositionStart"?O==="onCompositionEnd"&&pu&&(T=IT()):(qo=h,D2="value"in qo?qo.value:qo.textContent,pu=!0)),D=xg(d,O),0<D.length&&(O=new yS(O,t,null,r,h),f.push({event:O,listeners:D}),T?O.data=T:(T=MT(r),T!==null&&(O.data=T)))),(T=C$?S$(t,r):E$(t,r))&&(d=xg(d,"onBeforeInput"),0<d.length&&(h=new yS("onBeforeInput","beforeinput",null,r,h),f.push({event:h,listeners:d}),h.data=T))}qT(f,e)})}function Mf(t,e,r){return{instance:t,listener:e,currentTarget:r}}function xg(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=kf(t,r),s!=null&&n.unshift(Mf(t,s,i)),s=kf(t,e),s!=null&&n.push(Mf(t,s,i))),t=t.return}return n}function tu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function TS(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,i?(c=kf(r,s),c!=null&&a.unshift(Mf(r,c,l))):i||(c=kf(r,s),c!=null&&a.push(Mf(r,c,l)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var U$=/\r\n?/g,z$=/\u0000|\uFFFD/g;function IS(t){return(typeof t=="string"?t:""+t).replace(U$,`
`).replace(z$,"")}function Xm(t,e,r){if(e=IS(e),IS(t)!==e&&r)throw Error(ve(425))}function yg(){}var iw=null,sw=null;function aw(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ow=typeof setTimeout=="function"?setTimeout:void 0,$$=typeof clearTimeout=="function"?clearTimeout:void 0,DS=typeof Promise=="function"?Promise:void 0,V$=typeof queueMicrotask=="function"?queueMicrotask:typeof DS<"u"?function(t){return DS.resolve(null).then(t).catch(W$)}:ow;function W$(t){setTimeout(function(){throw t})}function Px(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Tf(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Tf(e)}function Jo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function OS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Gd=Math.random().toString(36).slice(2),ha="__reactFiber$"+Gd,Rf="__reactProps$"+Gd,no="__reactContainer$"+Gd,lw="__reactEvents$"+Gd,H$="__reactListeners$"+Gd,G$="__reactHandles$"+Gd;function Gl(t){var e=t[ha];if(e)return e;for(var r=t.parentNode;r;){if(e=r[no]||r[ha]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=OS(t);t!==null;){if(r=t[ha])return r;t=OS(t)}return e}t=r,r=t.parentNode}return null}function Wp(t){return t=t[ha]||t[no],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function vu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ve(33))}function W1(t){return t[Rf]||null}var cw=[],xu=-1;function _l(t){return{current:t}}function dr(t){0>xu||(t.current=cw[xu],cw[xu]=null,xu--)}function tr(t,e){xu++,cw[xu]=t.current,t.current=e}var cl={},On=_l(cl),pi=_l(!1),Nc=cl;function Ed(t,e){var r=t.type.contextTypes;if(!r)return cl;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function mi(t){return t=t.childContextTypes,t!=null}function wg(){dr(pi),dr(On)}function MS(t,e,r){if(On.current!==cl)throw Error(ve(168));tr(On,e),tr(pi,r)}function KT(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(ve(108,Pz(t)||"Unknown",i));return br({},r,n)}function bg(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||cl,Nc=On.current,tr(On,t),tr(pi,pi.current),!0}function RS(t,e,r){var n=t.stateNode;if(!n)throw Error(ve(169));r?(t=KT(t,e,Nc),n.__reactInternalMemoizedMergedChildContext=t,dr(pi),dr(On),tr(On,t)):dr(pi),tr(pi,r)}var za=null,H1=!1,Tx=!1;function YT(t){za===null?za=[t]:za.push(t)}function q$(t){H1=!0,YT(t)}function Nl(){if(!Tx&&za!==null){Tx=!0;var t=0,e=Xt;try{var r=za;for(Xt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}za=null,H1=!1}catch(i){throw za!==null&&(za=za.slice(t+1)),bT(j2,Nl),i}finally{Xt=e,Tx=!1}}return null}var yu=[],wu=0,_g=null,Ng=0,Vi=[],Wi=0,Cc=null,Ka=1,Ya="";function Ml(t,e){yu[wu++]=Ng,yu[wu++]=_g,_g=t,Ng=e}function XT(t,e,r){Vi[Wi++]=Ka,Vi[Wi++]=Ya,Vi[Wi++]=Cc,Cc=t;var n=Ka;t=Ya;var i=32-Is(n)-1;n&=~(1<<i),r+=1;var s=32-Is(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Ka=1<<32-Is(e)+i|r<<i|n,Ya=s+t}else Ka=1<<s|r<<i|n,Ya=t}function L2(t){t.return!==null&&(Ml(t,1),XT(t,1,0))}function B2(t){for(;t===_g;)_g=yu[--wu],yu[wu]=null,Ng=yu[--wu],yu[wu]=null;for(;t===Cc;)Cc=Vi[--Wi],Vi[Wi]=null,Ya=Vi[--Wi],Vi[Wi]=null,Ka=Vi[--Wi],Vi[Wi]=null}var Ei=null,Ci=null,fr=!1,_s=null;function QT(t,e){var r=Gi(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function FS(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ei=t,Ci=Jo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ei=t,Ci=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Cc!==null?{id:Ka,overflow:Ya}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Gi(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Ei=t,Ci=null,!0):!1;default:return!1}}function uw(t){return(t.mode&1)!==0&&(t.flags&128)===0}function dw(t){if(fr){var e=Ci;if(e){var r=e;if(!FS(t,e)){if(uw(t))throw Error(ve(418));e=Jo(r.nextSibling);var n=Ei;e&&FS(t,e)?QT(n,r):(t.flags=t.flags&-4097|2,fr=!1,Ei=t)}}else{if(uw(t))throw Error(ve(418));t.flags=t.flags&-4097|2,fr=!1,Ei=t}}}function LS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ei=t}function Qm(t){if(t!==Ei)return!1;if(!fr)return LS(t),fr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!aw(t.type,t.memoizedProps)),e&&(e=Ci)){if(uw(t))throw JT(),Error(ve(418));for(;e;)QT(t,e),e=Jo(e.nextSibling)}if(LS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ve(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Ci=Jo(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Ci=null}}else Ci=Ei?Jo(t.stateNode.nextSibling):null;return!0}function JT(){for(var t=Ci;t;)t=Jo(t.nextSibling)}function Ad(){Ci=Ei=null,fr=!1}function U2(t){_s===null?_s=[t]:_s.push(t)}var Z$=fo.ReactCurrentBatchConfig;function Ah(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ve(309));var n=r.stateNode}if(!n)throw Error(ve(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var l=i.refs;a===null?delete l[s]:l[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(ve(284));if(!r._owner)throw Error(ve(290,t))}return t}function Jm(t,e){throw t=Object.prototype.toString.call(e),Error(ve(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function BS(t){var e=t._init;return e(t._payload)}function e8(t){function e(_,w){if(t){var S=_.deletions;S===null?(_.deletions=[w],_.flags|=16):S.push(w)}}function r(_,w){if(!t)return null;for(;w!==null;)e(_,w),w=w.sibling;return null}function n(_,w){for(_=new Map;w!==null;)w.key!==null?_.set(w.key,w):_.set(w.index,w),w=w.sibling;return _}function i(_,w){return _=nl(_,w),_.index=0,_.sibling=null,_}function s(_,w,S){return _.index=S,t?(S=_.alternate,S!==null?(S=S.index,S<w?(_.flags|=2,w):S):(_.flags|=2,w)):(_.flags|=1048576,w)}function a(_){return t&&_.alternate===null&&(_.flags|=2),_}function l(_,w,S,E){return w===null||w.tag!==6?(w=Lx(S,_.mode,E),w.return=_,w):(w=i(w,S),w.return=_,w)}function c(_,w,S,E){var j=S.type;return j===fu?h(_,w,S.props.children,E,S.key):w!==null&&(w.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ko&&BS(j)===w.type)?(E=i(w,S.props),E.ref=Ah(_,w,S),E.return=_,E):(E=V0(S.type,S.key,S.props,null,_.mode,E),E.ref=Ah(_,w,S),E.return=_,E)}function d(_,w,S,E){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=Bx(S,_.mode,E),w.return=_,w):(w=i(w,S.children||[]),w.return=_,w)}function h(_,w,S,E,j){return w===null||w.tag!==7?(w=xc(S,_.mode,E,j),w.return=_,w):(w=i(w,S),w.return=_,w)}function f(_,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Lx(""+w,_.mode,S),w.return=_,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case $m:return S=V0(w.type,w.key,w.props,null,_.mode,S),S.ref=Ah(_,null,w),S.return=_,S;case hu:return w=Bx(w,_.mode,S),w.return=_,w;case ko:var E=w._init;return f(_,E(w._payload),S)}if(Gh(w)||_h(w))return w=xc(w,_.mode,S,null),w.return=_,w;Jm(_,w)}return null}function m(_,w,S,E){var j=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return j!==null?null:l(_,w,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case $m:return S.key===j?c(_,w,S,E):null;case hu:return S.key===j?d(_,w,S,E):null;case ko:return j=S._init,m(_,w,j(S._payload),E)}if(Gh(S)||_h(S))return j!==null?null:h(_,w,S,E,null);Jm(_,S)}return null}function g(_,w,S,E,j){if(typeof E=="string"&&E!==""||typeof E=="number")return _=_.get(S)||null,l(w,_,""+E,j);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case $m:return _=_.get(E.key===null?S:E.key)||null,c(w,_,E,j);case hu:return _=_.get(E.key===null?S:E.key)||null,d(w,_,E,j);case ko:var D=E._init;return g(_,w,S,D(E._payload),j)}if(Gh(E)||_h(E))return _=_.get(S)||null,h(w,_,E,j,null);Jm(w,E)}return null}function y(_,w,S,E){for(var j=null,D=null,T=w,O=w=0,B=null;T!==null&&O<S.length;O++){T.index>O?(B=T,T=null):B=T.sibling;var P=m(_,T,S[O],E);if(P===null){T===null&&(T=B);break}t&&T&&P.alternate===null&&e(_,T),w=s(P,w,O),D===null?j=P:D.sibling=P,D=P,T=B}if(O===S.length)return r(_,T),fr&&Ml(_,O),j;if(T===null){for(;O<S.length;O++)T=f(_,S[O],E),T!==null&&(w=s(T,w,O),D===null?j=T:D.sibling=T,D=T);return fr&&Ml(_,O),j}for(T=n(_,T);O<S.length;O++)B=g(T,_,O,S[O],E),B!==null&&(t&&B.alternate!==null&&T.delete(B.key===null?O:B.key),w=s(B,w,O),D===null?j=B:D.sibling=B,D=B);return t&&T.forEach(function(V){return e(_,V)}),fr&&Ml(_,O),j}function x(_,w,S,E){var j=_h(S);if(typeof j!="function")throw Error(ve(150));if(S=j.call(S),S==null)throw Error(ve(151));for(var D=j=null,T=w,O=w=0,B=null,P=S.next();T!==null&&!P.done;O++,P=S.next()){T.index>O?(B=T,T=null):B=T.sibling;var V=m(_,T,P.value,E);if(V===null){T===null&&(T=B);break}t&&T&&V.alternate===null&&e(_,T),w=s(V,w,O),D===null?j=V:D.sibling=V,D=V,T=B}if(P.done)return r(_,T),fr&&Ml(_,O),j;if(T===null){for(;!P.done;O++,P=S.next())P=f(_,P.value,E),P!==null&&(w=s(P,w,O),D===null?j=P:D.sibling=P,D=P);return fr&&Ml(_,O),j}for(T=n(_,T);!P.done;O++,P=S.next())P=g(T,_,O,P.value,E),P!==null&&(t&&P.alternate!==null&&T.delete(P.key===null?O:P.key),w=s(P,w,O),D===null?j=P:D.sibling=P,D=P);return t&&T.forEach(function(F){return e(_,F)}),fr&&Ml(_,O),j}function N(_,w,S,E){if(typeof S=="object"&&S!==null&&S.type===fu&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case $m:e:{for(var j=S.key,D=w;D!==null;){if(D.key===j){if(j=S.type,j===fu){if(D.tag===7){r(_,D.sibling),w=i(D,S.props.children),w.return=_,_=w;break e}}else if(D.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ko&&BS(j)===D.type){r(_,D.sibling),w=i(D,S.props),w.ref=Ah(_,D,S),w.return=_,_=w;break e}r(_,D);break}else e(_,D);D=D.sibling}S.type===fu?(w=xc(S.props.children,_.mode,E,S.key),w.return=_,_=w):(E=V0(S.type,S.key,S.props,null,_.mode,E),E.ref=Ah(_,w,S),E.return=_,_=E)}return a(_);case hu:e:{for(D=S.key;w!==null;){if(w.key===D)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){r(_,w.sibling),w=i(w,S.children||[]),w.return=_,_=w;break e}else{r(_,w);break}else e(_,w);w=w.sibling}w=Bx(S,_.mode,E),w.return=_,_=w}return a(_);case ko:return D=S._init,N(_,w,D(S._payload),E)}if(Gh(S))return y(_,w,S,E);if(_h(S))return x(_,w,S,E);Jm(_,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(r(_,w.sibling),w=i(w,S),w.return=_,_=w):(r(_,w),w=Lx(S,_.mode,E),w.return=_,_=w),a(_)):r(_,w)}return N}var kd=e8(!0),t8=e8(!1),Cg=_l(null),Sg=null,bu=null,z2=null;function $2(){z2=bu=Sg=null}function V2(t){var e=Cg.current;dr(Cg),t._currentValue=e}function hw(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Ru(t,e){Sg=t,z2=bu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(fi=!0),t.firstContext=null)}function Ji(t){var e=t._currentValue;if(z2!==t)if(t={context:t,memoizedValue:e,next:null},bu===null){if(Sg===null)throw Error(ve(308));bu=t,Sg.dependencies={lanes:0,firstContext:t}}else bu=bu.next=t;return e}var ql=null;function W2(t){ql===null?ql=[t]:ql.push(t)}function r8(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,W2(e)):(r.next=i.next,i.next=r),e.interleaved=r,io(t,n)}function io(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var jo=!1;function H2(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function n8(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Qa(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function el(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Mt&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,io(t,r)}return i=n.interleaved,i===null?(e.next=e,W2(n)):(e.next=i.next,i.next=e),n.interleaved=e,io(t,r)}function F0(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,P2(t,r)}}function US(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Eg(t,e,r,n){var i=t.updateQueue;jo=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,a===null?s=d:a.next=d,a=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==a&&(l===null?h.firstBaseUpdate=d:l.next=d,h.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;a=0,h=d=c=null,l=s;do{var m=l.lane,g=l.eventTime;if((n&m)===m){h!==null&&(h=h.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,x=l;switch(m=e,g=r,x.tag){case 1:if(y=x.payload,typeof y=="function"){f=y.call(g,f,m);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,m=typeof y=="function"?y.call(g,f,m):y,m==null)break e;f=br({},f,m);break e;case 2:jo=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else g={eventTime:g,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(d=h=g,c=f):h=h.next=g,a|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(h===null&&(c=f),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ec|=a,t.lanes=a,t.memoizedState=f}}function zS(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ve(191,i));i.call(n)}}}var Hp={},ya=_l(Hp),Ff=_l(Hp),Lf=_l(Hp);function Zl(t){if(t===Hp)throw Error(ve(174));return t}function G2(t,e){switch(tr(Lf,e),tr(Ff,t),tr(ya,Hp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Gy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Gy(e,t)}dr(ya),tr(ya,e)}function jd(){dr(ya),dr(Ff),dr(Lf)}function i8(t){Zl(Lf.current);var e=Zl(ya.current),r=Gy(e,t.type);e!==r&&(tr(Ff,t),tr(ya,r))}function q2(t){Ff.current===t&&(dr(ya),dr(Ff))}var yr=_l(0);function Ag(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ix=[];function Z2(){for(var t=0;t<Ix.length;t++)Ix[t]._workInProgressVersionPrimary=null;Ix.length=0}var L0=fo.ReactCurrentDispatcher,Dx=fo.ReactCurrentBatchConfig,Sc=0,wr=null,Vr=null,on=null,kg=!1,pf=!1,Bf=0,K$=0;function En(){throw Error(ve(321))}function K2(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Us(t[r],e[r]))return!1;return!0}function Y2(t,e,r,n,i,s){if(Sc=s,wr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,L0.current=t===null||t.memoizedState===null?J$:eV,t=r(n,i),pf){s=0;do{if(pf=!1,Bf=0,25<=s)throw Error(ve(301));s+=1,on=Vr=null,e.updateQueue=null,L0.current=tV,t=r(n,i)}while(pf)}if(L0.current=jg,e=Vr!==null&&Vr.next!==null,Sc=0,on=Vr=wr=null,kg=!1,e)throw Error(ve(300));return t}function X2(){var t=Bf!==0;return Bf=0,t}function ra(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?wr.memoizedState=on=t:on=on.next=t,on}function es(){if(Vr===null){var t=wr.alternate;t=t!==null?t.memoizedState:null}else t=Vr.next;var e=on===null?wr.memoizedState:on.next;if(e!==null)on=e,Vr=t;else{if(t===null)throw Error(ve(310));Vr=t,t={memoizedState:Vr.memoizedState,baseState:Vr.baseState,baseQueue:Vr.baseQueue,queue:Vr.queue,next:null},on===null?wr.memoizedState=on=t:on=on.next=t}return on}function Uf(t,e){return typeof e=="function"?e(t):e}function Ox(t){var e=es(),r=e.queue;if(r===null)throw Error(ve(311));r.lastRenderedReducer=t;var n=Vr,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var l=a=null,c=null,d=s;do{var h=d.lane;if((Sc&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:t(n,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,a=n):c=c.next=f,wr.lanes|=h,Ec|=h}d=d.next}while(d!==null&&d!==s);c===null?a=n:c.next=l,Us(n,e.memoizedState)||(fi=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,wr.lanes|=s,Ec|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Mx(t){var e=es(),r=e.queue;if(r===null)throw Error(ve(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Us(s,e.memoizedState)||(fi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function s8(){}function a8(t,e){var r=wr,n=es(),i=e(),s=!Us(n.memoizedState,i);if(s&&(n.memoizedState=i,fi=!0),n=n.queue,Q2(c8.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||on!==null&&on.memoizedState.tag&1){if(r.flags|=2048,zf(9,l8.bind(null,r,n,i,e),void 0,null),cn===null)throw Error(ve(349));Sc&30||o8(r,e,i)}return i}function o8(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=wr.updateQueue,e===null?(e={lastEffect:null,stores:null},wr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function l8(t,e,r,n){e.value=r,e.getSnapshot=n,u8(e)&&d8(t)}function c8(t,e,r){return r(function(){u8(e)&&d8(t)})}function u8(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Us(t,r)}catch{return!0}}function d8(t){var e=io(t,1);e!==null&&Ds(e,t,1,-1)}function $S(t){var e=ra();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uf,lastRenderedState:t},e.queue=t,t=t.dispatch=Q$.bind(null,wr,t),[e.memoizedState,t]}function zf(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=wr.updateQueue,e===null?(e={lastEffect:null,stores:null},wr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function h8(){return es().memoizedState}function B0(t,e,r,n){var i=ra();wr.flags|=t,i.memoizedState=zf(1|e,r,void 0,n===void 0?null:n)}function G1(t,e,r,n){var i=es();n=n===void 0?null:n;var s=void 0;if(Vr!==null){var a=Vr.memoizedState;if(s=a.destroy,n!==null&&K2(n,a.deps)){i.memoizedState=zf(e,r,s,n);return}}wr.flags|=t,i.memoizedState=zf(1|e,r,s,n)}function VS(t,e){return B0(8390656,8,t,e)}function Q2(t,e){return G1(2048,8,t,e)}function f8(t,e){return G1(4,2,t,e)}function p8(t,e){return G1(4,4,t,e)}function m8(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function g8(t,e,r){return r=r!=null?r.concat([t]):null,G1(4,4,m8.bind(null,e,t),r)}function J2(){}function v8(t,e){var r=es();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&K2(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function x8(t,e){var r=es();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&K2(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function y8(t,e,r){return Sc&21?(Us(r,e)||(r=CT(),wr.lanes|=r,Ec|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,fi=!0),t.memoizedState=r)}function Y$(t,e){var r=Xt;Xt=r!==0&&4>r?r:4,t(!0);var n=Dx.transition;Dx.transition={};try{t(!1),e()}finally{Xt=r,Dx.transition=n}}function w8(){return es().memoizedState}function X$(t,e,r){var n=rl(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},b8(t))_8(e,r);else if(r=r8(t,e,r,n),r!==null){var i=Jn();Ds(r,t,n,i),N8(r,e,n)}}function Q$(t,e,r){var n=rl(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(b8(t))_8(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,l=s(a,r);if(i.hasEagerState=!0,i.eagerState=l,Us(l,a)){var c=e.interleaved;c===null?(i.next=i,W2(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}r=r8(t,e,i,n),r!==null&&(i=Jn(),Ds(r,t,n,i),N8(r,e,n))}}function b8(t){var e=t.alternate;return t===wr||e!==null&&e===wr}function _8(t,e){pf=kg=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function N8(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,P2(t,r)}}var jg={readContext:Ji,useCallback:En,useContext:En,useEffect:En,useImperativeHandle:En,useInsertionEffect:En,useLayoutEffect:En,useMemo:En,useReducer:En,useRef:En,useState:En,useDebugValue:En,useDeferredValue:En,useTransition:En,useMutableSource:En,useSyncExternalStore:En,useId:En,unstable_isNewReconciler:!1},J$={readContext:Ji,useCallback:function(t,e){return ra().memoizedState=[t,e===void 0?null:e],t},useContext:Ji,useEffect:VS,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,B0(4194308,4,m8.bind(null,e,t),r)},useLayoutEffect:function(t,e){return B0(4194308,4,t,e)},useInsertionEffect:function(t,e){return B0(4,2,t,e)},useMemo:function(t,e){var r=ra();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=ra();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=X$.bind(null,wr,t),[n.memoizedState,t]},useRef:function(t){var e=ra();return t={current:t},e.memoizedState=t},useState:$S,useDebugValue:J2,useDeferredValue:function(t){return ra().memoizedState=t},useTransition:function(){var t=$S(!1),e=t[0];return t=Y$.bind(null,t[1]),ra().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=wr,i=ra();if(fr){if(r===void 0)throw Error(ve(407));r=r()}else{if(r=e(),cn===null)throw Error(ve(349));Sc&30||o8(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,VS(c8.bind(null,n,s,t),[t]),n.flags|=2048,zf(9,l8.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=ra(),e=cn.identifierPrefix;if(fr){var r=Ya,n=Ka;r=(n&~(1<<32-Is(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Bf++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=K$++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},eV={readContext:Ji,useCallback:v8,useContext:Ji,useEffect:Q2,useImperativeHandle:g8,useInsertionEffect:f8,useLayoutEffect:p8,useMemo:x8,useReducer:Ox,useRef:h8,useState:function(){return Ox(Uf)},useDebugValue:J2,useDeferredValue:function(t){var e=es();return y8(e,Vr.memoizedState,t)},useTransition:function(){var t=Ox(Uf)[0],e=es().memoizedState;return[t,e]},useMutableSource:s8,useSyncExternalStore:a8,useId:w8,unstable_isNewReconciler:!1},tV={readContext:Ji,useCallback:v8,useContext:Ji,useEffect:Q2,useImperativeHandle:g8,useInsertionEffect:f8,useLayoutEffect:p8,useMemo:x8,useReducer:Mx,useRef:h8,useState:function(){return Mx(Uf)},useDebugValue:J2,useDeferredValue:function(t){var e=es();return Vr===null?e.memoizedState=t:y8(e,Vr.memoizedState,t)},useTransition:function(){var t=Mx(Uf)[0],e=es().memoizedState;return[t,e]},useMutableSource:s8,useSyncExternalStore:a8,useId:w8,unstable_isNewReconciler:!1};function ds(t,e){if(t&&t.defaultProps){e=br({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function fw(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:br({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var q1={isMounted:function(t){return(t=t._reactInternals)?zc(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Jn(),i=rl(t),s=Qa(n,i);s.payload=e,r!=null&&(s.callback=r),e=el(t,s,i),e!==null&&(Ds(e,t,i,n),F0(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Jn(),i=rl(t),s=Qa(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=el(t,s,i),e!==null&&(Ds(e,t,i,n),F0(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Jn(),n=rl(t),i=Qa(r,n);i.tag=2,e!=null&&(i.callback=e),e=el(t,i,n),e!==null&&(Ds(e,t,n,r),F0(e,t,n))}};function WS(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!Df(r,n)||!Df(i,s):!0}function C8(t,e,r){var n=!1,i=cl,s=e.contextType;return typeof s=="object"&&s!==null?s=Ji(s):(i=mi(e)?Nc:On.current,n=e.contextTypes,s=(n=n!=null)?Ed(t,i):cl),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=q1,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function HS(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&q1.enqueueReplaceState(e,e.state,null)}function pw(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},H2(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ji(s):(s=mi(e)?Nc:On.current,i.context=Ed(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(fw(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&q1.enqueueReplaceState(i,i.state,null),Eg(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Pd(t,e){try{var r="",n=e;do r+=jz(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Rx(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function mw(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var rV=typeof WeakMap=="function"?WeakMap:Map;function S8(t,e,r){r=Qa(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Tg||(Tg=!0,Sw=n),mw(t,e)},r}function E8(t,e,r){r=Qa(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){mw(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){mw(t,e),typeof n!="function"&&(tl===null?tl=new Set([this]):tl.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function GS(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new rV;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=gV.bind(null,t,e,r),e.then(t,t))}function qS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ZS(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Qa(-1,1),e.tag=2,el(r,e,1))),r.lanes|=1),t)}var nV=fo.ReactCurrentOwner,fi=!1;function Kn(t,e,r,n){e.child=t===null?t8(e,null,r,n):kd(e,t.child,r,n)}function KS(t,e,r,n,i){r=r.render;var s=e.ref;return Ru(e,i),n=Y2(t,e,r,n,s,i),r=X2(),t!==null&&!fi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,so(t,e,i)):(fr&&r&&L2(e),e.flags|=1,Kn(t,e,n,i),e.child)}function YS(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!o_(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,A8(t,e,s,n,i)):(t=V0(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:Df,r(a,n)&&t.ref===e.ref)return so(t,e,i)}return e.flags|=1,t=nl(s,n),t.ref=e.ref,t.return=e,e.child=t}function A8(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Df(s,n)&&t.ref===e.ref)if(fi=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(fi=!0);else return e.lanes=t.lanes,so(t,e,i)}return gw(t,e,r,n,i)}function k8(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},tr(Nu,bi),bi|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,tr(Nu,bi),bi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,tr(Nu,bi),bi|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,tr(Nu,bi),bi|=n;return Kn(t,e,i,r),e.child}function j8(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function gw(t,e,r,n,i){var s=mi(r)?Nc:On.current;return s=Ed(e,s),Ru(e,i),r=Y2(t,e,r,n,s,i),n=X2(),t!==null&&!fi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,so(t,e,i)):(fr&&n&&L2(e),e.flags|=1,Kn(t,e,r,i),e.child)}function XS(t,e,r,n,i){if(mi(r)){var s=!0;bg(e)}else s=!1;if(Ru(e,i),e.stateNode===null)U0(t,e),C8(e,r,n),pw(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,d=r.contextType;typeof d=="object"&&d!==null?d=Ji(d):(d=mi(r)?Nc:On.current,d=Ed(e,d));var h=r.getDerivedStateFromProps,f=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==d)&&HS(e,a,n,d),jo=!1;var m=e.memoizedState;a.state=m,Eg(e,n,a,i),c=e.memoizedState,l!==n||m!==c||pi.current||jo?(typeof h=="function"&&(fw(e,r,h,n),c=e.memoizedState),(l=jo||WS(e,r,l,n,m,c,d))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),a.props=n,a.state=c,a.context=d,n=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,n8(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:ds(e.type,l),a.props=d,f=e.pendingProps,m=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ji(c):(c=mi(r)?Nc:On.current,c=Ed(e,c));var g=r.getDerivedStateFromProps;(h=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||m!==c)&&HS(e,a,n,c),jo=!1,m=e.memoizedState,a.state=m,Eg(e,n,a,i);var y=e.memoizedState;l!==f||m!==y||pi.current||jo?(typeof g=="function"&&(fw(e,r,g,n),y=e.memoizedState),(d=jo||WS(e,r,d,n,m,y,c)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,y,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,y,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=y),a.props=n,a.state=y,a.context=c,n=d):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return vw(t,e,r,n,s,i)}function vw(t,e,r,n,i,s){j8(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&RS(e,r,!1),so(t,e,s);n=e.stateNode,nV.current=e;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=kd(e,t.child,null,s),e.child=kd(e,null,l,s)):Kn(t,e,l,s),e.memoizedState=n.state,i&&RS(e,r,!0),e.child}function P8(t){var e=t.stateNode;e.pendingContext?MS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&MS(t,e.context,!1),G2(t,e.containerInfo)}function QS(t,e,r,n,i){return Ad(),U2(i),e.flags|=256,Kn(t,e,r,n),e.child}var xw={dehydrated:null,treeContext:null,retryLane:0};function yw(t){return{baseLanes:t,cachePool:null,transitions:null}}function T8(t,e,r){var n=e.pendingProps,i=yr.current,s=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),tr(yr,i&1),t===null)return dw(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Y1(a,n,0,null),t=xc(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=yw(r),e.memoizedState=xw,t):e_(e,a));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return iV(t,e,a,n,l,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=nl(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=nl(l,s):(s=xc(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?yw(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=xw,n}return s=t.child,t=s.sibling,n=nl(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function e_(t,e){return e=Y1({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function e0(t,e,r,n){return n!==null&&U2(n),kd(e,t.child,null,r),t=e_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function iV(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=Rx(Error(ve(422))),e0(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Y1({mode:"visible",children:n.children},i,0,null),s=xc(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&kd(e,t.child,null,a),e.child.memoizedState=yw(a),e.memoizedState=xw,s);if(!(e.mode&1))return e0(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(ve(419)),n=Rx(s,n,void 0),e0(t,e,a,n)}if(l=(a&t.childLanes)!==0,fi||l){if(n=cn,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,io(t,i),Ds(n,t,i,-1))}return a_(),n=Rx(Error(ve(421))),e0(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=vV.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ci=Jo(i.nextSibling),Ei=e,fr=!0,_s=null,t!==null&&(Vi[Wi++]=Ka,Vi[Wi++]=Ya,Vi[Wi++]=Cc,Ka=t.id,Ya=t.overflow,Cc=e),e=e_(e,n.children),e.flags|=4096,e)}function JS(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),hw(t.return,e,r)}function Fx(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function I8(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Kn(t,e,n.children,r),n=yr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&JS(t,r,e);else if(t.tag===19)JS(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(tr(yr,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Ag(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Fx(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ag(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Fx(e,!0,r,null,s);break;case"together":Fx(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function U0(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function so(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Ec|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ve(153));if(e.child!==null){for(t=e.child,r=nl(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=nl(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function sV(t,e,r){switch(e.tag){case 3:P8(e),Ad();break;case 5:i8(e);break;case 1:mi(e.type)&&bg(e);break;case 4:G2(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;tr(Cg,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(tr(yr,yr.current&1),e.flags|=128,null):r&e.child.childLanes?T8(t,e,r):(tr(yr,yr.current&1),t=so(t,e,r),t!==null?t.sibling:null);tr(yr,yr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return I8(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),tr(yr,yr.current),n)break;return null;case 22:case 23:return e.lanes=0,k8(t,e,r)}return so(t,e,r)}var D8,ww,O8,M8;D8=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ww=function(){};O8=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Zl(ya.current);var s=null;switch(r){case"input":i=$y(t,i),n=$y(t,n),s=[];break;case"select":i=br({},i,{value:void 0}),n=br({},n,{value:void 0}),s=[];break;case"textarea":i=Hy(t,i),n=Hy(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=yg)}qy(r,n);var a;r=null;for(d in i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ef.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in n){var c=n[d];if(l=i!=null?i[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(s||(s=[]),s.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ef.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&or("scroll",t),s||l===c||(s=[])):(s=s||[]).push(d,c))}r&&(s=s||[]).push("style",r);var d=s;(e.updateQueue=d)&&(e.flags|=4)}};M8=function(t,e,r,n){r!==n&&(e.flags|=4)};function kh(t,e){if(!fr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function An(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function aV(t,e,r){var n=e.pendingProps;switch(B2(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return An(e),null;case 1:return mi(e.type)&&wg(),An(e),null;case 3:return n=e.stateNode,jd(),dr(pi),dr(On),Z2(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Qm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,_s!==null&&(kw(_s),_s=null))),ww(t,e),An(e),null;case 5:q2(e);var i=Zl(Lf.current);if(r=e.type,t!==null&&e.stateNode!=null)O8(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(ve(166));return An(e),null}if(t=Zl(ya.current),Qm(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[ha]=e,n[Rf]=s,t=(e.mode&1)!==0,r){case"dialog":or("cancel",n),or("close",n);break;case"iframe":case"object":case"embed":or("load",n);break;case"video":case"audio":for(i=0;i<Zh.length;i++)or(Zh[i],n);break;case"source":or("error",n);break;case"img":case"image":case"link":or("error",n),or("load",n);break;case"details":or("toggle",n);break;case"input":lS(n,s),or("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},or("invalid",n);break;case"textarea":uS(n,s),or("invalid",n)}qy(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&Xm(n.textContent,l,t),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Xm(n.textContent,l,t),i=["children",""+l]):Ef.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&or("scroll",n)}switch(r){case"input":Vm(n),cS(n,s,!0);break;case"textarea":Vm(n),dS(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=yg)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=cT(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[ha]=e,t[Rf]=n,D8(t,e,!1,!1),e.stateNode=t;e:{switch(a=Zy(r,n),r){case"dialog":or("cancel",t),or("close",t),i=n;break;case"iframe":case"object":case"embed":or("load",t),i=n;break;case"video":case"audio":for(i=0;i<Zh.length;i++)or(Zh[i],t);i=n;break;case"source":or("error",t),i=n;break;case"img":case"image":case"link":or("error",t),or("load",t),i=n;break;case"details":or("toggle",t),i=n;break;case"input":lS(t,n),i=$y(t,n),or("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=br({},n,{value:void 0}),or("invalid",t);break;case"textarea":uS(t,n),i=Hy(t,n),or("invalid",t);break;default:i=n}qy(r,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?hT(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&uT(t,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Af(t,c):typeof c=="number"&&Af(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ef.hasOwnProperty(s)?c!=null&&s==="onScroll"&&or("scroll",t):c!=null&&C2(t,s,c,a))}switch(r){case"input":Vm(t),cS(t,n,!1);break;case"textarea":Vm(t),dS(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ll(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Iu(t,!!n.multiple,s,!1):n.defaultValue!=null&&Iu(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=yg)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return An(e),null;case 6:if(t&&e.stateNode!=null)M8(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ve(166));if(r=Zl(Lf.current),Zl(ya.current),Qm(e)){if(n=e.stateNode,r=e.memoizedProps,n[ha]=e,(s=n.nodeValue!==r)&&(t=Ei,t!==null))switch(t.tag){case 3:Xm(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Xm(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ha]=e,e.stateNode=n}return An(e),null;case 13:if(dr(yr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(fr&&Ci!==null&&e.mode&1&&!(e.flags&128))JT(),Ad(),e.flags|=98560,s=!1;else if(s=Qm(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(ve(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ve(317));s[ha]=e}else Ad(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;An(e),s=!1}else _s!==null&&(kw(_s),_s=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||yr.current&1?Yr===0&&(Yr=3):a_())),e.updateQueue!==null&&(e.flags|=4),An(e),null);case 4:return jd(),ww(t,e),t===null&&Of(e.stateNode.containerInfo),An(e),null;case 10:return V2(e.type._context),An(e),null;case 17:return mi(e.type)&&wg(),An(e),null;case 19:if(dr(yr),s=e.memoizedState,s===null)return An(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)kh(s,!1);else{if(Yr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Ag(t),a!==null){for(e.flags|=128,kh(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return tr(yr,yr.current&1|2),e.child}t=t.sibling}s.tail!==null&&Tr()>Td&&(e.flags|=128,n=!0,kh(s,!1),e.lanes=4194304)}else{if(!n)if(t=Ag(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),kh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!fr)return An(e),null}else 2*Tr()-s.renderingStartTime>Td&&r!==1073741824&&(e.flags|=128,n=!0,kh(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Tr(),e.sibling=null,r=yr.current,tr(yr,n?r&1|2:r&1),e):(An(e),null);case 22:case 23:return s_(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?bi&1073741824&&(An(e),e.subtreeFlags&6&&(e.flags|=8192)):An(e),null;case 24:return null;case 25:return null}throw Error(ve(156,e.tag))}function oV(t,e){switch(B2(e),e.tag){case 1:return mi(e.type)&&wg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return jd(),dr(pi),dr(On),Z2(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return q2(e),null;case 13:if(dr(yr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ve(340));Ad()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return dr(yr),null;case 4:return jd(),null;case 10:return V2(e.type._context),null;case 22:case 23:return s_(),null;case 24:return null;default:return null}}var t0=!1,In=!1,lV=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function _u(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Nr(t,e,n)}else r.current=null}function bw(t,e,r){try{r()}catch(n){Nr(t,e,n)}}var e3=!1;function cV(t,e){if(iw=gg,t=UT(),F2(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,d=0,h=0,f=t,m=null;t:for(;;){for(var g;f!==r||i!==0&&f.nodeType!==3||(l=a+i),f!==s||n!==0&&f.nodeType!==3||(c=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(g=f.firstChild)!==null;)m=f,f=g;for(;;){if(f===t)break t;if(m===r&&++d===i&&(l=a),m===s&&++h===n&&(c=a),(g=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=g}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(sw={focusedElem:t,selectionRange:r},gg=!1,Ie=e;Ie!==null;)if(e=Ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ie=t;else for(;Ie!==null;){e=Ie;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,N=y.memoizedState,_=e.stateNode,w=_.getSnapshotBeforeUpdate(e.elementType===e.type?x:ds(e.type,x),N);_.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ve(163))}}catch(E){Nr(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,Ie=t;break}Ie=e.return}return y=e3,e3=!1,y}function mf(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&bw(e,r,s)}i=i.next}while(i!==n)}}function Z1(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function _w(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function R8(t){var e=t.alternate;e!==null&&(t.alternate=null,R8(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ha],delete e[Rf],delete e[lw],delete e[H$],delete e[G$])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function F8(t){return t.tag===5||t.tag===3||t.tag===4}function t3(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||F8(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nw(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=yg));else if(n!==4&&(t=t.child,t!==null))for(Nw(t,e,r),t=t.sibling;t!==null;)Nw(t,e,r),t=t.sibling}function Cw(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Cw(t,e,r),t=t.sibling;t!==null;)Cw(t,e,r),t=t.sibling}var yn=null,ys=!1;function vo(t,e,r){for(r=r.child;r!==null;)L8(t,e,r),r=r.sibling}function L8(t,e,r){if(xa&&typeof xa.onCommitFiberUnmount=="function")try{xa.onCommitFiberUnmount(U1,r)}catch{}switch(r.tag){case 5:In||_u(r,e);case 6:var n=yn,i=ys;yn=null,vo(t,e,r),yn=n,ys=i,yn!==null&&(ys?(t=yn,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):yn.removeChild(r.stateNode));break;case 18:yn!==null&&(ys?(t=yn,r=r.stateNode,t.nodeType===8?Px(t.parentNode,r):t.nodeType===1&&Px(t,r),Tf(t)):Px(yn,r.stateNode));break;case 4:n=yn,i=ys,yn=r.stateNode.containerInfo,ys=!0,vo(t,e,r),yn=n,ys=i;break;case 0:case 11:case 14:case 15:if(!In&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&bw(r,e,a),i=i.next}while(i!==n)}vo(t,e,r);break;case 1:if(!In&&(_u(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Nr(r,e,l)}vo(t,e,r);break;case 21:vo(t,e,r);break;case 22:r.mode&1?(In=(n=In)||r.memoizedState!==null,vo(t,e,r),In=n):vo(t,e,r);break;default:vo(t,e,r)}}function r3(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new lV),e.forEach(function(n){var i=xV.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function os(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:yn=l.stateNode,ys=!1;break e;case 3:yn=l.stateNode.containerInfo,ys=!0;break e;case 4:yn=l.stateNode.containerInfo,ys=!0;break e}l=l.return}if(yn===null)throw Error(ve(160));L8(s,a,i),yn=null,ys=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){Nr(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)B8(e,t),e=e.sibling}function B8(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(os(e,t),ea(t),n&4){try{mf(3,t,t.return),Z1(3,t)}catch(x){Nr(t,t.return,x)}try{mf(5,t,t.return)}catch(x){Nr(t,t.return,x)}}break;case 1:os(e,t),ea(t),n&512&&r!==null&&_u(r,r.return);break;case 5:if(os(e,t),ea(t),n&512&&r!==null&&_u(r,r.return),t.flags&32){var i=t.stateNode;try{Af(i,"")}catch(x){Nr(t,t.return,x)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&oT(i,s),Zy(l,a);var d=Zy(l,s);for(a=0;a<c.length;a+=2){var h=c[a],f=c[a+1];h==="style"?hT(i,f):h==="dangerouslySetInnerHTML"?uT(i,f):h==="children"?Af(i,f):C2(i,h,f,d)}switch(l){case"input":Vy(i,s);break;case"textarea":lT(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Iu(i,!!s.multiple,g,!1):m!==!!s.multiple&&(s.defaultValue!=null?Iu(i,!!s.multiple,s.defaultValue,!0):Iu(i,!!s.multiple,s.multiple?[]:"",!1))}i[Rf]=s}catch(x){Nr(t,t.return,x)}}break;case 6:if(os(e,t),ea(t),n&4){if(t.stateNode===null)throw Error(ve(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){Nr(t,t.return,x)}}break;case 3:if(os(e,t),ea(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Tf(e.containerInfo)}catch(x){Nr(t,t.return,x)}break;case 4:os(e,t),ea(t);break;case 13:os(e,t),ea(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(n_=Tr())),n&4&&r3(t);break;case 22:if(h=r!==null&&r.memoizedState!==null,t.mode&1?(In=(d=In)||h,os(e,t),In=d):os(e,t),ea(t),n&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(Ie=t,h=t.child;h!==null;){for(f=Ie=h;Ie!==null;){switch(m=Ie,g=m.child,m.tag){case 0:case 11:case 14:case 15:mf(4,m,m.return);break;case 1:_u(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){n=m,r=m.return;try{e=n,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(x){Nr(n,r,x)}}break;case 5:_u(m,m.return);break;case 22:if(m.memoizedState!==null){i3(f);continue}}g!==null?(g.return=m,Ie=g):i3(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=dT("display",a))}catch(x){Nr(t,t.return,x)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(x){Nr(t,t.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:os(e,t),ea(t),n&4&&r3(t);break;case 21:break;default:os(e,t),ea(t)}}function ea(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(F8(r)){var n=r;break e}r=r.return}throw Error(ve(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Af(i,""),n.flags&=-33);var s=t3(t);Cw(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,l=t3(t);Nw(t,l,a);break;default:throw Error(ve(161))}}catch(c){Nr(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function uV(t,e,r){Ie=t,U8(t)}function U8(t,e,r){for(var n=(t.mode&1)!==0;Ie!==null;){var i=Ie,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||t0;if(!a){var l=i.alternate,c=l!==null&&l.memoizedState!==null||In;l=t0;var d=In;if(t0=a,(In=c)&&!d)for(Ie=i;Ie!==null;)a=Ie,c=a.child,a.tag===22&&a.memoizedState!==null?s3(i):c!==null?(c.return=a,Ie=c):s3(i);for(;s!==null;)Ie=s,U8(s),s=s.sibling;Ie=i,t0=l,In=d}n3(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ie=s):n3(t)}}function n3(t){for(;Ie!==null;){var e=Ie;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:In||Z1(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!In)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:ds(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&zS(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}zS(e,a,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Tf(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ve(163))}In||e.flags&512&&_w(e)}catch(m){Nr(e,e.return,m)}}if(e===t){Ie=null;break}if(r=e.sibling,r!==null){r.return=e.return,Ie=r;break}Ie=e.return}}function i3(t){for(;Ie!==null;){var e=Ie;if(e===t){Ie=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Ie=r;break}Ie=e.return}}function s3(t){for(;Ie!==null;){var e=Ie;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Z1(4,e)}catch(c){Nr(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(c){Nr(e,i,c)}}var s=e.return;try{_w(e)}catch(c){Nr(e,s,c)}break;case 5:var a=e.return;try{_w(e)}catch(c){Nr(e,a,c)}}}catch(c){Nr(e,e.return,c)}if(e===t){Ie=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Ie=l;break}Ie=e.return}}var dV=Math.ceil,Pg=fo.ReactCurrentDispatcher,t_=fo.ReactCurrentOwner,Zi=fo.ReactCurrentBatchConfig,Mt=0,cn=null,Fr=null,_n=0,bi=0,Nu=_l(0),Yr=0,$f=null,Ec=0,K1=0,r_=0,gf=null,di=null,n_=0,Td=1/0,Ua=null,Tg=!1,Sw=null,tl=null,r0=!1,Zo=null,Ig=0,vf=0,Ew=null,z0=-1,$0=0;function Jn(){return Mt&6?Tr():z0!==-1?z0:z0=Tr()}function rl(t){return t.mode&1?Mt&2&&_n!==0?_n&-_n:Z$.transition!==null?($0===0&&($0=CT()),$0):(t=Xt,t!==0||(t=window.event,t=t===void 0?16:TT(t.type)),t):1}function Ds(t,e,r,n){if(50<vf)throw vf=0,Ew=null,Error(ve(185));$p(t,r,n),(!(Mt&2)||t!==cn)&&(t===cn&&(!(Mt&2)&&(K1|=r),Yr===4&&Do(t,_n)),gi(t,n),r===1&&Mt===0&&!(e.mode&1)&&(Td=Tr()+500,H1&&Nl()))}function gi(t,e){var r=t.callbackNode;Zz(t,e);var n=mg(t,t===cn?_n:0);if(n===0)r!==null&&pS(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&pS(r),e===1)t.tag===0?q$(a3.bind(null,t)):YT(a3.bind(null,t)),V$(function(){!(Mt&6)&&Nl()}),r=null;else{switch(ST(n)){case 1:r=j2;break;case 4:r=_T;break;case 16:r=pg;break;case 536870912:r=NT;break;default:r=pg}r=Z8(r,z8.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function z8(t,e){if(z0=-1,$0=0,Mt&6)throw Error(ve(327));var r=t.callbackNode;if(Fu()&&t.callbackNode!==r)return null;var n=mg(t,t===cn?_n:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Dg(t,n);else{e=n;var i=Mt;Mt|=2;var s=V8();(cn!==t||_n!==e)&&(Ua=null,Td=Tr()+500,vc(t,e));do try{pV();break}catch(l){$8(t,l)}while(!0);$2(),Pg.current=s,Mt=i,Fr!==null?e=0:(cn=null,_n=0,e=Yr)}if(e!==0){if(e===2&&(i=Jy(t),i!==0&&(n=i,e=Aw(t,i))),e===1)throw r=$f,vc(t,0),Do(t,n),gi(t,Tr()),r;if(e===6)Do(t,n);else{if(i=t.current.alternate,!(n&30)&&!hV(i)&&(e=Dg(t,n),e===2&&(s=Jy(t),s!==0&&(n=s,e=Aw(t,s))),e===1))throw r=$f,vc(t,0),Do(t,n),gi(t,Tr()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(ve(345));case 2:Rl(t,di,Ua);break;case 3:if(Do(t,n),(n&130023424)===n&&(e=n_+500-Tr(),10<e)){if(mg(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Jn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ow(Rl.bind(null,t,di,Ua),e);break}Rl(t,di,Ua);break;case 4:if(Do(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-Is(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=Tr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*dV(n/1960))-n,10<n){t.timeoutHandle=ow(Rl.bind(null,t,di,Ua),n);break}Rl(t,di,Ua);break;case 5:Rl(t,di,Ua);break;default:throw Error(ve(329))}}}return gi(t,Tr()),t.callbackNode===r?z8.bind(null,t):null}function Aw(t,e){var r=gf;return t.current.memoizedState.isDehydrated&&(vc(t,e).flags|=256),t=Dg(t,e),t!==2&&(e=di,di=r,e!==null&&kw(e)),t}function kw(t){di===null?di=t:di.push.apply(di,t)}function hV(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Us(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Do(t,e){for(e&=~r_,e&=~K1,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Is(e),n=1<<r;t[r]=-1,e&=~n}}function a3(t){if(Mt&6)throw Error(ve(327));Fu();var e=mg(t,0);if(!(e&1))return gi(t,Tr()),null;var r=Dg(t,e);if(t.tag!==0&&r===2){var n=Jy(t);n!==0&&(e=n,r=Aw(t,n))}if(r===1)throw r=$f,vc(t,0),Do(t,e),gi(t,Tr()),r;if(r===6)throw Error(ve(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Rl(t,di,Ua),gi(t,Tr()),null}function i_(t,e){var r=Mt;Mt|=1;try{return t(e)}finally{Mt=r,Mt===0&&(Td=Tr()+500,H1&&Nl())}}function Ac(t){Zo!==null&&Zo.tag===0&&!(Mt&6)&&Fu();var e=Mt;Mt|=1;var r=Zi.transition,n=Xt;try{if(Zi.transition=null,Xt=1,t)return t()}finally{Xt=n,Zi.transition=r,Mt=e,!(Mt&6)&&Nl()}}function s_(){bi=Nu.current,dr(Nu)}function vc(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,$$(r)),Fr!==null)for(r=Fr.return;r!==null;){var n=r;switch(B2(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&wg();break;case 3:jd(),dr(pi),dr(On),Z2();break;case 5:q2(n);break;case 4:jd();break;case 13:dr(yr);break;case 19:dr(yr);break;case 10:V2(n.type._context);break;case 22:case 23:s_()}r=r.return}if(cn=t,Fr=t=nl(t.current,null),_n=bi=e,Yr=0,$f=null,r_=K1=Ec=0,di=gf=null,ql!==null){for(e=0;e<ql.length;e++)if(r=ql[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}ql=null}return t}function $8(t,e){do{var r=Fr;try{if($2(),L0.current=jg,kg){for(var n=wr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}kg=!1}if(Sc=0,on=Vr=wr=null,pf=!1,Bf=0,t_.current=null,r===null||r.return===null){Yr=1,$f=e,Fr=null;break}e:{var s=t,a=r.return,l=r,c=e;if(e=_n,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=qS(a);if(g!==null){g.flags&=-257,ZS(g,a,l,s,e),g.mode&1&&GS(s,d,e),e=g,c=d;var y=e.updateQueue;if(y===null){var x=new Set;x.add(c),e.updateQueue=x}else y.add(c);break e}else{if(!(e&1)){GS(s,d,e),a_();break e}c=Error(ve(426))}}else if(fr&&l.mode&1){var N=qS(a);if(N!==null){!(N.flags&65536)&&(N.flags|=256),ZS(N,a,l,s,e),U2(Pd(c,l));break e}}s=c=Pd(c,l),Yr!==4&&(Yr=2),gf===null?gf=[s]:gf.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=S8(s,c,e);US(s,_);break e;case 1:l=c;var w=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(tl===null||!tl.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=E8(s,l,e);US(s,E);break e}}s=s.return}while(s!==null)}H8(r)}catch(j){e=j,Fr===r&&r!==null&&(Fr=r=r.return);continue}break}while(!0)}function V8(){var t=Pg.current;return Pg.current=jg,t===null?jg:t}function a_(){(Yr===0||Yr===3||Yr===2)&&(Yr=4),cn===null||!(Ec&268435455)&&!(K1&268435455)||Do(cn,_n)}function Dg(t,e){var r=Mt;Mt|=2;var n=V8();(cn!==t||_n!==e)&&(Ua=null,vc(t,e));do try{fV();break}catch(i){$8(t,i)}while(!0);if($2(),Mt=r,Pg.current=n,Fr!==null)throw Error(ve(261));return cn=null,_n=0,Yr}function fV(){for(;Fr!==null;)W8(Fr)}function pV(){for(;Fr!==null&&!Bz();)W8(Fr)}function W8(t){var e=q8(t.alternate,t,bi);t.memoizedProps=t.pendingProps,e===null?H8(t):Fr=e,t_.current=null}function H8(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=oV(r,e),r!==null){r.flags&=32767,Fr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Yr=6,Fr=null;return}}else if(r=aV(r,e,bi),r!==null){Fr=r;return}if(e=e.sibling,e!==null){Fr=e;return}Fr=e=t}while(e!==null);Yr===0&&(Yr=5)}function Rl(t,e,r){var n=Xt,i=Zi.transition;try{Zi.transition=null,Xt=1,mV(t,e,r,n)}finally{Zi.transition=i,Xt=n}return null}function mV(t,e,r,n){do Fu();while(Zo!==null);if(Mt&6)throw Error(ve(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ve(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(Kz(t,s),t===cn&&(Fr=cn=null,_n=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||r0||(r0=!0,Z8(pg,function(){return Fu(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Zi.transition,Zi.transition=null;var a=Xt;Xt=1;var l=Mt;Mt|=4,t_.current=null,cV(t,r),B8(r,t),M$(sw),gg=!!iw,sw=iw=null,t.current=r,uV(r),Uz(),Mt=l,Xt=a,Zi.transition=s}else t.current=r;if(r0&&(r0=!1,Zo=t,Ig=i),s=t.pendingLanes,s===0&&(tl=null),Vz(r.stateNode),gi(t,Tr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Tg)throw Tg=!1,t=Sw,Sw=null,t;return Ig&1&&t.tag!==0&&Fu(),s=t.pendingLanes,s&1?t===Ew?vf++:(vf=0,Ew=t):vf=0,Nl(),null}function Fu(){if(Zo!==null){var t=ST(Ig),e=Zi.transition,r=Xt;try{if(Zi.transition=null,Xt=16>t?16:t,Zo===null)var n=!1;else{if(t=Zo,Zo=null,Ig=0,Mt&6)throw Error(ve(331));var i=Mt;for(Mt|=4,Ie=t.current;Ie!==null;){var s=Ie,a=s.child;if(Ie.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Ie=d;Ie!==null;){var h=Ie;switch(h.tag){case 0:case 11:case 15:mf(8,h,s)}var f=h.child;if(f!==null)f.return=h,Ie=f;else for(;Ie!==null;){h=Ie;var m=h.sibling,g=h.return;if(R8(h),h===d){Ie=null;break}if(m!==null){m.return=g,Ie=m;break}Ie=g}}}var y=s.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var N=x.sibling;x.sibling=null,x=N}while(x!==null)}}Ie=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Ie=a;else e:for(;Ie!==null;){if(s=Ie,s.flags&2048)switch(s.tag){case 0:case 11:case 15:mf(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,Ie=_;break e}Ie=s.return}}var w=t.current;for(Ie=w;Ie!==null;){a=Ie;var S=a.child;if(a.subtreeFlags&2064&&S!==null)S.return=a,Ie=S;else e:for(a=w;Ie!==null;){if(l=Ie,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Z1(9,l)}}catch(j){Nr(l,l.return,j)}if(l===a){Ie=null;break e}var E=l.sibling;if(E!==null){E.return=l.return,Ie=E;break e}Ie=l.return}}if(Mt=i,Nl(),xa&&typeof xa.onPostCommitFiberRoot=="function")try{xa.onPostCommitFiberRoot(U1,t)}catch{}n=!0}return n}finally{Xt=r,Zi.transition=e}}return!1}function o3(t,e,r){e=Pd(r,e),e=S8(t,e,1),t=el(t,e,1),e=Jn(),t!==null&&($p(t,1,e),gi(t,e))}function Nr(t,e,r){if(t.tag===3)o3(t,t,r);else for(;e!==null;){if(e.tag===3){o3(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(tl===null||!tl.has(n))){t=Pd(r,t),t=E8(e,t,1),e=el(e,t,1),t=Jn(),e!==null&&($p(e,1,t),gi(e,t));break}}e=e.return}}function gV(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Jn(),t.pingedLanes|=t.suspendedLanes&r,cn===t&&(_n&r)===r&&(Yr===4||Yr===3&&(_n&130023424)===_n&&500>Tr()-n_?vc(t,0):r_|=r),gi(t,e)}function G8(t,e){e===0&&(t.mode&1?(e=Gm,Gm<<=1,!(Gm&130023424)&&(Gm=4194304)):e=1);var r=Jn();t=io(t,e),t!==null&&($p(t,e,r),gi(t,r))}function vV(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),G8(t,r)}function xV(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(ve(314))}n!==null&&n.delete(e),G8(t,r)}var q8;q8=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||pi.current)fi=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return fi=!1,sV(t,e,r);fi=!!(t.flags&131072)}else fi=!1,fr&&e.flags&1048576&&XT(e,Ng,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;U0(t,e),t=e.pendingProps;var i=Ed(e,On.current);Ru(e,r),i=Y2(null,e,n,t,i,r);var s=X2();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mi(n)?(s=!0,bg(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,H2(e),i.updater=q1,e.stateNode=i,i._reactInternals=e,pw(e,n,t,r),e=vw(null,e,n,!0,s,r)):(e.tag=0,fr&&s&&L2(e),Kn(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(U0(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=wV(n),t=ds(n,t),i){case 0:e=gw(null,e,n,t,r);break e;case 1:e=XS(null,e,n,t,r);break e;case 11:e=KS(null,e,n,t,r);break e;case 14:e=YS(null,e,n,ds(n.type,t),r);break e}throw Error(ve(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ds(n,i),gw(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ds(n,i),XS(t,e,n,i,r);case 3:e:{if(P8(e),t===null)throw Error(ve(387));n=e.pendingProps,s=e.memoizedState,i=s.element,n8(t,e),Eg(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Pd(Error(ve(423)),e),e=QS(t,e,n,r,i);break e}else if(n!==i){i=Pd(Error(ve(424)),e),e=QS(t,e,n,r,i);break e}else for(Ci=Jo(e.stateNode.containerInfo.firstChild),Ei=e,fr=!0,_s=null,r=t8(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ad(),n===i){e=so(t,e,r);break e}Kn(t,e,n,r)}e=e.child}return e;case 5:return i8(e),t===null&&dw(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,aw(n,i)?a=null:s!==null&&aw(n,s)&&(e.flags|=32),j8(t,e),Kn(t,e,a,r),e.child;case 6:return t===null&&dw(e),null;case 13:return T8(t,e,r);case 4:return G2(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=kd(e,null,n,r):Kn(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ds(n,i),KS(t,e,n,i,r);case 7:return Kn(t,e,e.pendingProps,r),e.child;case 8:return Kn(t,e,e.pendingProps.children,r),e.child;case 12:return Kn(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,tr(Cg,n._currentValue),n._currentValue=a,s!==null)if(Us(s.value,a)){if(s.children===i.children&&!pi.current){e=so(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=Qa(-1,r&-r),c.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),hw(s.return,r,e),l.lanes|=r;break}c=c.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(ve(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),hw(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Kn(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Ru(e,r),i=Ji(i),n=n(i),e.flags|=1,Kn(t,e,n,r),e.child;case 14:return n=e.type,i=ds(n,e.pendingProps),i=ds(n.type,i),YS(t,e,n,i,r);case 15:return A8(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ds(n,i),U0(t,e),e.tag=1,mi(n)?(t=!0,bg(e)):t=!1,Ru(e,r),C8(e,n,i),pw(e,n,i,r),vw(null,e,n,!0,t,r);case 19:return I8(t,e,r);case 22:return k8(t,e,r)}throw Error(ve(156,e.tag))};function Z8(t,e){return bT(t,e)}function yV(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gi(t,e,r,n){return new yV(t,e,r,n)}function o_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wV(t){if(typeof t=="function")return o_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===E2)return 11;if(t===A2)return 14}return 2}function nl(t,e){var r=t.alternate;return r===null?(r=Gi(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function V0(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")o_(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case fu:return xc(r.children,i,s,e);case S2:a=8,i|=8;break;case Ly:return t=Gi(12,r,e,i|2),t.elementType=Ly,t.lanes=s,t;case By:return t=Gi(13,r,e,i),t.elementType=By,t.lanes=s,t;case Uy:return t=Gi(19,r,e,i),t.elementType=Uy,t.lanes=s,t;case iT:return Y1(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case rT:a=10;break e;case nT:a=9;break e;case E2:a=11;break e;case A2:a=14;break e;case ko:a=16,n=null;break e}throw Error(ve(130,t==null?t:typeof t,""))}return e=Gi(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function xc(t,e,r,n){return t=Gi(7,t,n,e),t.lanes=r,t}function Y1(t,e,r,n){return t=Gi(22,t,n,e),t.elementType=iT,t.lanes=r,t.stateNode={isHidden:!1},t}function Lx(t,e,r){return t=Gi(6,t,null,e),t.lanes=r,t}function Bx(t,e,r){return e=Gi(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function bV(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yx(0),this.expirationTimes=yx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yx(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function l_(t,e,r,n,i,s,a,l,c){return t=new bV(t,e,r,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Gi(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},H2(s),t}function _V(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hu,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function K8(t){if(!t)return cl;t=t._reactInternals;e:{if(zc(t)!==t||t.tag!==1)throw Error(ve(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ve(171))}if(t.tag===1){var r=t.type;if(mi(r))return KT(t,r,e)}return e}function Y8(t,e,r,n,i,s,a,l,c){return t=l_(r,n,!0,t,i,s,a,l,c),t.context=K8(null),r=t.current,n=Jn(),i=rl(r),s=Qa(n,i),s.callback=e??null,el(r,s,i),t.current.lanes=i,$p(t,i,n),gi(t,n),t}function X1(t,e,r,n){var i=e.current,s=Jn(),a=rl(i);return r=K8(r),e.context===null?e.context=r:e.pendingContext=r,e=Qa(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=el(i,e,a),t!==null&&(Ds(t,i,a,s),F0(t,i,a)),a}function Og(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function l3(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function c_(t,e){l3(t,e),(t=t.alternate)&&l3(t,e)}function NV(){return null}var X8=typeof reportError=="function"?reportError:function(t){console.error(t)};function u_(t){this._internalRoot=t}Q1.prototype.render=u_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ve(409));X1(t,e,null,null)};Q1.prototype.unmount=u_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ac(function(){X1(null,t,null,null)}),e[no]=null}};function Q1(t){this._internalRoot=t}Q1.prototype.unstable_scheduleHydration=function(t){if(t){var e=kT();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Io.length&&e!==0&&e<Io[r].priority;r++);Io.splice(r,0,t),r===0&&PT(t)}};function d_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function J1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function c3(){}function CV(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var d=Og(a);s.call(d)}}var a=Y8(e,n,t,0,null,!1,!1,"",c3);return t._reactRootContainer=a,t[no]=a.current,Of(t.nodeType===8?t.parentNode:t),Ac(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var d=Og(c);l.call(d)}}var c=l_(t,0,!1,null,null,!1,!1,"",c3);return t._reactRootContainer=c,t[no]=c.current,Of(t.nodeType===8?t.parentNode:t),Ac(function(){X1(e,c,r,n)}),c}function ev(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var c=Og(a);l.call(c)}}X1(e,a,t,i)}else a=CV(r,e,t,i,n);return Og(a)}ET=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=qh(e.pendingLanes);r!==0&&(P2(e,r|1),gi(e,Tr()),!(Mt&6)&&(Td=Tr()+500,Nl()))}break;case 13:Ac(function(){var n=io(t,1);if(n!==null){var i=Jn();Ds(n,t,1,i)}}),c_(t,1)}};T2=function(t){if(t.tag===13){var e=io(t,134217728);if(e!==null){var r=Jn();Ds(e,t,134217728,r)}c_(t,134217728)}};AT=function(t){if(t.tag===13){var e=rl(t),r=io(t,e);if(r!==null){var n=Jn();Ds(r,t,e,n)}c_(t,e)}};kT=function(){return Xt};jT=function(t,e){var r=Xt;try{return Xt=t,e()}finally{Xt=r}};Yy=function(t,e,r){switch(e){case"input":if(Vy(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=W1(n);if(!i)throw Error(ve(90));aT(n),Vy(n,i)}}}break;case"textarea":lT(t,r);break;case"select":e=r.value,e!=null&&Iu(t,!!r.multiple,e,!1)}};mT=i_;gT=Ac;var SV={usingClientEntryPoint:!1,Events:[Wp,vu,W1,fT,pT,i_]},jh={findFiberByHostInstance:Gl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},EV={bundleType:jh.bundleType,version:jh.version,rendererPackageName:jh.rendererPackageName,rendererConfig:jh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=yT(t),t===null?null:t.stateNode},findFiberByHostInstance:jh.findFiberByHostInstance||NV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var n0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!n0.isDisabled&&n0.supportsFiber)try{U1=n0.inject(EV),xa=n0}catch{}}Ti.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SV;Ti.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d_(e))throw Error(ve(200));return _V(t,e,null,r)};Ti.createRoot=function(t,e){if(!d_(t))throw Error(ve(299));var r=!1,n="",i=X8;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=l_(t,1,!1,null,null,r,!1,n,i),t[no]=e.current,Of(t.nodeType===8?t.parentNode:t),new u_(e)};Ti.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ve(188)):(t=Object.keys(t).join(","),Error(ve(268,t)));return t=yT(e),t=t===null?null:t.stateNode,t};Ti.flushSync=function(t){return Ac(t)};Ti.hydrate=function(t,e,r){if(!J1(e))throw Error(ve(200));return ev(null,t,e,!0,r)};Ti.hydrateRoot=function(t,e,r){if(!d_(t))throw Error(ve(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=X8;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=Y8(e,null,t,1,r??null,i,!1,s,a),t[no]=e.current,Of(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Q1(e)};Ti.render=function(t,e,r){if(!J1(e))throw Error(ve(200));return ev(null,t,e,!1,r)};Ti.unmountComponentAtNode=function(t){if(!J1(t))throw Error(ve(40));return t._reactRootContainer?(Ac(function(){ev(null,null,t,!1,function(){t._reactRootContainer=null,t[no]=null})}),!0):!1};Ti.unstable_batchedUpdates=i_;Ti.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!J1(r))throw Error(ve(200));if(t==null||t._reactInternals===void 0)throw Error(ve(38));return ev(t,e,r,!1,n)};Ti.version="18.3.1-next-f1338f8080-20240426";function Q8(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Q8)}catch(t){console.error(t)}}Q8(),QP.exports=Ti;var $c=QP.exports;const AV=ka($c);var J8,u3=$c;J8=u3.createRoot,u3.hydrateRoot;function kV(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var r,n,i,s,a=[],l="",c=t.split("/");for(c[0]||c.shift();i=c.shift();)r=i[0],r==="*"?(a.push(r),l+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=i.indexOf("?",1),s=i.indexOf(".",1),a.push(i.substring(1,~n?n:~s?s:i.length)),l+=~n&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(l+=(~n?"?":"")+"\\"+i.substring(s))):l+="/"+i;return{keys:a,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}var e6={exports:{}},t6={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Id=b;function jV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var PV=typeof Object.is=="function"?Object.is:jV,TV=Id.useState,IV=Id.useEffect,DV=Id.useLayoutEffect,OV=Id.useDebugValue;function MV(t,e){var r=e(),n=TV({inst:{value:r,getSnapshot:e}}),i=n[0].inst,s=n[1];return DV(function(){i.value=r,i.getSnapshot=e,Ux(i)&&s({inst:i})},[t,r,e]),IV(function(){return Ux(i)&&s({inst:i}),t(function(){Ux(i)&&s({inst:i})})},[t]),OV(r),r}function Ux(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!PV(t,r)}catch{return!0}}function RV(t,e){return e()}var FV=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?RV:MV;t6.useSyncExternalStore=Id.useSyncExternalStore!==void 0?Id.useSyncExternalStore:FV;e6.exports=t6;var LV=e6.exports;const BV=YP.useInsertionEffect,UV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zV=UV?b.useLayoutEffect:b.useEffect,$V=BV||zV,r6=t=>{const e=b.useRef([t,(...r)=>e[0](...r)]).current;return $V(()=>{e[0]=t}),e[1]},VV="popstate",h_="pushState",f_="replaceState",WV="hashchange",d3=[VV,h_,f_,WV],HV=t=>{for(const e of d3)addEventListener(e,t);return()=>{for(const e of d3)removeEventListener(e,t)}},n6=(t,e)=>LV.useSyncExternalStore(HV,t,e),GV=()=>location.search,qV=({ssrSearch:t=""}={})=>n6(GV,()=>t),h3=()=>location.pathname,ZV=({ssrPath:t}={})=>n6(h3,t?()=>t:h3),KV=(t,{replace:e=!1,state:r=null}={})=>history[e?f_:h_](r,"",t),YV=(t={})=>[ZV(t),KV],f3=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[f3]>"u"){for(const t of[h_,f_]){const e=history[t];history[t]=function(){const r=e.apply(this,arguments),n=new Event(t);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,f3,{value:!0})}const XV=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",i6=(t="")=>t==="/"?"":t,QV=(t,e)=>t[0]==="~"?t.slice(1):i6(e)+t,JV=(t="",e)=>XV(p3(i6(t)),p3(e)),p3=t=>{try{return decodeURI(t)}catch{return t}},s6={hook:YV,searchHook:qV,parser:kV,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},a6=b.createContext(s6),Gp=()=>b.useContext(a6),o6={},l6=b.createContext(o6),eW=()=>b.useContext(l6),tv=t=>{const[e,r]=t.hook(t);return[JV(t.base,e),r6((n,i)=>r(QV(n,t.base),i))]},qs=()=>tv(Gp()),c6=(t,e,r,n)=>{const{pattern:i,keys:s}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",n),a=i.exec(r)||[],[l,...c]=a;return l!==void 0?[!0,(()=>{const d=s!==!1?Object.fromEntries(s.map((f,m)=>[f,c[m]])):a.groups;let h={...c};return d&&Object.assign(h,d),h})(),...n?[l]:[]]:[!1,null]},tW=({children:t,...e})=>{var h,f;const r=Gp(),n=e.hook?s6:r;let i=n;const[s,a]=((h=e.ssrPath)==null?void 0:h.split("?"))??[];a&&(e.ssrSearch=a,e.ssrPath=s),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs);let l=b.useRef({}),c=l.current,d=c;for(let m in n){const g=m==="base"?n[m]+(e[m]||""):e[m]||n[m];c===d&&g!==d[m]&&(l.current=d={...d}),d[m]=g,g!==n[m]&&(i=d)}return b.createElement(a6.Provider,{value:i,children:t})},m3=({children:t,component:e},r)=>e?b.createElement(e,{params:r}):typeof t=="function"?t(r):t,rW=t=>{let e=b.useRef(o6),r=e.current;for(const n in t)t[n]!==r[n]&&(r=t);return Object.keys(t).length===0&&(r=t),e.current=r},sr=({path:t,nest:e,match:r,...n})=>{const i=Gp(),[s]=tv(i),[a,l,c]=r??c6(i.parser,t,s,e),d=rW({...eW(),...l});if(!a)return null;const h=c?b.createElement(tW,{base:c},m3(n,d)):m3(n,d);return b.createElement(l6.Provider,{value:d,children:h})},wn=b.forwardRef((t,e)=>{const r=Gp(),[n,i]=tv(r),{to:s="",href:a=s,onClick:l,asChild:c,children:d,className:h,replace:f,state:m,...g}=t,y=r6(N=>{N.ctrlKey||N.metaKey||N.altKey||N.shiftKey||N.button!==0||(l==null||l(N),N.defaultPrevented||(N.preventDefault(),i(a,t)))}),x=r.hrefs(a[0]==="~"?a.slice(1):r.base+a,r);return c&&b.isValidElement(d)?b.cloneElement(d,{onClick:y,href:x}):b.createElement("a",{...g,onClick:y,href:x,className:h!=null&&h.call?h(n===a):h,children:d,ref:e})}),u6=t=>Array.isArray(t)?t.flatMap(e=>u6(e&&e.type===b.Fragment?e.props.children:e)):[t],nW=({children:t,location:e})=>{const r=Gp(),[n]=tv(r);for(const i of u6(t)){let s=0;if(b.isValidElement(i)&&(s=c6(r.parser,i.props.path,e||n,i.props.nest))[0])return b.cloneElement(i,{match:s})}return null};var qd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},kc=typeof window>"u"||"Deno"in globalThis;function zi(){}function iW(t,e){return typeof t=="function"?t(e):t}function jw(t){return typeof t=="number"&&t>=0&&t!==1/0}function d6(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Lu(t,e){return typeof t=="function"?t(e):t}function Ns(t,e){return typeof t=="function"?t(e):t}function g3(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:a,stale:l}=t;if(a){if(n){if(e.queryHash!==p_(a,e.options))return!1}else if(!Vf(e.queryKey,a))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||s&&!s(e))}function v3(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(jc(e.options.mutationKey)!==jc(s))return!1}else if(!Vf(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function p_(t,e){return((e==null?void 0:e.queryKeyHashFn)||jc)(t)}function jc(t){return JSON.stringify(t,(e,r)=>Pw(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Vf(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!Vf(t[r],e[r])):!1}function h6(t,e){if(t===e)return t;const r=x3(t)&&x3(e);if(r||Pw(t)&&Pw(e)){const n=r?t:Object.keys(t),i=n.length,s=r?e:Object.keys(e),a=s.length,l=r?[]:{};let c=0;for(let d=0;d<a;d++){const h=r?d:s[d];(!r&&n.includes(h)||r)&&t[h]===void 0&&e[h]===void 0?(l[h]=void 0,c++):(l[h]=h6(t[h],e[h]),l[h]===t[h]&&t[h]!==void 0&&c++)}return i===a&&c===i?t:l}return e}function Mg(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function x3(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Pw(t){if(!y3(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!y3(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function y3(t){return Object.prototype.toString.call(t)==="[object Object]"}function sW(t){return new Promise(e=>{setTimeout(e,t)})}function Tw(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?h6(t,e):e}function aW(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function oW(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var m_=Symbol();function f6(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===m_?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Jl,Mo,Gu,WA,lW=(WA=class extends qd{constructor(){super();re(this,Jl);re(this,Mo);re(this,Gu);ne(this,Gu,e=>{if(!kc&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){k(this,Mo)||this.setEventListener(k(this,Gu))}onUnsubscribe(){var e;this.hasListeners()||((e=k(this,Mo))==null||e.call(this),ne(this,Mo,void 0))}setEventListener(e){var r;ne(this,Gu,e),(r=k(this,Mo))==null||r.call(this),ne(this,Mo,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){k(this,Jl)!==e&&(ne(this,Jl,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof k(this,Jl)=="boolean"?k(this,Jl):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Jl=new WeakMap,Mo=new WeakMap,Gu=new WeakMap,WA),g_=new lW,qu,Ro,Zu,HA,cW=(HA=class extends qd{constructor(){super();re(this,qu,!0);re(this,Ro);re(this,Zu);ne(this,Zu,e=>{if(!kc&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){k(this,Ro)||this.setEventListener(k(this,Zu))}onUnsubscribe(){var e;this.hasListeners()||((e=k(this,Ro))==null||e.call(this),ne(this,Ro,void 0))}setEventListener(e){var r;ne(this,Zu,e),(r=k(this,Ro))==null||r.call(this),ne(this,Ro,e(this.setOnline.bind(this)))}setOnline(e){k(this,qu)!==e&&(ne(this,qu,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return k(this,qu)}},qu=new WeakMap,Ro=new WeakMap,Zu=new WeakMap,HA),Rg=new cW;function Iw(){let t,e;const r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}function uW(t){return Math.min(1e3*2**t,3e4)}function p6(t){return(t??"online")==="online"?Rg.isOnline():!0}var m6=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function zx(t){return t instanceof m6}function g6(t){let e=!1,r=0,n=!1,i;const s=Iw(),a=x=>{var N;n||(m(new m6(x)),(N=t.abort)==null||N.call(t))},l=()=>{e=!0},c=()=>{e=!1},d=()=>g_.isFocused()&&(t.networkMode==="always"||Rg.isOnline())&&t.canRun(),h=()=>p6(t.networkMode)&&t.canRun(),f=x=>{var N;n||(n=!0,(N=t.onSuccess)==null||N.call(t,x),i==null||i(),s.resolve(x))},m=x=>{var N;n||(n=!0,(N=t.onError)==null||N.call(t,x),i==null||i(),s.reject(x))},g=()=>new Promise(x=>{var N;i=_=>{(n||d())&&x(_)},(N=t.onPause)==null||N.call(t)}).then(()=>{var x;i=void 0,n||(x=t.onContinue)==null||x.call(t)}),y=()=>{if(n)return;let x;const N=r===0?t.initialPromise:void 0;try{x=N??t.fn()}catch(_){x=Promise.reject(_)}Promise.resolve(x).then(f).catch(_=>{var D;if(n)return;const w=t.retry??(kc?0:3),S=t.retryDelay??uW,E=typeof S=="function"?S(r,_):S,j=w===!0||typeof w=="number"&&r<w||typeof w=="function"&&w(r,_);if(e||!j){m(_);return}r++,(D=t.onFail)==null||D.call(t,r,_),sW(E).then(()=>d()?void 0:g()).then(()=>{e?m(_):y()})})};return{promise:s,cancel:a,continue:()=>(i==null||i(),s),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?y():g().then(y),s)}}function dW(){let t=[],e=0,r=l=>{l()},n=l=>{l()},i=l=>setTimeout(l,0);const s=l=>{e?t.push(l):i(()=>{r(l)})},a=()=>{const l=t;t=[],l.length&&i(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||a()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{i=l}}}var Gr=dW(),ec,GA,v6=(GA=class{constructor(){re(this,ec)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),jw(this.gcTime)&&ne(this,ec,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(kc?1/0:5*60*1e3))}clearGcTimeout(){k(this,ec)&&(clearTimeout(k(this,ec)),ne(this,ec,void 0))}},ec=new WeakMap,GA),Ku,Yu,Bi,jn,gp,tc,hs,Fa,qA,hW=(qA=class extends v6{constructor(e){super();re(this,hs);re(this,Ku);re(this,Yu);re(this,Bi);re(this,jn);re(this,gp);re(this,tc);ne(this,tc,!1),ne(this,gp,e.defaultOptions),this.setOptions(e.options),this.observers=[],ne(this,Bi,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ne(this,Ku,fW(this.options)),this.state=e.state??k(this,Ku),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=k(this,jn))==null?void 0:e.promise}setOptions(e){this.options={...k(this,gp),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&k(this,Bi).remove(this)}setData(e,r){const n=Tw(this.state.data,e,this.options);return ce(this,hs,Fa).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){ce(this,hs,Fa).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,i;const r=(n=k(this,jn))==null?void 0:n.promise;return(i=k(this,jn))==null||i.cancel(e),r?r.then(zi).catch(zi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(k(this,Ku))}isActive(){return this.observers.some(e=>Ns(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===m_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!d6(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=k(this,jn))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=k(this,jn))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),k(this,Bi).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(k(this,jn)&&(k(this,tc)?k(this,jn).cancel({revert:!0}):k(this,jn).cancelRetry()),this.scheduleGc()),k(this,Bi).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ce(this,hs,Fa).call(this,{type:"invalidate"})}fetch(e,r){var c,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(k(this,jn))return k(this,jn).continueRetry(),k(this,jn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(ne(this,tc,!0),n.signal)})},s=()=>{const f=f6(this.options,r),m={queryKey:this.queryKey,meta:this.meta};return i(m),ne(this,tc,!1),this.options.persister?this.options.persister(f,m,this):f(m)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};i(a),(c=this.options.behavior)==null||c.onFetch(a,this),ne(this,Yu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&ce(this,hs,Fa).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta});const l=f=>{var m,g,y,x;zx(f)&&f.silent||ce(this,hs,Fa).call(this,{type:"error",error:f}),zx(f)||((g=(m=k(this,Bi).config).onError)==null||g.call(m,f,this),(x=(y=k(this,Bi).config).onSettled)==null||x.call(y,this.state.data,f,this)),this.scheduleGc()};return ne(this,jn,g6({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var m,g,y,x;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(N){l(N);return}(g=(m=k(this,Bi).config).onSuccess)==null||g.call(m,f,this),(x=(y=k(this,Bi).config).onSettled)==null||x.call(y,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,m)=>{ce(this,hs,Fa).call(this,{type:"failed",failureCount:f,error:m})},onPause:()=>{ce(this,hs,Fa).call(this,{type:"pause"})},onContinue:()=>{ce(this,hs,Fa).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),k(this,jn).start()}},Ku=new WeakMap,Yu=new WeakMap,Bi=new WeakMap,jn=new WeakMap,gp=new WeakMap,tc=new WeakMap,hs=new WeakSet,Fa=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...x6(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return zx(i)&&i.revert&&k(this,Yu)?{...k(this,Yu),fetchStatus:"idle"}:{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),Gr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),k(this,Bi).notify({query:this,type:"updated",action:e})})},qA);function x6(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:p6(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function fW(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var ia,ZA,pW=(ZA=class extends qd{constructor(e={}){super();re(this,ia);this.config=e,ne(this,ia,new Map)}build(e,r,n){const i=r.queryKey,s=r.queryHash??p_(i,r);let a=this.get(s);return a||(a=new hW({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){k(this,ia).has(e.queryHash)||(k(this,ia).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=k(this,ia).get(e.queryHash);r&&(e.destroy(),r===e&&k(this,ia).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Gr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return k(this,ia).get(e)}getAll(){return[...k(this,ia).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>g3(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>g3(e,n)):r}notify(e){Gr.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Gr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Gr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ia=new WeakMap,ZA),sa,Wn,rc,aa,Co,KA,mW=(KA=class extends v6{constructor(e){super();re(this,aa);re(this,sa);re(this,Wn);re(this,rc);this.mutationId=e.mutationId,ne(this,Wn,e.mutationCache),ne(this,sa,[]),this.state=e.state||y6(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){k(this,sa).includes(e)||(k(this,sa).push(e),this.clearGcTimeout(),k(this,Wn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ne(this,sa,k(this,sa).filter(r=>r!==e)),this.scheduleGc(),k(this,Wn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){k(this,sa).length||(this.state.status==="pending"?this.scheduleGc():k(this,Wn).remove(this))}continue(){var e;return((e=k(this,rc))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,s,a,l,c,d,h,f,m,g,y,x,N,_,w,S,E,j,D,T;ne(this,rc,g6({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(O,B)=>{ce(this,aa,Co).call(this,{type:"failed",failureCount:O,error:B})},onPause:()=>{ce(this,aa,Co).call(this,{type:"pause"})},onContinue:()=>{ce(this,aa,Co).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>k(this,Wn).canRun(this)}));const r=this.state.status==="pending",n=!k(this,rc).canStart();try{if(!r){ce(this,aa,Co).call(this,{type:"pending",variables:e,isPaused:n}),await((s=(i=k(this,Wn).config).onMutate)==null?void 0:s.call(i,e,this));const B=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,e));B!==this.state.context&&ce(this,aa,Co).call(this,{type:"pending",context:B,variables:e,isPaused:n})}const O=await k(this,rc).start();return await((d=(c=k(this,Wn).config).onSuccess)==null?void 0:d.call(c,O,e,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,O,e,this.state.context)),await((g=(m=k(this,Wn).config).onSettled)==null?void 0:g.call(m,O,null,this.state.variables,this.state.context,this)),await((x=(y=this.options).onSettled)==null?void 0:x.call(y,O,null,e,this.state.context)),ce(this,aa,Co).call(this,{type:"success",data:O}),O}catch(O){try{throw await((_=(N=k(this,Wn).config).onError)==null?void 0:_.call(N,O,e,this.state.context,this)),await((S=(w=this.options).onError)==null?void 0:S.call(w,O,e,this.state.context)),await((j=(E=k(this,Wn).config).onSettled)==null?void 0:j.call(E,void 0,O,this.state.variables,this.state.context,this)),await((T=(D=this.options).onSettled)==null?void 0:T.call(D,void 0,O,e,this.state.context)),O}finally{ce(this,aa,Co).call(this,{type:"error",error:O})}}finally{k(this,Wn).runNext(this)}}},sa=new WeakMap,Wn=new WeakMap,rc=new WeakMap,aa=new WeakSet,Co=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Gr.batch(()=>{k(this,sa).forEach(n=>{n.onMutationUpdate(e)}),k(this,Wn).notify({mutation:this,type:"updated",action:e})})},KA);function y6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var wi,vp,YA,gW=(YA=class extends qd{constructor(e={}){super();re(this,wi);re(this,vp);this.config=e,ne(this,wi,new Map),ne(this,vp,Date.now())}build(e,r,n){const i=new mW({mutationCache:this,mutationId:++Um(this,vp)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){const r=i0(e),n=k(this,wi).get(r)??[];n.push(e),k(this,wi).set(r,n),this.notify({type:"added",mutation:e})}remove(e){var n;const r=i0(e);if(k(this,wi).has(r)){const i=(n=k(this,wi).get(r))==null?void 0:n.filter(s=>s!==e);i&&(i.length===0?k(this,wi).delete(r):k(this,wi).set(r,i))}this.notify({type:"removed",mutation:e})}canRun(e){var n;const r=(n=k(this,wi).get(i0(e)))==null?void 0:n.find(i=>i.state.status==="pending");return!r||r===e}runNext(e){var n;const r=(n=k(this,wi).get(i0(e)))==null?void 0:n.find(i=>i!==e&&i.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Gr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...k(this,wi).values()].flat()}find(e){const r={exact:!0,...e};return this.getAll().find(n=>v3(r,n))}findAll(e={}){return this.getAll().filter(r=>v3(e,r))}notify(e){Gr.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Gr.batch(()=>Promise.all(e.map(r=>r.continue().catch(zi))))}},wi=new WeakMap,vp=new WeakMap,YA);function i0(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function w3(t){return{onFetch:(e,r)=>{var h,f,m,g,y;const n=e.options,i=(m=(f=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,s=((g=e.state.data)==null?void 0:g.pages)||[],a=((y=e.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let x=!1;const N=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?x=!0:e.signal.addEventListener("abort",()=>{x=!0}),e.signal)})},_=f6(e.options,e.fetchOptions),w=async(S,E,j)=>{if(x)return Promise.reject();if(E==null&&S.pages.length)return Promise.resolve(S);const D={queryKey:e.queryKey,pageParam:E,direction:j?"backward":"forward",meta:e.options.meta};N(D);const T=await _(D),{maxPages:O}=e.options,B=j?oW:aW;return{pages:B(S.pages,T,O),pageParams:B(S.pageParams,E,O)}};if(i&&s.length){const S=i==="backward",E=S?vW:b3,j={pages:s,pageParams:a},D=E(n,j);l=await w(j,D,S)}else{const S=t??s.length;do{const E=c===0?a[0]??n.initialPageParam:b3(n,l);if(c>0&&E==null)break;l=await w(l,E),c++}while(c<S)}return l};e.options.persister?e.fetchFn=()=>{var x,N;return(N=(x=e.options).persister)==null?void 0:N.call(x,d,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=d}}}function b3(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function vW(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var _r,Fo,Lo,Xu,Qu,Bo,Ju,ed,XA,xW=(XA=class{constructor(t={}){re(this,_r);re(this,Fo);re(this,Lo);re(this,Xu);re(this,Qu);re(this,Bo);re(this,Ju);re(this,ed);ne(this,_r,t.queryCache||new pW),ne(this,Fo,t.mutationCache||new gW),ne(this,Lo,t.defaultOptions||{}),ne(this,Xu,new Map),ne(this,Qu,new Map),ne(this,Bo,0)}mount(){Um(this,Bo)._++,k(this,Bo)===1&&(ne(this,Ju,g_.subscribe(async t=>{t&&(await this.resumePausedMutations(),k(this,_r).onFocus())})),ne(this,ed,Rg.subscribe(async t=>{t&&(await this.resumePausedMutations(),k(this,_r).onOnline())})))}unmount(){var t,e;Um(this,Bo)._--,k(this,Bo)===0&&((t=k(this,Ju))==null||t.call(this),ne(this,Ju,void 0),(e=k(this,ed))==null||e.call(this),ne(this,ed,void 0))}isFetching(t){return k(this,_r).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return k(this,Fo).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=k(this,_r).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),n=k(this,_r).build(this,r);return t.revalidateIfStale&&n.isStaleByTime(Lu(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return k(this,_r).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=k(this,_r).get(n.queryHash),s=i==null?void 0:i.state.data,a=iW(e,s);if(a!==void 0)return k(this,_r).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(t,e,r){return Gr.batch(()=>k(this,_r).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=k(this,_r).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=k(this,_r);Gr.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=k(this,_r),n={type:"active",...t};return Gr.batch(()=>(r.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=Gr.batch(()=>k(this,_r).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(zi).catch(zi)}invalidateQueries(t={},e={}){return Gr.batch(()=>{if(k(this,_r).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=Gr.batch(()=>k(this,_r).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(zi)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(zi)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=k(this,_r).build(this,e);return r.isStaleByTime(Lu(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(zi).catch(zi)}fetchInfiniteQuery(t){return t.behavior=w3(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(zi).catch(zi)}ensureInfiniteQueryData(t){return t.behavior=w3(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Rg.isOnline()?k(this,Fo).resumePausedMutations():Promise.resolve()}getQueryCache(){return k(this,_r)}getMutationCache(){return k(this,Fo)}getDefaultOptions(){return k(this,Lo)}setDefaultOptions(t){ne(this,Lo,t)}setQueryDefaults(t,e){k(this,Xu).set(jc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...k(this,Xu).values()];let r={};return e.forEach(n=>{Vf(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){k(this,Qu).set(jc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...k(this,Qu).values()];let r={};return e.forEach(n=>{Vf(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...k(this,Lo).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=p_(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===m_&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...k(this,Lo).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){k(this,_r).clear(),k(this,Fo).clear()}},_r=new WeakMap,Fo=new WeakMap,Lo=new WeakMap,Xu=new WeakMap,Qu=new WeakMap,Bo=new WeakMap,Ju=new WeakMap,ed=new WeakMap,XA),li,_t,xp,Hn,nc,td,Uo,oa,yp,rd,nd,ic,sc,zo,id,Gt,Kh,Dw,Ow,Mw,Rw,Fw,Lw,Bw,w6,QA,yW=(QA=class extends qd{constructor(e,r){super();re(this,Gt);re(this,li);re(this,_t);re(this,xp);re(this,Hn);re(this,nc);re(this,td);re(this,Uo);re(this,oa);re(this,yp);re(this,rd);re(this,nd);re(this,ic);re(this,sc);re(this,zo);re(this,id,new Set);this.options=r,ne(this,li,e),ne(this,oa,null),ne(this,Uo,Iw()),this.options.experimental_prefetchInRender||k(this,Uo).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(k(this,_t).addObserver(this),_3(k(this,_t),this.options)?ce(this,Gt,Kh).call(this):this.updateResult(),ce(this,Gt,Rw).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Uw(k(this,_t),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Uw(k(this,_t),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ce(this,Gt,Fw).call(this),ce(this,Gt,Lw).call(this),k(this,_t).removeObserver(this)}setOptions(e,r){const n=this.options,i=k(this,_t);if(this.options=k(this,li).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ns(this.options.enabled,k(this,_t))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ce(this,Gt,Bw).call(this),k(this,_t).setOptions(this.options),n._defaulted&&!Mg(this.options,n)&&k(this,li).getQueryCache().notify({type:"observerOptionsUpdated",query:k(this,_t),observer:this});const s=this.hasListeners();s&&N3(k(this,_t),i,this.options,n)&&ce(this,Gt,Kh).call(this),this.updateResult(r),s&&(k(this,_t)!==i||Ns(this.options.enabled,k(this,_t))!==Ns(n.enabled,k(this,_t))||Lu(this.options.staleTime,k(this,_t))!==Lu(n.staleTime,k(this,_t)))&&ce(this,Gt,Dw).call(this);const a=ce(this,Gt,Ow).call(this);s&&(k(this,_t)!==i||Ns(this.options.enabled,k(this,_t))!==Ns(n.enabled,k(this,_t))||a!==k(this,zo))&&ce(this,Gt,Mw).call(this,a)}getOptimisticResult(e){const r=k(this,li).getQueryCache().build(k(this,li),e),n=this.createResult(r,e);return bW(this,n)&&(ne(this,Hn,n),ne(this,td,this.options),ne(this,nc,k(this,_t).state)),n}getCurrentResult(){return k(this,Hn)}trackResult(e,r){const n={};return Object.keys(e).forEach(i=>{Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),r==null||r(i),e[i])})}),n}trackProp(e){k(this,id).add(e)}getCurrentQuery(){return k(this,_t)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=k(this,li).defaultQueryOptions(e),n=k(this,li).getQueryCache().build(k(this,li),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return ce(this,Gt,Kh).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),k(this,Hn)))}createResult(e,r){var O;const n=k(this,_t),i=this.options,s=k(this,Hn),a=k(this,nc),l=k(this,td),d=e!==n?e.state:k(this,xp),{state:h}=e;let f={...h},m=!1,g;if(r._optimisticResults){const B=this.hasListeners(),P=!B&&_3(e,r),V=B&&N3(e,n,r,i);(P||V)&&(f={...f,...x6(h.data,e.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:y,errorUpdatedAt:x,status:N}=f;if(r.select&&f.data!==void 0)if(s&&f.data===(a==null?void 0:a.data)&&r.select===k(this,yp))g=k(this,rd);else try{ne(this,yp,r.select),g=r.select(f.data),g=Tw(s==null?void 0:s.data,g,r),ne(this,rd,g),ne(this,oa,null)}catch(B){ne(this,oa,B)}else g=f.data;if(r.placeholderData!==void 0&&g===void 0&&N==="pending"){let B;if(s!=null&&s.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))B=s.data;else if(B=typeof r.placeholderData=="function"?r.placeholderData((O=k(this,nd))==null?void 0:O.state.data,k(this,nd)):r.placeholderData,r.select&&B!==void 0)try{B=r.select(B),ne(this,oa,null)}catch(P){ne(this,oa,P)}B!==void 0&&(N="success",g=Tw(s==null?void 0:s.data,B,r),m=!0)}k(this,oa)&&(y=k(this,oa),g=k(this,rd),x=Date.now(),N="error");const _=f.fetchStatus==="fetching",w=N==="pending",S=N==="error",E=w&&_,j=g!==void 0,T={status:N,fetchStatus:f.fetchStatus,isPending:w,isSuccess:N==="success",isError:S,isInitialLoading:E,isLoading:E,data:g,dataUpdatedAt:f.dataUpdatedAt,error:y,errorUpdatedAt:x,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>d.dataUpdateCount||f.errorUpdateCount>d.errorUpdateCount,isFetching:_,isRefetching:_&&!w,isLoadingError:S&&!j,isPaused:f.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:S&&j,isStale:v_(e,r),refetch:this.refetch,promise:k(this,Uo)};if(this.options.experimental_prefetchInRender){const B=F=>{T.status==="error"?F.reject(T.error):T.data!==void 0&&F.resolve(T.data)},P=()=>{const F=ne(this,Uo,T.promise=Iw());B(F)},V=k(this,Uo);switch(V.status){case"pending":e.queryHash===n.queryHash&&B(V);break;case"fulfilled":(T.status==="error"||T.data!==V.value)&&P();break;case"rejected":(T.status!=="error"||T.error!==V.reason)&&P();break}}return T}updateResult(e){const r=k(this,Hn),n=this.createResult(k(this,_t),this.options);if(ne(this,nc,k(this,_t).state),ne(this,td,this.options),k(this,nc).data!==void 0&&ne(this,nd,k(this,_t)),Mg(n,r))return;ne(this,Hn,n);const i={},s=()=>{if(!r)return!0;const{notifyOnChangeProps:a}=this.options,l=typeof a=="function"?a():a;if(l==="all"||!l&&!k(this,id).size)return!0;const c=new Set(l??k(this,id));return this.options.throwOnError&&c.add("error"),Object.keys(k(this,Hn)).some(d=>{const h=d;return k(this,Hn)[h]!==r[h]&&c.has(h)})};(e==null?void 0:e.listeners)!==!1&&s()&&(i.listeners=!0),ce(this,Gt,w6).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ce(this,Gt,Rw).call(this)}},li=new WeakMap,_t=new WeakMap,xp=new WeakMap,Hn=new WeakMap,nc=new WeakMap,td=new WeakMap,Uo=new WeakMap,oa=new WeakMap,yp=new WeakMap,rd=new WeakMap,nd=new WeakMap,ic=new WeakMap,sc=new WeakMap,zo=new WeakMap,id=new WeakMap,Gt=new WeakSet,Kh=function(e){ce(this,Gt,Bw).call(this);let r=k(this,_t).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(zi)),r},Dw=function(){ce(this,Gt,Fw).call(this);const e=Lu(this.options.staleTime,k(this,_t));if(kc||k(this,Hn).isStale||!jw(e))return;const n=d6(k(this,Hn).dataUpdatedAt,e)+1;ne(this,ic,setTimeout(()=>{k(this,Hn).isStale||this.updateResult()},n))},Ow=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(k(this,_t)):this.options.refetchInterval)??!1},Mw=function(e){ce(this,Gt,Lw).call(this),ne(this,zo,e),!(kc||Ns(this.options.enabled,k(this,_t))===!1||!jw(k(this,zo))||k(this,zo)===0)&&ne(this,sc,setInterval(()=>{(this.options.refetchIntervalInBackground||g_.isFocused())&&ce(this,Gt,Kh).call(this)},k(this,zo)))},Rw=function(){ce(this,Gt,Dw).call(this),ce(this,Gt,Mw).call(this,ce(this,Gt,Ow).call(this))},Fw=function(){k(this,ic)&&(clearTimeout(k(this,ic)),ne(this,ic,void 0))},Lw=function(){k(this,sc)&&(clearInterval(k(this,sc)),ne(this,sc,void 0))},Bw=function(){const e=k(this,li).getQueryCache().build(k(this,li),this.options);if(e===k(this,_t))return;const r=k(this,_t);ne(this,_t,e),ne(this,xp,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},w6=function(e){Gr.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(k(this,Hn))}),k(this,li).getQueryCache().notify({query:k(this,_t),type:"observerResultsUpdated"})})},QA);function wW(t,e){return Ns(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function _3(t,e){return wW(t,e)||t.state.data!==void 0&&Uw(t,e,e.refetchOnMount)}function Uw(t,e,r){if(Ns(e.enabled,t)!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&v_(t,e)}return!1}function N3(t,e,r,n){return(t!==e||Ns(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&v_(t,r)}function v_(t,e){return Ns(e.enabled,t)!==!1&&t.isStaleByTime(Lu(e.staleTime,t))}function bW(t,e){return!Mg(t.getCurrentResult(),e)}var $o,Vo,ci,Va,to,W0,zw,JA,_W=(JA=class extends qd{constructor(r,n){super();re(this,to);re(this,$o);re(this,Vo);re(this,ci);re(this,Va);ne(this,$o,r),this.setOptions(n),this.bindMethods(),ce(this,to,W0).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const n=this.options;this.options=k(this,$o).defaultMutationOptions(r),Mg(this.options,n)||k(this,$o).getMutationCache().notify({type:"observerOptionsUpdated",mutation:k(this,ci),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&jc(n.mutationKey)!==jc(this.options.mutationKey)?this.reset():((i=k(this,ci))==null?void 0:i.state.status)==="pending"&&k(this,ci).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=k(this,ci))==null||r.removeObserver(this)}onMutationUpdate(r){ce(this,to,W0).call(this),ce(this,to,zw).call(this,r)}getCurrentResult(){return k(this,Vo)}reset(){var r;(r=k(this,ci))==null||r.removeObserver(this),ne(this,ci,void 0),ce(this,to,W0).call(this),ce(this,to,zw).call(this)}mutate(r,n){var i;return ne(this,Va,n),(i=k(this,ci))==null||i.removeObserver(this),ne(this,ci,k(this,$o).getMutationCache().build(k(this,$o),this.options)),k(this,ci).addObserver(this),k(this,ci).execute(r)}},$o=new WeakMap,Vo=new WeakMap,ci=new WeakMap,Va=new WeakMap,to=new WeakSet,W0=function(){var n;const r=((n=k(this,ci))==null?void 0:n.state)??y6();ne(this,Vo,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},zw=function(r){Gr.batch(()=>{var n,i,s,a,l,c,d,h;if(k(this,Va)&&this.hasListeners()){const f=k(this,Vo).variables,m=k(this,Vo).context;(r==null?void 0:r.type)==="success"?((i=(n=k(this,Va)).onSuccess)==null||i.call(n,r.data,f,m),(a=(s=k(this,Va)).onSettled)==null||a.call(s,r.data,null,f,m)):(r==null?void 0:r.type)==="error"&&((c=(l=k(this,Va)).onError)==null||c.call(l,r.error,f,m),(h=(d=k(this,Va)).onSettled)==null||h.call(d,void 0,r.error,f,m))}this.listeners.forEach(f=>{f(k(this,Vo))})})},JA),b6=b.createContext(void 0),Rn=t=>{const e=b.useContext(b6);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},NW=({client:t,children:e})=>(b.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),o.jsx(b6.Provider,{value:t,children:e})),_6=b.createContext(!1),CW=()=>b.useContext(_6);_6.Provider;function SW(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var EW=b.createContext(SW()),AW=()=>b.useContext(EW);function N6(t,e){return typeof t=="function"?t(...e):!!t}function $w(){}var kW=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},jW=t=>{b.useEffect(()=>{t.clearReset()},[t])},PW=({result:t,errorResetBoundary:e,throwOnError:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&N6(r,[t.error,n]),TW=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},IW=(t,e)=>t.isLoading&&t.isFetching&&!e,DW=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,C3=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function OW(t,e,r){var h,f,m,g,y;const n=Rn(),i=CW(),s=AW(),a=n.defaultQueryOptions(t);(f=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||f.call(h,a),a._optimisticResults=i?"isRestoring":"optimistic",TW(a),kW(a,s),jW(s);const l=!n.getQueryCache().get(a.queryHash),[c]=b.useState(()=>new e(n,a)),d=c.getOptimisticResult(a);if(b.useSyncExternalStore(b.useCallback(x=>{const N=i?$w:c.subscribe(Gr.batchCalls(x));return c.updateResult(),N},[c,i]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),b.useEffect(()=>{c.setOptions(a,{listeners:!1})},[a,c]),DW(a,d))throw C3(a,c,s);if(PW({result:d,errorResetBoundary:s,throwOnError:a.throwOnError,query:n.getQueryCache().get(a.queryHash)}))throw d.error;if((g=(m=n.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||g.call(m,a,d),a.experimental_prefetchInRender&&!kc&&IW(d,i)){const x=l?C3(a,c,s):(y=n.getQueryCache().get(a.queryHash))==null?void 0:y.promise;x==null||x.catch($w).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?d:c.trackResult(d)}function Rt(t,e){return OW(t,yW)}function Ut(t,e){const r=Rn(),[n]=b.useState(()=>new _W(r,t));b.useEffect(()=>{n.setOptions(t)},[n,t]);const i=b.useSyncExternalStore(b.useCallback(a=>n.subscribe(Gr.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=b.useCallback((a,l)=>{n.mutate(a,l).catch($w)},[n]);if(i.error&&N6(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}/*! Capacitor: https://capacitorjs.com/ - MIT License */var Dd;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(Dd||(Dd={}));class $x extends Error{constructor(e,r,n){super(e),this.message=e,this.code=r,this.data=n}}const MW=t=>{var e,r;return t!=null&&t.androidBridge?"android":!((r=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||r===void 0)&&r.bridge?"ios":"web"},RW=t=>{const e=t.CapacitorCustomPlatform||null,r=t.Capacitor||{},n=r.Plugins=r.Plugins||{},i=()=>e!==null?e.name:MW(t),s=()=>i()!=="web",a=f=>{const m=d.get(f);return!!(m!=null&&m.platforms.has(i())||l(f))},l=f=>{var m;return(m=r.PluginHeaders)===null||m===void 0?void 0:m.find(g=>g.name===f)},c=f=>t.console.error(f),d=new Map,h=(f,m={})=>{const g=d.get(f);if(g)return console.warn(`Capacitor plugin "${f}" already registered. Cannot register plugins twice.`),g.proxy;const y=i(),x=l(f);let N;const _=async()=>(!N&&y in m?N=typeof m[y]=="function"?N=await m[y]():N=m[y]:e!==null&&!N&&"web"in m&&(N=typeof m.web=="function"?N=await m.web():N=m.web),N),w=(O,B)=>{var P,V;if(x){const F=x==null?void 0:x.methods.find(q=>B===q.name);if(F)return F.rtype==="promise"?q=>r.nativePromise(f,B.toString(),q):(q,H)=>r.nativeCallback(f,B.toString(),q,H);if(O)return(P=O[B])===null||P===void 0?void 0:P.bind(O)}else{if(O)return(V=O[B])===null||V===void 0?void 0:V.bind(O);throw new $x(`"${f}" plugin is not implemented on ${y}`,Dd.Unimplemented)}},S=O=>{let B;const P=(...V)=>{const F=_().then(q=>{const H=w(q,O);if(H){const le=H(...V);return B=le==null?void 0:le.remove,le}else throw new $x(`"${f}.${O}()" is not implemented on ${y}`,Dd.Unimplemented)});return O==="addListener"&&(F.remove=async()=>B()),F};return P.toString=()=>`${O.toString()}() { [capacitor code] }`,Object.defineProperty(P,"name",{value:O,writable:!1,configurable:!1}),P},E=S("addListener"),j=S("removeListener"),D=(O,B)=>{const P=E({eventName:O},B),V=async()=>{const q=await P;j({eventName:O,callbackId:q},B)},F=new Promise(q=>P.then(()=>q({remove:V})));return F.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await V()},F},T=new Proxy({},{get(O,B){switch(B){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return x?D:E;case"removeListener":return j;default:return S(B)}}});return n[f]=T,d.set(f,{name:f,proxy:T,platforms:new Set([...Object.keys(m),...x?[y]:[]])}),T};return r.convertFileSrc||(r.convertFileSrc=f=>f),r.getPlatform=i,r.handleError=c,r.isNativePlatform=s,r.isPluginAvailable=a,r.registerPlugin=h,r.Exception=$x,r.DEBUG=!!r.DEBUG,r.isLoggingEnabled=!!r.isLoggingEnabled,r},FW=t=>t.Capacitor=RW(t),Qn=FW(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),rv=Qn.registerPlugin;class C6{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,r){let n=!1;this.listeners[e]||(this.listeners[e]=[],n=!0),this.listeners[e].push(r);const s=this.windowListeners[e];s&&!s.registered&&this.addWindowListener(s),n&&this.sendRetainedArgumentsForEvent(e);const a=async()=>this.removeListener(e,r);return Promise.resolve({remove:a})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,r,n){const i=this.listeners[e];if(!i){if(n){let s=this.retainedEventArguments[e];s||(s=[]),s.push(r),this.retainedEventArguments[e]=s}return}i.forEach(s=>s(r))}hasListeners(e){var r;return!!(!((r=this.listeners[e])===null||r===void 0)&&r.length)}registerWindowListener(e,r){this.windowListeners[r]={registered:!1,windowEventName:e,pluginEventName:r,handler:n=>{this.notifyListeners(r,n)}}}unimplemented(e="not implemented"){return new Qn.Exception(e,Dd.Unimplemented)}unavailable(e="not available"){return new Qn.Exception(e,Dd.Unavailable)}async removeListener(e,r){const n=this.listeners[e];if(!n)return;const i=n.indexOf(r);this.listeners[e].splice(i,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const r=this.retainedEventArguments[e];r&&(delete this.retainedEventArguments[e],r.forEach(n=>{this.notifyListeners(e,n)}))}}const S3=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),E3=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class LW extends C6{async getCookies(){const e=document.cookie,r={};return e.split(";").forEach(n=>{if(n.length<=0)return;let[i,s]=n.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");i=E3(i).trim(),s=E3(s).trim(),r[i]=s}),r}async setCookie(e){try{const r=S3(e.key),n=S3(e.value),i=`; expires=${(e.expires||"").replace("expires=","")}`,s=(e.path||"/").replace("path=",""),a=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${r}=${n||""}${i}; path=${s}; ${a};`}catch(r){return Promise.reject(r)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(r){return Promise.reject(r)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const r of e)document.cookie=r.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}rv("CapacitorCookies",{web:()=>new LW});const BW=async t=>new Promise((e,r)=>{const n=new FileReader;n.onload=()=>{const i=n.result;e(i.indexOf(",")>=0?i.split(",")[1]:i)},n.onerror=i=>r(i),n.readAsDataURL(t)}),UW=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(i=>i.toLocaleLowerCase()).reduce((i,s,a)=>(i[s]=t[e[a]],i),{})},zW=(t,e=!0)=>t?Object.entries(t).reduce((n,i)=>{const[s,a]=i;let l,c;return Array.isArray(a)?(c="",a.forEach(d=>{l=e?encodeURIComponent(d):d,c+=`${s}=${l}&`}),c.slice(0,-1)):(l=e?encodeURIComponent(a):a,c=`${s}=${l}`),`${n}&${c}`},"").substr(1):null,$W=(t,e={})=>{const r=Object.assign({method:t.method||"GET",headers:t.headers},e),i=UW(t.headers)["content-type"]||"";if(typeof t.data=="string")r.body=t.data;else if(i.includes("application/x-www-form-urlencoded")){const s=new URLSearchParams;for(const[a,l]of Object.entries(t.data||{}))s.set(a,l);r.body=s.toString()}else if(i.includes("multipart/form-data")||t.data instanceof FormData){const s=new FormData;if(t.data instanceof FormData)t.data.forEach((l,c)=>{s.append(c,l)});else for(const l of Object.keys(t.data))s.append(l,t.data[l]);r.body=s;const a=new Headers(r.headers);a.delete("content-type"),r.headers=a}else(i.includes("application/json")||typeof t.data=="object")&&(r.body=JSON.stringify(t.data));return r};class VW extends C6{async request(e){const r=$W(e,e.webFetchExtra),n=zW(e.params,e.shouldEncodeUrlParams),i=n?`${e.url}?${n}`:e.url,s=await fetch(i,r),a=s.headers.get("content-type")||"";let{responseType:l="text"}=s.ok?e:{};a.includes("application/json")&&(l="json");let c,d;switch(l){case"arraybuffer":case"blob":d=await s.blob(),c=await BW(d);break;case"json":c=await s.json();break;case"document":case"text":default:c=await s.text()}const h={};return s.headers.forEach((f,m)=>{h[m]=f}),{data:c,headers:h,status:s.status,url:s.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}rv("CapacitorHttp",{web:()=>new VW});async function S6(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}async function dt(t,e,r){const i=(c=>{if(c.startsWith("/")){const d="http://127.0.0.1:5000";return Qn.isNativePlatform()?`${d}${c}`:`${typeof window<"u"?window.location.origin:""}${c}`}return c})(e),s=localStorage.getItem("auth-token"),a={};r&&(a["Content-Type"]="application/json"),s&&(a.Authorization=`Bearer ${s}`);const l=await fetch(i,{method:t,headers:a,body:r?JSON.stringify(r):void 0,credentials:"include"});return await S6(l),l}const WW=({on401:t})=>async({queryKey:e})=>{const r=c=>{if(c.startsWith("/")){const d="http://127.0.0.1:5000";return Qn.isNativePlatform()?`${d}${c}`:`${typeof window<"u"?window.location.origin:""}${c}`}return c},n=localStorage.getItem("auth-token"),i={};n&&(i.Authorization=`Bearer ${n}`);let s=e[0];if(e.length>1&&typeof e[1]=="object"&&e[1]!==null){const c=new URLSearchParams,d=e[1];Object.entries(d).forEach(([f,m])=>{m!=null&&m!==""&&c.append(f,String(m))});const h=c.toString();h&&(s+=`?${h}`)}const a=r(s),l=await fetch(a,{headers:i,credentials:"include"});return t==="returnNull"&&l.status===401?null:(await S6(l),await l.json())},Vw=new xW({defaultOptions:{queries:{queryFn:WW({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),HW=1,GW=5e3;let Vx=0;function qW(){return Vx=(Vx+1)%Number.MAX_SAFE_INTEGER,Vx.toString()}const Wx=new Map,A3=t=>{if(Wx.has(t))return;const e=setTimeout(()=>{Wx.delete(t),xf({type:"REMOVE_TOAST",toastId:t})},GW);Wx.set(t,e)},ZW=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,HW)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?A3(r):t.toasts.forEach(n=>{A3(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},H0=[];let G0={toasts:[]};function xf(t){G0=ZW(G0,t),H0.forEach(e=>{e(G0)})}function KW({...t}){const e=qW(),r=i=>xf({type:"UPDATE_TOAST",toast:{...i,id:e}}),n=()=>xf({type:"DISMISS_TOAST",toastId:e});return xf({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||n()}}}),{id:e,dismiss:n,update:r}}function xi(){const[t,e]=b.useState(G0);return b.useEffect(()=>(H0.push(e),()=>{const r=H0.indexOf(e);r>-1&&H0.splice(r,1)}),[t]),{...t,toast:KW,dismiss:r=>xf({type:"DISMISS_TOAST",toastId:r})}}function xe(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function k3(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function nv(...t){return e=>{let r=!1;const n=t.map(i=>{const s=k3(i,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():k3(t[i],null)}}}}function lt(...t){return b.useCallback(nv(...t),t)}function YW(t,e){const r=b.createContext(e),n=s=>{const{children:a,...l}=s,c=b.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:a})};n.displayName=t+"Provider";function i(s){const a=b.useContext(r);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[n,i]}function hn(t,e=[]){let r=[];function n(s,a){const l=b.createContext(a),c=r.length;r=[...r,a];const d=f=>{var _;const{scope:m,children:g,...y}=f,x=((_=m==null?void 0:m[t])==null?void 0:_[c])||l,N=b.useMemo(()=>y,Object.values(y));return o.jsx(x.Provider,{value:N,children:g})};d.displayName=s+"Provider";function h(f,m){var x;const g=((x=m==null?void 0:m[t])==null?void 0:x[c])||l,y=b.useContext(g);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[d,h]}const i=()=>{const s=r.map(a=>b.createContext(a));return function(l){const c=(l==null?void 0:l[t])||s;return b.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[n,XW(i,...e)]}function XW(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=n.reduce((l,{useScope:c,scopeName:d})=>{const f=c(s)[`__scope${d}`];return{...l,...f}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return r.scopeName=e.scopeName,r}function Pc(t){const e=QW(t),r=b.forwardRef((n,i)=>{const{children:s,...a}=n,l=b.Children.toArray(s),c=l.find(JW);if(c){const d=c.props.children,h=l.map(f=>f===c?b.Children.count(d)>1?b.Children.only(null):b.isValidElement(d)?d.props.children:null:f);return o.jsx(e,{...a,ref:i,children:b.isValidElement(d)?b.cloneElement(d,void 0,h):null})}return o.jsx(e,{...a,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}var E6=Pc("Slot");function QW(t){const e=b.forwardRef((r,n)=>{const{children:i,...s}=r;if(b.isValidElement(i)){const a=tH(i),l=eH(s,i.props);return i.type!==b.Fragment&&(l.ref=n?nv(n,a):a),b.cloneElement(i,l)}return b.Children.count(i)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var A6=Symbol("radix.slottable");function k6(t){const e=({children:r})=>o.jsx(o.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=A6,e}function JW(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===A6}function eH(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{s(...l),i(...l)}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function tH(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function qp(t){const e=t+"CollectionProvider",[r,n]=hn(e),[i,s]=r(e,{collectionRef:{current:null},itemMap:new Map}),a=x=>{const{scope:N,children:_}=x,w=nt.useRef(null),S=nt.useRef(new Map).current;return o.jsx(i,{scope:N,itemMap:S,collectionRef:w,children:_})};a.displayName=e;const l=t+"CollectionSlot",c=Pc(l),d=nt.forwardRef((x,N)=>{const{scope:_,children:w}=x,S=s(l,_),E=lt(N,S.collectionRef);return o.jsx(c,{ref:E,children:w})});d.displayName=l;const h=t+"CollectionItemSlot",f="data-radix-collection-item",m=Pc(h),g=nt.forwardRef((x,N)=>{const{scope:_,children:w,...S}=x,E=nt.useRef(null),j=lt(N,E),D=s(h,_);return nt.useEffect(()=>(D.itemMap.set(E,{ref:E,...S}),()=>void D.itemMap.delete(E))),o.jsx(m,{[f]:"",ref:j,children:w})});g.displayName=h;function y(x){const N=s(t+"CollectionConsumer",x);return nt.useCallback(()=>{const w=N.collectionRef.current;if(!w)return[];const S=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(N.itemMap.values()).sort((D,T)=>S.indexOf(D.ref.current)-S.indexOf(T.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:a,Slot:d,ItemSlot:g},y,n]}var rH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Fe=rH.reduce((t,e)=>{const r=Pc(`Primitive.${e}`),n=b.forwardRef((i,s)=>{const{asChild:a,...l}=i,c=a?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function x_(t,e){t&&$c.flushSync(()=>t.dispatchEvent(e))}function Cn(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function nH(t,e=globalThis==null?void 0:globalThis.document){const r=Cn(t);b.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var iH="DismissableLayer",Ww="dismissableLayer.update",sH="dismissableLayer.pointerDownOutside",aH="dismissableLayer.focusOutside",j3,j6=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Zd=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:l,...c}=t,d=b.useContext(j6),[h,f]=b.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=b.useState({}),y=lt(e,T=>f(T)),x=Array.from(d.layers),[N]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),_=x.indexOf(N),w=h?x.indexOf(h):-1,S=d.layersWithOutsidePointerEventsDisabled.size>0,E=w>=_,j=lH(T=>{const O=T.target,B=[...d.branches].some(P=>P.contains(O));!E||B||(i==null||i(T),a==null||a(T),T.defaultPrevented||l==null||l())},m),D=cH(T=>{const O=T.target;[...d.branches].some(P=>P.contains(O))||(s==null||s(T),a==null||a(T),T.defaultPrevented||l==null||l())},m);return nH(T=>{w===d.layers.size-1&&(n==null||n(T),!T.defaultPrevented&&l&&(T.preventDefault(),l()))},m),b.useEffect(()=>{if(h)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(j3=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),P3(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=j3)}},[h,m,r,d]),b.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),P3())},[h,d]),b.useEffect(()=>{const T=()=>g({});return document.addEventListener(Ww,T),()=>document.removeEventListener(Ww,T)},[]),o.jsx(Fe.div,{...c,ref:y,style:{pointerEvents:S?E?"auto":"none":void 0,...t.style},onFocusCapture:xe(t.onFocusCapture,D.onFocusCapture),onBlurCapture:xe(t.onBlurCapture,D.onBlurCapture),onPointerDownCapture:xe(t.onPointerDownCapture,j.onPointerDownCapture)})});Zd.displayName=iH;var oH="DismissableLayerBranch",P6=b.forwardRef((t,e)=>{const r=b.useContext(j6),n=b.useRef(null),i=lt(e,n);return b.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),o.jsx(Fe.div,{...t,ref:i})});P6.displayName=oH;function lH(t,e=globalThis==null?void 0:globalThis.document){const r=Cn(t),n=b.useRef(!1),i=b.useRef(()=>{});return b.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){T6(sH,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);n.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function cH(t,e=globalThis==null?void 0:globalThis.document){const r=Cn(t),n=b.useRef(!1);return b.useEffect(()=>{const i=s=>{s.target&&!n.current&&T6(aH,r,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function P3(){const t=new CustomEvent(Ww);document.dispatchEvent(t)}function T6(t,e,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?x_(i,s):i.dispatchEvent(s)}var uH=Zd,dH=P6,en=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},hH="Portal",Zp=b.forwardRef((t,e)=>{var l;const{container:r,...n}=t,[i,s]=b.useState(!1);en(()=>s(!0),[]);const a=r||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?AV.createPortal(o.jsx(Fe.div,{...n,ref:e}),a):null});Zp.displayName=hH;function fH(t,e){return b.useReducer((r,n)=>e[r][n]??r,t)}var Di=t=>{const{present:e,children:r}=t,n=pH(e),i=typeof r=="function"?r({present:n.isPresent}):b.Children.only(r),s=lt(n.ref,mH(i));return typeof r=="function"||n.isPresent?b.cloneElement(i,{ref:s}):null};Di.displayName="Presence";function pH(t){const[e,r]=b.useState(),n=b.useRef({}),i=b.useRef(t),s=b.useRef("none"),a=t?"mounted":"unmounted",[l,c]=fH(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const d=s0(n.current);s.current=l==="mounted"?d:"none"},[l]),en(()=>{const d=n.current,h=i.current;if(h!==t){const m=s.current,g=s0(d);t?c("MOUNT"):g==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(h&&m!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),en(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,f=g=>{const x=s0(n.current).includes(g.animationName);if(g.target===e&&x&&(c("ANIMATION_END"),!i.current)){const N=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=N)})}},m=g=>{g.target===e&&(s.current=s0(n.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:b.useCallback(d=>{d&&(n.current=getComputedStyle(d)),r(d)},[])}}function s0(t){return(t==null?void 0:t.animationName)||"none"}function mH(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function ts({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,i]=gH({defaultProp:e,onChange:r}),s=t!==void 0,a=s?t:n,l=Cn(r),c=b.useCallback(d=>{if(s){const f=typeof d=="function"?d(t):d;f!==t&&l(f)}else i(d)},[s,t,i,l]);return[a,c]}function gH({defaultProp:t,onChange:e}){const r=b.useState(t),[n]=r,i=b.useRef(n),s=Cn(e);return b.useEffect(()=>{i.current!==n&&(s(n),i.current=n)},[n,i,s]),r}var vH="VisuallyHidden",Kp=b.forwardRef((t,e)=>o.jsx(Fe.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Kp.displayName=vH;var xH=Kp,y_="ToastProvider",[w_,yH,wH]=qp("Toast"),[I6,p0e]=hn("Toast",[wH]),[bH,iv]=I6(y_),D6=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:a}=t,[l,c]=b.useState(null),[d,h]=b.useState(0),f=b.useRef(!1),m=b.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${y_}\`. Expected non-empty \`string\`.`),o.jsx(w_.Provider,{scope:e,children:o.jsx(bH,{scope:e,label:r,duration:n,swipeDirection:i,swipeThreshold:s,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:b.useCallback(()=>h(g=>g+1),[]),onToastRemove:b.useCallback(()=>h(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:a})})};D6.displayName=y_;var O6="ToastViewport",_H=["F8"],Hw="toast.viewportPause",Gw="toast.viewportResume",M6=b.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=_H,label:i="Notifications ({hotkey})",...s}=t,a=iv(O6,r),l=yH(r),c=b.useRef(null),d=b.useRef(null),h=b.useRef(null),f=b.useRef(null),m=lt(e,f,a.onViewportChange),g=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=a.toastCount>0;b.useEffect(()=>{const N=_=>{var S;n.length!==0&&n.every(E=>_[E]||_.code===E)&&((S=f.current)==null||S.focus())};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[n]),b.useEffect(()=>{const N=c.current,_=f.current;if(y&&N&&_){const w=()=>{if(!a.isClosePausedRef.current){const D=new CustomEvent(Hw);_.dispatchEvent(D),a.isClosePausedRef.current=!0}},S=()=>{if(a.isClosePausedRef.current){const D=new CustomEvent(Gw);_.dispatchEvent(D),a.isClosePausedRef.current=!1}},E=D=>{!N.contains(D.relatedTarget)&&S()},j=()=>{N.contains(document.activeElement)||S()};return N.addEventListener("focusin",w),N.addEventListener("focusout",E),N.addEventListener("pointermove",w),N.addEventListener("pointerleave",j),window.addEventListener("blur",w),window.addEventListener("focus",S),()=>{N.removeEventListener("focusin",w),N.removeEventListener("focusout",E),N.removeEventListener("pointermove",w),N.removeEventListener("pointerleave",j),window.removeEventListener("blur",w),window.removeEventListener("focus",S)}}},[y,a.isClosePausedRef]);const x=b.useCallback(({tabbingDirection:N})=>{const w=l().map(S=>{const E=S.ref.current,j=[E,...MH(E)];return N==="forwards"?j:j.reverse()});return(N==="forwards"?w.reverse():w).flat()},[l]);return b.useEffect(()=>{const N=f.current;if(N){const _=w=>{var j,D,T;const S=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!S){const O=document.activeElement,B=w.shiftKey;if(w.target===N&&B){(j=d.current)==null||j.focus();return}const F=x({tabbingDirection:B?"backwards":"forwards"}),q=F.findIndex(H=>H===O);Hx(F.slice(q+1))?w.preventDefault():B?(D=d.current)==null||D.focus():(T=h.current)==null||T.focus()}};return N.addEventListener("keydown",_),()=>N.removeEventListener("keydown",_)}},[l,x]),o.jsxs(dH,{ref:c,role:"region","aria-label":i.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&o.jsx(qw,{ref:d,onFocusFromOutsideViewport:()=>{const N=x({tabbingDirection:"forwards"});Hx(N)}}),o.jsx(w_.Slot,{scope:r,children:o.jsx(Fe.ol,{tabIndex:-1,...s,ref:m})}),y&&o.jsx(qw,{ref:h,onFocusFromOutsideViewport:()=>{const N=x({tabbingDirection:"backwards"});Hx(N)}})]})});M6.displayName=O6;var R6="ToastFocusProxy",qw=b.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=t,s=iv(R6,r);return o.jsx(Kp,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:a=>{var d;const l=a.relatedTarget;!((d=s.viewport)!=null&&d.contains(l))&&n()}})});qw.displayName=R6;var sv="Toast",NH="toast.swipeStart",CH="toast.swipeMove",SH="toast.swipeCancel",EH="toast.swipeEnd",F6=b.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:s,...a}=t,[l=!0,c]=ts({prop:n,defaultProp:i,onChange:s});return o.jsx(Di,{present:r||l,children:o.jsx(jH,{open:l,...a,ref:e,onClose:()=>c(!1),onPause:Cn(t.onPause),onResume:Cn(t.onResume),onSwipeStart:xe(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:xe(t.onSwipeMove,d=>{const{x:h,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:xe(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:xe(t.onSwipeEnd,d=>{const{x:h,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});F6.displayName=sv;var[AH,kH]=I6(sv,{onClose(){}}),jH=b.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:s,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:g,...y}=t,x=iv(sv,r),[N,_]=b.useState(null),w=lt(e,H=>_(H)),S=b.useRef(null),E=b.useRef(null),j=i||x.duration,D=b.useRef(0),T=b.useRef(j),O=b.useRef(0),{onToastAdd:B,onToastRemove:P}=x,V=Cn(()=>{var le;(N==null?void 0:N.contains(document.activeElement))&&((le=x.viewport)==null||le.focus()),a()}),F=b.useCallback(H=>{!H||H===1/0||(window.clearTimeout(O.current),D.current=new Date().getTime(),O.current=window.setTimeout(V,H))},[V]);b.useEffect(()=>{const H=x.viewport;if(H){const le=()=>{F(T.current),d==null||d()},ae=()=>{const me=new Date().getTime()-D.current;T.current=T.current-me,window.clearTimeout(O.current),c==null||c()};return H.addEventListener(Hw,ae),H.addEventListener(Gw,le),()=>{H.removeEventListener(Hw,ae),H.removeEventListener(Gw,le)}}},[x.viewport,j,c,d,F]),b.useEffect(()=>{s&&!x.isClosePausedRef.current&&F(j)},[s,j,x.isClosePausedRef,F]),b.useEffect(()=>(B(),()=>P()),[B,P]);const q=b.useMemo(()=>N?W6(N):null,[N]);return x.viewport?o.jsxs(o.Fragment,{children:[q&&o.jsx(PH,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:q}),o.jsx(AH,{scope:r,onClose:V,children:$c.createPortal(o.jsx(w_.ItemSlot,{scope:r,children:o.jsx(uH,{asChild:!0,onEscapeKeyDown:xe(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||V(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(Fe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":x.swipeDirection,...y,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:xe(t.onKeyDown,H=>{H.key==="Escape"&&(l==null||l(H.nativeEvent),H.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,V()))}),onPointerDown:xe(t.onPointerDown,H=>{H.button===0&&(S.current={x:H.clientX,y:H.clientY})}),onPointerMove:xe(t.onPointerMove,H=>{if(!S.current)return;const le=H.clientX-S.current.x,ae=H.clientY-S.current.y,me=!!E.current,R=["left","right"].includes(x.swipeDirection),G=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,ee=R?G(0,le):0,ie=R?0:G(0,ae),Ee=H.pointerType==="touch"?10:2,Ke={x:ee,y:ie},Ue={originalEvent:H,delta:Ke};me?(E.current=Ke,a0(CH,f,Ue,{discrete:!1})):T3(Ke,x.swipeDirection,Ee)?(E.current=Ke,a0(NH,h,Ue,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(le)>Ee||Math.abs(ae)>Ee)&&(S.current=null)}),onPointerUp:xe(t.onPointerUp,H=>{const le=E.current,ae=H.target;if(ae.hasPointerCapture(H.pointerId)&&ae.releasePointerCapture(H.pointerId),E.current=null,S.current=null,le){const me=H.currentTarget,R={originalEvent:H,delta:le};T3(le,x.swipeDirection,x.swipeThreshold)?a0(EH,g,R,{discrete:!0}):a0(SH,m,R,{discrete:!0}),me.addEventListener("click",G=>G.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),PH=t=>{const{__scopeToast:e,children:r,...n}=t,i=iv(sv,e),[s,a]=b.useState(!1),[l,c]=b.useState(!1);return DH(()=>a(!0)),b.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:o.jsx(Zp,{asChild:!0,children:o.jsx(Kp,{...n,children:s&&o.jsxs(o.Fragment,{children:[i.label," ",r]})})})},TH="ToastTitle",L6=b.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return o.jsx(Fe.div,{...n,ref:e})});L6.displayName=TH;var IH="ToastDescription",B6=b.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return o.jsx(Fe.div,{...n,ref:e})});B6.displayName=IH;var U6="ToastAction",z6=b.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?o.jsx(V6,{altText:r,asChild:!0,children:o.jsx(b_,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${U6}\`. Expected non-empty \`string\`.`),null)});z6.displayName=U6;var $6="ToastClose",b_=b.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,i=kH($6,r);return o.jsx(V6,{asChild:!0,children:o.jsx(Fe.button,{type:"button",...n,ref:e,onClick:xe(t.onClick,i.onClose)})})});b_.displayName=$6;var V6=b.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...i}=t;return o.jsx(Fe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:e})});function W6(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),OH(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",s=n.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const a=n.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...W6(n))}}),e}function a0(t,e,r,{discrete:n}){const i=r.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?x_(i,s):i.dispatchEvent(s)}var T3=(t,e,r=0)=>{const n=Math.abs(t.x),i=Math.abs(t.y),s=n>i;return e==="left"||e==="right"?s&&n>r:!s&&i>r};function DH(t=()=>{}){const e=Cn(t);en(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function OH(t){return t.nodeType===t.ELEMENT_NODE}function MH(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Hx(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var RH=D6,H6=M6,G6=F6,q6=L6,Z6=B6,K6=z6,Y6=b_;function X6(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=X6(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Q6(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=X6(t))&&(n&&(n+=" "),n+=e);return n}const I3=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,D3=Q6,Kd=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return D3(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:s}=e,a=Object.keys(i).map(d=>{const h=r==null?void 0:r[d],f=s==null?void 0:s[d];if(h===null)return null;const m=I3(h)||I3(f);return i[d][m]}),l=r&&Object.entries(r).reduce((d,h)=>{let[f,m]=h;return m===void 0||(d[f]=m),d},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((d,h)=>{let{class:f,className:m,...g}=h;return Object.entries(g).every(y=>{let[x,N]=y;return Array.isArray(N)?N.includes({...s,...l}[x]):{...s,...l}[x]===N})?[...d,f,m]:d},[]);return D3(t,a,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FH=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),J6=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var LH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BH=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:a,...l},c)=>b.createElement("svg",{ref:c,...LH,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:J6("lucide",i),...l},[...a.map(([d,h])=>b.createElement(d,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=(t,e)=>{const r=b.forwardRef(({className:n,...i},s)=>b.createElement(BH,{ref:s,iconNode:e,className:J6(`lucide-${FH(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=ye("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=ye("Apple",[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=ye("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=ye("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=ye("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=ye("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=ye("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=ye("Bike",[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UH=ye("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=ye("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zH=ye("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $H=ye("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=ye("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=ye("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=ye("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=ye("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=ye("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yd=ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=ye("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yp=ye("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=ye("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=ye("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=ye("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VH=ye("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=ye("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=ye("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=ye("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=ye("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=ye("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=ye("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HH=ye("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GH=ye("Expand",[["path",{d:"m21 21-6-6m6 6v-4.8m0 4.8h-4.8",key:"1c15vz"}],["path",{d:"M3 16.2V21m0 0h4.8M3 21l6-6",key:"1fsnz2"}],["path",{d:"M21 7.8V3m0 0h-4.8M21 3l-6 6",key:"hawz9i"}],["path",{d:"M3 7.8V3m0 0h4.8M3 3l6 6",key:"u9ee12"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qH=ye("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=ye("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=ye("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=ye("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=ye("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=ye("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=ye("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=ye("Hand",[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=ye("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=ye("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=ye("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=ye("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=ye("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Su=ye("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=ye("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sI=ye("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=ye("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KH=ye("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YH=ye("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XH=ye("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QH=ye("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JH=ye("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=ye("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eG=ye("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=ye("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=ye("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=ye("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=ye("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aI=ye("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=ye("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tG=ye("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=ye("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=ye("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rG=ye("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=ye("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=ye("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=ye("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nG=ye("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=ye("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=ye("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oI=ye("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iG=ye("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sG=ye("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=ye("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=ye("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=ye("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=ye("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=ye("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=ye("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xd=ye("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=ye("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=ye("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=ye("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aG=ye("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),E_="-",oG=t=>{const e=cG(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:a=>{const l=a.split(E_);return l[0]===""&&l.length!==1&&l.shift(),uI(l,e)||lG(a)},getConflictingClassGroupIds:(a,l)=>{const c=r[a]||[];return l&&n[a]?[...c,...n[a]]:c}}},uI=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?uI(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(E_);return(a=e.validators.find(({validator:l})=>l(s)))==null?void 0:a.classGroupId},$3=/^\[(.+)\]$/,lG=t=>{if($3.test(t)){const e=$3.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},cG=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return dG(Object.entries(t.classGroups),r).forEach(([s,a])=>{Yw(a,n,s,e)}),n},Yw=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:V3(e,i);s.classGroupId=r;return}if(typeof i=="function"){if(uG(i)){Yw(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,a])=>{Yw(a,V3(e,s),r,n)})})},V3=(t,e)=>{let r=t;return e.split(E_).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},uG=t=>t.isThemeGetter,dG=(t,e)=>e?t.map(([r,n])=>{const i=n.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,l])=>[e+a,l])):s);return[r,i]}):t,hG=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(s,a)=>{r.set(s,a),e++,e>t&&(e=0,n=r,r=new Map)};return{get(s){let a=r.get(s);if(a!==void 0)return a;if((a=n.get(s))!==void 0)return i(s,a),a},set(s,a){r.has(s)?r.set(s,a):i(s,a)}}},dI="!",fG=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],s=e.length,a=l=>{const c=[];let d=0,h=0,f;for(let N=0;N<l.length;N++){let _=l[N];if(d===0){if(_===i&&(n||l.slice(N,N+s)===e)){c.push(l.slice(h,N)),h=N+s;continue}if(_==="/"){f=N;continue}}_==="["?d++:_==="]"&&d--}const m=c.length===0?l:l.substring(h),g=m.startsWith(dI),y=g?m.substring(1):m,x=f&&f>h?f-h:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:y,maybePostfixModifierPosition:x}};return r?l=>r({className:l,parseClassName:a}):a},pG=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},mG=t=>({cache:hG(t.cacheSize),parseClassName:fG(t),...oG(t)}),gG=/\s+/,vG=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,s=[],a=t.trim().split(gG);let l="";for(let c=a.length-1;c>=0;c-=1){const d=a[c],{modifiers:h,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:g}=r(d);let y=!!g,x=n(y?m.substring(0,g):m);if(!x){if(!y){l=d+(l.length>0?" "+l:l);continue}if(x=n(m),!x){l=d+(l.length>0?" "+l:l);continue}y=!1}const N=pG(h).join(":"),_=f?N+dI:N,w=_+x;if(s.includes(w))continue;s.push(w);const S=i(x,y);for(let E=0;E<S.length;++E){const j=S[E];s.push(_+j)}l=d+(l.length>0?" "+l:l)}return l};function xG(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=hI(e))&&(n&&(n+=" "),n+=r);return n}const hI=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=hI(t[n]))&&(r&&(r+=" "),r+=e);return r};function yG(t,...e){let r,n,i,s=a;function a(c){const d=e.reduce((h,f)=>f(h),t());return r=mG(d),n=r.cache.get,i=r.cache.set,s=l,l(c)}function l(c){const d=n(c);if(d)return d;const h=vG(c,r);return i(c,h),h}return function(){return s(xG.apply(null,arguments))}}const ar=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},fI=/^\[(?:([a-z-]+):)?(.+)\]$/i,wG=/^\d+\/\d+$/,bG=new Set(["px","full","screen"]),_G=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,NG=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,CG=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,SG=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,EG=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ma=t=>Bu(t)||bG.has(t)||wG.test(t),yo=t=>Qd(t,"length",OG),Bu=t=>!!t&&!Number.isNaN(Number(t)),qx=t=>Qd(t,"number",Bu),Ph=t=>!!t&&Number.isInteger(Number(t)),AG=t=>t.endsWith("%")&&Bu(t.slice(0,-1)),ut=t=>fI.test(t),wo=t=>_G.test(t),kG=new Set(["length","size","percentage"]),jG=t=>Qd(t,kG,pI),PG=t=>Qd(t,"position",pI),TG=new Set(["image","url"]),IG=t=>Qd(t,TG,RG),DG=t=>Qd(t,"",MG),Th=()=>!0,Qd=(t,e,r)=>{const n=fI.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},OG=t=>NG.test(t)&&!CG.test(t),pI=()=>!1,MG=t=>SG.test(t),RG=t=>EG.test(t),FG=()=>{const t=ar("colors"),e=ar("spacing"),r=ar("blur"),n=ar("brightness"),i=ar("borderColor"),s=ar("borderRadius"),a=ar("borderSpacing"),l=ar("borderWidth"),c=ar("contrast"),d=ar("grayscale"),h=ar("hueRotate"),f=ar("invert"),m=ar("gap"),g=ar("gradientColorStops"),y=ar("gradientColorStopPositions"),x=ar("inset"),N=ar("margin"),_=ar("opacity"),w=ar("padding"),S=ar("saturate"),E=ar("scale"),j=ar("sepia"),D=ar("skew"),T=ar("space"),O=ar("translate"),B=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto",ut,e],F=()=>[ut,e],q=()=>["",Ma,yo],H=()=>["auto",Bu,ut],le=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ae=()=>["solid","dashed","dotted","double","none"],me=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],G=()=>["","0",ut],ee=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ie=()=>[Bu,ut];return{cacheSize:500,separator:":",theme:{colors:[Th],spacing:[Ma,yo],blur:["none","",wo,ut],brightness:ie(),borderColor:[t],borderRadius:["none","","full",wo,ut],borderSpacing:F(),borderWidth:q(),contrast:ie(),grayscale:G(),hueRotate:ie(),invert:G(),gap:F(),gradientColorStops:[t],gradientColorStopPositions:[AG,yo],inset:V(),margin:V(),opacity:ie(),padding:F(),saturate:ie(),scale:ie(),sepia:G(),skew:ie(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",ut]}],container:["container"],columns:[{columns:[wo]}],"break-after":[{"break-after":ee()}],"break-before":[{"break-before":ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...le(),ut]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ph,ut]}],basis:[{basis:V()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ut]}],grow:[{grow:G()}],shrink:[{shrink:G()}],order:[{order:["first","last","none",Ph,ut]}],"grid-cols":[{"grid-cols":[Th]}],"col-start-end":[{col:["auto",{span:["full",Ph,ut]},ut]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[Th]}],"row-start-end":[{row:["auto",{span:[Ph,ut]},ut]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ut]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ut]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[N]}],mx:[{mx:[N]}],my:[{my:[N]}],ms:[{ms:[N]}],me:[{me:[N]}],mt:[{mt:[N]}],mr:[{mr:[N]}],mb:[{mb:[N]}],ml:[{ml:[N]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ut,e]}],"min-w":[{"min-w":[ut,e,"min","max","fit"]}],"max-w":[{"max-w":[ut,e,"none","full","min","max","fit","prose",{screen:[wo]},wo]}],h:[{h:[ut,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ut,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ut,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ut,e,"auto","min","max","fit"]}],"font-size":[{text:["base",wo,yo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",qx]}],"font-family":[{font:[Th]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ut]}],"line-clamp":[{"line-clamp":["none",Bu,qx]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ma,ut]}],"list-image":[{"list-image":["none",ut]}],"list-style-type":[{list:["none","disc","decimal",ut]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ae(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ma,yo]}],"underline-offset":[{"underline-offset":["auto",Ma,ut]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ut]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ut]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...le(),PG]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",jG]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},IG]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...ae(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:ae()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ae()]}],"outline-offset":[{"outline-offset":[Ma,ut]}],"outline-w":[{outline:[Ma,yo]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[Ma,yo]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",wo,DG]}],"shadow-color":[{shadow:[Th]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...me(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":me()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",wo,ut]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[S]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ut]}],duration:[{duration:ie()}],ease:[{ease:["linear","in","out","in-out",ut]}],delay:[{delay:ie()}],animate:[{animate:["none","spin","ping","pulse","bounce",ut]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[Ph,ut]}],"translate-x":[{"translate-x":[O]}],"translate-y":[{"translate-y":[O]}],"skew-x":[{"skew-x":[D]}],"skew-y":[{"skew-y":[D]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ut]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ut]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ut]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ma,yo,qx]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},LG=yG(FG);function be(...t){return LG(Q6(t))}const BG=RH,mI=b.forwardRef(({className:t,...e},r)=>o.jsx(H6,{ref:r,className:be("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));mI.displayName=H6.displayName;const UG=Kd("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),gI=b.forwardRef(({className:t,variant:e,...r},n)=>o.jsx(G6,{ref:n,className:be(UG({variant:e}),t),...r}));gI.displayName=G6.displayName;const zG=b.forwardRef(({className:t,...e},r)=>o.jsx(K6,{ref:r,className:be("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));zG.displayName=K6.displayName;const vI=b.forwardRef(({className:t,...e},r)=>o.jsx(Y6,{ref:r,className:be("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:o.jsx(Pi,{className:"h-4 w-4"})}));vI.displayName=Y6.displayName;const xI=b.forwardRef(({className:t,...e},r)=>o.jsx(q6,{ref:r,className:be("text-sm font-semibold",t),...e}));xI.displayName=q6.displayName;const yI=b.forwardRef(({className:t,...e},r)=>o.jsx(Z6,{ref:r,className:be("text-sm opacity-90",t),...e}));yI.displayName=Z6.displayName;function $G(){const{toasts:t}=xi();return o.jsxs(BG,{children:[t.map(function({id:e,title:r,description:n,action:i,...s}){return o.jsxs(gI,{...s,children:[o.jsxs("div",{className:"grid gap-1",children:[r&&o.jsx(xI,{children:r}),n&&o.jsx(yI,{children:n})]}),i,o.jsx(vI,{})]},e)}),o.jsx(mI,{})]})}var VG=YP[" useId ".trim().toString()]||(()=>{}),WG=0;function Os(t){const[e,r]=b.useState(VG());return en(()=>{r(n=>n??String(WG++))},[t]),e?`radix-${e}`:""}const HG=["top","right","bottom","left"],hl=Math.min,Ni=Math.max,Bg=Math.round,l0=Math.floor,wa=t=>({x:t,y:t}),GG={left:"right",right:"left",bottom:"top",top:"bottom"},qG={start:"end",end:"start"};function Xw(t,e,r){return Ni(t,hl(e,r))}function ao(t,e){return typeof t=="function"?t(e):t}function oo(t){return t.split("-")[0]}function Jd(t){return t.split("-")[1]}function A_(t){return t==="x"?"y":"x"}function k_(t){return t==="y"?"height":"width"}function fl(t){return["top","bottom"].includes(oo(t))?"y":"x"}function j_(t){return A_(fl(t))}function ZG(t,e,r){r===void 0&&(r=!1);const n=Jd(t),i=j_(t),s=k_(i);let a=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=Ug(a)),[a,Ug(a)]}function KG(t){const e=Ug(t);return[Qw(t),e,Qw(e)]}function Qw(t){return t.replace(/start|end/g,e=>qG[e])}function YG(t,e,r){const n=["left","right"],i=["right","left"],s=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return r?e?i:n:e?n:i;case"left":case"right":return e?s:a;default:return[]}}function XG(t,e,r,n){const i=Jd(t);let s=YG(oo(t),r==="start",n);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(Qw)))),s}function Ug(t){return t.replace(/left|right|bottom|top/g,e=>GG[e])}function QG(t){return{top:0,right:0,bottom:0,left:0,...t}}function wI(t){return typeof t!="number"?QG(t):{top:t,right:t,bottom:t,left:t}}function zg(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function W3(t,e,r){let{reference:n,floating:i}=t;const s=fl(e),a=j_(e),l=k_(a),c=oo(e),d=s==="y",h=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,m=n[l]/2-i[l]/2;let g;switch(c){case"top":g={x:h,y:n.y-i.height};break;case"bottom":g={x:h,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:f};break;case"left":g={x:n.x-i.width,y:f};break;default:g={x:n.x,y:n.y}}switch(Jd(e)){case"start":g[a]-=m*(r&&d?-1:1);break;case"end":g[a]+=m*(r&&d?-1:1);break}return g}const JG=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:a}=r,l=s.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let d=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:h,y:f}=W3(d,n,c),m=n,g={},y=0;for(let x=0;x<l.length;x++){const{name:N,fn:_}=l[x],{x:w,y:S,data:E,reset:j}=await _({x:h,y:f,initialPlacement:n,placement:m,strategy:i,middlewareData:g,rects:d,platform:a,elements:{reference:t,floating:e}});h=w??h,f=S??f,g={...g,[N]:{...g[N],...E}},j&&y<=50&&(y++,typeof j=="object"&&(j.placement&&(m=j.placement),j.rects&&(d=j.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):j.rects),{x:h,y:f}=W3(d,m,c)),x=-1)}return{x:h,y:f,placement:m,strategy:i,middlewareData:g}};async function Gf(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:s,rects:a,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:m=!1,padding:g=0}=ao(e,t),y=wI(g),N=l[m?f==="floating"?"reference":"floating":f],_=zg(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(N)))==null||r?N:N.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:c})),w=f==="floating"?{x:n,y:i,width:a.floating.width,height:a.floating.height}:a.reference,S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),E=await(s.isElement==null?void 0:s.isElement(S))?await(s.getScale==null?void 0:s.getScale(S))||{x:1,y:1}:{x:1,y:1},j=zg(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:S,strategy:c}):w);return{top:(_.top-j.top+y.top)/E.y,bottom:(j.bottom-_.bottom+y.bottom)/E.y,left:(_.left-j.left+y.left)/E.x,right:(j.right-_.right+y.right)/E.x}}const eq=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:s,platform:a,elements:l,middlewareData:c}=e,{element:d,padding:h=0}=ao(t,e)||{};if(d==null)return{};const f=wI(h),m={x:r,y:n},g=j_(i),y=k_(g),x=await a.getDimensions(d),N=g==="y",_=N?"top":"left",w=N?"bottom":"right",S=N?"clientHeight":"clientWidth",E=s.reference[y]+s.reference[g]-m[g]-s.floating[y],j=m[g]-s.reference[g],D=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let T=D?D[S]:0;(!T||!await(a.isElement==null?void 0:a.isElement(D)))&&(T=l.floating[S]||s.floating[y]);const O=E/2-j/2,B=T/2-x[y]/2-1,P=hl(f[_],B),V=hl(f[w],B),F=P,q=T-x[y]-V,H=T/2-x[y]/2+O,le=Xw(F,H,q),ae=!c.arrow&&Jd(i)!=null&&H!==le&&s.reference[y]/2-(H<F?P:V)-x[y]/2<0,me=ae?H<F?H-F:H-q:0;return{[g]:m[g]+me,data:{[g]:le,centerOffset:H-le-me,...ae&&{alignmentOffset:me}},reset:ae}}}),tq=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:s,rects:a,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:x=!0,...N}=ao(t,e);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const _=oo(i),w=fl(l),S=oo(l)===l,E=await(c.isRTL==null?void 0:c.isRTL(d.floating)),j=m||(S||!x?[Ug(l)]:KG(l)),D=y!=="none";!m&&D&&j.push(...XG(l,x,y,E));const T=[l,...j],O=await Gf(e,N),B=[];let P=((n=s.flip)==null?void 0:n.overflows)||[];if(h&&B.push(O[_]),f){const H=ZG(i,a,E);B.push(O[H[0]],O[H[1]])}if(P=[...P,{placement:i,overflows:B}],!B.every(H=>H<=0)){var V,F;const H=(((V=s.flip)==null?void 0:V.index)||0)+1,le=T[H];if(le)return{data:{index:H,overflows:P},reset:{placement:le}};let ae=(F=P.filter(me=>me.overflows[0]<=0).sort((me,R)=>me.overflows[1]-R.overflows[1])[0])==null?void 0:F.placement;if(!ae)switch(g){case"bestFit":{var q;const me=(q=P.filter(R=>{if(D){const G=fl(R.placement);return G===w||G==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(G=>G>0).reduce((G,ee)=>G+ee,0)]).sort((R,G)=>R[1]-G[1])[0])==null?void 0:q[0];me&&(ae=me);break}case"initialPlacement":ae=l;break}if(i!==ae)return{reset:{placement:ae}}}return{}}}};function H3(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function G3(t){return HG.some(e=>t[e]>=0)}const rq=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=ao(t,e);switch(n){case"referenceHidden":{const s=await Gf(e,{...i,elementContext:"reference"}),a=H3(s,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:G3(a)}}}case"escaped":{const s=await Gf(e,{...i,altBoundary:!0}),a=H3(s,r.floating);return{data:{escapedOffsets:a,escaped:G3(a)}}}default:return{}}}}};async function nq(t,e){const{placement:r,platform:n,elements:i}=t,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),a=oo(r),l=Jd(r),c=fl(r)==="y",d=["left","top"].includes(a)?-1:1,h=s&&c?-1:1,f=ao(e,t);let{mainAxis:m,crossAxis:g,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(g=l==="end"?y*-1:y),c?{x:g*h,y:m*d}:{x:m*d,y:g*h}}const iq=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:s,placement:a,middlewareData:l}=e,c=await nq(e,t);return a===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:a}}}}},sq=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:l={fn:N=>{let{x:_,y:w}=N;return{x:_,y:w}}},...c}=ao(t,e),d={x:r,y:n},h=await Gf(e,c),f=fl(oo(i)),m=A_(f);let g=d[m],y=d[f];if(s){const N=m==="y"?"top":"left",_=m==="y"?"bottom":"right",w=g+h[N],S=g-h[_];g=Xw(w,g,S)}if(a){const N=f==="y"?"top":"left",_=f==="y"?"bottom":"right",w=y+h[N],S=y-h[_];y=Xw(w,y,S)}const x=l.fn({...e,[m]:g,[f]:y});return{...x,data:{x:x.x-r,y:x.y-n,enabled:{[m]:s,[f]:a}}}}}},aq=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:s,middlewareData:a}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=ao(t,e),h={x:r,y:n},f=fl(i),m=A_(f);let g=h[m],y=h[f];const x=ao(l,e),N=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const S=m==="y"?"height":"width",E=s.reference[m]-s.floating[S]+N.mainAxis,j=s.reference[m]+s.reference[S]-N.mainAxis;g<E?g=E:g>j&&(g=j)}if(d){var _,w;const S=m==="y"?"width":"height",E=["top","left"].includes(oo(i)),j=s.reference[f]-s.floating[S]+(E&&((_=a.offset)==null?void 0:_[f])||0)+(E?0:N.crossAxis),D=s.reference[f]+s.reference[S]+(E?0:((w=a.offset)==null?void 0:w[f])||0)-(E?N.crossAxis:0);y<j?y=j:y>D&&(y=D)}return{[m]:g,[f]:y}}}},oq=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:s,platform:a,elements:l}=e,{apply:c=()=>{},...d}=ao(t,e),h=await Gf(e,d),f=oo(i),m=Jd(i),g=fl(i)==="y",{width:y,height:x}=s.floating;let N,_;f==="top"||f==="bottom"?(N=f,_=m===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(_=f,N=m==="end"?"top":"bottom");const w=x-h.top-h.bottom,S=y-h.left-h.right,E=hl(x-h[N],w),j=hl(y-h[_],S),D=!e.middlewareData.shift;let T=E,O=j;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(O=S),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(T=w),D&&!m){const P=Ni(h.left,0),V=Ni(h.right,0),F=Ni(h.top,0),q=Ni(h.bottom,0);g?O=y-2*(P!==0||V!==0?P+V:Ni(h.left,h.right)):T=x-2*(F!==0||q!==0?F+q:Ni(h.top,h.bottom))}await c({...e,availableWidth:O,availableHeight:T});const B=await a.getDimensions(l.floating);return y!==B.width||x!==B.height?{reset:{rects:!0}}:{}}}};function lv(){return typeof window<"u"}function eh(t){return bI(t)?(t.nodeName||"").toLowerCase():"#document"}function Ai(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ja(t){var e;return(e=(bI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function bI(t){return lv()?t instanceof Node||t instanceof Ai(t).Node:!1}function zs(t){return lv()?t instanceof Element||t instanceof Ai(t).Element:!1}function Ca(t){return lv()?t instanceof HTMLElement||t instanceof Ai(t).HTMLElement:!1}function q3(t){return!lv()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ai(t).ShadowRoot}function Xp(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=$s(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(i)}function lq(t){return["table","td","th"].includes(eh(t))}function cv(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function P_(t){const e=T_(),r=zs(t)?$s(t):t;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function cq(t){let e=pl(t);for(;Ca(e)&&!Od(e);){if(P_(e))return e;if(cv(e))return null;e=pl(e)}return null}function T_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Od(t){return["html","body","#document"].includes(eh(t))}function $s(t){return Ai(t).getComputedStyle(t)}function uv(t){return zs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function pl(t){if(eh(t)==="html")return t;const e=t.assignedSlot||t.parentNode||q3(t)&&t.host||ja(t);return q3(e)?e.host:e}function _I(t){const e=pl(t);return Od(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ca(e)&&Xp(e)?e:_I(e)}function qf(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=_I(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),a=Ai(i);if(s){const l=Jw(a);return e.concat(a,a.visualViewport||[],Xp(i)?i:[],l&&r?qf(l):[])}return e.concat(i,qf(i,[],r))}function Jw(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function NI(t){const e=$s(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=Ca(t),s=i?t.offsetWidth:r,a=i?t.offsetHeight:n,l=Bg(r)!==s||Bg(n)!==a;return l&&(r=s,n=a),{width:r,height:n,$:l}}function I_(t){return zs(t)?t:t.contextElement}function Uu(t){const e=I_(t);if(!Ca(e))return wa(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:s}=NI(e);let a=(s?Bg(r.width):r.width)/n,l=(s?Bg(r.height):r.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const uq=wa(0);function CI(t){const e=Ai(t);return!T_()||!e.visualViewport?uq:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function dq(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Ai(t)?!1:e}function Ic(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),s=I_(t);let a=wa(1);e&&(n?zs(n)&&(a=Uu(n)):a=Uu(t));const l=dq(s,r,n)?CI(s):wa(0);let c=(i.left+l.x)/a.x,d=(i.top+l.y)/a.y,h=i.width/a.x,f=i.height/a.y;if(s){const m=Ai(s),g=n&&zs(n)?Ai(n):n;let y=m,x=Jw(y);for(;x&&n&&g!==y;){const N=Uu(x),_=x.getBoundingClientRect(),w=$s(x),S=_.left+(x.clientLeft+parseFloat(w.paddingLeft))*N.x,E=_.top+(x.clientTop+parseFloat(w.paddingTop))*N.y;c*=N.x,d*=N.y,h*=N.x,f*=N.y,c+=S,d+=E,y=Ai(x),x=Jw(y)}}return zg({width:h,height:f,x:c,y:d})}function D_(t,e){const r=uv(t).scrollLeft;return e?e.left+r:Ic(ja(t)).left+r}function SI(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-(r?0:D_(t,n)),s=n.top+e.scrollTop;return{x:i,y:s}}function hq(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const s=i==="fixed",a=ja(n),l=e?cv(e.floating):!1;if(n===a||l&&s)return r;let c={scrollLeft:0,scrollTop:0},d=wa(1);const h=wa(0),f=Ca(n);if((f||!f&&!s)&&((eh(n)!=="body"||Xp(a))&&(c=uv(n)),Ca(n))){const g=Ic(n);d=Uu(n),h.x=g.x+n.clientLeft,h.y=g.y+n.clientTop}const m=a&&!f&&!s?SI(a,c,!0):wa(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+h.x+m.x,y:r.y*d.y-c.scrollTop*d.y+h.y+m.y}}function fq(t){return Array.from(t.getClientRects())}function pq(t){const e=ja(t),r=uv(t),n=t.ownerDocument.body,i=Ni(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=Ni(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+D_(t);const l=-r.scrollTop;return $s(n).direction==="rtl"&&(a+=Ni(e.clientWidth,n.clientWidth)-i),{width:i,height:s,x:a,y:l}}function mq(t,e){const r=Ai(t),n=ja(t),i=r.visualViewport;let s=n.clientWidth,a=n.clientHeight,l=0,c=0;if(i){s=i.width,a=i.height;const d=T_();(!d||d&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:s,height:a,x:l,y:c}}function gq(t,e){const r=Ic(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,s=Ca(t)?Uu(t):wa(1),a=t.clientWidth*s.x,l=t.clientHeight*s.y,c=i*s.x,d=n*s.y;return{width:a,height:l,x:c,y:d}}function Z3(t,e,r){let n;if(e==="viewport")n=mq(t,r);else if(e==="document")n=pq(ja(t));else if(zs(e))n=gq(e,r);else{const i=CI(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return zg(n)}function EI(t,e){const r=pl(t);return r===e||!zs(r)||Od(r)?!1:$s(r).position==="fixed"||EI(r,e)}function vq(t,e){const r=e.get(t);if(r)return r;let n=qf(t,[],!1).filter(l=>zs(l)&&eh(l)!=="body"),i=null;const s=$s(t).position==="fixed";let a=s?pl(t):t;for(;zs(a)&&!Od(a);){const l=$s(a),c=P_(a);!c&&l.position==="fixed"&&(i=null),(s?!c&&!i:!c&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Xp(a)&&!c&&EI(t,a))?n=n.filter(h=>h!==a):i=l,a=pl(a)}return e.set(t,n),n}function xq(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const a=[...r==="clippingAncestors"?cv(e)?[]:vq(e,this._c):[].concat(r),n],l=a[0],c=a.reduce((d,h)=>{const f=Z3(e,h,i);return d.top=Ni(f.top,d.top),d.right=hl(f.right,d.right),d.bottom=hl(f.bottom,d.bottom),d.left=Ni(f.left,d.left),d},Z3(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function yq(t){const{width:e,height:r}=NI(t);return{width:e,height:r}}function wq(t,e,r){const n=Ca(e),i=ja(e),s=r==="fixed",a=Ic(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const c=wa(0);if(n||!n&&!s)if((eh(e)!=="body"||Xp(i))&&(l=uv(e)),n){const m=Ic(e,!0,s,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else i&&(c.x=D_(i));const d=i&&!n&&!s?SI(i,l):wa(0),h=a.left+l.scrollLeft-c.x-d.x,f=a.top+l.scrollTop-c.y-d.y;return{x:h,y:f,width:a.width,height:a.height}}function Zx(t){return $s(t).position==="static"}function K3(t,e){if(!Ca(t)||$s(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return ja(t)===r&&(r=r.ownerDocument.body),r}function AI(t,e){const r=Ai(t);if(cv(t))return r;if(!Ca(t)){let i=pl(t);for(;i&&!Od(i);){if(zs(i)&&!Zx(i))return i;i=pl(i)}return r}let n=K3(t,e);for(;n&&lq(n)&&Zx(n);)n=K3(n,e);return n&&Od(n)&&Zx(n)&&!P_(n)?r:n||cq(t)||r}const bq=async function(t){const e=this.getOffsetParent||AI,r=this.getDimensions,n=await r(t.floating);return{reference:wq(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function _q(t){return $s(t).direction==="rtl"}const Nq={convertOffsetParentRelativeRectToViewportRelativeRect:hq,getDocumentElement:ja,getClippingRect:xq,getOffsetParent:AI,getElementRects:bq,getClientRects:fq,getDimensions:yq,getScale:Uu,isElement:zs,isRTL:_q};function kI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Cq(t,e){let r=null,n;const i=ja(t);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const d=t.getBoundingClientRect(),{left:h,top:f,width:m,height:g}=d;if(l||e(),!m||!g)return;const y=l0(f),x=l0(i.clientWidth-(h+m)),N=l0(i.clientHeight-(f+g)),_=l0(h),S={rootMargin:-y+"px "+-x+"px "+-N+"px "+-_+"px",threshold:Ni(0,hl(1,c))||1};let E=!0;function j(D){const T=D[0].intersectionRatio;if(T!==c){if(!E)return a();T?a(!1,T):n=setTimeout(()=>{a(!1,1e-7)},1e3)}T===1&&!kI(d,t.getBoundingClientRect())&&a(),E=!1}try{r=new IntersectionObserver(j,{...S,root:i.ownerDocument})}catch{r=new IntersectionObserver(j,S)}r.observe(t)}return a(!0),s}function Sq(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=I_(t),h=i||s?[...d?qf(d):[],...qf(e)]:[];h.forEach(_=>{i&&_.addEventListener("scroll",r,{passive:!0}),s&&_.addEventListener("resize",r)});const f=d&&l?Cq(d,r):null;let m=-1,g=null;a&&(g=new ResizeObserver(_=>{let[w]=_;w&&w.target===d&&g&&(g.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var S;(S=g)==null||S.observe(e)})),r()}),d&&!c&&g.observe(d),g.observe(e));let y,x=c?Ic(t):null;c&&N();function N(){const _=Ic(t);x&&!kI(x,_)&&r(),x=_,y=requestAnimationFrame(N)}return r(),()=>{var _;h.forEach(w=>{i&&w.removeEventListener("scroll",r),s&&w.removeEventListener("resize",r)}),f==null||f(),(_=g)==null||_.disconnect(),g=null,c&&cancelAnimationFrame(y)}}const Eq=iq,Aq=sq,kq=tq,jq=oq,Pq=rq,Y3=eq,Tq=aq,Iq=(t,e,r)=>{const n=new Map,i={platform:Nq,...r},s={...i.platform,_c:n};return JG(t,e,{...i,platform:s})};var K0=typeof document<"u"?b.useLayoutEffect:b.useEffect;function $g(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!$g(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&t.$$typeof)&&!$g(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function jI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function X3(t,e){const r=jI(t);return Math.round(e*r)/r}function Kx(t){const e=b.useRef(t);return K0(()=>{e.current=t}),e}function Dq(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:a}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[h,f]=b.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[m,g]=b.useState(n);$g(m,n)||g(n);const[y,x]=b.useState(null),[N,_]=b.useState(null),w=b.useCallback(R=>{R!==D.current&&(D.current=R,x(R))},[]),S=b.useCallback(R=>{R!==T.current&&(T.current=R,_(R))},[]),E=s||y,j=a||N,D=b.useRef(null),T=b.useRef(null),O=b.useRef(h),B=c!=null,P=Kx(c),V=Kx(i),F=Kx(d),q=b.useCallback(()=>{if(!D.current||!T.current)return;const R={placement:e,strategy:r,middleware:m};V.current&&(R.platform=V.current),Iq(D.current,T.current,R).then(G=>{const ee={...G,isPositioned:F.current!==!1};H.current&&!$g(O.current,ee)&&(O.current=ee,$c.flushSync(()=>{f(ee)}))})},[m,e,r,V,F]);K0(()=>{d===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,f(R=>({...R,isPositioned:!1})))},[d]);const H=b.useRef(!1);K0(()=>(H.current=!0,()=>{H.current=!1}),[]),K0(()=>{if(E&&(D.current=E),j&&(T.current=j),E&&j){if(P.current)return P.current(E,j,q);q()}},[E,j,q,P,B]);const le=b.useMemo(()=>({reference:D,floating:T,setReference:w,setFloating:S}),[w,S]),ae=b.useMemo(()=>({reference:E,floating:j}),[E,j]),me=b.useMemo(()=>{const R={position:r,left:0,top:0};if(!ae.floating)return R;const G=X3(ae.floating,h.x),ee=X3(ae.floating,h.y);return l?{...R,transform:"translate("+G+"px, "+ee+"px)",...jI(ae.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:G,top:ee}},[r,l,ae.floating,h.x,h.y]);return b.useMemo(()=>({...h,update:q,refs:le,elements:ae,floatingStyles:me}),[h,q,le,ae,me])}const Oq=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?Y3({element:n.current,padding:i}).fn(r):{}:n?Y3({element:n,padding:i}).fn(r):{}}}},Mq=(t,e)=>({...Eq(t),options:[t,e]}),Rq=(t,e)=>({...Aq(t),options:[t,e]}),Fq=(t,e)=>({...Tq(t),options:[t,e]}),Lq=(t,e)=>({...kq(t),options:[t,e]}),Bq=(t,e)=>({...jq(t),options:[t,e]}),Uq=(t,e)=>({...Pq(t),options:[t,e]}),zq=(t,e)=>({...Oq(t),options:[t,e]});var $q="Arrow",PI=b.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...s}=t;return o.jsx(Fe.svg,{...s,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});PI.displayName=$q;var Vq=PI;function Qp(t){const[e,r]=b.useState(void 0);return en(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,l;if("borderBoxSize"in s){const c=s.borderBoxSize,d=Array.isArray(c)?c[0]:c;a=d.inlineSize,l=d.blockSize}else a=t.offsetWidth,l=t.offsetHeight;r({width:a,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var O_="Popper",[TI,th]=hn(O_),[Wq,II]=TI(O_),DI=t=>{const{__scopePopper:e,children:r}=t,[n,i]=b.useState(null);return o.jsx(Wq,{scope:e,anchor:n,onAnchorChange:i,children:r})};DI.displayName=O_;var OI="PopperAnchor",MI=b.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,s=II(OI,r),a=b.useRef(null),l=lt(e,a);return b.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||a.current)}),n?null:o.jsx(Fe.div,{...i,ref:l})});MI.displayName=OI;var M_="PopperContent",[Hq,Gq]=TI(M_),RI=b.forwardRef((t,e)=>{var Y,_e,Ye,Me,Ze,Qe;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:y,...x}=t,N=II(M_,r),[_,w]=b.useState(null),S=lt(e,ft=>w(ft)),[E,j]=b.useState(null),D=Qp(E),T=(D==null?void 0:D.width)??0,O=(D==null?void 0:D.height)??0,B=n+(s!=="center"?"-"+s:""),P=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},V=Array.isArray(d)?d:[d],F=V.length>0,q={padding:P,boundary:V.filter(Zq),altBoundary:F},{refs:H,floatingStyles:le,placement:ae,isPositioned:me,middlewareData:R}=Dq({strategy:"fixed",placement:B,whileElementsMounted:(...ft)=>Sq(...ft,{animationFrame:g==="always"}),elements:{reference:N.anchor},middleware:[Mq({mainAxis:i+O,alignmentAxis:a}),c&&Rq({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Fq():void 0,...q}),c&&Lq({...q}),Bq({...q,apply:({elements:ft,rects:ge,availableWidth:rt,availableHeight:xt})=>{const{width:Qt,height:pn}=ge.reference,tn=ft.floating.style;tn.setProperty("--radix-popper-available-width",`${rt}px`),tn.setProperty("--radix-popper-available-height",`${xt}px`),tn.setProperty("--radix-popper-anchor-width",`${Qt}px`),tn.setProperty("--radix-popper-anchor-height",`${pn}px`)}}),E&&zq({element:E,padding:l}),Kq({arrowWidth:T,arrowHeight:O}),m&&Uq({strategy:"referenceHidden",...q})]}),[G,ee]=BI(ae),ie=Cn(y);en(()=>{me&&(ie==null||ie())},[me,ie]);const Ee=(Y=R.arrow)==null?void 0:Y.x,Ke=(_e=R.arrow)==null?void 0:_e.y,Ue=((Ye=R.arrow)==null?void 0:Ye.centerOffset)!==0,[ze,De]=b.useState();return en(()=>{_&&De(window.getComputedStyle(_).zIndex)},[_]),o.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...le,transform:me?le.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ze,"--radix-popper-transform-origin":[(Me=R.transformOrigin)==null?void 0:Me.x,(Ze=R.transformOrigin)==null?void 0:Ze.y].join(" "),...((Qe=R.hide)==null?void 0:Qe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:o.jsx(Hq,{scope:r,placedSide:G,onArrowChange:j,arrowX:Ee,arrowY:Ke,shouldHideArrow:Ue,children:o.jsx(Fe.div,{"data-side":G,"data-align":ee,...x,ref:S,style:{...x.style,animation:me?void 0:"none"}})})})});RI.displayName=M_;var FI="PopperArrow",qq={top:"bottom",right:"left",bottom:"top",left:"right"},LI=b.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,s=Gq(FI,n),a=qq[s.placedSide];return o.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:o.jsx(Vq,{...i,ref:r,style:{...i.style,display:"block"}})})});LI.displayName=FI;function Zq(t){return t!==null}var Kq=t=>({name:"transformOrigin",options:t,fn(e){var N,_,w;const{placement:r,rects:n,middlewareData:i}=e,a=((N=i.arrow)==null?void 0:N.centerOffset)!==0,l=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[d,h]=BI(r),f={start:"0%",center:"50%",end:"100%"}[h],m=(((_=i.arrow)==null?void 0:_.x)??0)+l/2,g=(((w=i.arrow)==null?void 0:w.y)??0)+c/2;let y="",x="";return d==="bottom"?(y=a?f:`${m}px`,x=`${-c}px`):d==="top"?(y=a?f:`${m}px`,x=`${n.floating.height+c}px`):d==="right"?(y=`${-c}px`,x=a?f:`${g}px`):d==="left"&&(y=`${n.floating.width+c}px`,x=a?f:`${g}px`),{data:{x:y,y:x}}}});function BI(t){const[e,r="center"]=t.split("-");return[e,r]}var R_=DI,F_=MI,L_=RI,B_=LI,[dv,m0e]=hn("Tooltip",[th]),hv=th(),UI="TooltipProvider",Yq=700,eb="tooltip.open",[Xq,U_]=dv(UI),zI=t=>{const{__scopeTooltip:e,delayDuration:r=Yq,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:s}=t,a=b.useRef(!0),l=b.useRef(!1),c=b.useRef(0);return b.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),o.jsx(Xq,{scope:e,isOpenDelayedRef:a,delayDuration:r,onOpen:b.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:b.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:s})};zI.displayName=UI;var fv="Tooltip",[Qq,pv]=dv(fv),$I=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:a,delayDuration:l}=t,c=U_(fv,t.__scopeTooltip),d=hv(e),[h,f]=b.useState(null),m=Os(),g=b.useRef(0),y=a??c.disableHoverableContent,x=l??c.delayDuration,N=b.useRef(!1),[_=!1,w]=ts({prop:n,defaultProp:i,onChange:T=>{T?(c.onOpen(),document.dispatchEvent(new CustomEvent(eb))):c.onClose(),s==null||s(T)}}),S=b.useMemo(()=>_?N.current?"delayed-open":"instant-open":"closed",[_]),E=b.useCallback(()=>{window.clearTimeout(g.current),g.current=0,N.current=!1,w(!0)},[w]),j=b.useCallback(()=>{window.clearTimeout(g.current),g.current=0,w(!1)},[w]),D=b.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{N.current=!0,w(!0),g.current=0},x)},[x,w]);return b.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=0)},[]),o.jsx(R_,{...d,children:o.jsx(Qq,{scope:e,contentId:m,open:_,stateAttribute:S,trigger:h,onTriggerChange:f,onTriggerEnter:b.useCallback(()=>{c.isOpenDelayedRef.current?D():E()},[c.isOpenDelayedRef,D,E]),onTriggerLeave:b.useCallback(()=>{y?j():(window.clearTimeout(g.current),g.current=0)},[j,y]),onOpen:E,onClose:j,disableHoverableContent:y,children:r})})};$I.displayName=fv;var tb="TooltipTrigger",VI=b.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=pv(tb,r),s=U_(tb,r),a=hv(r),l=b.useRef(null),c=lt(e,l,i.onTriggerChange),d=b.useRef(!1),h=b.useRef(!1),f=b.useCallback(()=>d.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),o.jsx(F_,{asChild:!0,...a,children:o.jsx(Fe.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:c,onPointerMove:xe(t.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),h.current=!0)}),onPointerLeave:xe(t.onPointerLeave,()=>{i.onTriggerLeave(),h.current=!1}),onPointerDown:xe(t.onPointerDown,()=>{i.open&&i.onClose(),d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:xe(t.onFocus,()=>{d.current||i.onOpen()}),onBlur:xe(t.onBlur,i.onClose),onClick:xe(t.onClick,i.onClose)})})});VI.displayName=tb;var Jq="TooltipPortal",[g0e,eZ]=dv(Jq,{forceMount:void 0}),Md="TooltipContent",WI=b.forwardRef((t,e)=>{const r=eZ(Md,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...s}=t,a=pv(Md,t.__scopeTooltip);return o.jsx(Di,{present:n||a.open,children:a.disableHoverableContent?o.jsx(HI,{side:i,...s,ref:e}):o.jsx(tZ,{side:i,...s,ref:e})})}),tZ=b.forwardRef((t,e)=>{const r=pv(Md,t.__scopeTooltip),n=U_(Md,t.__scopeTooltip),i=b.useRef(null),s=lt(e,i),[a,l]=b.useState(null),{trigger:c,onClose:d}=r,h=i.current,{onPointerInTransitChange:f}=n,m=b.useCallback(()=>{l(null),f(!1)},[f]),g=b.useCallback((y,x)=>{const N=y.currentTarget,_={x:y.clientX,y:y.clientY},w=aZ(_,N.getBoundingClientRect()),S=oZ(_,w),E=lZ(x.getBoundingClientRect()),j=uZ([...S,...E]);l(j),f(!0)},[f]);return b.useEffect(()=>()=>m(),[m]),b.useEffect(()=>{if(c&&h){const y=N=>g(N,h),x=N=>g(N,c);return c.addEventListener("pointerleave",y),h.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",y),h.removeEventListener("pointerleave",x)}}},[c,h,g,m]),b.useEffect(()=>{if(a){const y=x=>{const N=x.target,_={x:x.clientX,y:x.clientY},w=(c==null?void 0:c.contains(N))||(h==null?void 0:h.contains(N)),S=!cZ(_,a);w?m():S&&(m(),d())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,h,a,d,m]),o.jsx(HI,{...t,ref:s})}),[rZ,nZ]=dv(fv,{isInside:!1}),iZ=k6("TooltipContent"),HI=b.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...l}=t,c=pv(Md,r),d=hv(r),{onClose:h}=c;return b.useEffect(()=>(document.addEventListener(eb,h),()=>document.removeEventListener(eb,h)),[h]),b.useEffect(()=>{if(c.trigger){const f=m=>{const g=m.target;g!=null&&g.contains(c.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,h]),o.jsx(Zd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:o.jsxs(L_,{"data-state":c.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(iZ,{children:n}),o.jsx(rZ,{scope:r,isInside:!0,children:o.jsx(xH,{id:c.contentId,role:"tooltip",children:i||n})})]})})});WI.displayName=Md;var GI="TooltipArrow",sZ=b.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=hv(r);return nZ(GI,r).isInside?null:o.jsx(B_,{...i,...n,ref:e})});sZ.displayName=GI;function aZ(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(r,n,i,s)){case s:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function oZ(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function lZ(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function cZ(t,e){const{x:r,y:n}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const l=e[s].x,c=e[s].y,d=e[a].x,h=e[a].y;c>n!=h>n&&r<(d-l)*(n-c)/(h-c)+l&&(i=!i)}return i}function uZ(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),dZ(e)}function dZ(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const s=e[e.length-1],a=e[e.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const s=r[r.length-1],a=r[r.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var hZ=zI,fZ=$I,pZ=VI,qI=WI;const mZ=hZ,gZ=fZ,vZ=pZ,ZI=b.forwardRef(({className:t,sideOffset:e=4,...r},n)=>o.jsx(qI,{ref:n,sideOffset:e,className:be("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...r}));ZI.displayName=qI.displayName;const xZ=b.createContext(void 0);function yZ({children:t}){return b.useEffect(()=>{document.documentElement.classList.add("dark")},[]),o.jsx(xZ.Provider,{value:{theme:"dark"},children:t})}const z_=Kd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ue=b.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},s)=>{const a=n?E6:"button";return o.jsx(a,{className:be(z_({variant:e,size:r,className:t})),ref:s,...i})});ue.displayName="Button";function ns(){const[t,e]=b.useState(()=>localStorage.getItem("auth-token")),r=Rn(),{data:n,isLoading:i,error:s}=Rt({queryKey:["/api/auth/user"],queryFn:async()=>{let d=await fetch("/api/auth/status",{credentials:"include"});if(d.ok){const h=await d.json();if(h.authenticated)return h.user}if(t){if(d=await fetch("/api/auth/user",{headers:{Authorization:`Bearer ${t}`}}),d.ok)return d.json();d.status===401&&(localStorage.removeItem("auth-token"),e(null))}return null},retry:!1}),a=(d,h)=>{localStorage.setItem("auth-token",h),e(h),r.setQueryData(["/api/auth/user"],d)},l=async()=>{try{await fetch("/api/auth/logout",{method:"POST",credentials:"include"})}catch(d){console.error("Failed to logout:",d)}localStorage.removeItem("auth-token"),e(null),r.clear(),window.location.href="/"};return{user:n||null,isLoading:i,isAuthenticated:!!n,token:t,signIn:a,signOut:l,refreshToken:async()=>{if(!t)return null;try{const f=(await(await dt("POST","/api/auth/refresh",{token:t})).json()).token;return localStorage.setItem("auth-token",f),e(f),f}catch(d){return console.error("Failed to refresh token:",d),l(),null}},error:s}}function wZ(){const{data:t}=Rt({queryKey:["/api/auth/user"]});return(t==null?void 0:t.subscriptionStatus)==="active"?o.jsxs("div",{className:"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors bg-gradient-to-r from-yellow-400 to-orange-500 text-white border-none hover:from-yellow-500 hover:to-orange-600","data-testid":"premium-badge",children:[o.jsx(Ki,{className:"w-3 h-3 mr-1"}),"Premium"]}):Qn.isNativePlatform()?null:o.jsx(ue,{asChild:!0,className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white border-none shadow-sm px-2 py-1 h-auto text-xs","data-testid":"upgrade-button",children:o.jsxs(wn,{href:"/subscription",children:[o.jsx(Si,{className:"w-3 h-3 mr-1"}),"Upgrade"]})})}const Yt=b.forwardRef(({className:t,type:e,...r},n)=>o.jsx("input",{type:e,className:be("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));Yt.displayName="Input";var bZ="Label",KI=b.forwardRef((t,e)=>o.jsx(Fe.label,{...t,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));KI.displayName=bZ;var YI=KI;const _Z=Kd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),it=b.forwardRef(({className:t,...e},r)=>o.jsx(YI,{ref:r,className:be(_Z(),t),...e}));it.displayName=YI.displayName;var Yx="focusScope.autoFocusOnMount",Xx="focusScope.autoFocusOnUnmount",Q3={bubbles:!1,cancelable:!0},NZ="FocusScope",mv=b.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=t,[l,c]=b.useState(null),d=Cn(i),h=Cn(s),f=b.useRef(null),m=lt(e,x=>c(x)),g=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(n){let x=function(S){if(g.paused||!l)return;const E=S.target;l.contains(E)?f.current=E:So(f.current,{select:!0})},N=function(S){if(g.paused||!l)return;const E=S.relatedTarget;E!==null&&(l.contains(E)||So(f.current,{select:!0}))},_=function(S){if(document.activeElement===document.body)for(const j of S)j.removedNodes.length>0&&So(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",N);const w=new MutationObserver(_);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",N),w.disconnect()}}},[n,l,g.paused]),b.useEffect(()=>{if(l){e4.add(g);const x=document.activeElement;if(!l.contains(x)){const _=new CustomEvent(Yx,Q3);l.addEventListener(Yx,d),l.dispatchEvent(_),_.defaultPrevented||(CZ(jZ(XI(l)),{select:!0}),document.activeElement===x&&So(l))}return()=>{l.removeEventListener(Yx,d),setTimeout(()=>{const _=new CustomEvent(Xx,Q3);l.addEventListener(Xx,h),l.dispatchEvent(_),_.defaultPrevented||So(x??document.body,{select:!0}),l.removeEventListener(Xx,h),e4.remove(g)},0)}}},[l,d,h,g]);const y=b.useCallback(x=>{if(!r&&!n||g.paused)return;const N=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,_=document.activeElement;if(N&&_){const w=x.currentTarget,[S,E]=SZ(w);S&&E?!x.shiftKey&&_===E?(x.preventDefault(),r&&So(S,{select:!0})):x.shiftKey&&_===S&&(x.preventDefault(),r&&So(E,{select:!0})):_===w&&x.preventDefault()}},[r,n,g.paused]);return o.jsx(Fe.div,{tabIndex:-1,...a,ref:m,onKeyDown:y})});mv.displayName=NZ;function CZ(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(So(n,{select:e}),document.activeElement!==r)return}function SZ(t){const e=XI(t),r=J3(e,t),n=J3(e.reverse(),t);return[r,n]}function XI(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function J3(t,e){for(const r of t)if(!EZ(r,{upTo:e}))return r}function EZ(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function AZ(t){return t instanceof HTMLInputElement&&"select"in t}function So(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&AZ(t)&&e&&t.select()}}var e4=kZ();function kZ(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=t4(t,e),t.unshift(e)},remove(e){var r;t=t4(t,e),(r=t[0])==null||r.resume()}}}function t4(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function jZ(t){return t.filter(e=>e.tagName!=="A")}var Qx=0;function $_(){b.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??r4()),document.body.insertAdjacentElement("beforeend",t[1]??r4()),Qx++,()=>{Qx===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Qx--}},[])}function r4(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var fa=function(){return fa=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},fa.apply(this,arguments)};function QI(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function PZ(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}var Y0="right-scroll-bar-position",X0="width-before-scroll-bar",TZ="with-scroll-bars-hidden",IZ="--removed-body-scroll-bar-size";function Jx(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function DZ(t,e){var r=b.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var OZ=typeof window<"u"?b.useLayoutEffect:b.useEffect,n4=new WeakMap;function MZ(t,e){var r=DZ(null,function(n){return t.forEach(function(i){return Jx(i,n)})});return OZ(function(){var n=n4.get(r);if(n){var i=new Set(n),s=new Set(t),a=r.current;i.forEach(function(l){s.has(l)||Jx(l,null)}),s.forEach(function(l){i.has(l)||Jx(l,a)})}n4.set(r,t)},[t]),r}function RZ(t){return t}function FZ(t,e){e===void 0&&(e=RZ);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(s){var a=e(s,n);return r.push(a),function(){r=r.filter(function(l){return l!==a})}},assignSyncMedium:function(s){for(n=!0;r.length;){var a=r;r=[],a.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){n=!0;var a=[];if(r.length){var l=r;r=[],l.forEach(s),a=r}var c=function(){var h=a;a=[],h.forEach(s)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(h){a.push(h),d()},filter:function(h){return a=a.filter(h),r}}}};return i}function LZ(t){t===void 0&&(t={});var e=FZ(null);return e.options=fa({async:!0,ssr:!1},t),e}var JI=function(t){var e=t.sideCar,r=QI(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return b.createElement(n,fa({},r))};JI.isSideCarExport=!0;function BZ(t,e){return t.useMedium(e),JI}var eD=LZ(),ey=function(){},gv=b.forwardRef(function(t,e){var r=b.useRef(null),n=b.useState({onScrollCapture:ey,onWheelCapture:ey,onTouchMoveCapture:ey}),i=n[0],s=n[1],a=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,h=t.enabled,f=t.shards,m=t.sideCar,g=t.noIsolation,y=t.inert,x=t.allowPinchZoom,N=t.as,_=N===void 0?"div":N,w=t.gapMode,S=QI(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=m,j=MZ([r,e]),D=fa(fa({},S),i);return b.createElement(b.Fragment,null,h&&b.createElement(E,{sideCar:eD,removeScrollBar:d,shards:f,noIsolation:g,inert:y,setCallbacks:s,allowPinchZoom:!!x,lockRef:r,gapMode:w}),a?b.cloneElement(b.Children.only(l),fa(fa({},D),{ref:j})):b.createElement(_,fa({},D,{className:c,ref:j}),l))});gv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};gv.classNames={fullWidth:X0,zeroRight:Y0};var UZ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function zZ(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=UZ();return e&&t.setAttribute("nonce",e),t}function $Z(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function VZ(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var WZ=function(){var t=0,e=null;return{add:function(r){t==0&&(e=zZ())&&($Z(e,r),VZ(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},HZ=function(){var t=WZ();return function(e,r){b.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},tD=function(){var t=HZ(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},GZ={left:0,top:0,right:0,gap:0},ty=function(t){return parseInt(t||"",10)||0},qZ=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[ty(r),ty(n),ty(i)]},ZZ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return GZ;var e=qZ(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},KZ=tD(),zu="data-scroll-locked",YZ=function(t,e,r,n){var i=t.left,s=t.top,a=t.right,l=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(TZ,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(zu,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Y0,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(X0,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Y0," .").concat(Y0,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(X0," .").concat(X0,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(zu,`] {
    `).concat(IZ,": ").concat(l,`px;
  }
`)},i4=function(){var t=parseInt(document.body.getAttribute(zu)||"0",10);return isFinite(t)?t:0},XZ=function(){b.useEffect(function(){return document.body.setAttribute(zu,(i4()+1).toString()),function(){var t=i4()-1;t<=0?document.body.removeAttribute(zu):document.body.setAttribute(zu,t.toString())}},[])},QZ=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;XZ();var s=b.useMemo(function(){return ZZ(i)},[i]);return b.createElement(KZ,{styles:YZ(s,!e,i,r?"":"!important")})},rb=!1;if(typeof window<"u")try{var c0=Object.defineProperty({},"passive",{get:function(){return rb=!0,!0}});window.addEventListener("test",c0,c0),window.removeEventListener("test",c0,c0)}catch{rb=!1}var ru=rb?{passive:!1}:!1,JZ=function(t){return t.tagName==="TEXTAREA"},rD=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!JZ(t)&&r[e]==="visible")},eK=function(t){return rD(t,"overflowY")},tK=function(t){return rD(t,"overflowX")},s4=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=nD(t,n);if(i){var s=iD(t,n),a=s[1],l=s[2];if(a>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},rK=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},nK=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},nD=function(t,e){return t==="v"?eK(e):tK(e)},iD=function(t,e){return t==="v"?rK(e):nK(e)},iK=function(t,e){return t==="h"&&e==="rtl"?-1:1},sK=function(t,e,r,n,i){var s=iK(t,window.getComputedStyle(e).direction),a=s*n,l=r.target,c=e.contains(l),d=!1,h=a>0,f=0,m=0;do{var g=iD(t,l),y=g[0],x=g[1],N=g[2],_=x-N-s*y;(y||_)&&nD(t,l)&&(f+=_,m+=y),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(h&&(Math.abs(f)<1||!i)||!h&&(Math.abs(m)<1||!i))&&(d=!0),d},u0=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},a4=function(t){return[t.deltaX,t.deltaY]},o4=function(t){return t&&"current"in t?t.current:t},aK=function(t,e){return t[0]===e[0]&&t[1]===e[1]},oK=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},lK=0,nu=[];function cK(t){var e=b.useRef([]),r=b.useRef([0,0]),n=b.useRef(),i=b.useState(lK++)[0],s=b.useState(tD)[0],a=b.useRef(t);b.useEffect(function(){a.current=t},[t]),b.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var x=PZ([t.lockRef.current],(t.shards||[]).map(o4),!0).filter(Boolean);return x.forEach(function(N){return N.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=b.useCallback(function(x,N){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!a.current.allowPinchZoom;var _=u0(x),w=r.current,S="deltaX"in x?x.deltaX:w[0]-_[0],E="deltaY"in x?x.deltaY:w[1]-_[1],j,D=x.target,T=Math.abs(S)>Math.abs(E)?"h":"v";if("touches"in x&&T==="h"&&D.type==="range")return!1;var O=s4(T,D);if(!O)return!0;if(O?j=T:(j=T==="v"?"h":"v",O=s4(T,D)),!O)return!1;if(!n.current&&"changedTouches"in x&&(S||E)&&(n.current=j),!j)return!0;var B=n.current||j;return sK(B,N,x,B==="h"?S:E,!0)},[]),c=b.useCallback(function(x){var N=x;if(!(!nu.length||nu[nu.length-1]!==s)){var _="deltaY"in N?a4(N):u0(N),w=e.current.filter(function(j){return j.name===N.type&&(j.target===N.target||N.target===j.shadowParent)&&aK(j.delta,_)})[0];if(w&&w.should){N.cancelable&&N.preventDefault();return}if(!w){var S=(a.current.shards||[]).map(o4).filter(Boolean).filter(function(j){return j.contains(N.target)}),E=S.length>0?l(N,S[0]):!a.current.noIsolation;E&&N.cancelable&&N.preventDefault()}}},[]),d=b.useCallback(function(x,N,_,w){var S={name:x,delta:N,target:_,should:w,shadowParent:uK(_)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(E){return E!==S})},1)},[]),h=b.useCallback(function(x){r.current=u0(x),n.current=void 0},[]),f=b.useCallback(function(x){d(x.type,a4(x),x.target,l(x,t.lockRef.current))},[]),m=b.useCallback(function(x){d(x.type,u0(x),x.target,l(x,t.lockRef.current))},[]);b.useEffect(function(){return nu.push(s),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,ru),document.addEventListener("touchmove",c,ru),document.addEventListener("touchstart",h,ru),function(){nu=nu.filter(function(x){return x!==s}),document.removeEventListener("wheel",c,ru),document.removeEventListener("touchmove",c,ru),document.removeEventListener("touchstart",h,ru)}},[]);var g=t.removeScrollBar,y=t.inert;return b.createElement(b.Fragment,null,y?b.createElement(s,{styles:oK(i)}):null,g?b.createElement(QZ,{gapMode:t.gapMode}):null)}function uK(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const dK=BZ(eD,cK);var vv=b.forwardRef(function(t,e){return b.createElement(gv,fa({},t,{ref:e,sideCar:dK}))});vv.classNames=gv.classNames;var hK=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},iu=new WeakMap,d0=new WeakMap,h0={},ry=0,sD=function(t){return t&&(t.host||sD(t.parentNode))},fK=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=sD(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},pK=function(t,e,r,n){var i=fK(e,Array.isArray(t)?t:[t]);h0[r]||(h0[r]=new WeakMap);var s=h0[r],a=[],l=new Set,c=new Set(i),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};i.forEach(d);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))h(m);else try{var g=m.getAttribute(n),y=g!==null&&g!=="false",x=(iu.get(m)||0)+1,N=(s.get(m)||0)+1;iu.set(m,x),s.set(m,N),a.push(m),x===1&&y&&d0.set(m,!0),N===1&&m.setAttribute(r,"true"),y||m.setAttribute(n,"true")}catch(_){console.error("aria-hidden: cannot operate on ",m,_)}})};return h(e),l.clear(),ry++,function(){a.forEach(function(f){var m=iu.get(f)-1,g=s.get(f)-1;iu.set(f,m),s.set(f,g),m||(d0.has(f)||f.removeAttribute(n),d0.delete(f)),g||f.removeAttribute(r)}),ry--,ry||(iu=new WeakMap,iu=new WeakMap,d0=new WeakMap,h0={})}},V_=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=hK(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),pK(n,i,r,"aria-hidden")):function(){return null}},W_="Dialog",[aD,oD]=hn(W_),[mK,Zs]=aD(W_),lD=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:a=!0}=t,l=b.useRef(null),c=b.useRef(null),[d=!1,h]=ts({prop:n,defaultProp:i,onChange:s});return o.jsx(mK,{scope:e,triggerRef:l,contentRef:c,contentId:Os(),titleId:Os(),descriptionId:Os(),open:d,onOpenChange:h,onOpenToggle:b.useCallback(()=>h(f=>!f),[h]),modal:a,children:r})};lD.displayName=W_;var cD="DialogTrigger",uD=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Zs(cD,r),s=lt(e,i.triggerRef);return o.jsx(Fe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":q_(i.open),...n,ref:s,onClick:xe(t.onClick,i.onOpenToggle)})});uD.displayName=cD;var H_="DialogPortal",[gK,dD]=aD(H_,{forceMount:void 0}),hD=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,s=Zs(H_,e);return o.jsx(gK,{scope:e,forceMount:r,children:b.Children.map(n,a=>o.jsx(Di,{present:r||s.open,children:o.jsx(Zp,{asChild:!0,container:i,children:a})}))})};hD.displayName=H_;var Vg="DialogOverlay",fD=b.forwardRef((t,e)=>{const r=dD(Vg,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=Zs(Vg,t.__scopeDialog);return s.modal?o.jsx(Di,{present:n||s.open,children:o.jsx(xK,{...i,ref:e})}):null});fD.displayName=Vg;var vK=Pc("DialogOverlay.RemoveScroll"),xK=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Zs(Vg,r);return o.jsx(vv,{as:vK,allowPinchZoom:!0,shards:[i.contentRef],children:o.jsx(Fe.div,{"data-state":q_(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Dc="DialogContent",pD=b.forwardRef((t,e)=>{const r=dD(Dc,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=Zs(Dc,t.__scopeDialog);return o.jsx(Di,{present:n||s.open,children:s.modal?o.jsx(yK,{...i,ref:e}):o.jsx(wK,{...i,ref:e})})});pD.displayName=Dc;var yK=b.forwardRef((t,e)=>{const r=Zs(Dc,t.__scopeDialog),n=b.useRef(null),i=lt(e,r.contentRef,n);return b.useEffect(()=>{const s=n.current;if(s)return V_(s)},[]),o.jsx(mD,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:xe(t.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:xe(t.onPointerDownOutside,s=>{const a=s.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&s.preventDefault()}),onFocusOutside:xe(t.onFocusOutside,s=>s.preventDefault())})}),wK=b.forwardRef((t,e)=>{const r=Zs(Dc,t.__scopeDialog),n=b.useRef(!1),i=b.useRef(!1);return o.jsx(mD,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((d=r.triggerRef.current)==null?void 0:d.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),mD=b.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=t,l=Zs(Dc,r),c=b.useRef(null),d=lt(e,c);return $_(),o.jsxs(o.Fragment,{children:[o.jsx(mv,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:o.jsx(Zd,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":q_(l.open),...a,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(_K,{titleId:l.titleId}),o.jsx(CK,{contentRef:c,descriptionId:l.descriptionId})]})]})}),G_="DialogTitle",gD=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Zs(G_,r);return o.jsx(Fe.h2,{id:i.titleId,...n,ref:e})});gD.displayName=G_;var vD="DialogDescription",xD=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Zs(vD,r);return o.jsx(Fe.p,{id:i.descriptionId,...n,ref:e})});xD.displayName=vD;var yD="DialogClose",wD=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Zs(yD,r);return o.jsx(Fe.button,{type:"button",...n,ref:e,onClick:xe(t.onClick,()=>i.onOpenChange(!1))})});wD.displayName=yD;function q_(t){return t?"open":"closed"}var bD="DialogTitleWarning",[bK,_D]=YW(bD,{contentName:Dc,titleName:G_,docsSlug:"dialog"}),_K=({titleId:t})=>{const e=_D(bD),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},NK="DialogDescriptionWarning",CK=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${_D(NK).contentName}}.`;return b.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},Z_=lD,K_=uD,Y_=hD,Jp=fD,em=pD,tm=gD,rm=xD,xv=wD;const ml=Z_,yv=K_,SK=Y_,ND=b.forwardRef(({className:t,...e},r)=>o.jsx(Jp,{ref:r,className:be("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));ND.displayName=Jp.displayName;const lo=b.forwardRef(({className:t,children:e,...r},n)=>o.jsxs(SK,{children:[o.jsx(ND,{}),o.jsxs(em,{ref:n,className:be("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,o.jsxs(xv,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(Pi,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));lo.displayName=em.displayName;const co=({className:t,...e})=>o.jsx("div",{className:be("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});co.displayName="DialogHeader";const wv=({className:t,...e})=>o.jsx("div",{className:be("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});wv.displayName="DialogFooter";const uo=b.forwardRef(({className:t,...e},r)=>o.jsx(tm,{ref:r,className:be("text-lg font-semibold leading-none tracking-tight",t),...e}));uo.displayName=tm.displayName;const bv=b.forwardRef(({className:t,...e},r)=>o.jsx(rm,{ref:r,className:be("text-sm text-muted-foreground",t),...e}));bv.displayName=rm.displayName;function _v({trigger:t,isOpen:e,setIsOpen:r}){const[n,i]=b.useState(!1),s=e!==void 0?e:n,a=r||i,[l,c]=b.useState(""),[d,h]=b.useState(""),[f,m]=b.useState(null),[g,y]=b.useState(null),x=b.useRef(null),{toast:N}=xi(),_=Rn(),{data:w}=Rt({queryKey:["/api/auth/user"]});b.useEffect(()=>{w&&s&&(c(w.firstName||""),h(w.lastName||""),y(w.profileImageUrl||null),m(null))},[w,s]);const S=Ut({mutationFn:async B=>{if(B.profileImage){const P=new FormData;P.append("profileImage",B.profileImage),P.append("firstName",B.firstName),P.append("lastName",B.lastName);const V=localStorage.getItem("auth-token"),F={};V&&(F.Authorization=`Bearer ${V}`);const q=await fetch("/api/user/profile/upload",{method:"POST",headers:F,body:P,credentials:"include"});if(!q.ok)throw new Error("Failed to upload profile image");return q.json()}else return(await dt("PATCH","/api/user/profile",{firstName:B.firstName,lastName:B.lastName})).json()},onSuccess:(B,P)=>{_.setQueryData(["/api/auth/user"],B),_.invalidateQueries({queryKey:["/api/auth/user"]}),N({title:"Profile Updated",description:P.profileImage?"Your profile picture and information have been updated successfully!":"Your profile information has been updated successfully!"}),a(!1)},onError:B=>{N({title:"Update Failed",description:B.message||"Failed to update your profile. Please try again.",variant:"destructive"})}}),E=B=>{var V;const P=(V=B.target.files)==null?void 0:V[0];if(P){if(console.log("File selected:",P.name,P.type,P.size),!P.type.startsWith("image/")){N({title:"Invalid File Type",description:"Please select an image file (PNG, JPG, GIF, etc.).",variant:"destructive"});return}if(P.size>5*1024*1024){N({title:"File Too Large",description:"Please select an image smaller than 5MB.",variant:"destructive"});return}m(P);const F=new FileReader;F.onload=()=>{y(F.result),N({title:"Image Selected",description:"Profile picture ready to upload!"})},F.onerror=()=>{N({title:"Error Reading File",description:"Failed to process the selected image.",variant:"destructive"})},F.readAsDataURL(P)}},j=B=>{if(B.preventDefault(),!l.trim()&&!d.trim()&&!f){N({title:"Update Required",description:"Please enter at least your name or select a profile picture.",variant:"destructive"});return}S.mutate({firstName:l.trim(),lastName:d.trim(),profileImage:f||void 0})},D=()=>{c((w==null?void 0:w.firstName)||""),h((w==null?void 0:w.lastName)||""),m(null),y((w==null?void 0:w.profileImageUrl)||null),x.current&&(x.current.value=""),a(!1)},O=(w?`${w.firstName||""} ${w.lastName||""}`.trim():null)||(w==null?void 0:w.email)||"User";return o.jsxs(ml,{open:s,onOpenChange:a,children:[o.jsx(yv,{asChild:!0,children:t||o.jsxs(ue,{variant:"ghost",size:"sm",className:"text-gray-600 hover:text-gray-800","data-testid":"edit-profile-button",children:[o.jsx(Gx,{className:"w-4 h-4 mr-2"}),"Edit Profile"]})}),o.jsx(lo,{className:"sm:max-w-[425px]","data-testid":"profile-editor-dialog",children:o.jsxs("form",{onSubmit:j,children:[o.jsxs(co,{children:[o.jsxs(uo,{className:"flex items-center gap-2",children:[o.jsx(Gx,{className:"w-5 h-5 text-primary"}),"Edit Your Profile"]}),o.jsxs(bv,{children:["Update your profile picture and name to personalize your experience. Currently greeting as: ",o.jsx("strong",{children:O})]})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(it,{children:"Profile Picture"}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-20 h-20 rounded-full overflow-hidden bg-gray-100 border-2 border-gray-200 flex items-center justify-center",children:g?o.jsx("img",{src:g,alt:"Profile preview",className:"w-full h-full object-cover","data-testid":"profile-image-preview"}):o.jsx(Gx,{className:"w-8 h-8 text-gray-400"})}),o.jsx("button",{type:"button",onClick:B=>{var P;B.preventDefault(),B.stopPropagation(),(P=x.current)==null||P.click()},className:"absolute -bottom-1 -right-1 w-6 h-6 bg-primary rounded-full flex items-center justify-center text-white hover:bg-primary/90 transition-colors","data-testid":"upload-image-button",children:o.jsx(Hi,{className:"w-3 h-3"})})]}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("button",{type:"button",onClick:B=>{var P;B.preventDefault(),B.stopPropagation(),(P=x.current)==null||P.click()},className:"flex items-center gap-2 text-sm text-primary hover:text-primary/80 transition-colors","data-testid":"choose-image-button",children:[o.jsx(lI,{className:"w-4 h-4"}),"Choose New Image"]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, GIF up to 5MB"})]})]}),o.jsx("input",{ref:x,type:"file",accept:"image/*",onChange:E,className:"hidden","data-testid":"file-input"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(it,{htmlFor:"firstName",children:"First Name"}),o.jsx(Yt,{id:"firstName",type:"text",value:l,onChange:B=>c(B.target.value),placeholder:"Enter your first name",maxLength:50,"data-testid":"input-first-name"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(it,{htmlFor:"lastName",children:"Last Name"}),o.jsx(Yt,{id:"lastName",type:"text",value:d,onChange:B=>h(B.target.value),placeholder:"Enter your last name",maxLength:50,"data-testid":"input-last-name"})]}),(l.trim()||d.trim()||f)&&o.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Preview:"}),' Your greeting will be "Good [time], ',l.trim()," ",d.trim(),'!"',f&&o.jsx("span",{className:"block mt-1",children:" New profile picture will be uploaded"})]})})]}),o.jsxs(wv,{className:"gap-2",children:[o.jsxs(ue,{type:"button",variant:"outline",onClick:D,disabled:S.isPending,"data-testid":"button-cancel",children:[o.jsx(Pi,{className:"w-4 h-4 mr-2"}),"Cancel"]}),o.jsxs(ue,{type:"submit",disabled:S.isPending||!l.trim()&&!d.trim()&&!f,"data-testid":"button-save",children:[o.jsx(tG,{className:"w-4 h-4 mr-2"}),S.isPending?"Uploading...":"Save Changes"]})]})]})})]})}var EK=b.createContext(void 0);function rh(t){const e=b.useContext(EK);return t||e||"ltr"}var ny="rovingFocusGroup.onEntryFocus",AK={bubbles:!1,cancelable:!0},Nv="RovingFocusGroup",[nb,CD,kK]=qp(Nv),[jK,nh]=hn(Nv,[kK]),[PK,TK]=jK(Nv),SD=b.forwardRef((t,e)=>o.jsx(nb.Provider,{scope:t.__scopeRovingFocusGroup,children:o.jsx(nb.Slot,{scope:t.__scopeRovingFocusGroup,children:o.jsx(IK,{...t,ref:e})})}));SD.displayName=Nv;var IK=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...f}=t,m=b.useRef(null),g=lt(e,m),y=rh(s),[x=null,N]=ts({prop:a,defaultProp:l,onChange:c}),[_,w]=b.useState(!1),S=Cn(d),E=CD(r),j=b.useRef(!1),[D,T]=b.useState(0);return b.useEffect(()=>{const O=m.current;if(O)return O.addEventListener(ny,S),()=>O.removeEventListener(ny,S)},[S]),o.jsx(PK,{scope:r,orientation:n,dir:y,loop:i,currentTabStopId:x,onItemFocus:b.useCallback(O=>N(O),[N]),onItemShiftTab:b.useCallback(()=>w(!0),[]),onFocusableItemAdd:b.useCallback(()=>T(O=>O+1),[]),onFocusableItemRemove:b.useCallback(()=>T(O=>O-1),[]),children:o.jsx(Fe.div,{tabIndex:_||D===0?-1:0,"data-orientation":n,...f,ref:g,style:{outline:"none",...t.style},onMouseDown:xe(t.onMouseDown,()=>{j.current=!0}),onFocus:xe(t.onFocus,O=>{const B=!j.current;if(O.target===O.currentTarget&&B&&!_){const P=new CustomEvent(ny,AK);if(O.currentTarget.dispatchEvent(P),!P.defaultPrevented){const V=E().filter(ae=>ae.focusable),F=V.find(ae=>ae.active),q=V.find(ae=>ae.id===x),le=[F,q,...V].filter(Boolean).map(ae=>ae.ref.current);kD(le,h)}}j.current=!1}),onBlur:xe(t.onBlur,()=>w(!1))})})}),ED="RovingFocusGroupItem",AD=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:s,...a}=t,l=Os(),c=s||l,d=TK(ED,r),h=d.currentTabStopId===c,f=CD(r),{onFocusableItemAdd:m,onFocusableItemRemove:g}=d;return b.useEffect(()=>{if(n)return m(),()=>g()},[n,m,g]),o.jsx(nb.ItemSlot,{scope:r,id:c,focusable:n,active:i,children:o.jsx(Fe.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...a,ref:e,onMouseDown:xe(t.onMouseDown,y=>{n?d.onItemFocus(c):y.preventDefault()}),onFocus:xe(t.onFocus,()=>d.onItemFocus(c)),onKeyDown:xe(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const x=MK(y,d.orientation,d.dir);if(x!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let _=f().filter(w=>w.focusable).map(w=>w.ref.current);if(x==="last")_.reverse();else if(x==="prev"||x==="next"){x==="prev"&&_.reverse();const w=_.indexOf(y.currentTarget);_=d.loop?RK(_,w+1):_.slice(w+1)}setTimeout(()=>kD(_))}})})})});AD.displayName=ED;var DK={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function OK(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function MK(t,e,r){const n=OK(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return DK[n]}function kD(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function RK(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var X_=SD,Q_=AD,ib=["Enter"," "],FK=["ArrowDown","PageUp","Home"],jD=["ArrowUp","PageDown","End"],LK=[...FK,...jD],BK={ltr:[...ib,"ArrowRight"],rtl:[...ib,"ArrowLeft"]},UK={ltr:["ArrowLeft"],rtl:["ArrowRight"]},nm="Menu",[Zf,zK,$K]=qp(nm),[Wc,PD]=hn(nm,[$K,th,nh]),Cv=th(),TD=nh(),[VK,Hc]=Wc(nm),[WK,im]=Wc(nm),ID=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:i,onOpenChange:s,modal:a=!0}=t,l=Cv(e),[c,d]=b.useState(null),h=b.useRef(!1),f=Cn(s),m=rh(i);return b.useEffect(()=>{const g=()=>{h.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>h.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),o.jsx(R_,{...l,children:o.jsx(VK,{scope:e,open:r,onOpenChange:f,content:c,onContentChange:d,children:o.jsx(WK,{scope:e,onClose:b.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:h,dir:m,modal:a,children:n})})})};ID.displayName=nm;var HK="MenuAnchor",J_=b.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=Cv(r);return o.jsx(F_,{...i,...n,ref:e})});J_.displayName=HK;var eN="MenuPortal",[GK,DD]=Wc(eN,{forceMount:void 0}),OD=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:i}=t,s=Hc(eN,e);return o.jsx(GK,{scope:e,forceMount:r,children:o.jsx(Di,{present:r||s.open,children:o.jsx(Zp,{asChild:!0,container:i,children:n})})})};OD.displayName=eN;var Xi="MenuContent",[qK,tN]=Wc(Xi),MD=b.forwardRef((t,e)=>{const r=DD(Xi,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,s=Hc(Xi,t.__scopeMenu),a=im(Xi,t.__scopeMenu);return o.jsx(Zf.Provider,{scope:t.__scopeMenu,children:o.jsx(Di,{present:n||s.open,children:o.jsx(Zf.Slot,{scope:t.__scopeMenu,children:a.modal?o.jsx(ZK,{...i,ref:e}):o.jsx(KK,{...i,ref:e})})})})}),ZK=b.forwardRef((t,e)=>{const r=Hc(Xi,t.__scopeMenu),n=b.useRef(null),i=lt(e,n);return b.useEffect(()=>{const s=n.current;if(s)return V_(s)},[]),o.jsx(rN,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:xe(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),KK=b.forwardRef((t,e)=>{const r=Hc(Xi,t.__scopeMenu);return o.jsx(rN,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),YK=Pc("MenuContent.ScrollLock"),rN=b.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:m,onDismiss:g,disableOutsideScroll:y,...x}=t,N=Hc(Xi,r),_=im(Xi,r),w=Cv(r),S=TD(r),E=zK(r),[j,D]=b.useState(null),T=b.useRef(null),O=lt(e,T,N.onContentChange),B=b.useRef(0),P=b.useRef(""),V=b.useRef(0),F=b.useRef(null),q=b.useRef("right"),H=b.useRef(0),le=y?vv:b.Fragment,ae=y?{as:YK,allowPinchZoom:!0}:void 0,me=G=>{var Y,_e;const ee=P.current+G,ie=E().filter(Ye=>!Ye.disabled),Ee=document.activeElement,Ke=(Y=ie.find(Ye=>Ye.ref.current===Ee))==null?void 0:Y.textValue,Ue=ie.map(Ye=>Ye.textValue),ze=lY(Ue,ee,Ke),De=(_e=ie.find(Ye=>Ye.textValue===ze))==null?void 0:_e.ref.current;(function Ye(Me){P.current=Me,window.clearTimeout(B.current),Me!==""&&(B.current=window.setTimeout(()=>Ye(""),1e3))})(ee),De&&setTimeout(()=>De.focus())};b.useEffect(()=>()=>window.clearTimeout(B.current),[]),$_();const R=b.useCallback(G=>{var ie,Ee;return q.current===((ie=F.current)==null?void 0:ie.side)&&uY(G,(Ee=F.current)==null?void 0:Ee.area)},[]);return o.jsx(qK,{scope:r,searchRef:P,onItemEnter:b.useCallback(G=>{R(G)&&G.preventDefault()},[R]),onItemLeave:b.useCallback(G=>{var ee;R(G)||((ee=T.current)==null||ee.focus(),D(null))},[R]),onTriggerLeave:b.useCallback(G=>{R(G)&&G.preventDefault()},[R]),pointerGraceTimerRef:V,onPointerGraceIntentChange:b.useCallback(G=>{F.current=G},[]),children:o.jsx(le,{...ae,children:o.jsx(mv,{asChild:!0,trapped:i,onMountAutoFocus:xe(s,G=>{var ee;G.preventDefault(),(ee=T.current)==null||ee.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:o.jsx(Zd,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:m,onDismiss:g,children:o.jsx(X_,{asChild:!0,...S,dir:_.dir,orientation:"vertical",loop:n,currentTabStopId:j,onCurrentTabStopIdChange:D,onEntryFocus:xe(c,G=>{_.isUsingKeyboardRef.current||G.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(L_,{role:"menu","aria-orientation":"vertical","data-state":XD(N.open),"data-radix-menu-content":"",dir:_.dir,...w,...x,ref:O,style:{outline:"none",...x.style},onKeyDown:xe(x.onKeyDown,G=>{const ie=G.target.closest("[data-radix-menu-content]")===G.currentTarget,Ee=G.ctrlKey||G.altKey||G.metaKey,Ke=G.key.length===1;ie&&(G.key==="Tab"&&G.preventDefault(),!Ee&&Ke&&me(G.key));const Ue=T.current;if(G.target!==Ue||!LK.includes(G.key))return;G.preventDefault();const De=E().filter(Y=>!Y.disabled).map(Y=>Y.ref.current);jD.includes(G.key)&&De.reverse(),aY(De)}),onBlur:xe(t.onBlur,G=>{G.currentTarget.contains(G.target)||(window.clearTimeout(B.current),P.current="")}),onPointerMove:xe(t.onPointerMove,Kf(G=>{const ee=G.target,ie=H.current!==G.clientX;if(G.currentTarget.contains(ee)&&ie){const Ee=G.clientX>H.current?"right":"left";q.current=Ee,H.current=G.clientX}}))})})})})})})});MD.displayName=Xi;var XK="MenuGroup",nN=b.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return o.jsx(Fe.div,{role:"group",...n,ref:e})});nN.displayName=XK;var QK="MenuLabel",RD=b.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return o.jsx(Fe.div,{...n,ref:e})});RD.displayName=QK;var Wg="MenuItem",l4="menu.itemSelect",Sv=b.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...i}=t,s=b.useRef(null),a=im(Wg,t.__scopeMenu),l=tN(Wg,t.__scopeMenu),c=lt(e,s),d=b.useRef(!1),h=()=>{const f=s.current;if(!r&&f){const m=new CustomEvent(l4,{bubbles:!0,cancelable:!0});f.addEventListener(l4,g=>n==null?void 0:n(g),{once:!0}),x_(f,m),m.defaultPrevented?d.current=!1:a.onClose()}};return o.jsx(FD,{...i,ref:c,disabled:r,onClick:xe(t.onClick,h),onPointerDown:f=>{var m;(m=t.onPointerDown)==null||m.call(t,f),d.current=!0},onPointerUp:xe(t.onPointerUp,f=>{var m;d.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:xe(t.onKeyDown,f=>{const m=l.searchRef.current!=="";r||m&&f.key===" "||ib.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Sv.displayName=Wg;var FD=b.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...s}=t,a=tN(Wg,r),l=TD(r),c=b.useRef(null),d=lt(e,c),[h,f]=b.useState(!1),[m,g]=b.useState("");return b.useEffect(()=>{const y=c.current;y&&g((y.textContent??"").trim())},[s.children]),o.jsx(Zf.ItemSlot,{scope:r,disabled:n,textValue:i??m,children:o.jsx(Q_,{asChild:!0,...l,focusable:!n,children:o.jsx(Fe.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:d,onPointerMove:xe(t.onPointerMove,Kf(y=>{n?a.onItemLeave(y):(a.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:xe(t.onPointerLeave,Kf(y=>a.onItemLeave(y))),onFocus:xe(t.onFocus,()=>f(!0)),onBlur:xe(t.onBlur,()=>f(!1))})})})}),JK="MenuCheckboxItem",LD=b.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...i}=t;return o.jsx(VD,{scope:t.__scopeMenu,checked:r,children:o.jsx(Sv,{role:"menuitemcheckbox","aria-checked":Hg(r)?"mixed":r,...i,ref:e,"data-state":sN(r),onSelect:xe(i.onSelect,()=>n==null?void 0:n(Hg(r)?!0:!r),{checkForDefaultPrevented:!1})})})});LD.displayName=JK;var BD="MenuRadioGroup",[eY,tY]=Wc(BD,{value:void 0,onValueChange:()=>{}}),UD=b.forwardRef((t,e)=>{const{value:r,onValueChange:n,...i}=t,s=Cn(n);return o.jsx(eY,{scope:t.__scopeMenu,value:r,onValueChange:s,children:o.jsx(nN,{...i,ref:e})})});UD.displayName=BD;var zD="MenuRadioItem",$D=b.forwardRef((t,e)=>{const{value:r,...n}=t,i=tY(zD,t.__scopeMenu),s=r===i.value;return o.jsx(VD,{scope:t.__scopeMenu,checked:s,children:o.jsx(Sv,{role:"menuitemradio","aria-checked":s,...n,ref:e,"data-state":sN(s),onSelect:xe(n.onSelect,()=>{var a;return(a=i.onValueChange)==null?void 0:a.call(i,r)},{checkForDefaultPrevented:!1})})})});$D.displayName=zD;var iN="MenuItemIndicator",[VD,rY]=Wc(iN,{checked:!1}),WD=b.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...i}=t,s=rY(iN,r);return o.jsx(Di,{present:n||Hg(s.checked)||s.checked===!0,children:o.jsx(Fe.span,{...i,ref:e,"data-state":sN(s.checked)})})});WD.displayName=iN;var nY="MenuSeparator",HD=b.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return o.jsx(Fe.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});HD.displayName=nY;var iY="MenuArrow",GD=b.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=Cv(r);return o.jsx(B_,{...i,...n,ref:e})});GD.displayName=iY;var sY="MenuSub",[v0e,qD]=Wc(sY),Yh="MenuSubTrigger",ZD=b.forwardRef((t,e)=>{const r=Hc(Yh,t.__scopeMenu),n=im(Yh,t.__scopeMenu),i=qD(Yh,t.__scopeMenu),s=tN(Yh,t.__scopeMenu),a=b.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,d={__scopeMenu:t.__scopeMenu},h=b.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return b.useEffect(()=>h,[h]),b.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),o.jsx(J_,{asChild:!0,...d,children:o.jsx(FD,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":XD(r.open),...t,ref:nv(e,i.onTriggerChange),onClick:f=>{var m;(m=t.onClick)==null||m.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:xe(t.onPointerMove,Kf(f=>{s.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!r.open&&!a.current&&(s.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{r.onOpenChange(!0),h()},100))})),onPointerLeave:xe(t.onPointerLeave,Kf(f=>{var g,y;h();const m=(g=r.content)==null?void 0:g.getBoundingClientRect();if(m){const x=(y=r.content)==null?void 0:y.dataset.side,N=x==="right",_=N?-5:5,w=m[N?"left":"right"],S=m[N?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+_,y:f.clientY},{x:w,y:m.top},{x:S,y:m.top},{x:S,y:m.bottom},{x:w,y:m.bottom}],side:x}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:xe(t.onKeyDown,f=>{var g;const m=s.searchRef.current!=="";t.disabled||m&&f.key===" "||BK[n.dir].includes(f.key)&&(r.onOpenChange(!0),(g=r.content)==null||g.focus(),f.preventDefault())})})})});ZD.displayName=Yh;var KD="MenuSubContent",YD=b.forwardRef((t,e)=>{const r=DD(Xi,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,s=Hc(Xi,t.__scopeMenu),a=im(Xi,t.__scopeMenu),l=qD(KD,t.__scopeMenu),c=b.useRef(null),d=lt(e,c);return o.jsx(Zf.Provider,{scope:t.__scopeMenu,children:o.jsx(Di,{present:n||s.open,children:o.jsx(Zf.Slot,{scope:t.__scopeMenu,children:o.jsx(rN,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:d,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var f;a.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:xe(t.onFocusOutside,h=>{h.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:xe(t.onEscapeKeyDown,h=>{a.onClose(),h.preventDefault()}),onKeyDown:xe(t.onKeyDown,h=>{var g;const f=h.currentTarget.contains(h.target),m=UK[a.dir].includes(h.key);f&&m&&(s.onOpenChange(!1),(g=l.trigger)==null||g.focus(),h.preventDefault())})})})})})});YD.displayName=KD;function XD(t){return t?"open":"closed"}function Hg(t){return t==="indeterminate"}function sN(t){return Hg(t)?"indeterminate":t?"checked":"unchecked"}function aY(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function oY(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function lY(t,e,r){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let a=oY(t,Math.max(s,0));i.length===1&&(a=a.filter(d=>d!==r));const c=a.find(d=>d.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function cY(t,e){const{x:r,y:n}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const l=e[s].x,c=e[s].y,d=e[a].x,h=e[a].y;c>n!=h>n&&r<(d-l)*(n-c)/(h-c)+l&&(i=!i)}return i}function uY(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return cY(r,e)}function Kf(t){return e=>e.pointerType==="mouse"?t(e):void 0}var dY=ID,hY=J_,fY=OD,pY=MD,mY=nN,gY=RD,vY=Sv,xY=LD,yY=UD,wY=$D,bY=WD,_Y=HD,NY=GD,CY=ZD,SY=YD,aN="DropdownMenu",[EY,x0e]=hn(aN,[PD]),si=PD(),[AY,QD]=EY(aN),JD=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:i,defaultOpen:s,onOpenChange:a,modal:l=!0}=t,c=si(e),d=b.useRef(null),[h=!1,f]=ts({prop:i,defaultProp:s,onChange:a});return o.jsx(AY,{scope:e,triggerId:Os(),triggerRef:d,contentId:Os(),open:h,onOpenChange:f,onOpenToggle:b.useCallback(()=>f(m=>!m),[f]),modal:l,children:o.jsx(dY,{...c,open:h,onOpenChange:f,dir:n,modal:l,children:r})})};JD.displayName=aN;var eO="DropdownMenuTrigger",tO=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=t,s=QD(eO,r),a=si(r);return o.jsx(hY,{asChild:!0,...a,children:o.jsx(Fe.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:nv(e,s.triggerRef),onPointerDown:xe(t.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:xe(t.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});tO.displayName=eO;var kY="DropdownMenuPortal",rO=t=>{const{__scopeDropdownMenu:e,...r}=t,n=si(e);return o.jsx(fY,{...n,...r})};rO.displayName=kY;var nO="DropdownMenuContent",iO=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=QD(nO,r),s=si(r),a=b.useRef(!1);return o.jsx(pY,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...n,ref:e,onCloseAutoFocus:xe(t.onCloseAutoFocus,l=>{var c;a.current||(c=i.triggerRef.current)==null||c.focus(),a.current=!1,l.preventDefault()}),onInteractOutside:xe(t.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,h=c.button===2||d;(!i.modal||h)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});iO.displayName=nO;var jY="DropdownMenuGroup",PY=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=si(r);return o.jsx(mY,{...i,...n,ref:e})});PY.displayName=jY;var TY="DropdownMenuLabel",sO=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=si(r);return o.jsx(gY,{...i,...n,ref:e})});sO.displayName=TY;var IY="DropdownMenuItem",aO=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=si(r);return o.jsx(vY,{...i,...n,ref:e})});aO.displayName=IY;var DY="DropdownMenuCheckboxItem",oO=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=si(r);return o.jsx(xY,{...i,...n,ref:e})});oO.displayName=DY;var OY="DropdownMenuRadioGroup",MY=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=si(r);return o.jsx(yY,{...i,...n,ref:e})});MY.displayName=OY;var RY="DropdownMenuRadioItem",lO=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=si(r);return o.jsx(wY,{...i,...n,ref:e})});lO.displayName=RY;var FY="DropdownMenuItemIndicator",cO=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=si(r);return o.jsx(bY,{...i,...n,ref:e})});cO.displayName=FY;var LY="DropdownMenuSeparator",uO=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=si(r);return o.jsx(_Y,{...i,...n,ref:e})});uO.displayName=LY;var BY="DropdownMenuArrow",UY=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=si(r);return o.jsx(NY,{...i,...n,ref:e})});UY.displayName=BY;var zY="DropdownMenuSubTrigger",dO=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=si(r);return o.jsx(CY,{...i,...n,ref:e})});dO.displayName=zY;var $Y="DropdownMenuSubContent",hO=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=si(r);return o.jsx(SY,{...i,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});hO.displayName=$Y;var VY=JD,WY=tO,HY=rO,fO=iO,pO=sO,mO=aO,gO=oO,vO=lO,xO=cO,yO=uO,wO=dO,bO=hO;const _O=VY,NO=WY,GY=b.forwardRef(({className:t,inset:e,children:r,...n},i)=>o.jsxs(wO,{ref:i,className:be("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n,children:[r,o.jsx(Yp,{className:"ml-auto"})]}));GY.displayName=wO.displayName;const qY=b.forwardRef(({className:t,...e},r)=>o.jsx(bO,{ref:r,className:be("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));qY.displayName=bO.displayName;const oN=b.forwardRef(({className:t,sideOffset:e=4,...r},n)=>o.jsx(HY,{children:o.jsx(fO,{ref:n,sideOffset:e,className:be("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...r})}));oN.displayName=fO.displayName;const Gg=b.forwardRef(({className:t,inset:e,...r},n)=>o.jsx(mO,{ref:n,className:be("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r}));Gg.displayName=mO.displayName;const ZY=b.forwardRef(({className:t,children:e,checked:r,...n},i)=>o.jsxs(gO,{ref:i,className:be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(xO,{children:o.jsx(qn,{className:"h-4 w-4"})})}),e]}));ZY.displayName=gO.displayName;const KY=b.forwardRef(({className:t,children:e,...r},n)=>o.jsxs(vO,{ref:n,className:be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(xO,{children:o.jsx(nI,{className:"h-2 w-2 fill-current"})})}),e]}));KY.displayName=vO.displayName;const CO=b.forwardRef(({className:t,inset:e,...r},n)=>o.jsx(pO,{ref:n,className:be("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));CO.displayName=pO.displayName;const SO=b.forwardRef(({className:t,...e},r)=>o.jsx(yO,{ref:r,className:be("-mx-1 my-1 h-px bg-muted",t),...e}));SO.displayName=yO.displayName;function EO(){const{user:t}=ns(),[e]=qs(),r=t?`${t.firstName||""} ${t.lastName||""}`.trim():"",n=r||(t==null?void 0:t.email)||"User",i=s=>e===s;return o.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-[70]",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsx("div",{className:"flex items-center space-x-4",children:o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx(hr,{className:"text-primary text-2xl"})})}),o.jsxs("nav",{className:"hidden lg:flex space-x-8",children:[o.jsx(wn,{href:"/",className:`transition-colors py-4 ${i("/")?"text-primary font-medium border-b-2 border-primary":"text-gray-600 hover:text-primary"}`,"data-testid":"nav-home",children:"Home"}),o.jsx(wn,{href:"/workouts",className:`transition-colors py-4 ${i("/workouts")?"text-primary font-medium border-b-2 border-primary":"text-gray-600 hover:text-primary"}`,"data-testid":"nav-workouts",children:"Workouts"}),o.jsx(wn,{href:"/progress",className:`transition-colors py-4 ${i("/progress")?"text-primary font-medium border-b-2 border-primary":"text-gray-600 hover:text-primary"}`,"data-testid":"nav-progress",children:"Progress"}),o.jsx(wn,{href:"/calendar",className:`transition-colors py-4 ${i("/calendar")?"text-primary font-medium border-b-2 border-primary":"text-gray-600 hover:text-primary"}`,"data-testid":"nav-calendar",children:"Calendar"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(wZ,{}),o.jsx("div",{className:"hidden lg:flex items-center space-x-3",children:o.jsxs(_O,{children:[o.jsx(NO,{asChild:!0,children:o.jsxs(ue,{variant:"ghost",className:"flex items-center space-x-2 hover:bg-gray-50","data-testid":"user-menu-trigger",children:[o.jsx("span",{className:"text-sm text-gray-700",children:n}),o.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center overflow-hidden border-2 border-gray-200",children:t!=null&&t.profileImageUrl?o.jsx("img",{src:t.profileImageUrl,alt:"Profile",className:"w-full h-full object-cover","data-testid":"nav-profile-image"}):o.jsx(Hf,{className:"text-white text-sm"})}),o.jsx(Yd,{className:"w-4 h-4 text-gray-500"})]})}),o.jsxs(oN,{align:"end",className:"w-56",children:[o.jsx(CO,{className:"font-normal",children:o.jsxs("div",{className:"flex flex-col space-y-1",children:[o.jsx("p",{className:"text-sm font-medium leading-none",children:r||"Welcome!"}),o.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:t==null?void 0:t.email})]})}),o.jsx(SO,{}),o.jsx(Gg,{asChild:!0,children:o.jsx(_v,{trigger:o.jsxs("div",{className:"flex items-center w-full cursor-pointer","data-testid":"profile-menu-item",children:[o.jsx(Hf,{className:"w-4 h-4 mr-2"}),"Edit Profile"]})})})]})]})})]})]})})})}function AO(){const[t]=qs(),e=r=>t===r;return o.jsx("div",{className:"md:hidden bg-white border-t border-gray-200 fixed bottom-0 left-0 right-0 z-40 safe-area-inset-bottom",children:o.jsxs("div",{className:"flex justify-around py-2",children:[o.jsxs(wn,{href:"/",className:`flex flex-col items-center p-2 transition-colors ${e("/")?"text-primary":"text-muted hover:text-primary"}`,"data-testid":"mobile-nav-home",children:[o.jsx(ov,{className:"text-lg"}),o.jsx("span",{className:"text-xs mt-1",children:"Home"})]}),o.jsxs(wn,{href:"/workouts",className:`flex flex-col items-center p-2 transition-colors ${e("/workouts")?"text-primary":"text-muted hover:text-primary"}`,"data-testid":"mobile-nav-workouts",children:[o.jsx(hr,{className:"text-lg"}),o.jsx("span",{className:"text-xs mt-1",children:"Workouts"})]}),o.jsxs(wn,{href:"/progress",className:`flex flex-col items-center p-2 transition-colors ${e("/progress")?"text-primary":"text-muted hover:text-primary"}`,"data-testid":"mobile-nav-progress",children:[o.jsx(Xr,{className:"text-lg"}),o.jsx("span",{className:"text-xs mt-1",children:"Progress"})]}),o.jsxs(wn,{href:"/calendar",className:`flex flex-col items-center p-2 transition-colors ${e("/calendar")?"text-primary":"text-muted hover:text-primary"}`,"data-testid":"mobile-nav-calendar",children:[o.jsx(ei,{className:"text-lg"}),o.jsx("span",{className:"text-xs mt-1",children:"Calendar"})]})]})})}function YY(){return o.jsxs("div",{className:"font-inter bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-200 min-h-screen",children:[o.jsx(EO,{}),o.jsx(AO,{}),o.jsxs("div",{className:"relative min-h-screen bg-black hexagon-bg hexagon-pattern overflow-hidden",children:[o.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0",children:[o.jsx("div",{className:"absolute top-20 left-10 w-32 h-28 opacity-20 animate-pulse",style:{animationDuration:"6s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"#dc2626",stroke:"#dc2626",strokeWidth:"2",opacity:"0.3"})})}),o.jsx("div",{className:"absolute top-40 right-16 w-24 h-21 opacity-15 animate-bounce",style:{animationDuration:"8s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"none",stroke:"#dc2626",strokeWidth:"1",opacity:"0.4"})})}),o.jsx("div",{className:"absolute top-96 left-1/4 w-28 h-24 opacity-25 animate-ping",style:{animationDuration:"10s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"#000000",stroke:"#dc2626",strokeWidth:"2",opacity:"0.6"})})}),o.jsx("div",{className:"absolute bottom-80 right-1/3 w-20 h-17 opacity-30 animate-bounce",style:{animationDuration:"7s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"#dc2626",stroke:"#000000",strokeWidth:"1",opacity:"0.5"})})}),o.jsx("div",{className:"absolute bottom-40 left-20 w-36 h-31 opacity-20 animate-pulse",style:{animationDuration:"9s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"none",stroke:"#dc2626",strokeWidth:"2",opacity:"0.3"})})}),o.jsx("div",{className:"absolute top-1/3 right-1/4 w-26 h-22 opacity-15 animate-ping",style:{animationDuration:"12s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"#000000",stroke:"#dc2626",strokeWidth:"1",opacity:"0.4"})})})]}),o.jsxs("main",{className:"relative z-10 container mx-auto px-4 py-16 pt-32",children:[o.jsxs("div",{className:"text-center space-y-8 max-w-4xl mx-auto",children:[o.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-white",children:["Your Complete",o.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-red-600 to-red-400 block",children:"Fitness Journey"}),"Starts Here"]}),o.jsx("p",{className:"text-2xl font-bold text-black mb-4",children:"Eat Clean, Think Smart, Train HARD!"}),o.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto leading-relaxed",children:"FlexFlow is your all-in-one fitness companion featuring AI-powered workout recommendations, personalized meal planning, progress tracking, and a supportive community to help you reach your health and fitness goals faster than ever before."}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(ue,{size:"lg",className:"text-lg px-8 py-4",asChild:!0,children:o.jsxs("a",{href:"/home",children:[o.jsx(Tc,{className:"mr-2",size:20}),"Start Your Journey"]})}),o.jsx("p",{className:"text-sm text-gray-400",children:"Access your personalized dashboard"})]})]}),o.jsxs("div",{className:"relative z-10 mt-20",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Complete Fitness Ecosystem"}),o.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Everything you need to transform your health and fitness journey in one powerful application"})]}),o.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16",children:[o.jsxs("div",{className:"text-center p-6 rounded-2xl bg-black border border-red-600/30 shadow-lg shadow-red-600/20",children:[o.jsx("div",{className:"w-16 h-16 bg-red-600/20 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(hr,{className:"text-red-600",size:24})}),o.jsx("h3",{className:"font-semibold text-lg mb-2 text-white",children:"Smart Workout Tracking"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"Log exercises with sets, reps, and weights. AI automatically adjusts workout difficulty based on your performance and progress patterns."})]}),o.jsxs("div",{className:"text-center p-6 rounded-2xl bg-black border border-red-600/30 shadow-lg shadow-red-600/20",children:[o.jsx("div",{className:"w-16 h-16 bg-red-600/20 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(tI,{className:"text-red-600",size:24})}),o.jsx("h3",{className:"font-semibold text-lg mb-2 text-white",children:"AI-Powered Plans"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"Get personalized workout and nutrition plans based on your age, goals, fitness level, and preferences. Plans adapt as you progress."})]}),o.jsxs("div",{className:"text-center p-6 rounded-2xl bg-black border border-red-600/30 shadow-lg shadow-red-600/20",children:[o.jsx("div",{className:"w-16 h-16 bg-red-600/20 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Wf,{className:"text-red-600",size:24})}),o.jsx("h3",{className:"font-semibold text-lg mb-2 text-white",children:"Advanced Analytics"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"Track strength gains, endurance improvements, and body composition changes with detailed charts and performance insights."})]}),o.jsxs("div",{className:"text-center p-6 rounded-2xl bg-black border border-red-600/30 shadow-lg shadow-red-600/20",children:[o.jsx("div",{className:"w-16 h-16 bg-red-600/20 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(cI,{className:"text-red-600",size:24})}),o.jsx("h3",{className:"font-semibold text-lg mb-2 text-white",children:"Personalized Nutrition"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"Custom meal plans with calorie and macro tracking. Barcode scanner for easy food logging and recipe recommendations based on your dietary goals."})]}),o.jsxs("div",{className:"text-center p-6 rounded-2xl bg-black border border-red-600/30 shadow-lg shadow-red-600/20",children:[o.jsx("div",{className:"w-16 h-16 bg-red-600/20 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Vc,{className:"text-red-600",size:24})}),o.jsx("h3",{className:"font-semibold text-lg mb-2 text-white",children:"Activity Tracking"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"Built-in mile tracker with GPS integration, workout timers, and comprehensive activity monitoring for running, walking, and cardio sessions."})]}),o.jsxs("div",{className:"text-center p-6 rounded-2xl bg-black border border-red-600/30 shadow-lg shadow-red-600/20",children:[o.jsx("div",{className:"w-16 h-16 bg-red-600/20 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Xd,{className:"text-red-600",size:24})}),o.jsx("h3",{className:"font-semibold text-lg mb-2 text-white",children:"Social Community"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"Connect with fitness enthusiasts, compete on leaderboards, share achievements, and get motivated by a supportive community."})]})]}),o.jsxs("div",{className:"bg-gradient-to-r from-red-600/10 to-red-800/10 rounded-2xl p-8 border border-red-600/20",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-red-600/20 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Lg,{className:"text-red-600",size:32})}),o.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Premium Features"}),o.jsx("p",{className:"text-gray-300",children:"Unlock the full potential of your fitness journey"})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(eo,{className:"text-yellow-500 flex-shrink-0 mt-1",size:20}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-white",children:"Advanced Meal Planning"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"Custom recipes, shopping lists, and nutrition coaching"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(Wf,{className:"text-blue-500 flex-shrink-0 mt-1",size:20}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-white",children:"Deep Analytics"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"Detailed body composition tracking and trend analysis"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(Lg,{className:"text-purple-500 flex-shrink-0 mt-1",size:20}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-white",children:"Priority Support"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"24/7 customer support and exclusive features access"})]})]})]})]})]}),o.jsxs("div",{className:"relative z-10 text-center mt-20 p-8 rounded-2xl bg-gradient-to-r from-primary to-secondary text-white",children:[o.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Transform Your Fitness?"}),o.jsx("p",{className:"text-xl mb-6 opacity-90",children:"Access all your tools and start tracking your journey today"}),o.jsx(ue,{size:"lg",variant:"secondary",className:"text-lg px-8 py-4",asChild:!0,children:o.jsxs("a",{href:"/home",children:[o.jsx(Tc,{className:"mr-2",size:20}),"Go to Dashboard"]})})]})]})]})]})}function lN(){const{data:t,isLoading:e}=Rt({queryKey:["/api/stats"]});return e?o.jsx("section",{className:"mb-8",children:o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[...Array(4)].map((r,n)=>o.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 animate-pulse",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"bg-gray-200 rounded-lg p-2 w-10 h-10"}),o.jsxs("div",{children:[o.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded mb-1"}),o.jsx("div",{className:"h-4 w-12 bg-gray-200 rounded"})]})]})},n))})}):t?o.jsx("section",{className:"mb-8",children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"bg-primary bg-opacity-10 rounded-lg p-2",children:o.jsx(hr,{className:"text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold text-primary",children:t.totalWorkouts}),o.jsx("p",{className:"text-sm text-muted",children:"Workouts"})]})]})}),o.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"bg-secondary bg-opacity-10 rounded-lg p-2",children:o.jsx(Vc,{className:"text-secondary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold text-secondary",children:t.totalHours}),o.jsx("p",{className:"text-sm text-muted",children:"Hours"})]})]})}),o.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"bg-accent bg-opacity-10 rounded-lg p-2",children:o.jsx(Xa,{className:"text-accent"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold text-accent",children:t.caloriesBurned.toLocaleString()}),o.jsx("p",{className:"text-sm text-muted",children:"Calories"})]})]})}),o.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"bg-green-500 bg-opacity-10 rounded-lg p-2",children:o.jsx(Yi,{className:"text-green-500"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold text-green-500",children:t.personalRecords}),o.jsx("p",{className:"text-sm text-muted",children:"PRs"})]})]})})]})}):o.jsx("section",{className:"mb-8",children:o.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:o.jsx("p",{className:"text-center text-muted",children:"Unable to load stats"})})})}const Le=b.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,className:be("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Le.displayName="Card";const kt=b.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,className:be("flex flex-col space-y-1.5 p-6",t),...e}));kt.displayName="CardHeader";const Ot=b.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,className:be("text-2xl font-semibold leading-none tracking-tight",t),...e}));Ot.displayName="CardTitle";const qr=b.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,className:be("text-sm text-muted-foreground",t),...e}));qr.displayName="CardDescription";const Ve=b.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,className:be("p-6 pt-0",t),...e}));Ve.displayName="CardContent";const XY=b.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,className:be("flex items-center p-6 pt-0",t),...e}));XY.displayName="CardFooter";function QY({onRefresh:t,threshold:e=80,maxPull:r=120}){const[n,i]=b.useState(!1),[s,a]=b.useState(!1),[l,c]=b.useState(0),d=b.useRef(0),h=b.useRef(null),f=b.useRef(0),m=b.useRef(!1);return b.useEffect(()=>{f.current=l},[l]),b.useEffect(()=>{m.current=s},[s]),b.useEffect(()=>{const y=h.current;if(!y)return;let x=0,N=0;const _=E=>{x=E.touches[0].clientY,N=window.scrollY||y.scrollTop,d.current=x},w=E=>{if(N>5||m.current)return;const D=E.touches[0].clientY-x;if(D>0){i(!0);const T=Math.min(D*.5,r);f.current=T,c(T),D>10&&E.preventDefault()}},S=async()=>{if(f.current>=e&&!m.current){a(!0),m.current=!0;try{await t()}finally{setTimeout(()=>{a(!1),m.current=!1,i(!1),c(0),f.current=0},500)}}else i(!1),c(0),f.current=0};return y.addEventListener("touchstart",_,{passive:!0}),y.addEventListener("touchmove",w,{passive:!1}),y.addEventListener("touchend",S),()=>{y.removeEventListener("touchstart",_),y.removeEventListener("touchmove",w),y.removeEventListener("touchend",S)}},[e,r,t]),{containerRef:h,PullToRefreshIndicator:()=>{if(!n&&!s)return null;const y=Math.min(l/e*360,360),x=Math.min(l/e,1);return o.jsx("div",{className:"fixed top-0 left-0 right-0 flex justify-center items-center z-50 transition-all duration-200",style:{transform:`translateY(${Math.min(l,r)}px)`,opacity:x},children:o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-full p-3 shadow-xl",children:o.jsx(aI,{size:24,className:`text-primary ${s?"pull-refresh-spinner":""}`,style:{transform:`rotate(${y}deg)`,transition:s?"none":"transform 0.2s"}})})})},isRefreshing:s,isPulling:n}}const sb="/assets/men_and_women_workin_dbbf742b-34QjkGRm.jpg",JY="/assets/woman_strength_train_10dee1d1-CiKlhEXo.jpg",eX="/assets/woman_strength_train_eff6079d-V86tgtDs.jpg",c4="/assets/man_doing_cardio_run_26f92c48-BR0t1r3-.jpg",tX="/assets/man_doing_cardio_run_1b64af4d-4RVzuc_P.jpg",rX="/assets/people_group_fitness_14845970-CBv_rKA2.jpg",nX="/assets/people_group_fitness_0fe8a6fd-B3xs4Py4.jpg";function u4(){const[t,e]=b.useState(!1),{user:r}=ns(),[,n]=qs(),i=Rn(),s=async()=>{await Promise.all([i.invalidateQueries({queryKey:["/api/stats"]}),i.invalidateQueries({queryKey:["/api/notification-preferences"]}),i.invalidateQueries({queryKey:["/api/auth/user"]})])},{containerRef:a,PullToRefreshIndicator:l,isRefreshing:c}=QY({onRefresh:s});b.useEffect(()=>{const f=localStorage.getItem("hasShownProfileEditor");if(r&&!f){const m=setTimeout(()=>{e(!0),localStorage.setItem("hasShownProfileEditor","true")},1e3);return()=>clearTimeout(m)}},[r]);const d=[{icon:hr,title:"Log Workouts",description:"Track your exercises, sets, reps, and weight",link:"/workouts",color:"red-dark",testId:"link-workouts"},{icon:yc,title:"Mile Tracker",description:"GPS-powered automatic mile counting for runs",link:"/mile-tracker",color:"red",testId:"link-mile-tracker"},{icon:Xr,title:"View Progress",description:"See charts and analytics of your fitness journey",link:"/progress",color:"red-dark",testId:"link-progress"},{icon:Si,title:"AI Features",description:"Get personalized workout & meal recommendations",link:"/subscription",color:"red-light",badge:"Premium",testId:"link-premium"}],h=f=>{const m={red:"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800","red-dark":"from-red-700 to-red-900 hover:from-red-800 hover:to-black","red-light":"from-red-400 to-red-600 hover:from-red-500 hover:to-red-700"};return m[f]||m.red};return o.jsxs("div",{ref:a,className:"font-inter bg-black text-gray-200 min-h-screen",children:[o.jsx(l,{}),o.jsx(EO,{}),o.jsx(AO,{}),o.jsxs("main",{className:"max-w-6xl mx-auto px-4 md:px-6 py-6 pb-24 md:pb-8",children:[o.jsxs("div",{className:"mb-8 md:mb-12",children:[o.jsx("h1",{className:"mobile-large-title md:text-5xl bg-gradient-to-r from-red-500 via-orange-500 to-red-700 bg-clip-text text-transparent mb-2 lg:desktop-scale-in mobile-bounce-in","data-testid":"text-welcome",children:"Welcome Back"}),o.jsx("p",{className:"mobile-subtitle md:text-xl text-gray-400 lg:desktop-fade-in mobile-slide-up","data-testid":"text-tagline",children:"Your complete fitness companion"})]}),o.jsx("div",{className:"mb-6 p-4 bg-gradient-to-r from-red-600 to-orange-600 rounded-2xl shadow-xl lg:desktop-slide-from-left mobile-bounce-in",children:o.jsx("p",{className:"text-white font-medium text-sm md:text-base","data-testid":"text-description",children:" Ready to crush your goals? Start logging workouts or explore AI-powered plans!"})}),o.jsxs("div",{className:"hidden md:grid",children:[o.jsx("p",{className:"text-lg text-gray-400 max-w-2xl mx-auto mb-8 text-center",children:"Track workouts, monitor progress, and use GPS to automatically count your miles. Upgrade to Premium for AI-powered workout and meal recommendations."}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 max-w-6xl mx-auto",children:[o.jsx("img",{src:sb,alt:"Men and women working out together",className:"w-full h-48 object-cover rounded-xl shadow-lg shadow-red-900/50 border border-red-500/30 hover:scale-105 transition-transform lg:desktop-fade-in mobile-slide-up",style:{animationDelay:"0s"},"data-testid":"img-hero-1"}),o.jsx("img",{src:JY,alt:"Woman strength training with weights",className:"w-full h-48 object-cover rounded-xl shadow-lg shadow-red-900/50 border border-red-500/30 hover:scale-105 transition-transform lg:desktop-fade-in mobile-slide-up",style:{animationDelay:"0.1s"},"data-testid":"img-hero-2"}),o.jsx("img",{src:c4,alt:"Man doing cardio running",className:"w-full h-48 object-cover rounded-xl shadow-lg shadow-red-900/50 border border-red-500/30 hover:scale-105 transition-transform lg:desktop-fade-in mobile-slide-up",style:{animationDelay:"0.2s"},"data-testid":"img-hero-3"}),o.jsx("img",{src:rX,alt:"Group fitness class",className:"w-full h-48 object-cover rounded-xl shadow-lg shadow-red-900/50 border border-red-500/30 hover:scale-105 transition-transform lg:desktop-fade-in mobile-slide-up",style:{animationDelay:"0.3s"},"data-testid":"img-hero-4"}),o.jsx("img",{src:eX,alt:"Woman weightlifting in gym",className:"w-full h-48 object-cover rounded-xl shadow-lg shadow-red-900/50 border border-red-500/30 hover:scale-105 transition-transform lg:desktop-fade-in mobile-slide-up",style:{animationDelay:"0.4s"},"data-testid":"img-hero-5"}),o.jsx("img",{src:tX,alt:"Man fitness exercise",className:"w-full h-48 object-cover rounded-xl shadow-lg shadow-red-900/50 border border-red-500/30 hover:scale-105 transition-transform lg:desktop-fade-in mobile-slide-up",style:{animationDelay:"0.5s"},"data-testid":"img-hero-6"}),o.jsx("img",{src:nX,alt:"People group workout",className:"w-full h-48 object-cover rounded-xl shadow-lg shadow-red-900/50 border border-red-500/30 hover:scale-105 transition-transform lg:desktop-fade-in mobile-slide-up",style:{animationDelay:"0.6s"},"data-testid":"img-hero-7"}),o.jsx("div",{className:"w-full h-48 bg-gradient-to-br from-red-500 to-red-700 rounded-xl shadow-lg shadow-red-900/50 border border-red-500/30 flex items-center justify-center hover:scale-105 transition-transform lg:desktop-fade-in mobile-slide-up",style:{animationDelay:"0.7s"},children:o.jsxs("div",{className:"text-center text-white px-4",children:[o.jsx(hr,{size:48,className:"mx-auto mb-3"}),o.jsx("p",{className:"font-bold text-lg",children:"Start Your Journey"})]})})]})]}),o.jsx(lN,{}),o.jsxs("div",{className:"mt-8 md:mt-12",children:[o.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-6 text-red-400 mobile-large-title md:mobile-large-title","data-testid":"text-features-heading",children:"Quick Actions"}),o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:d.map((f,m)=>{const g=f.icon,y=f.title==="Log Workouts",x=f.title==="Mile Tracker";return o.jsx(wn,{href:f.link,children:o.jsxs(Le,{className:`mobile-card relative overflow-hidden bg-gradient-to-br ${h(f.color)} border-0 shadow-xl hover:shadow-2xl transition-all duration-200 cursor-pointer group h-full touch-ripple lg:desktop-scale-in mobile-bounce-in active:scale-95`,style:{animationDelay:`${m*.1}s`},"data-testid":f.testId,children:[y&&o.jsx(o.Fragment,{children:o.jsxs("div",{className:"absolute inset-0",children:[o.jsx("img",{src:sb,alt:"Workout background",className:"w-full h-full object-cover opacity-30 group-hover:opacity-40 transition-opacity"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-900/80 to-black/90"})]})}),x&&o.jsx(o.Fragment,{children:o.jsxs("div",{className:"absolute inset-0",children:[o.jsx("img",{src:c4,alt:"Running background",className:"w-full h-full object-cover opacity-30 group-hover:opacity-40 transition-opacity"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-600/80 to-red-900/90"})]})}),o.jsxs(Ve,{className:"relative p-6 text-white h-full flex flex-col",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsx("div",{className:"p-3 bg-white/20 rounded-lg group-hover:bg-white/30 transition-colors",children:o.jsx(g,{size:28})}),f.badge&&o.jsx("span",{className:"px-3 py-1 bg-white/20 rounded-full text-xs font-semibold",children:f.badge})]}),o.jsx("h3",{className:"text-xl font-bold mb-2",children:f.title}),o.jsx("p",{className:"text-white/90 text-sm mb-4 flex-grow",children:f.description}),o.jsxs("div",{className:"flex items-center text-sm font-semibold group-hover:translate-x-1 transition-transform",children:["Get Started ",o.jsx(Yp,{size:16,className:"ml-1"})]})]})]})},f.title)})})]}),o.jsx(Le,{className:"mt-12 bg-gradient-to-br from-red-950/30 to-black border border-red-500/50 shadow-lg shadow-red-500/20",children:o.jsxs(Ve,{className:"p-8",children:[o.jsx("h2",{className:"text-2xl font-bold mb-6 text-red-400","data-testid":"text-tips-heading",children:" Quick Start Guide"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-red-300 mb-3",children:"For Beginners:"}),o.jsxs("ol",{className:"space-y-2 text-gray-300",children:[o.jsxs("li",{className:"flex items-start","data-testid":"text-tip-1",children:[o.jsx("span",{className:"text-red-500 font-bold mr-2",children:"1."}),o.jsxs("span",{children:["Click ",o.jsx("strong",{className:"text-red-400",children:"Log Workouts"})," to record your first exercise"]})]}),o.jsxs("li",{className:"flex items-start","data-testid":"text-tip-2",children:[o.jsx("span",{className:"text-red-500 font-bold mr-2",children:"2."}),o.jsxs("span",{children:["Use ",o.jsx("strong",{className:"text-red-400",children:"Mile Tracker"})," to automatically count your running distance"]})]}),o.jsxs("li",{className:"flex items-start","data-testid":"text-tip-3",children:[o.jsx("span",{className:"text-red-500 font-bold mr-2",children:"3."}),o.jsxs("span",{children:["Check ",o.jsx("strong",{className:"text-red-400",children:"View Progress"})," to see your stats and charts"]})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-red-300 mb-3",children:"Popular Features:"}),o.jsxs("ul",{className:"space-y-2 text-gray-300",children:[o.jsxs("li",{className:"flex items-start","data-testid":"text-feature-1",children:[o.jsx("span",{className:"text-red-400 mr-2",children:""}),o.jsxs("span",{children:[o.jsx("strong",{className:"text-red-400",children:"Mile Tracker"})," uses GPS to auto-count miles while running"]})]}),o.jsxs("li",{className:"flex items-start","data-testid":"text-feature-3",children:[o.jsx("span",{className:"text-red-400 mr-2",children:""}),o.jsxs("span",{children:[o.jsx("strong",{className:"text-red-400",children:"Premium AI"})," provides personalized workout & meal plans"]})]})]})]})]})]})})]}),o.jsx(_v,{isOpen:t,setIsOpen:e}),o.jsx("button",{onClick:()=>n("/workouts"),className:"fab mobile-pulse","aria-label":"Log new workout","data-testid":"button-fab-workout",children:o.jsx(wc,{size:28})})]})}function Pt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Vs(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function iX(t,e){const r=Pt(t);return isNaN(e)?Vs(t,NaN):(r.setDate(r.getDate()+e),r)}function kO(t,e){const r=Pt(t);if(isNaN(e))return Vs(t,NaN);if(!e)return r;const n=r.getDate(),i=Vs(t,r.getTime());i.setMonth(r.getMonth()+e+1,0);const s=i.getDate();return n>=s?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}const jO=6048e5,sX=864e5,f0=43200,d4=1440;let aX={};function sm(){return aX}function Yf(t,e){var l,c,d,h;const r=sm(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((h=(d=r.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,i=Pt(t),s=i.getDay(),a=(s<n?7:0)+s-n;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function qg(t){return Yf(t,{weekStartsOn:1})}function PO(t){const e=Pt(t),r=e.getFullYear(),n=Vs(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=qg(n),s=Vs(t,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const a=qg(s);return e.getTime()>=i.getTime()?r+1:e.getTime()>=a.getTime()?r:r-1}function Zg(t){const e=Pt(t);return e.setHours(0,0,0,0),e}function Kg(t){const e=Pt(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function oX(t,e){const r=Zg(t),n=Zg(e),i=+r-Kg(r),s=+n-Kg(n);return Math.round((i-s)/sX)}function lX(t){const e=PO(t),r=Vs(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),qg(r)}function Q0(t,e){const r=Pt(t),n=Pt(e),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}function cN(t){return Vs(t,Date.now())}function wf(t,e){const r=Zg(t),n=Zg(e);return+r==+n}function cX(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function uX(t){if(!cX(t)&&typeof t!="number")return!1;const e=Pt(t);return!isNaN(Number(e))}function dX(t,e){const r=Pt(t),n=Pt(e),i=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return i*12+s}function hX(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function fX(t,e){return+Pt(t)-+Pt(e)}function pX(t){const e=Pt(t);return e.setHours(23,59,59,999),e}function ab(t){const e=Pt(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function mX(t){const e=Pt(t);return+pX(e)==+ab(e)}function gX(t,e){const r=Pt(t),n=Pt(e),i=Q0(r,n),s=Math.abs(dX(r,n));let a;if(s<1)a=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*s);let l=Q0(r,n)===-i;mX(Pt(t))&&s===1&&Q0(t,n)===1&&(l=!1),a=i*(s-Number(l))}return a===0?0:a}function vX(t,e,r){const n=fX(t,e)/1e3;return hX(r==null?void 0:r.roundingMethod)(n)}function xX(t,e){const r=Pt(t.start),n=Pt(t.end);let i=+r>+n;const s=i?+r:+n,a=i?n:r;a.setHours(0,0,0,0);let l=1;const c=[];for(;+a<=s;)c.push(Pt(a)),a.setDate(a.getDate()+l),a.setHours(0,0,0,0);return i?c.reverse():c}function h4(t){const e=Pt(t);return e.setDate(1),e.setHours(0,0,0,0),e}function yX(t){const e=Pt(t),r=Vs(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const wX={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},bX=(t,e,r)=>{let n;const i=wX[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function iy(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const _X={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},NX={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},CX={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},SX={date:iy({formats:_X,defaultWidth:"full"}),time:iy({formats:NX,defaultWidth:"full"}),dateTime:iy({formats:CX,defaultWidth:"full"})},EX={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},AX=(t,e,r,n)=>EX[t];function Ih(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):a;i=t.formattingValues[l]||t.formattingValues[a]}else{const a=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[l]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const kX={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},jX={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},PX={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},TX={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},IX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},DX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},OX=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},MX={ordinalNumber:OX,era:Ih({values:kX,defaultWidth:"wide"}),quarter:Ih({values:jX,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ih({values:PX,defaultWidth:"wide"}),day:Ih({values:TX,defaultWidth:"wide"}),dayPeriod:Ih({values:IX,defaultWidth:"wide",formattingValues:DX,defaultFormattingWidth:"wide"})};function Dh(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?FX(l,f=>f.test(a)):RX(l,f=>f.test(a));let d;d=t.valueCallback?t.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const h=e.slice(a.length);return{value:d,rest:h}}}function RX(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function FX(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function LX(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=r.valueCallback?r.valueCallback(a):a;const l=e.slice(i.length);return{value:a,rest:l}}}const BX=/^(\d+)(th|st|nd|rd)?/i,UX=/\d+/i,zX={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},$X={any:[/^b/i,/^(a|c)/i]},VX={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},WX={any:[/1/i,/2/i,/3/i,/4/i]},HX={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},GX={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},qX={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ZX={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},KX={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},YX={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},XX={ordinalNumber:LX({matchPattern:BX,parsePattern:UX,valueCallback:t=>parseInt(t,10)}),era:Dh({matchPatterns:zX,defaultMatchWidth:"wide",parsePatterns:$X,defaultParseWidth:"any"}),quarter:Dh({matchPatterns:VX,defaultMatchWidth:"wide",parsePatterns:WX,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Dh({matchPatterns:HX,defaultMatchWidth:"wide",parsePatterns:GX,defaultParseWidth:"any"}),day:Dh({matchPatterns:qX,defaultMatchWidth:"wide",parsePatterns:ZX,defaultParseWidth:"any"}),dayPeriod:Dh({matchPatterns:KX,defaultMatchWidth:"any",parsePatterns:YX,defaultParseWidth:"any"})},TO={code:"en-US",formatDistance:bX,formatLong:SX,formatRelative:AX,localize:MX,match:XX,options:{weekStartsOn:0,firstWeekContainsDate:1}};function QX(t){const e=Pt(t);return oX(e,yX(e))+1}function JX(t){const e=Pt(t),r=+qg(e)-+lX(e);return Math.round(r/jO)+1}function IO(t,e){var h,f,m,g;const r=Pt(t),n=r.getFullYear(),i=sm(),s=(e==null?void 0:e.firstWeekContainsDate)??((f=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((g=(m=i.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,a=Vs(t,0);a.setFullYear(n+1,0,s),a.setHours(0,0,0,0);const l=Yf(a,e),c=Vs(t,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const d=Yf(c,e);return r.getTime()>=l.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function eQ(t,e){var l,c,d,h;const r=sm(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(d=r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,i=IO(t,e),s=Vs(t,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),Yf(s,e)}function tQ(t,e){const r=Pt(t),n=+Yf(r,e)-+eQ(r,e);return Math.round(n/jO)+1}function Kt(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const bo={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Kt(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Kt(r+1,2)},d(t,e){return Kt(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Kt(t.getHours()%12||12,e.length)},H(t,e){return Kt(t.getHours(),e.length)},m(t,e){return Kt(t.getMinutes(),e.length)},s(t,e){return Kt(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return Kt(i,e.length)}},su={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},f4={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return bo.y(t,e)},Y:function(t,e,r,n){const i=IO(t,n),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return Kt(a,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):Kt(s,e.length)},R:function(t,e){const r=PO(t);return Kt(r,e.length)},u:function(t,e){const r=t.getFullYear();return Kt(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Kt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Kt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return bo.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Kt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=tQ(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):Kt(i,e.length)},I:function(t,e,r){const n=JX(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Kt(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):bo.d(t,e)},D:function(t,e,r){const n=QX(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Kt(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Kt(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Kt(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return Kt(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=su.noon:n===0?i=su.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=su.evening:n>=12?i=su.afternoon:n>=4?i=su.morning:i=su.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return bo.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):bo.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Kt(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Kt(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):bo.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):bo.s(t,e)},S:function(t,e){return bo.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return m4(n);case"XXXX":case"XX":return Fl(n);case"XXXXX":case"XXX":default:return Fl(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return m4(n);case"xxxx":case"xx":return Fl(n);case"xxxxx":case"xxx":default:return Fl(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+p4(n,":");case"OOOO":default:return"GMT"+Fl(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+p4(n,":");case"zzzz":default:return"GMT"+Fl(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return Kt(n,e.length)},T:function(t,e,r){const n=t.getTime();return Kt(n,e.length)}};function p4(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+e+Kt(s,2)}function m4(t,e){return t%60===0?(t>0?"-":"+")+Kt(Math.abs(t)/60,2):Fl(t,e)}function Fl(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Kt(Math.trunc(n/60),2),s=Kt(n%60,2);return r+i+e+s}const g4=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},DO=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},rQ=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return g4(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",g4(n,e)).replace("{{time}}",DO(i,e))},nQ={p:DO,P:rQ},iQ=/^D+$/,sQ=/^Y+$/,aQ=["D","DD","YY","YYYY"];function oQ(t){return iQ.test(t)}function lQ(t){return sQ.test(t)}function cQ(t,e,r){const n=uQ(t,e,r);if(console.warn(n),aQ.includes(t))throw new RangeError(n)}function uQ(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const dQ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,hQ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fQ=/^'([^]*?)'?$/,pQ=/''/g,mQ=/[a-zA-Z]/;function Tn(t,e,r){var h,f,m,g;const n=sm(),i=n.locale??TO,s=n.firstWeekContainsDate??((f=(h=n.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,a=n.weekStartsOn??((g=(m=n.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??0,l=Pt(t);if(!uX(l))throw new RangeError("Invalid time value");let c=e.match(hQ).map(y=>{const x=y[0];if(x==="p"||x==="P"){const N=nQ[x];return N(y,i.formatLong)}return y}).join("").match(dQ).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const x=y[0];if(x==="'")return{isToken:!1,value:gQ(y)};if(f4[x])return{isToken:!0,value:y};if(x.match(mQ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const d={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return c.map(y=>{if(!y.isToken)return y.value;const x=y.value;(lQ(x)||oQ(x))&&cQ(x,e,String(t));const N=f4[x[0]];return N(l,x,i.localize,d)}).join("")}function gQ(t){const e=t.match(fQ);return e?e[1].replace(pQ,"'"):t}function vQ(t,e,r){const n=sm(),i=(r==null?void 0:r.locale)??n.locale??TO,s=2520,a=Q0(t,e);if(isNaN(a))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:a});let c,d;a>0?(c=Pt(e),d=Pt(t)):(c=Pt(t),d=Pt(e));const h=vX(d,c),f=(Kg(d)-Kg(c))/1e3,m=Math.round((h-f)/60);let g;if(m<2)return r!=null&&r.includeSeconds?h<5?i.formatDistance("lessThanXSeconds",5,l):h<10?i.formatDistance("lessThanXSeconds",10,l):h<20?i.formatDistance("lessThanXSeconds",20,l):h<40?i.formatDistance("halfAMinute",0,l):h<60?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",1,l):m===0?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",m,l);if(m<45)return i.formatDistance("xMinutes",m,l);if(m<90)return i.formatDistance("aboutXHours",1,l);if(m<d4){const y=Math.round(m/60);return i.formatDistance("aboutXHours",y,l)}else{if(m<s)return i.formatDistance("xDays",1,l);if(m<f0){const y=Math.round(m/d4);return i.formatDistance("xDays",y,l)}else if(m<f0*2)return g=Math.round(m/f0),i.formatDistance("aboutXMonths",g,l)}if(g=gX(d,c),g<12){const y=Math.round(m/f0);return i.formatDistance("xMonths",y,l)}else{const y=g%12,x=Math.trunc(g/12);return y<3?i.formatDistance("aboutXYears",x,l):y<9?i.formatDistance("overXYears",x,l):i.formatDistance("almostXYears",x+1,l)}}function xQ(t,e){return vQ(t,cN(t),e)}function yQ(t){return Pt(t).getDay()}function wQ(t){return wf(t,cN(t))}function bQ(t,e){return iX(t,-e)}function _Q(t){return wf(t,bQ(cN(t),1))}function NQ(t,e){return kO(t,-e)}const CQ=Kd("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Xe({className:t,variant:e,...r}){return o.jsx("div",{className:be(CQ({variant:e}),t),...r})}const SQ=Kd("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),am=b.forwardRef(({className:t,variant:e,...r},n)=>o.jsx("div",{ref:n,role:"alert",className:be(SQ({variant:e}),t),...r}));am.displayName="Alert";const EQ=b.forwardRef(({className:t,...e},r)=>o.jsx("h5",{ref:r,className:be("mb-1 font-medium leading-none tracking-tight",t),...e}));EQ.displayName="AlertTitle";const om=b.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,className:be("text-sm [&_p]:leading-relaxed",t),...e}));om.displayName="AlertDescription";function v4(){var N,_;const{toast:t}=xi(),e=Rn(),r=Qn.isNativePlatform()?rv("SubscriptionPlugin"):null,[n,i]=b.useState([]),[s,a]=b.useState(!1);b.useEffect(()=>{(async()=>{if(!(!Qn.isNativePlatform()||!r))try{const E=["FlexFlow_Fitness_Premium_monthly_15.99"],j=await r.getProducts({ids:E});i(j.products||[])}catch(S){console.error("Failed to load IAP products",S)}})()},[]);const l=async()=>{var w;if(r)try{a(!0);const S=void 0,E=S?S.split(",").map(T=>T.trim()).filter(Boolean)[0]:"FlexFlow_Fitness_Premium_monthly_15.99",j=((w=n[0])==null?void 0:w.id)||E,D=await r.purchase({productId:j});D.status==="success"&&D.originalTransactionId?(await(await dt("POST","/api/user/subscription/verify-receipt",{originalTransactionId:D.originalTransactionId})).json(),e.invalidateQueries({queryKey:["/api/user/subscription"]}),t({title:"Premium Activated",description:"Your subscription is now active."})):D.status==="cancelled"?t({title:"Purchase Cancelled",description:"No changes to your subscription."}):D.status==="pending"&&t({title:"Pending",description:"Your purchase is pending approval."})}catch(S){t({title:"Purchase Failed",description:(S==null?void 0:S.message)||"Please try again.",variant:"destructive"})}finally{a(!1)}},c=async()=>{if(r)try{a(!0);const S=(await r.restore()).entitlements||[];S.length>0&&S[0].originalTransactionId?(await(await dt("POST","/api/user/subscription/verify-receipt",{originalTransactionId:S[0].originalTransactionId})).json(),e.invalidateQueries({queryKey:["/api/user/subscription"]}),t({title:"Restored",description:"Your subscription has been restored."})):t({title:"No Purchases",description:"No active purchases were found."})}catch(w){t({title:"Restore Failed",description:(w==null?void 0:w.message)||"Please try again.",variant:"destructive"})}finally{a(!1)}},{data:d,isLoading:h}=Rt({queryKey:["/api/user/subscription"],retry:!1}),f=Ut({mutationFn:async()=>(await dt("POST","/api/user/subscription/cancel",{})).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/user/subscription"]}),t({title:"Subscription Cancelled",description:"Your subscription has been cancelled."})},onError:()=>{t({title:"Error",description:"Failed to cancel subscription",variant:"destructive"})}}),m=(w,S,E)=>{if(E)return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";if(S)return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";switch(w){case"expired":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";case"inactive":return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300";default:return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300"}},g=(w,S,E)=>E?o.jsx(F3,{size:20,className:"text-blue-600"}):S?o.jsx(pa,{size:20,className:"text-green-600"}):w==="expired"?o.jsx(WH,{size:20,className:"text-red-600"}):o.jsx(q0,{size:20,className:"text-gray-600"}),y=(w,S)=>{if(S)return"Free Trial";switch(w){case"active":return"Premium";case"expired":return"Expired";case"inactive":return"Inactive";default:return"Unknown"}};if(h)return o.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-black flex items-center justify-center",children:o.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})});if(!d)return o.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-black p-8",children:o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsx(Le,{children:o.jsx(Ve,{className:"p-12 text-center",children:o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Unable to load subscription information"})})})})});const x=[{icon:Si,title:"AI Workout Planner",description:"Get personalized workout plans tailored to your goals",color:"from-purple-500 to-pink-500"},{icon:ti,title:"AI Meal Plans",description:"Custom nutrition plans based on your preferences",color:"from-blue-500 to-cyan-500"},{icon:dl,title:"Barcode Scanner",description:"Instantly log food with professional scanning",color:"from-yellow-500 to-orange-500"},{icon:Xr,title:"Advanced Analytics",description:"Deep insights into your progress and trends",color:"from-green-500 to-emerald-500"},{icon:Kl,title:"Priority Support",description:"Get help faster with premium support",color:"from-red-500 to-rose-500"},{icon:Ja,title:"Unlimited Everything",description:"No limits on tracking, plans, or features",color:"from-pink-500 to-purple-500"}];return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-red-50 to-orange-50 dark:from-black dark:via-gray-900 dark:to-red-950 p-4 md:p-6 pb-24 md:pb-8 overflow-hidden relative",children:[o.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[o.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-red-500/10 rounded-full blur-3xl lg:desktop-fade-in mobile-pulse",style:{animationDelay:"0s"}}),o.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-orange-500/10 rounded-full blur-3xl lg:desktop-fade-in mobile-pulse",style:{animationDelay:"0.5s"}}),o.jsx("div",{className:"absolute top-1/2 left-1/2 w-64 h-64 bg-purple-500/10 rounded-full blur-3xl lg:desktop-fade-in mobile-pulse",style:{animationDelay:"1s"}})]}),o.jsxs("div",{className:"max-w-6xl mx-auto space-y-6 md:space-y-8 relative z-10",children:[o.jsxs("div",{className:"text-center lg:desktop-scale-in mobile-bounce-in",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 md:gap-3 mb-3 md:mb-4",children:[o.jsx(Ki,{className:"w-10 h-10 md:w-12 md:h-12 text-yellow-500 lg:desktop-glow mobile-pulse"}),o.jsx("h1",{className:"mobile-large-title md:text-5xl font-bold bg-gradient-to-r from-red-600 via-orange-600 to-yellow-600 bg-clip-text text-transparent",children:"Premium"}),o.jsx(Ki,{className:"w-10 h-10 md:w-12 md:h-12 text-yellow-500 lg:desktop-glow mobile-pulse"})]}),o.jsx("p",{className:"mobile-subtitle md:text-xl text-gray-700 dark:text-gray-300 max-w-2xl mx-auto px-4",children:"Unlock AI-powered fitness and nutrition"})]}),o.jsxs(Le,{className:"bg-gradient-to-br from-white to-gray-50 dark:from-gray-900 dark:to-black border-2 border-primary/20 shadow-2xl lg:desktop-scale-in mobile-bounce-in overflow-hidden relative",children:[o.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-primary/20 to-transparent rounded-full blur-2xl"}),o.jsx(kt,{children:o.jsxs(Ot,{className:"flex items-center gap-3 text-2xl",children:[o.jsx("div",{className:"p-3 bg-gradient-to-br from-primary to-orange-600 rounded-xl shadow-lg mobile-pulse",children:g(d.subscriptionStatus,d.isActive,d.isFreeTrialActive)}),o.jsx("span",{className:"bg-gradient-to-r from-gray-900 to-gray-700 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:"Your Status"})]})}),o.jsx(Ve,{className:"space-y-6",children:o.jsxs("div",{className:"flex items-start justify-between flex-wrap gap-4",children:[o.jsxs("div",{className:"space-y-4 flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[o.jsx(Xe,{className:`${m(d.subscriptionStatus,d.isActive,d.isFreeTrialActive)} text-base px-4 py-2 lg:desktop-slide-from-left mobile-pop`,children:y(d.subscriptionStatus,d.isFreeTrialActive)}),d.isFreeTrialActive&&o.jsxs("div",{className:"flex items-center gap-2 bg-blue-100 dark:bg-blue-900 px-3 py-1 rounded-full",children:[o.jsx(F3,{size:16,className:"text-blue-600 mobile-pulse"}),o.jsxs("span",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:[d.daysRemaining," days remaining"]})]})]}),d.isActive&&o.jsxs("div",{className:"space-y-2 bg-gray-50 dark:bg-gray-800 p-4 rounded-xl",children:[d.subscriptionStartDate&&o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:o.jsx(ei,{size:18,className:"text-primary"})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Started"}),o.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:Tn(new Date(d.subscriptionStartDate),"MMM d, yyyy")})]})]}),d.subscriptionExpiresAt&&o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900 rounded-lg",children:o.jsx(ei,{size:18,className:"text-orange-600"})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Expires"}),o.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:Tn(new Date(d.subscriptionExpiresAt),"MMM d, yyyy")})]})]})]})]}),d.isActive&&o.jsxs("div",{className:"text-center lg:text-right bg-gradient-to-br from-primary to-orange-600 p-6 rounded-2xl shadow-xl lg:desktop-glow mobile-bounce-in",children:[o.jsxs("div",{className:"text-4xl font-bold text-white mb-1",children:["$",d.monthlyFee]}),o.jsx("div",{className:"text-sm text-white/90 font-medium",children:"per month"}),o.jsxs("div",{className:"mt-2 flex items-center justify-center gap-1",children:[o.jsx(eo,{size:14,className:"text-yellow-300 fill-yellow-300"}),o.jsx(eo,{size:14,className:"text-yellow-300 fill-yellow-300"}),o.jsx(eo,{size:14,className:"text-yellow-300 fill-yellow-300"})]})]})]})})]}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl font-bold text-center mb-8 bg-gradient-to-r from-red-600 to-orange-600 bg-clip-text text-transparent lg:desktop-scale-in mobile-bounce-in",children:"Premium Features"}),o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map((w,S)=>{const E=w.icon;return o.jsxs(Le,{className:`bg-gradient-to-br ${w.color} border-0 shadow-xl hover:shadow-2xl transition-all duration-300 group relative overflow-hidden lg:desktop-scale-in mobile-bounce-in`,style:{animationDelay:`${S*.1}s`},children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),o.jsxs(Ve,{className:"p-6 text-white relative",children:[o.jsx("div",{className:"bg-white/20 backdrop-blur-sm w-16 h-16 rounded-2xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform mobile-pulse",children:o.jsx(E,{size:32})}),o.jsx("h3",{className:"text-xl font-bold mb-2",children:w.title}),o.jsx("p",{className:"text-white/90 text-sm",children:w.description})]})]},w.title)})})]}),!d.isActive&&!Qn.isNativePlatform()&&o.jsxs(Le,{className:"border-0 bg-gradient-to-br from-red-600 via-orange-600 to-yellow-600 shadow-2xl overflow-hidden relative lg:desktop-scale-in mobile-bounce-in",children:[o.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMzAiIGN5PSIzMCIgcj0iMiIgZmlsbD0iI2ZmZiIgZmlsbC1vcGFjaXR5PSIwLjEiLz48L3N2Zz4=')] opacity-50"}),o.jsxs(kt,{className:"relative",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[o.jsx(Si,{className:"w-8 h-8 text-white mobile-pulse"}),o.jsx(Ot,{className:"text-3xl md:text-4xl text-white text-center",children:"Upgrade to Premium"}),o.jsx(Si,{className:"w-8 h-8 text-white mobile-pulse"})]}),o.jsx(qr,{className:"text-white/90 text-center text-lg",children:"Subscribe through the App Store to unlock all premium features"})]}),o.jsxs(Ve,{className:"space-y-6 relative",children:[o.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-6 border border-white/20",children:[o.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[o.jsx("div",{className:"text-5xl font-bold text-white",children:"$15.99"}),o.jsxs("div",{className:"text-white/90",children:[o.jsx("div",{className:"font-semibold",children:"per month"}),o.jsx("div",{className:"text-sm",children:"Cancel anytime"})]})]}),o.jsx("div",{className:"grid sm:grid-cols-2 gap-3 text-white",children:x.map((w,S)=>o.jsxs("div",{className:"flex items-center gap-2 lg:desktop-fade-in mobile-slide-up",style:{animationDelay:`${S*.05}s`},children:[o.jsx(pa,{size:18,className:"flex-shrink-0 text-green-300"}),o.jsx("span",{className:"text-sm font-medium",children:w.title})]},w.title))})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border border-white/20",children:[o.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[o.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:o.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-white font-semibold mb-2",children:"Native iOS App Required"}),o.jsx("p",{className:"text-sm text-white/90 mb-3",children:"App Store subscriptions are only available through the native iOS app. Download FlexFlow from the App Store to subscribe with your Apple ID."}),o.jsx("p",{className:"text-xs text-white/80",children:" Once you subscribe in the iOS app, your premium features will automatically sync across all your devices including this web app."})]})]}),o.jsx(ue,{className:"w-full bg-white/20 backdrop-blur-md text-white border-2 border-white hover:bg-white/30 shadow-lg text-base py-6","data-testid":"button-download-ios-app",asChild:!0,children:o.jsxs("a",{href:"https://apps.apple.com",target:"_blank",rel:"noopener noreferrer",children:[o.jsx(Ki,{className:"w-5 h-5 mr-2"}),"Download iOS App"]})})]}),o.jsx("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-4 border border-white/20",children:o.jsx("p",{className:"text-sm text-white/90 text-center",children:" Secure payment through Apple. Manage subscription anytime in your App Store settings."})})]})]})]}),!d.isActive&&Qn.isNativePlatform()&&o.jsxs(Le,{className:"border-0 bg-gradient-to-br from-red-600 via-orange-600 to-yellow-600 shadow-2xl overflow-hidden relative lg:desktop-scale-in mobile-bounce-in",children:[o.jsxs(kt,{children:[o.jsx(Ot,{className:"text-white text-center",children:"Subscribe to Premium"}),o.jsx(qr,{className:"text-white/90 text-center",children:"Purchase securely with Apple InApp Purchase"})]}),o.jsxs(Ve,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-center gap-3",children:[o.jsx("div",{className:"text-3xl font-bold text-white",children:((N=n[0])==null?void 0:N.displayName)||"Premium"}),o.jsxs("div",{className:"text-white/90",children:[o.jsx("div",{className:"font-semibold",children:((_=n[0])==null?void 0:_.price)||"$15.99"}),o.jsx("div",{className:"text-sm",children:"Autorenewable subscription"})]})]}),o.jsx(ue,{className:"w-full bg-white/20 backdrop-blur-md text-white border-2 border-white hover:bg-white/30 shadow-lg text-base py-6",onClick:l,disabled:s,"data-testid":"button-purchase-iap",children:s?"Purchasing...":"Subscribe"}),o.jsx(ue,{variant:"outline",className:"w-full bg-white/10 backdrop-blur-md text-white border-2 border-white/60 hover:bg-white/20 shadow text-base py-6",onClick:c,disabled:s,"data-testid":"button-restore-iap",children:"Restore Purchases"})]})]}),d.isActive&&o.jsxs(Le,{className:"bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900 border-2 border-gray-300 dark:border-gray-700 lg:desktop-fade-in mobile-slide-up",children:[o.jsxs(kt,{children:[o.jsxs(Ot,{className:"text-red-600 dark:text-red-400 flex items-center gap-2",children:[o.jsx(q0,{size:24}),"Cancel Subscription"]}),o.jsx(qr,{className:"text-gray-700 dark:text-gray-300",children:"We'd hate to see you go! You can cancel your premium subscription at any time."})]}),o.jsxs(Ve,{className:"space-y-4",children:[o.jsxs(am,{className:"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800",children:[o.jsx(q0,{className:"h-4 w-4 text-yellow-600"}),o.jsx(om,{className:"text-yellow-800 dark:text-yellow-200",children:"Cancelling will remove access to all premium features at the end of your billing period."})]}),o.jsx(ue,{variant:"destructive",onClick:()=>f.mutate(),disabled:f.isPending,"data-testid":"cancel-subscription-button",className:"w-full sm:w-auto",children:f.isPending?"Cancelling...":"Cancel Subscription"})]})]})]})]})}function Yg(t,[e,r]){return Math.min(r,Math.max(e,t))}function lm(t){const e=b.useRef({value:t,previous:t});return b.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var AQ=[" ","Enter","ArrowUp","ArrowDown"],kQ=[" ","Enter"],cm="Select",[Ev,Av,jQ]=qp(cm),[ih,y0e]=hn(cm,[jQ,th]),kv=th(),[PQ,Cl]=ih(cm),[TQ,IQ]=ih(cm),OO=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:s,value:a,defaultValue:l,onValueChange:c,dir:d,name:h,autoComplete:f,disabled:m,required:g,form:y}=t,x=kv(e),[N,_]=b.useState(null),[w,S]=b.useState(null),[E,j]=b.useState(!1),D=rh(d),[T=!1,O]=ts({prop:n,defaultProp:i,onChange:s}),[B,P]=ts({prop:a,defaultProp:l,onChange:c}),V=b.useRef(null),F=N?y||!!N.closest("form"):!0,[q,H]=b.useState(new Set),le=Array.from(q).map(ae=>ae.props.value).join(";");return o.jsx(R_,{...x,children:o.jsxs(PQ,{required:g,scope:e,trigger:N,onTriggerChange:_,valueNode:w,onValueNodeChange:S,valueNodeHasChildren:E,onValueNodeHasChildrenChange:j,contentId:Os(),value:B,onValueChange:P,open:T,onOpenChange:O,dir:D,triggerPointerDownPosRef:V,disabled:m,children:[o.jsx(Ev.Provider,{scope:e,children:o.jsx(TQ,{scope:t.__scopeSelect,onNativeOptionAdd:b.useCallback(ae=>{H(me=>new Set(me).add(ae))},[]),onNativeOptionRemove:b.useCallback(ae=>{H(me=>{const R=new Set(me);return R.delete(ae),R})},[]),children:r})}),F?o.jsxs(sM,{"aria-hidden":!0,required:g,tabIndex:-1,name:h,autoComplete:f,value:B,onChange:ae=>P(ae.target.value),disabled:m,form:y,children:[B===void 0?o.jsx("option",{value:""}):null,Array.from(q)]},le):null]})})};OO.displayName=cm;var MO="SelectTrigger",RO=b.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,s=kv(r),a=Cl(MO,r),l=a.disabled||n,c=lt(e,a.onTriggerChange),d=Av(r),h=b.useRef("touch"),[f,m,g]=aM(x=>{const N=d().filter(S=>!S.disabled),_=N.find(S=>S.value===a.value),w=oM(N,x,_);w!==void 0&&a.onValueChange(w.value)}),y=x=>{l||(a.onOpenChange(!0),g()),x&&(a.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return o.jsx(F_,{asChild:!0,...s,children:o.jsx(Fe.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":iM(a.value)?"":void 0,...i,ref:c,onClick:xe(i.onClick,x=>{x.currentTarget.focus(),h.current!=="mouse"&&y(x)}),onPointerDown:xe(i.onPointerDown,x=>{h.current=x.pointerType;const N=x.target;N.hasPointerCapture(x.pointerId)&&N.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(y(x),x.preventDefault())}),onKeyDown:xe(i.onKeyDown,x=>{const N=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&m(x.key),!(N&&x.key===" ")&&AQ.includes(x.key)&&(y(),x.preventDefault())})})})});RO.displayName=MO;var FO="SelectValue",LO=b.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:s,placeholder:a="",...l}=t,c=Cl(FO,r),{onValueNodeHasChildrenChange:d}=c,h=s!==void 0,f=lt(e,c.onValueNodeChange);return en(()=>{d(h)},[d,h]),o.jsx(Fe.span,{...l,ref:f,style:{pointerEvents:"none"},children:iM(c.value)?o.jsx(o.Fragment,{children:a}):s})});LO.displayName=FO;var DQ="SelectIcon",BO=b.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return o.jsx(Fe.span,{"aria-hidden":!0,...i,ref:e,children:n||""})});BO.displayName=DQ;var OQ="SelectPortal",UO=t=>o.jsx(Zp,{asChild:!0,...t});UO.displayName=OQ;var Oc="SelectContent",zO=b.forwardRef((t,e)=>{const r=Cl(Oc,t.__scopeSelect),[n,i]=b.useState();if(en(()=>{i(new DocumentFragment)},[]),!r.open){const s=n;return s?$c.createPortal(o.jsx($O,{scope:t.__scopeSelect,children:o.jsx(Ev.Slot,{scope:t.__scopeSelect,children:o.jsx("div",{children:t.children})})}),s):null}return o.jsx(VO,{...t,ref:e})});zO.displayName=Oc;var us=10,[$O,Sl]=ih(Oc),MQ="SelectContentImpl",RQ=Pc("SelectContent.RemoveScroll"),VO=b.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:y,hideWhenDetached:x,avoidCollisions:N,..._}=t,w=Cl(Oc,r),[S,E]=b.useState(null),[j,D]=b.useState(null),T=lt(e,Y=>E(Y)),[O,B]=b.useState(null),[P,V]=b.useState(null),F=Av(r),[q,H]=b.useState(!1),le=b.useRef(!1);b.useEffect(()=>{if(S)return V_(S)},[S]),$_();const ae=b.useCallback(Y=>{const[_e,...Ye]=F().map(Qe=>Qe.ref.current),[Me]=Ye.slice(-1),Ze=document.activeElement;for(const Qe of Y)if(Qe===Ze||(Qe==null||Qe.scrollIntoView({block:"nearest"}),Qe===_e&&j&&(j.scrollTop=0),Qe===Me&&j&&(j.scrollTop=j.scrollHeight),Qe==null||Qe.focus(),document.activeElement!==Ze))return},[F,j]),me=b.useCallback(()=>ae([O,S]),[ae,O,S]);b.useEffect(()=>{q&&me()},[q,me]);const{onOpenChange:R,triggerPointerDownPosRef:G}=w;b.useEffect(()=>{if(S){let Y={x:0,y:0};const _e=Me=>{var Ze,Qe;Y={x:Math.abs(Math.round(Me.pageX)-(((Ze=G.current)==null?void 0:Ze.x)??0)),y:Math.abs(Math.round(Me.pageY)-(((Qe=G.current)==null?void 0:Qe.y)??0))}},Ye=Me=>{Y.x<=10&&Y.y<=10?Me.preventDefault():S.contains(Me.target)||R(!1),document.removeEventListener("pointermove",_e),G.current=null};return G.current!==null&&(document.addEventListener("pointermove",_e),document.addEventListener("pointerup",Ye,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",_e),document.removeEventListener("pointerup",Ye,{capture:!0})}}},[S,R,G]),b.useEffect(()=>{const Y=()=>R(!1);return window.addEventListener("blur",Y),window.addEventListener("resize",Y),()=>{window.removeEventListener("blur",Y),window.removeEventListener("resize",Y)}},[R]);const[ee,ie]=aM(Y=>{const _e=F().filter(Ze=>!Ze.disabled),Ye=_e.find(Ze=>Ze.ref.current===document.activeElement),Me=oM(_e,Y,Ye);Me&&setTimeout(()=>Me.ref.current.focus())}),Ee=b.useCallback((Y,_e,Ye)=>{const Me=!le.current&&!Ye;(w.value!==void 0&&w.value===_e||Me)&&(B(Y),Me&&(le.current=!0))},[w.value]),Ke=b.useCallback(()=>S==null?void 0:S.focus(),[S]),Ue=b.useCallback((Y,_e,Ye)=>{const Me=!le.current&&!Ye;(w.value!==void 0&&w.value===_e||Me)&&V(Y)},[w.value]),ze=n==="popper"?ob:WO,De=ze===ob?{side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:y,hideWhenDetached:x,avoidCollisions:N}:{};return o.jsx($O,{scope:r,content:S,viewport:j,onViewportChange:D,itemRefCallback:Ee,selectedItem:O,onItemLeave:Ke,itemTextRefCallback:Ue,focusSelectedItem:me,selectedItemText:P,position:n,isPositioned:q,searchRef:ee,children:o.jsx(vv,{as:RQ,allowPinchZoom:!0,children:o.jsx(mv,{asChild:!0,trapped:w.open,onMountAutoFocus:Y=>{Y.preventDefault()},onUnmountAutoFocus:xe(i,Y=>{var _e;(_e=w.trigger)==null||_e.focus({preventScroll:!0}),Y.preventDefault()}),children:o.jsx(Zd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:Y=>Y.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:o.jsx(ze,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:Y=>Y.preventDefault(),..._,...De,onPlaced:()=>H(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:xe(_.onKeyDown,Y=>{const _e=Y.ctrlKey||Y.altKey||Y.metaKey;if(Y.key==="Tab"&&Y.preventDefault(),!_e&&Y.key.length===1&&ie(Y.key),["ArrowUp","ArrowDown","Home","End"].includes(Y.key)){let Me=F().filter(Ze=>!Ze.disabled).map(Ze=>Ze.ref.current);if(["ArrowUp","End"].includes(Y.key)&&(Me=Me.slice().reverse()),["ArrowUp","ArrowDown"].includes(Y.key)){const Ze=Y.target,Qe=Me.indexOf(Ze);Me=Me.slice(Qe+1)}setTimeout(()=>ae(Me)),Y.preventDefault()}})})})})})})});VO.displayName=MQ;var FQ="SelectItemAlignedPosition",WO=b.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,s=Cl(Oc,r),a=Sl(Oc,r),[l,c]=b.useState(null),[d,h]=b.useState(null),f=lt(e,T=>h(T)),m=Av(r),g=b.useRef(!1),y=b.useRef(!0),{viewport:x,selectedItem:N,selectedItemText:_,focusSelectedItem:w}=a,S=b.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&d&&x&&N&&_){const T=s.trigger.getBoundingClientRect(),O=d.getBoundingClientRect(),B=s.valueNode.getBoundingClientRect(),P=_.getBoundingClientRect();if(s.dir!=="rtl"){const Ze=P.left-O.left,Qe=B.left-Ze,ft=T.left-Qe,ge=T.width+ft,rt=Math.max(ge,O.width),xt=window.innerWidth-us,Qt=Yg(Qe,[us,Math.max(us,xt-rt)]);l.style.minWidth=ge+"px",l.style.left=Qt+"px"}else{const Ze=O.right-P.right,Qe=window.innerWidth-B.right-Ze,ft=window.innerWidth-T.right-Qe,ge=T.width+ft,rt=Math.max(ge,O.width),xt=window.innerWidth-us,Qt=Yg(Qe,[us,Math.max(us,xt-rt)]);l.style.minWidth=ge+"px",l.style.right=Qt+"px"}const V=m(),F=window.innerHeight-us*2,q=x.scrollHeight,H=window.getComputedStyle(d),le=parseInt(H.borderTopWidth,10),ae=parseInt(H.paddingTop,10),me=parseInt(H.borderBottomWidth,10),R=parseInt(H.paddingBottom,10),G=le+ae+q+R+me,ee=Math.min(N.offsetHeight*5,G),ie=window.getComputedStyle(x),Ee=parseInt(ie.paddingTop,10),Ke=parseInt(ie.paddingBottom,10),Ue=T.top+T.height/2-us,ze=F-Ue,De=N.offsetHeight/2,Y=N.offsetTop+De,_e=le+ae+Y,Ye=G-_e;if(_e<=Ue){const Ze=V.length>0&&N===V[V.length-1].ref.current;l.style.bottom="0px";const Qe=d.clientHeight-x.offsetTop-x.offsetHeight,ft=Math.max(ze,De+(Ze?Ke:0)+Qe+me),ge=_e+ft;l.style.height=ge+"px"}else{const Ze=V.length>0&&N===V[0].ref.current;l.style.top="0px";const ft=Math.max(Ue,le+x.offsetTop+(Ze?Ee:0)+De)+Ye;l.style.height=ft+"px",x.scrollTop=_e-Ue+x.offsetTop}l.style.margin=`${us}px 0`,l.style.minHeight=ee+"px",l.style.maxHeight=F+"px",n==null||n(),requestAnimationFrame(()=>g.current=!0)}},[m,s.trigger,s.valueNode,l,d,x,N,_,s.dir,n]);en(()=>S(),[S]);const[E,j]=b.useState();en(()=>{d&&j(window.getComputedStyle(d).zIndex)},[d]);const D=b.useCallback(T=>{T&&y.current===!0&&(S(),w==null||w(),y.current=!1)},[S,w]);return o.jsx(BQ,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:D,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:o.jsx(Fe.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});WO.displayName=FQ;var LQ="SelectPopperPosition",ob=b.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=us,...s}=t,a=kv(r);return o.jsx(L_,{...a,...s,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ob.displayName=LQ;var[BQ,uN]=ih(Oc,{}),lb="SelectViewport",HO=b.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,s=Sl(lb,r),a=uN(lb,r),l=lt(e,s.onViewportChange),c=b.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(Ev.Slot,{scope:r,children:o.jsx(Fe.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:xe(i.onScroll,d=>{const h=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=a;if(m!=null&&m.current&&f){const g=Math.abs(c.current-h.scrollTop);if(g>0){const y=window.innerHeight-us*2,x=parseFloat(f.style.minHeight),N=parseFloat(f.style.height),_=Math.max(x,N);if(_<y){const w=_+g,S=Math.min(y,w),E=w-S;f.style.height=S+"px",f.style.bottom==="0px"&&(h.scrollTop=E>0?E:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});HO.displayName=lb;var GO="SelectGroup",[UQ,zQ]=ih(GO),$Q=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=Os();return o.jsx(UQ,{scope:r,id:i,children:o.jsx(Fe.div,{role:"group","aria-labelledby":i,...n,ref:e})})});$Q.displayName=GO;var qO="SelectLabel",ZO=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=zQ(qO,r);return o.jsx(Fe.div,{id:i.id,...n,ref:e})});ZO.displayName=qO;var Xg="SelectItem",[VQ,KO]=ih(Xg),YO=b.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:s,...a}=t,l=Cl(Xg,r),c=Sl(Xg,r),d=l.value===n,[h,f]=b.useState(s??""),[m,g]=b.useState(!1),y=lt(e,w=>{var S;return(S=c.itemRefCallback)==null?void 0:S.call(c,w,n,i)}),x=Os(),N=b.useRef("touch"),_=()=>{i||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(VQ,{scope:r,value:n,disabled:i,textId:x,isSelected:d,onItemTextChange:b.useCallback(w=>{f(S=>S||((w==null?void 0:w.textContent)??"").trim())},[]),children:o.jsx(Ev.ItemSlot,{scope:r,value:n,disabled:i,textValue:h,children:o.jsx(Fe.div,{role:"option","aria-labelledby":x,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:y,onFocus:xe(a.onFocus,()=>g(!0)),onBlur:xe(a.onBlur,()=>g(!1)),onClick:xe(a.onClick,()=>{N.current!=="mouse"&&_()}),onPointerUp:xe(a.onPointerUp,()=>{N.current==="mouse"&&_()}),onPointerDown:xe(a.onPointerDown,w=>{N.current=w.pointerType}),onPointerMove:xe(a.onPointerMove,w=>{var S;N.current=w.pointerType,i?(S=c.onItemLeave)==null||S.call(c):N.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:xe(a.onPointerLeave,w=>{var S;w.currentTarget===document.activeElement&&((S=c.onItemLeave)==null||S.call(c))}),onKeyDown:xe(a.onKeyDown,w=>{var E;((E=c.searchRef)==null?void 0:E.current)!==""&&w.key===" "||(kQ.includes(w.key)&&_(),w.key===" "&&w.preventDefault())})})})})});YO.displayName=Xg;var Xh="SelectItemText",XO=b.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...s}=t,a=Cl(Xh,r),l=Sl(Xh,r),c=KO(Xh,r),d=IQ(Xh,r),[h,f]=b.useState(null),m=lt(e,_=>f(_),c.onItemTextChange,_=>{var w;return(w=l.itemTextRefCallback)==null?void 0:w.call(l,_,c.value,c.disabled)}),g=h==null?void 0:h.textContent,y=b.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:x,onNativeOptionRemove:N}=d;return en(()=>(x(y),()=>N(y)),[x,N,y]),o.jsxs(o.Fragment,{children:[o.jsx(Fe.span,{id:c.textId,...s,ref:m}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?$c.createPortal(s.children,a.valueNode):null]})});XO.displayName=Xh;var QO="SelectItemIndicator",JO=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return KO(QO,r).isSelected?o.jsx(Fe.span,{"aria-hidden":!0,...n,ref:e}):null});JO.displayName=QO;var cb="SelectScrollUpButton",eM=b.forwardRef((t,e)=>{const r=Sl(cb,t.__scopeSelect),n=uN(cb,t.__scopeSelect),[i,s]=b.useState(!1),a=lt(e,n.onScrollButtonChange);return en(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;s(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?o.jsx(rM,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});eM.displayName=cb;var ub="SelectScrollDownButton",tM=b.forwardRef((t,e)=>{const r=Sl(ub,t.__scopeSelect),n=uN(ub,t.__scopeSelect),[i,s]=b.useState(!1),a=lt(e,n.onScrollButtonChange);return en(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<d;s(h)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?o.jsx(rM,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});tM.displayName=ub;var rM=b.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,s=Sl("SelectScrollButton",r),a=b.useRef(null),l=Av(r),c=b.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return b.useEffect(()=>()=>c(),[c]),en(()=>{var h;const d=l().find(f=>f.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),o.jsx(Fe.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:xe(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(n,50))}),onPointerMove:xe(i.onPointerMove,()=>{var d;(d=s.onItemLeave)==null||d.call(s),a.current===null&&(a.current=window.setInterval(n,50))}),onPointerLeave:xe(i.onPointerLeave,()=>{c()})})}),WQ="SelectSeparator",nM=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return o.jsx(Fe.div,{"aria-hidden":!0,...n,ref:e})});nM.displayName=WQ;var db="SelectArrow",HQ=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=kv(r),s=Cl(db,r),a=Sl(db,r);return s.open&&a.position==="popper"?o.jsx(B_,{...i,...n,ref:e}):null});HQ.displayName=db;function iM(t){return t===""||t===void 0}var sM=b.forwardRef((t,e)=>{const{value:r,...n}=t,i=b.useRef(null),s=lt(e,i),a=lm(r);return b.useEffect(()=>{const l=i.current,c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==r&&h){const f=new Event("change",{bubbles:!0});h.call(l,r),l.dispatchEvent(f)}},[a,r]),o.jsx(Kp,{asChild:!0,children:o.jsx("select",{...n,ref:s,defaultValue:r})})});sM.displayName="BubbleSelect";function aM(t){const e=Cn(t),r=b.useRef(""),n=b.useRef(0),i=b.useCallback(a=>{const l=r.current+a;e(l),function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),s=b.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,s]}function oM(t,e,r){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let a=GQ(t,Math.max(s,0));i.length===1&&(a=a.filter(d=>d!==r));const c=a.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function GQ(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var qQ=OO,lM=RO,ZQ=LO,KQ=BO,YQ=UO,cM=zO,XQ=HO,uM=ZO,dM=YO,QQ=XO,JQ=JO,hM=eM,fM=tM,pM=nM;const ba=qQ,_a=ZQ,Ms=b.forwardRef(({className:t,children:e,...r},n)=>o.jsxs(lM,{ref:n,className:be("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,o.jsx(KQ,{asChild:!0,children:o.jsx(Yd,{className:"h-4 w-4 opacity-50"})})]}));Ms.displayName=lM.displayName;const mM=b.forwardRef(({className:t,...e},r)=>o.jsx(hM,{ref:r,className:be("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(C_,{className:"h-4 w-4"})}));mM.displayName=hM.displayName;const gM=b.forwardRef(({className:t,...e},r)=>o.jsx(fM,{ref:r,className:be("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(Yd,{className:"h-4 w-4"})}));gM.displayName=fM.displayName;const Rs=b.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>o.jsx(YQ,{children:o.jsxs(cM,{ref:i,className:be("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[o.jsx(mM,{}),o.jsx(XQ,{className:be("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),o.jsx(gM,{})]})}));Rs.displayName=cM.displayName;const eJ=b.forwardRef(({className:t,...e},r)=>o.jsx(uM,{ref:r,className:be("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));eJ.displayName=uM.displayName;const ur=b.forwardRef(({className:t,children:e,...r},n)=>o.jsxs(dM,{ref:n,className:be("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(JQ,{children:o.jsx(qn,{className:"h-4 w-4"})})}),o.jsx(QQ,{children:e})]}));ur.displayName=dM.displayName;const tJ=b.forwardRef(({className:t,...e},r)=>o.jsx(pM,{ref:r,className:be("-mx-1 my-1 h-px bg-muted",t),...e}));tJ.displayName=pM.displayName;const rJ={workout_planner:{name:"AI Workout Planner",description:"Get personalized workout plans tailored to your fitness level and goals",icon:o.jsx(dl,{className:"w-5 h-5"})},mile_tracker:{name:"Mile Tracker",description:"Track your running progress with detailed split times and performance analytics",icon:o.jsx(ei,{className:"w-5 h-5"})},meal_plans:{name:"AI Meal Plans",description:"Generate customized meal plans based on your dietary preferences and goals",icon:o.jsx(Ki,{className:"w-5 h-5"})},meal_tracker:{name:"Professional Barcode Scanner",description:"Log and analyze your meals with AI-powered nutrition tracking",icon:o.jsx(Ki,{className:"w-5 h-5"})},progress_photos:{name:"Progress Photos",description:"Track your physical transformation with before/after photo comparisons",icon:o.jsx(nJ,{className:"w-5 h-5"})}};function nJ({className:t}){return o.jsxs("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})}const x4=["workout_planner","meal_tracker"];function Rd({feature:t,children:e,fallback:r}){const{user:n}=ns(),i=(()=>{if(!n)return!1;if(n.subscriptionStatus==="active")return!0;if(x4.includes(t))return!1;if(n.subscriptionStatus==="free_trial"){if(!n.trialEndDate)return!1;const h=new Date(n.trialEndDate);return new Date<=h}return!1})(),s=(()=>{if(!(n!=null&&n.trialEndDate)||n.subscriptionStatus!=="free_trial")return 0;const h=new Date(n.trialEndDate),f=new Date,m=h.getTime()-f.getTime(),g=Math.ceil(m/(1e3*60*60*24));return Math.max(0,g)})();if(i)return o.jsx(o.Fragment,{children:e});if(r)return o.jsx(o.Fragment,{children:r});const a=rJ[t],l=(n==null?void 0:n.subscriptionStatus)==="free_trial",c=(n==null?void 0:n.subscriptionStatus)==="expired",d=x4.includes(t);return o.jsxs("div",{className:"fixed inset-0 z-50 bg-black/95 flex items-center justify-center p-4","data-testid":`feature-gate-${t}`,children:[o.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:o.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 opacity-5",children:o.jsx(Su,{className:"w-full h-full text-red-500 animate-pulse"})})}),o.jsx("div",{className:"relative w-full max-w-2xl",children:o.jsxs(Le,{className:"bg-gradient-to-br from-gray-900 to-black border-2 border-red-500/30 shadow-2xl shadow-red-500/20",children:[o.jsxs(kt,{className:"text-center pb-6",children:[o.jsx("div",{className:"mx-auto w-24 h-24 bg-gradient-to-r from-red-500 to-red-700 rounded-full flex items-center justify-center mb-6 animate-bounce",children:o.jsx(Su,{className:"w-12 h-12 text-white"})}),o.jsxs(Ot,{className:"flex items-center gap-3 justify-center text-3xl text-white mb-3",children:[a.icon,a.name]}),o.jsx(qr,{className:"text-lg text-gray-300",children:a.description})]}),o.jsxs(Ve,{className:"space-y-6",children:[d&&l&&o.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-purple-900/50 to-red-900/50 rounded-xl border-2 border-purple-500/50",children:[o.jsxs(Xe,{className:"mb-3 bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 text-base",children:[o.jsx(Ki,{className:"w-4 h-4 mr-2"}),"Premium Subscription Required"]}),o.jsx("p",{className:"text-xl font-bold text-white mb-2",children:"This Feature Requires an Active Subscription"}),o.jsxs("p",{className:"text-base text-gray-300",children:[a.name," is a premium-only feature. Subscribe now to unlock this and other exclusive features."]})]}),c&&o.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-red-900/50 to-orange-900/50 rounded-xl border-2 border-red-500/50",children:[o.jsxs(Xe,{className:"mb-3 bg-red-600 hover:bg-red-700 text-white px-4 py-2 text-base",children:[o.jsx(Su,{className:"w-4 h-4 mr-2"}),"Subscription Expired"]}),o.jsx("p",{className:"text-xl font-bold text-white mb-2",children:"Your Premium Access Has Ended"}),o.jsxs("p",{className:"text-base text-gray-300",children:["Renew your subscription to continue using ",a.name," and all other premium features."]})]}),!d&&l&&s>0&&o.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-amber-900/50 to-orange-900/50 rounded-xl border-2 border-amber-500/50",children:[o.jsxs(Xe,{className:"mb-3 bg-amber-600 hover:bg-amber-700 text-white px-4 py-2 text-base",children:[o.jsx(ei,{className:"w-4 h-4 mr-2"}),"Trial Ending Soon"]}),o.jsxs("p",{className:"text-xl font-bold text-white mb-2",children:[s," ",s===1?"Day":"Days"," Left in Your Trial"]}),o.jsx("p",{className:"text-base text-gray-300",children:"Upgrade now to keep using premium features after your trial expires!"})]}),!d&&l&&s===0&&o.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-red-900/50 to-orange-900/50 rounded-xl border-2 border-red-500/50",children:[o.jsxs(Xe,{className:"mb-3 bg-red-600 hover:bg-red-700 text-white px-4 py-2 text-base",children:[o.jsx(Su,{className:"w-4 h-4 mr-2"}),"Trial Expired"]}),o.jsx("p",{className:"text-xl font-bold text-white mb-2",children:"Your Free Trial Has Ended"}),o.jsxs("p",{className:"text-base text-gray-300",children:["Upgrade to premium to continue using ",a.name," and all advanced features."]})]}),!d&&!l&&!c&&o.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-purple-900/50 to-blue-900/50 rounded-xl border-2 border-purple-500/50",children:[o.jsxs(Xe,{className:"mb-3 bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 text-base",children:[o.jsx(Ki,{className:"w-4 h-4 mr-2"}),"Premium Feature"]}),o.jsx("p",{className:"text-xl font-bold text-white mb-2",children:"This Feature Requires Premium Access"}),o.jsxs("p",{className:"text-base text-gray-300",children:["Upgrade to unlock ",a.name," and all other premium features."]})]}),!Qn.isNativePlatform()&&o.jsxs("div",{className:"flex flex-col gap-4 pt-4",children:[o.jsx(ue,{asChild:!0,size:"lg",className:"w-full bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white font-bold py-6 text-lg shadow-lg shadow-red-500/50 border-2 border-red-500/50","data-testid":"upgrade-to-premium",children:o.jsxs(wn,{href:"/subscription",children:[o.jsx(Ki,{className:"w-5 h-5 mr-3"}),c?"Renew Premium Subscription":"Upgrade to Premium Now"]})}),o.jsx(ue,{asChild:!0,variant:"outline",size:"lg",className:"w-full border-2 border-gray-600 text-white hover:bg-gray-800 hover:text-white py-6 text-lg","data-testid":"learn-more-premium",children:o.jsx(wn,{href:"/subscription",children:"View Premium Features & Pricing"})})]}),o.jsxs("div",{className:"text-center pt-4 border-t border-gray-700",children:[o.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"Premium includes:"}),o.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[o.jsx(Xe,{variant:"secondary",className:"bg-gray-800 text-gray-300",children:"AI Workout Plans"}),o.jsx(Xe,{variant:"secondary",className:"bg-gray-800 text-gray-300",children:"Mile Tracker"}),o.jsx(Xe,{variant:"secondary",className:"bg-gray-800 text-gray-300",children:"Meal Planning"}),o.jsx(Xe,{variant:"secondary",className:"bg-gray-800 text-gray-300",children:"Meal Tracking"}),o.jsx(Xe,{variant:"secondary",className:"bg-gray-800 text-gray-300",children:"Priority Support"})]})]})]})]})})]})}function iJ(t,e){const r=b.useRef(e);b.useEffect(function(){e!==r.current&&t.attributionControl!=null&&(r.current!=null&&t.attributionControl.removeAttribution(r.current),e!=null&&t.attributionControl.addAttribution(e)),r.current=e},[t,e])}const sJ=1;function aJ(t){return Object.freeze({__version:sJ,map:t})}function vM(t,e){return Object.freeze({...t,...e})}const xM=b.createContext(null),yM=xM.Provider;function dN(){const t=b.useContext(xM);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function wM(t){function e(r,n){const{instance:i,context:s}=t(r).current;return b.useImperativeHandle(n,()=>i),r.children==null?null:nt.createElement(yM,{value:s},r.children)}return b.forwardRef(e)}function oJ(t){function e(r,n){const{instance:i}=t(r).current;return b.useImperativeHandle(n,()=>i),null}return b.forwardRef(e)}function bM(t,e){const r=b.useRef();b.useEffect(function(){return e!=null&&t.instance.on(e),r.current=e,function(){r.current!=null&&t.instance.off(r.current),r.current=null}},[t,e])}function hN(t,e){const r=t.pane??e.pane;return r?{...t,pane:r}:t}var hb={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(r,n){n(e)})(Wh,function(r){var n="1.9.4";function i(u){var p,v,C,A;for(v=1,C=arguments.length;v<C;v++){A=arguments[v];for(p in A)u[p]=A[p]}return u}var s=Object.create||function(){function u(){}return function(p){return u.prototype=p,new u}}();function a(u,p){var v=Array.prototype.slice;if(u.bind)return u.bind.apply(u,v.call(arguments,1));var C=v.call(arguments,2);return function(){return u.apply(p,C.length?C.concat(v.call(arguments)):arguments)}}var l=0;function c(u){return"_leaflet_id"in u||(u._leaflet_id=++l),u._leaflet_id}function d(u,p,v){var C,A,I,$;return $=function(){C=!1,A&&(I.apply(v,A),A=!1)},I=function(){C?A=arguments:(u.apply(v,arguments),setTimeout($,p),C=!0)},I}function h(u,p,v){var C=p[1],A=p[0],I=C-A;return u===C&&v?u:((u-A)%I+I)%I+A}function f(){return!1}function m(u,p){if(p===!1)return u;var v=Math.pow(10,p===void 0?6:p);return Math.round(u*v)/v}function g(u){return u.trim?u.trim():u.replace(/^\s+|\s+$/g,"")}function y(u){return g(u).split(/\s+/)}function x(u,p){Object.prototype.hasOwnProperty.call(u,"options")||(u.options=u.options?s(u.options):{});for(var v in p)u.options[v]=p[v];return u.options}function N(u,p,v){var C=[];for(var A in u)C.push(encodeURIComponent(v?A.toUpperCase():A)+"="+encodeURIComponent(u[A]));return(!p||p.indexOf("?")===-1?"?":"&")+C.join("&")}var _=/\{ *([\w_ -]+) *\}/g;function w(u,p){return u.replace(_,function(v,C){var A=p[C];if(A===void 0)throw new Error("No value provided for variable "+v);return typeof A=="function"&&(A=A(p)),A})}var S=Array.isArray||function(u){return Object.prototype.toString.call(u)==="[object Array]"};function E(u,p){for(var v=0;v<u.length;v++)if(u[v]===p)return v;return-1}var j="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function D(u){return window["webkit"+u]||window["moz"+u]||window["ms"+u]}var T=0;function O(u){var p=+new Date,v=Math.max(0,16-(p-T));return T=p+v,window.setTimeout(u,v)}var B=window.requestAnimationFrame||D("RequestAnimationFrame")||O,P=window.cancelAnimationFrame||D("CancelAnimationFrame")||D("CancelRequestAnimationFrame")||function(u){window.clearTimeout(u)};function V(u,p,v){if(v&&B===O)u.call(p);else return B.call(window,a(u,p))}function F(u){u&&P.call(window,u)}var q={__proto__:null,extend:i,create:s,bind:a,get lastId(){return l},stamp:c,throttle:d,wrapNum:h,falseFn:f,formatNum:m,trim:g,splitWords:y,setOptions:x,getParamString:N,template:w,isArray:S,indexOf:E,emptyImageUrl:j,requestFn:B,cancelFn:P,requestAnimFrame:V,cancelAnimFrame:F};function H(){}H.extend=function(u){var p=function(){x(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},v=p.__super__=this.prototype,C=s(v);C.constructor=p,p.prototype=C;for(var A in this)Object.prototype.hasOwnProperty.call(this,A)&&A!=="prototype"&&A!=="__super__"&&(p[A]=this[A]);return u.statics&&i(p,u.statics),u.includes&&(le(u.includes),i.apply(null,[C].concat(u.includes))),i(C,u),delete C.statics,delete C.includes,C.options&&(C.options=v.options?s(v.options):{},i(C.options,u.options)),C._initHooks=[],C.callInitHooks=function(){if(!this._initHooksCalled){v.callInitHooks&&v.callInitHooks.call(this),this._initHooksCalled=!0;for(var I=0,$=C._initHooks.length;I<$;I++)C._initHooks[I].call(this)}},p},H.include=function(u){var p=this.prototype.options;return i(this.prototype,u),u.options&&(this.prototype.options=p,this.mergeOptions(u.options)),this},H.mergeOptions=function(u){return i(this.prototype.options,u),this},H.addInitHook=function(u){var p=Array.prototype.slice.call(arguments,1),v=typeof u=="function"?u:function(){this[u].apply(this,p)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(v),this};function le(u){if(!(typeof L>"u"||!L||!L.Mixin)){u=S(u)?u:[u];for(var p=0;p<u.length;p++)u[p]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ae={on:function(u,p,v){if(typeof u=="object")for(var C in u)this._on(C,u[C],p);else{u=y(u);for(var A=0,I=u.length;A<I;A++)this._on(u[A],p,v)}return this},off:function(u,p,v){if(!arguments.length)delete this._events;else if(typeof u=="object")for(var C in u)this._off(C,u[C],p);else{u=y(u);for(var A=arguments.length===1,I=0,$=u.length;I<$;I++)A?this._off(u[I]):this._off(u[I],p,v)}return this},_on:function(u,p,v,C){if(typeof p!="function"){console.warn("wrong listener type: "+typeof p);return}if(this._listens(u,p,v)===!1){v===this&&(v=void 0);var A={fn:p,ctx:v};C&&(A.once=!0),this._events=this._events||{},this._events[u]=this._events[u]||[],this._events[u].push(A)}},_off:function(u,p,v){var C,A,I;if(this._events&&(C=this._events[u],!!C)){if(arguments.length===1){if(this._firingCount)for(A=0,I=C.length;A<I;A++)C[A].fn=f;delete this._events[u];return}if(typeof p!="function"){console.warn("wrong listener type: "+typeof p);return}var $=this._listens(u,p,v);if($!==!1){var X=C[$];this._firingCount&&(X.fn=f,this._events[u]=C=C.slice()),C.splice($,1)}}},fire:function(u,p,v){if(!this.listens(u,v))return this;var C=i({},p,{type:u,target:this,sourceTarget:p&&p.sourceTarget||this});if(this._events){var A=this._events[u];if(A){this._firingCount=this._firingCount+1||1;for(var I=0,$=A.length;I<$;I++){var X=A[I],te=X.fn;X.once&&this.off(u,te,X.ctx),te.call(X.ctx||this,C)}this._firingCount--}}return v&&this._propagateEvent(C),this},listens:function(u,p,v,C){typeof u!="string"&&console.warn('"string" type argument expected');var A=p;typeof p!="function"&&(C=!!p,A=void 0,v=void 0);var I=this._events&&this._events[u];if(I&&I.length&&this._listens(u,A,v)!==!1)return!0;if(C){for(var $ in this._eventParents)if(this._eventParents[$].listens(u,p,v,C))return!0}return!1},_listens:function(u,p,v){if(!this._events)return!1;var C=this._events[u]||[];if(!p)return!!C.length;v===this&&(v=void 0);for(var A=0,I=C.length;A<I;A++)if(C[A].fn===p&&C[A].ctx===v)return A;return!1},once:function(u,p,v){if(typeof u=="object")for(var C in u)this._on(C,u[C],p,!0);else{u=y(u);for(var A=0,I=u.length;A<I;A++)this._on(u[A],p,v,!0)}return this},addEventParent:function(u){return this._eventParents=this._eventParents||{},this._eventParents[c(u)]=u,this},removeEventParent:function(u){return this._eventParents&&delete this._eventParents[c(u)],this},_propagateEvent:function(u){for(var p in this._eventParents)this._eventParents[p].fire(u.type,i({layer:u.target,propagatedFrom:u.target},u),!0)}};ae.addEventListener=ae.on,ae.removeEventListener=ae.clearAllEventListeners=ae.off,ae.addOneTimeEventListener=ae.once,ae.fireEvent=ae.fire,ae.hasEventListeners=ae.listens;var me=H.extend(ae);function R(u,p,v){this.x=v?Math.round(u):u,this.y=v?Math.round(p):p}var G=Math.trunc||function(u){return u>0?Math.floor(u):Math.ceil(u)};R.prototype={clone:function(){return new R(this.x,this.y)},add:function(u){return this.clone()._add(ee(u))},_add:function(u){return this.x+=u.x,this.y+=u.y,this},subtract:function(u){return this.clone()._subtract(ee(u))},_subtract:function(u){return this.x-=u.x,this.y-=u.y,this},divideBy:function(u){return this.clone()._divideBy(u)},_divideBy:function(u){return this.x/=u,this.y/=u,this},multiplyBy:function(u){return this.clone()._multiplyBy(u)},_multiplyBy:function(u){return this.x*=u,this.y*=u,this},scaleBy:function(u){return new R(this.x*u.x,this.y*u.y)},unscaleBy:function(u){return new R(this.x/u.x,this.y/u.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=G(this.x),this.y=G(this.y),this},distanceTo:function(u){u=ee(u);var p=u.x-this.x,v=u.y-this.y;return Math.sqrt(p*p+v*v)},equals:function(u){return u=ee(u),u.x===this.x&&u.y===this.y},contains:function(u){return u=ee(u),Math.abs(u.x)<=Math.abs(this.x)&&Math.abs(u.y)<=Math.abs(this.y)},toString:function(){return"Point("+m(this.x)+", "+m(this.y)+")"}};function ee(u,p,v){return u instanceof R?u:S(u)?new R(u[0],u[1]):u==null?u:typeof u=="object"&&"x"in u&&"y"in u?new R(u.x,u.y):new R(u,p,v)}function ie(u,p){if(u)for(var v=p?[u,p]:u,C=0,A=v.length;C<A;C++)this.extend(v[C])}ie.prototype={extend:function(u){var p,v;if(!u)return this;if(u instanceof R||typeof u[0]=="number"||"x"in u)p=v=ee(u);else if(u=Ee(u),p=u.min,v=u.max,!p||!v)return this;return!this.min&&!this.max?(this.min=p.clone(),this.max=v.clone()):(this.min.x=Math.min(p.x,this.min.x),this.max.x=Math.max(v.x,this.max.x),this.min.y=Math.min(p.y,this.min.y),this.max.y=Math.max(v.y,this.max.y)),this},getCenter:function(u){return ee((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,u)},getBottomLeft:function(){return ee(this.min.x,this.max.y)},getTopRight:function(){return ee(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(u){var p,v;return typeof u[0]=="number"||u instanceof R?u=ee(u):u=Ee(u),u instanceof ie?(p=u.min,v=u.max):p=v=u,p.x>=this.min.x&&v.x<=this.max.x&&p.y>=this.min.y&&v.y<=this.max.y},intersects:function(u){u=Ee(u);var p=this.min,v=this.max,C=u.min,A=u.max,I=A.x>=p.x&&C.x<=v.x,$=A.y>=p.y&&C.y<=v.y;return I&&$},overlaps:function(u){u=Ee(u);var p=this.min,v=this.max,C=u.min,A=u.max,I=A.x>p.x&&C.x<v.x,$=A.y>p.y&&C.y<v.y;return I&&$},isValid:function(){return!!(this.min&&this.max)},pad:function(u){var p=this.min,v=this.max,C=Math.abs(p.x-v.x)*u,A=Math.abs(p.y-v.y)*u;return Ee(ee(p.x-C,p.y-A),ee(v.x+C,v.y+A))},equals:function(u){return u?(u=Ee(u),this.min.equals(u.getTopLeft())&&this.max.equals(u.getBottomRight())):!1}};function Ee(u,p){return!u||u instanceof ie?u:new ie(u,p)}function Ke(u,p){if(u)for(var v=p?[u,p]:u,C=0,A=v.length;C<A;C++)this.extend(v[C])}Ke.prototype={extend:function(u){var p=this._southWest,v=this._northEast,C,A;if(u instanceof ze)C=u,A=u;else if(u instanceof Ke){if(C=u._southWest,A=u._northEast,!C||!A)return this}else return u?this.extend(De(u)||Ue(u)):this;return!p&&!v?(this._southWest=new ze(C.lat,C.lng),this._northEast=new ze(A.lat,A.lng)):(p.lat=Math.min(C.lat,p.lat),p.lng=Math.min(C.lng,p.lng),v.lat=Math.max(A.lat,v.lat),v.lng=Math.max(A.lng,v.lng)),this},pad:function(u){var p=this._southWest,v=this._northEast,C=Math.abs(p.lat-v.lat)*u,A=Math.abs(p.lng-v.lng)*u;return new Ke(new ze(p.lat-C,p.lng-A),new ze(v.lat+C,v.lng+A))},getCenter:function(){return new ze((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ze(this.getNorth(),this.getWest())},getSouthEast:function(){return new ze(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(u){typeof u[0]=="number"||u instanceof ze||"lat"in u?u=De(u):u=Ue(u);var p=this._southWest,v=this._northEast,C,A;return u instanceof Ke?(C=u.getSouthWest(),A=u.getNorthEast()):C=A=u,C.lat>=p.lat&&A.lat<=v.lat&&C.lng>=p.lng&&A.lng<=v.lng},intersects:function(u){u=Ue(u);var p=this._southWest,v=this._northEast,C=u.getSouthWest(),A=u.getNorthEast(),I=A.lat>=p.lat&&C.lat<=v.lat,$=A.lng>=p.lng&&C.lng<=v.lng;return I&&$},overlaps:function(u){u=Ue(u);var p=this._southWest,v=this._northEast,C=u.getSouthWest(),A=u.getNorthEast(),I=A.lat>p.lat&&C.lat<v.lat,$=A.lng>p.lng&&C.lng<v.lng;return I&&$},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(u,p){return u?(u=Ue(u),this._southWest.equals(u.getSouthWest(),p)&&this._northEast.equals(u.getNorthEast(),p)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Ue(u,p){return u instanceof Ke?u:new Ke(u,p)}function ze(u,p,v){if(isNaN(u)||isNaN(p))throw new Error("Invalid LatLng object: ("+u+", "+p+")");this.lat=+u,this.lng=+p,v!==void 0&&(this.alt=+v)}ze.prototype={equals:function(u,p){if(!u)return!1;u=De(u);var v=Math.max(Math.abs(this.lat-u.lat),Math.abs(this.lng-u.lng));return v<=(p===void 0?1e-9:p)},toString:function(u){return"LatLng("+m(this.lat,u)+", "+m(this.lng,u)+")"},distanceTo:function(u){return _e.distance(this,De(u))},wrap:function(){return _e.wrapLatLng(this)},toBounds:function(u){var p=180*u/40075017,v=p/Math.cos(Math.PI/180*this.lat);return Ue([this.lat-p,this.lng-v],[this.lat+p,this.lng+v])},clone:function(){return new ze(this.lat,this.lng,this.alt)}};function De(u,p,v){return u instanceof ze?u:S(u)&&typeof u[0]!="object"?u.length===3?new ze(u[0],u[1],u[2]):u.length===2?new ze(u[0],u[1]):null:u==null?u:typeof u=="object"&&"lat"in u?new ze(u.lat,"lng"in u?u.lng:u.lon,u.alt):p===void 0?null:new ze(u,p,v)}var Y={latLngToPoint:function(u,p){var v=this.projection.project(u),C=this.scale(p);return this.transformation._transform(v,C)},pointToLatLng:function(u,p){var v=this.scale(p),C=this.transformation.untransform(u,v);return this.projection.unproject(C)},project:function(u){return this.projection.project(u)},unproject:function(u){return this.projection.unproject(u)},scale:function(u){return 256*Math.pow(2,u)},zoom:function(u){return Math.log(u/256)/Math.LN2},getProjectedBounds:function(u){if(this.infinite)return null;var p=this.projection.bounds,v=this.scale(u),C=this.transformation.transform(p.min,v),A=this.transformation.transform(p.max,v);return new ie(C,A)},infinite:!1,wrapLatLng:function(u){var p=this.wrapLng?h(u.lng,this.wrapLng,!0):u.lng,v=this.wrapLat?h(u.lat,this.wrapLat,!0):u.lat,C=u.alt;return new ze(v,p,C)},wrapLatLngBounds:function(u){var p=u.getCenter(),v=this.wrapLatLng(p),C=p.lat-v.lat,A=p.lng-v.lng;if(C===0&&A===0)return u;var I=u.getSouthWest(),$=u.getNorthEast(),X=new ze(I.lat-C,I.lng-A),te=new ze($.lat-C,$.lng-A);return new Ke(X,te)}},_e=i({},Y,{wrapLng:[-180,180],R:6371e3,distance:function(u,p){var v=Math.PI/180,C=u.lat*v,A=p.lat*v,I=Math.sin((p.lat-u.lat)*v/2),$=Math.sin((p.lng-u.lng)*v/2),X=I*I+Math.cos(C)*Math.cos(A)*$*$,te=2*Math.atan2(Math.sqrt(X),Math.sqrt(1-X));return this.R*te}}),Ye=6378137,Me={R:Ye,MAX_LATITUDE:85.0511287798,project:function(u){var p=Math.PI/180,v=this.MAX_LATITUDE,C=Math.max(Math.min(v,u.lat),-v),A=Math.sin(C*p);return new R(this.R*u.lng*p,this.R*Math.log((1+A)/(1-A))/2)},unproject:function(u){var p=180/Math.PI;return new ze((2*Math.atan(Math.exp(u.y/this.R))-Math.PI/2)*p,u.x*p/this.R)},bounds:function(){var u=Ye*Math.PI;return new ie([-u,-u],[u,u])}()};function Ze(u,p,v,C){if(S(u)){this._a=u[0],this._b=u[1],this._c=u[2],this._d=u[3];return}this._a=u,this._b=p,this._c=v,this._d=C}Ze.prototype={transform:function(u,p){return this._transform(u.clone(),p)},_transform:function(u,p){return p=p||1,u.x=p*(this._a*u.x+this._b),u.y=p*(this._c*u.y+this._d),u},untransform:function(u,p){return p=p||1,new R((u.x/p-this._b)/this._a,(u.y/p-this._d)/this._c)}};function Qe(u,p,v,C){return new Ze(u,p,v,C)}var ft=i({},_e,{code:"EPSG:3857",projection:Me,transformation:function(){var u=.5/(Math.PI*Me.R);return Qe(u,.5,-u,.5)}()}),ge=i({},ft,{code:"EPSG:900913"});function rt(u){return document.createElementNS("http://www.w3.org/2000/svg",u)}function xt(u,p){var v="",C,A,I,$,X,te;for(C=0,I=u.length;C<I;C++){for(X=u[C],A=0,$=X.length;A<$;A++)te=X[A],v+=(A?"L":"M")+te.x+" "+te.y;v+=p?$e.svg?"z":"x":""}return v||"M0 0"}var Qt=document.documentElement.style,pn="ActiveXObject"in window,tn=pn&&!document.addEventListener,Ks="msLaunchUri"in navigator&&!("documentMode"in document),Sn=Ys("webkit"),W=Ys("android"),J=Ys("android 2")||Ys("android 3"),oe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ke=W&&Ys("Google")&&oe<537&&!("AudioNode"in window),Ne=!!window.opera,Z=!Ks&&Ys("chrome"),K=Ys("gecko")&&!Sn&&!Ne&&!pn,We=!Z&&Ys("safari"),Ft=Ys("phantom"),ir="OTransition"in Qt,is=navigator.platform.indexOf("Win")===0,Br=pn&&"transition"in Qt,Oi="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!J,Pa="MozPerspective"in Qt,wm=!window.L_DISABLE_3D&&(Br||Oi||Pa)&&!ir&&!Ft,El=typeof orientation<"u"||Ys("mobile"),bm=El&&Sn,FB=El&&Oi,nC=!window.PointerEvent&&window.MSPointerEvent,iC=!!(window.PointerEvent||nC),sC="ontouchstart"in window||!!window.TouchEvent,LB=!window.L_NO_TOUCH&&(sC||iC),BB=El&&Ne,UB=El&&K,zB=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,$B=function(){var u=!1;try{var p=Object.defineProperty({},"passive",{get:function(){u=!0}});window.addEventListener("testPassiveEventSupport",f,p),window.removeEventListener("testPassiveEventSupport",f,p)}catch{}return u}(),VB=function(){return!!document.createElement("canvas").getContext}(),Uv=!!(document.createElementNS&&rt("svg").createSVGRect),WB=!!Uv&&function(){var u=document.createElement("div");return u.innerHTML="<svg/>",(u.firstChild&&u.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),HB=!Uv&&function(){try{var u=document.createElement("div");u.innerHTML='<v:shape adj="1"/>';var p=u.firstChild;return p.style.behavior="url(#default#VML)",p&&typeof p.adj=="object"}catch{return!1}}(),GB=navigator.platform.indexOf("Mac")===0,qB=navigator.platform.indexOf("Linux")===0;function Ys(u){return navigator.userAgent.toLowerCase().indexOf(u)>=0}var $e={ie:pn,ielt9:tn,edge:Ks,webkit:Sn,android:W,android23:J,androidStock:ke,opera:Ne,chrome:Z,gecko:K,safari:We,phantom:Ft,opera12:ir,win:is,ie3d:Br,webkit3d:Oi,gecko3d:Pa,any3d:wm,mobile:El,mobileWebkit:bm,mobileWebkit3d:FB,msPointer:nC,pointer:iC,touch:LB,touchNative:sC,mobileOpera:BB,mobileGecko:UB,retina:zB,passiveEvents:$B,canvas:VB,svg:Uv,vml:HB,inlineSvg:WB,mac:GB,linux:qB},aC=$e.msPointer?"MSPointerDown":"pointerdown",oC=$e.msPointer?"MSPointerMove":"pointermove",lC=$e.msPointer?"MSPointerUp":"pointerup",cC=$e.msPointer?"MSPointerCancel":"pointercancel",zv={touchstart:aC,touchmove:oC,touchend:lC,touchcancel:cC},uC={touchstart:JB,touchmove:_m,touchend:_m,touchcancel:_m},Gc={},dC=!1;function ZB(u,p,v){return p==="touchstart"&&QB(),uC[p]?(v=uC[p].bind(this,v),u.addEventListener(zv[p],v,!1),v):(console.warn("wrong event specified:",p),f)}function KB(u,p,v){if(!zv[p]){console.warn("wrong event specified:",p);return}u.removeEventListener(zv[p],v,!1)}function YB(u){Gc[u.pointerId]=u}function XB(u){Gc[u.pointerId]&&(Gc[u.pointerId]=u)}function hC(u){delete Gc[u.pointerId]}function QB(){dC||(document.addEventListener(aC,YB,!0),document.addEventListener(oC,XB,!0),document.addEventListener(lC,hC,!0),document.addEventListener(cC,hC,!0),dC=!0)}function _m(u,p){if(p.pointerType!==(p.MSPOINTER_TYPE_MOUSE||"mouse")){p.touches=[];for(var v in Gc)p.touches.push(Gc[v]);p.changedTouches=[p],u(p)}}function JB(u,p){p.MSPOINTER_TYPE_TOUCH&&p.pointerType===p.MSPOINTER_TYPE_TOUCH&&mn(p),_m(u,p)}function eU(u){var p={},v,C;for(C in u)v=u[C],p[C]=v&&v.bind?v.bind(u):v;return u=p,p.type="dblclick",p.detail=2,p.isTrusted=!1,p._simulated=!0,p}var tU=200;function rU(u,p){u.addEventListener("dblclick",p);var v=0,C;function A(I){if(I.detail!==1){C=I.detail;return}if(!(I.pointerType==="mouse"||I.sourceCapabilities&&!I.sourceCapabilities.firesTouchEvents)){var $=vC(I);if(!($.some(function(te){return te instanceof HTMLLabelElement&&te.attributes.for})&&!$.some(function(te){return te instanceof HTMLInputElement||te instanceof HTMLSelectElement}))){var X=Date.now();X-v<=tU?(C++,C===2&&p(eU(I))):C=1,v=X}}}return u.addEventListener("click",A),{dblclick:p,simDblclick:A}}function nU(u,p){u.removeEventListener("dblclick",p.dblclick),u.removeEventListener("click",p.simDblclick)}var $v=Sm(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),uh=Sm(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),fC=uh==="webkitTransition"||uh==="OTransition"?uh+"End":"transitionend";function pC(u){return typeof u=="string"?document.getElementById(u):u}function dh(u,p){var v=u.style[p]||u.currentStyle&&u.currentStyle[p];if((!v||v==="auto")&&document.defaultView){var C=document.defaultView.getComputedStyle(u,null);v=C?C[p]:null}return v==="auto"?null:v}function Lt(u,p,v){var C=document.createElement(u);return C.className=p||"",v&&v.appendChild(C),C}function pr(u){var p=u.parentNode;p&&p.removeChild(u)}function Nm(u){for(;u.firstChild;)u.removeChild(u.firstChild)}function qc(u){var p=u.parentNode;p&&p.lastChild!==u&&p.appendChild(u)}function Zc(u){var p=u.parentNode;p&&p.firstChild!==u&&p.insertBefore(u,p.firstChild)}function Vv(u,p){if(u.classList!==void 0)return u.classList.contains(p);var v=Cm(u);return v.length>0&&new RegExp("(^|\\s)"+p+"(\\s|$)").test(v)}function pt(u,p){if(u.classList!==void 0)for(var v=y(p),C=0,A=v.length;C<A;C++)u.classList.add(v[C]);else if(!Vv(u,p)){var I=Cm(u);Wv(u,(I?I+" ":"")+p)}}function Er(u,p){u.classList!==void 0?u.classList.remove(p):Wv(u,g((" "+Cm(u)+" ").replace(" "+p+" "," ")))}function Wv(u,p){u.className.baseVal===void 0?u.className=p:u.className.baseVal=p}function Cm(u){return u.correspondingElement&&(u=u.correspondingElement),u.className.baseVal===void 0?u.className:u.className.baseVal}function Mi(u,p){"opacity"in u.style?u.style.opacity=p:"filter"in u.style&&iU(u,p)}function iU(u,p){var v=!1,C="DXImageTransform.Microsoft.Alpha";try{v=u.filters.item(C)}catch{if(p===1)return}p=Math.round(p*100),v?(v.Enabled=p!==100,v.Opacity=p):u.style.filter+=" progid:"+C+"(opacity="+p+")"}function Sm(u){for(var p=document.documentElement.style,v=0;v<u.length;v++)if(u[v]in p)return u[v];return!1}function Al(u,p,v){var C=p||new R(0,0);u.style[$v]=($e.ie3d?"translate("+C.x+"px,"+C.y+"px)":"translate3d("+C.x+"px,"+C.y+"px,0)")+(v?" scale("+v+")":"")}function Dr(u,p){u._leaflet_pos=p,$e.any3d?Al(u,p):(u.style.left=p.x+"px",u.style.top=p.y+"px")}function kl(u){return u._leaflet_pos||new R(0,0)}var hh,fh,Hv;if("onselectstart"in document)hh=function(){st(window,"selectstart",mn)},fh=function(){er(window,"selectstart",mn)};else{var ph=Sm(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);hh=function(){if(ph){var u=document.documentElement.style;Hv=u[ph],u[ph]="none"}},fh=function(){ph&&(document.documentElement.style[ph]=Hv,Hv=void 0)}}function Gv(){st(window,"dragstart",mn)}function qv(){er(window,"dragstart",mn)}var Em,Zv;function Kv(u){for(;u.tabIndex===-1;)u=u.parentNode;u.style&&(Am(),Em=u,Zv=u.style.outlineStyle,u.style.outlineStyle="none",st(window,"keydown",Am))}function Am(){Em&&(Em.style.outlineStyle=Zv,Em=void 0,Zv=void 0,er(window,"keydown",Am))}function mC(u){do u=u.parentNode;while((!u.offsetWidth||!u.offsetHeight)&&u!==document.body);return u}function Yv(u){var p=u.getBoundingClientRect();return{x:p.width/u.offsetWidth||1,y:p.height/u.offsetHeight||1,boundingClientRect:p}}var sU={__proto__:null,TRANSFORM:$v,TRANSITION:uh,TRANSITION_END:fC,get:pC,getStyle:dh,create:Lt,remove:pr,empty:Nm,toFront:qc,toBack:Zc,hasClass:Vv,addClass:pt,removeClass:Er,setClass:Wv,getClass:Cm,setOpacity:Mi,testProp:Sm,setTransform:Al,setPosition:Dr,getPosition:kl,get disableTextSelection(){return hh},get enableTextSelection(){return fh},disableImageDrag:Gv,enableImageDrag:qv,preventOutline:Kv,restoreOutline:Am,getSizedParentNode:mC,getScale:Yv};function st(u,p,v,C){if(p&&typeof p=="object")for(var A in p)Qv(u,A,p[A],v);else{p=y(p);for(var I=0,$=p.length;I<$;I++)Qv(u,p[I],v,C)}return this}var Xs="_leaflet_events";function er(u,p,v,C){if(arguments.length===1)gC(u),delete u[Xs];else if(p&&typeof p=="object")for(var A in p)Jv(u,A,p[A],v);else if(p=y(p),arguments.length===2)gC(u,function(X){return E(p,X)!==-1});else for(var I=0,$=p.length;I<$;I++)Jv(u,p[I],v,C);return this}function gC(u,p){for(var v in u[Xs]){var C=v.split(/\d/)[0];(!p||p(C))&&Jv(u,C,null,null,v)}}var Xv={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Qv(u,p,v,C){var A=p+c(v)+(C?"_"+c(C):"");if(u[Xs]&&u[Xs][A])return this;var I=function(X){return v.call(C||u,X||window.event)},$=I;!$e.touchNative&&$e.pointer&&p.indexOf("touch")===0?I=ZB(u,p,I):$e.touch&&p==="dblclick"?I=rU(u,I):"addEventListener"in u?p==="touchstart"||p==="touchmove"||p==="wheel"||p==="mousewheel"?u.addEventListener(Xv[p]||p,I,$e.passiveEvents?{passive:!1}:!1):p==="mouseenter"||p==="mouseleave"?(I=function(X){X=X||window.event,tx(u,X)&&$(X)},u.addEventListener(Xv[p],I,!1)):u.addEventListener(p,$,!1):u.attachEvent("on"+p,I),u[Xs]=u[Xs]||{},u[Xs][A]=I}function Jv(u,p,v,C,A){A=A||p+c(v)+(C?"_"+c(C):"");var I=u[Xs]&&u[Xs][A];if(!I)return this;!$e.touchNative&&$e.pointer&&p.indexOf("touch")===0?KB(u,p,I):$e.touch&&p==="dblclick"?nU(u,I):"removeEventListener"in u?u.removeEventListener(Xv[p]||p,I,!1):u.detachEvent("on"+p,I),u[Xs][A]=null}function jl(u){return u.stopPropagation?u.stopPropagation():u.originalEvent?u.originalEvent._stopped=!0:u.cancelBubble=!0,this}function ex(u){return Qv(u,"wheel",jl),this}function mh(u){return st(u,"mousedown touchstart dblclick contextmenu",jl),u._leaflet_disable_click=!0,this}function mn(u){return u.preventDefault?u.preventDefault():u.returnValue=!1,this}function Pl(u){return mn(u),jl(u),this}function vC(u){if(u.composedPath)return u.composedPath();for(var p=[],v=u.target;v;)p.push(v),v=v.parentNode;return p}function xC(u,p){if(!p)return new R(u.clientX,u.clientY);var v=Yv(p),C=v.boundingClientRect;return new R((u.clientX-C.left)/v.x-p.clientLeft,(u.clientY-C.top)/v.y-p.clientTop)}var aU=$e.linux&&$e.chrome?window.devicePixelRatio:$e.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function yC(u){return $e.edge?u.wheelDeltaY/2:u.deltaY&&u.deltaMode===0?-u.deltaY/aU:u.deltaY&&u.deltaMode===1?-u.deltaY*20:u.deltaY&&u.deltaMode===2?-u.deltaY*60:u.deltaX||u.deltaZ?0:u.wheelDelta?(u.wheelDeltaY||u.wheelDelta)/2:u.detail&&Math.abs(u.detail)<32765?-u.detail*20:u.detail?u.detail/-32765*60:0}function tx(u,p){var v=p.relatedTarget;if(!v)return!0;try{for(;v&&v!==u;)v=v.parentNode}catch{return!1}return v!==u}var oU={__proto__:null,on:st,off:er,stopPropagation:jl,disableScrollPropagation:ex,disableClickPropagation:mh,preventDefault:mn,stop:Pl,getPropagationPath:vC,getMousePosition:xC,getWheelDelta:yC,isExternalTarget:tx,addListener:st,removeListener:er},wC=me.extend({run:function(u,p,v,C){this.stop(),this._el=u,this._inProgress=!0,this._duration=v||.25,this._easeOutPower=1/Math.max(C||.5,.2),this._startPos=kl(u),this._offset=p.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=V(this._animate,this),this._step()},_step:function(u){var p=+new Date-this._startTime,v=this._duration*1e3;p<v?this._runFrame(this._easeOut(p/v),u):(this._runFrame(1),this._complete())},_runFrame:function(u,p){var v=this._startPos.add(this._offset.multiplyBy(u));p&&v._round(),Dr(this._el,v),this.fire("step")},_complete:function(){F(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(u){return 1-Math.pow(1-u,this._easeOutPower)}}),Ct=me.extend({options:{crs:ft,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(u,p){p=x(this,p),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(u),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),p.maxBounds&&this.setMaxBounds(p.maxBounds),p.zoom!==void 0&&(this._zoom=this._limitZoom(p.zoom)),p.center&&p.zoom!==void 0&&this.setView(De(p.center),p.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=uh&&$e.any3d&&!$e.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),st(this._proxy,fC,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(u,p,v){if(p=p===void 0?this._zoom:this._limitZoom(p),u=this._limitCenter(De(u),p,this.options.maxBounds),v=v||{},this._stop(),this._loaded&&!v.reset&&v!==!0){v.animate!==void 0&&(v.zoom=i({animate:v.animate},v.zoom),v.pan=i({animate:v.animate,duration:v.duration},v.pan));var C=this._zoom!==p?this._tryAnimatedZoom&&this._tryAnimatedZoom(u,p,v.zoom):this._tryAnimatedPan(u,v.pan);if(C)return clearTimeout(this._sizeTimer),this}return this._resetView(u,p,v.pan&&v.pan.noMoveStart),this},setZoom:function(u,p){return this._loaded?this.setView(this.getCenter(),u,{zoom:p}):(this._zoom=u,this)},zoomIn:function(u,p){return u=u||($e.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+u,p)},zoomOut:function(u,p){return u=u||($e.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-u,p)},setZoomAround:function(u,p,v){var C=this.getZoomScale(p),A=this.getSize().divideBy(2),I=u instanceof R?u:this.latLngToContainerPoint(u),$=I.subtract(A).multiplyBy(1-1/C),X=this.containerPointToLatLng(A.add($));return this.setView(X,p,{zoom:v})},_getBoundsCenterZoom:function(u,p){p=p||{},u=u.getBounds?u.getBounds():Ue(u);var v=ee(p.paddingTopLeft||p.padding||[0,0]),C=ee(p.paddingBottomRight||p.padding||[0,0]),A=this.getBoundsZoom(u,!1,v.add(C));if(A=typeof p.maxZoom=="number"?Math.min(p.maxZoom,A):A,A===1/0)return{center:u.getCenter(),zoom:A};var I=C.subtract(v).divideBy(2),$=this.project(u.getSouthWest(),A),X=this.project(u.getNorthEast(),A),te=this.unproject($.add(X).divideBy(2).add(I),A);return{center:te,zoom:A}},fitBounds:function(u,p){if(u=Ue(u),!u.isValid())throw new Error("Bounds are not valid.");var v=this._getBoundsCenterZoom(u,p);return this.setView(v.center,v.zoom,p)},fitWorld:function(u){return this.fitBounds([[-90,-180],[90,180]],u)},panTo:function(u,p){return this.setView(u,this._zoom,{pan:p})},panBy:function(u,p){if(u=ee(u).round(),p=p||{},!u.x&&!u.y)return this.fire("moveend");if(p.animate!==!0&&!this.getSize().contains(u))return this._resetView(this.unproject(this.project(this.getCenter()).add(u)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new wC,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),p.noMoveStart||this.fire("movestart"),p.animate!==!1){pt(this._mapPane,"leaflet-pan-anim");var v=this._getMapPanePos().subtract(u).round();this._panAnim.run(this._mapPane,v,p.duration||.25,p.easeLinearity)}else this._rawPanBy(u),this.fire("move").fire("moveend");return this},flyTo:function(u,p,v){if(v=v||{},v.animate===!1||!$e.any3d)return this.setView(u,p,v);this._stop();var C=this.project(this.getCenter()),A=this.project(u),I=this.getSize(),$=this._zoom;u=De(u),p=p===void 0?$:p;var X=Math.max(I.x,I.y),te=X*this.getZoomScale($,p),fe=A.distanceTo(C)||1,je=1.42,Je=je*je;function yt(Or){var Bm=Or?-1:1,KU=Or?te:X,YU=te*te-X*X+Bm*Je*Je*fe*fe,XU=2*KU*Je*fe,hx=YU/XU,eS=Math.sqrt(hx*hx+1)-hx,QU=eS<1e-9?-18:Math.log(eS);return QU}function Ln(Or){return(Math.exp(Or)-Math.exp(-Or))/2}function rn(Or){return(Math.exp(Or)+Math.exp(-Or))/2}function Fi(Or){return Ln(Or)/rn(Or)}var ai=yt(0);function eu(Or){return X*(rn(ai)/rn(ai+je*Or))}function HU(Or){return X*(rn(ai)*Fi(ai+je*Or)-Ln(ai))/Je}function GU(Or){return 1-Math.pow(1-Or,1.5)}var qU=Date.now(),QC=(yt(1)-ai)/je,ZU=v.duration?1e3*v.duration:1e3*QC*.8;function JC(){var Or=(Date.now()-qU)/ZU,Bm=GU(Or)*QC;Or<=1?(this._flyToFrame=V(JC,this),this._move(this.unproject(C.add(A.subtract(C).multiplyBy(HU(Bm)/fe)),$),this.getScaleZoom(X/eu(Bm),$),{flyTo:!0})):this._move(u,p)._moveEnd(!0)}return this._moveStart(!0,v.noMoveStart),JC.call(this),this},flyToBounds:function(u,p){var v=this._getBoundsCenterZoom(u,p);return this.flyTo(v.center,v.zoom,p)},setMaxBounds:function(u){return u=Ue(u),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),u.isValid()?(this.options.maxBounds=u,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(u){var p=this.options.minZoom;return this.options.minZoom=u,this._loaded&&p!==u&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(u):this},setMaxZoom:function(u){var p=this.options.maxZoom;return this.options.maxZoom=u,this._loaded&&p!==u&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(u):this},panInsideBounds:function(u,p){this._enforcingBounds=!0;var v=this.getCenter(),C=this._limitCenter(v,this._zoom,Ue(u));return v.equals(C)||this.panTo(C,p),this._enforcingBounds=!1,this},panInside:function(u,p){p=p||{};var v=ee(p.paddingTopLeft||p.padding||[0,0]),C=ee(p.paddingBottomRight||p.padding||[0,0]),A=this.project(this.getCenter()),I=this.project(u),$=this.getPixelBounds(),X=Ee([$.min.add(v),$.max.subtract(C)]),te=X.getSize();if(!X.contains(I)){this._enforcingBounds=!0;var fe=I.subtract(X.getCenter()),je=X.extend(I).getSize().subtract(te);A.x+=fe.x<0?-je.x:je.x,A.y+=fe.y<0?-je.y:je.y,this.panTo(this.unproject(A),p),this._enforcingBounds=!1}return this},invalidateSize:function(u){if(!this._loaded)return this;u=i({animate:!1,pan:!0},u===!0?{animate:!0}:u);var p=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var v=this.getSize(),C=p.divideBy(2).round(),A=v.divideBy(2).round(),I=C.subtract(A);return!I.x&&!I.y?this:(u.animate&&u.pan?this.panBy(I):(u.pan&&this._rawPanBy(I),this.fire("move"),u.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:p,newSize:v}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(u){if(u=this._locateOptions=i({timeout:1e4,watch:!1},u),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var p=a(this._handleGeolocationResponse,this),v=a(this._handleGeolocationError,this);return u.watch?this._locationWatchId=navigator.geolocation.watchPosition(p,v,u):navigator.geolocation.getCurrentPosition(p,v,u),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(u){if(this._container._leaflet_id){var p=u.code,v=u.message||(p===1?"permission denied":p===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:p,message:"Geolocation error: "+v+"."})}},_handleGeolocationResponse:function(u){if(this._container._leaflet_id){var p=u.coords.latitude,v=u.coords.longitude,C=new ze(p,v),A=C.toBounds(u.coords.accuracy*2),I=this._locateOptions;if(I.setView){var $=this.getBoundsZoom(A);this.setView(C,I.maxZoom?Math.min($,I.maxZoom):$)}var X={latlng:C,bounds:A,timestamp:u.timestamp};for(var te in u.coords)typeof u.coords[te]=="number"&&(X[te]=u.coords[te]);this.fire("locationfound",X)}},addHandler:function(u,p){if(!p)return this;var v=this[u]=new p(this);return this._handlers.push(v),this.options[u]&&v.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),pr(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(F(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var u;for(u in this._layers)this._layers[u].remove();for(u in this._panes)pr(this._panes[u]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(u,p){var v="leaflet-pane"+(u?" leaflet-"+u.replace("Pane","")+"-pane":""),C=Lt("div",v,p||this._mapPane);return u&&(this._panes[u]=C),C},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var u=this.getPixelBounds(),p=this.unproject(u.getBottomLeft()),v=this.unproject(u.getTopRight());return new Ke(p,v)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(u,p,v){u=Ue(u),v=ee(v||[0,0]);var C=this.getZoom()||0,A=this.getMinZoom(),I=this.getMaxZoom(),$=u.getNorthWest(),X=u.getSouthEast(),te=this.getSize().subtract(v),fe=Ee(this.project(X,C),this.project($,C)).getSize(),je=$e.any3d?this.options.zoomSnap:1,Je=te.x/fe.x,yt=te.y/fe.y,Ln=p?Math.max(Je,yt):Math.min(Je,yt);return C=this.getScaleZoom(Ln,C),je&&(C=Math.round(C/(je/100))*(je/100),C=p?Math.ceil(C/je)*je:Math.floor(C/je)*je),Math.max(A,Math.min(I,C))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new R(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(u,p){var v=this._getTopLeftPoint(u,p);return new ie(v,v.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(u){return this.options.crs.getProjectedBounds(u===void 0?this.getZoom():u)},getPane:function(u){return typeof u=="string"?this._panes[u]:u},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(u,p){var v=this.options.crs;return p=p===void 0?this._zoom:p,v.scale(u)/v.scale(p)},getScaleZoom:function(u,p){var v=this.options.crs;p=p===void 0?this._zoom:p;var C=v.zoom(u*v.scale(p));return isNaN(C)?1/0:C},project:function(u,p){return p=p===void 0?this._zoom:p,this.options.crs.latLngToPoint(De(u),p)},unproject:function(u,p){return p=p===void 0?this._zoom:p,this.options.crs.pointToLatLng(ee(u),p)},layerPointToLatLng:function(u){var p=ee(u).add(this.getPixelOrigin());return this.unproject(p)},latLngToLayerPoint:function(u){var p=this.project(De(u))._round();return p._subtract(this.getPixelOrigin())},wrapLatLng:function(u){return this.options.crs.wrapLatLng(De(u))},wrapLatLngBounds:function(u){return this.options.crs.wrapLatLngBounds(Ue(u))},distance:function(u,p){return this.options.crs.distance(De(u),De(p))},containerPointToLayerPoint:function(u){return ee(u).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(u){return ee(u).add(this._getMapPanePos())},containerPointToLatLng:function(u){var p=this.containerPointToLayerPoint(ee(u));return this.layerPointToLatLng(p)},latLngToContainerPoint:function(u){return this.layerPointToContainerPoint(this.latLngToLayerPoint(De(u)))},mouseEventToContainerPoint:function(u){return xC(u,this._container)},mouseEventToLayerPoint:function(u){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(u))},mouseEventToLatLng:function(u){return this.layerPointToLatLng(this.mouseEventToLayerPoint(u))},_initContainer:function(u){var p=this._container=pC(u);if(p){if(p._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");st(p,"scroll",this._onScroll,this),this._containerId=c(p)},_initLayout:function(){var u=this._container;this._fadeAnimated=this.options.fadeAnimation&&$e.any3d,pt(u,"leaflet-container"+($e.touch?" leaflet-touch":"")+($e.retina?" leaflet-retina":"")+($e.ielt9?" leaflet-oldie":"")+($e.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var p=dh(u,"position");p!=="absolute"&&p!=="relative"&&p!=="fixed"&&p!=="sticky"&&(u.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var u=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Dr(this._mapPane,new R(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(pt(u.markerPane,"leaflet-zoom-hide"),pt(u.shadowPane,"leaflet-zoom-hide"))},_resetView:function(u,p,v){Dr(this._mapPane,new R(0,0));var C=!this._loaded;this._loaded=!0,p=this._limitZoom(p),this.fire("viewprereset");var A=this._zoom!==p;this._moveStart(A,v)._move(u,p)._moveEnd(A),this.fire("viewreset"),C&&this.fire("load")},_moveStart:function(u,p){return u&&this.fire("zoomstart"),p||this.fire("movestart"),this},_move:function(u,p,v,C){p===void 0&&(p=this._zoom);var A=this._zoom!==p;return this._zoom=p,this._lastCenter=u,this._pixelOrigin=this._getNewPixelOrigin(u),C?v&&v.pinch&&this.fire("zoom",v):((A||v&&v.pinch)&&this.fire("zoom",v),this.fire("move",v)),this},_moveEnd:function(u){return u&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return F(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(u){Dr(this._mapPane,this._getMapPanePos().subtract(u))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(u){this._targets={},this._targets[c(this._container)]=this;var p=u?er:st;p(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&p(window,"resize",this._onResize,this),$e.any3d&&this.options.transform3DLimit&&(u?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){F(this._resizeRequest),this._resizeRequest=V(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var u=this._getMapPanePos();Math.max(Math.abs(u.x),Math.abs(u.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(u,p){for(var v=[],C,A=p==="mouseout"||p==="mouseover",I=u.target||u.srcElement,$=!1;I;){if(C=this._targets[c(I)],C&&(p==="click"||p==="preclick")&&this._draggableMoved(C)){$=!0;break}if(C&&C.listens(p,!0)&&(A&&!tx(I,u)||(v.push(C),A))||I===this._container)break;I=I.parentNode}return!v.length&&!$&&!A&&this.listens(p,!0)&&(v=[this]),v},_isClickDisabled:function(u){for(;u&&u!==this._container;){if(u._leaflet_disable_click)return!0;u=u.parentNode}},_handleDOMEvent:function(u){var p=u.target||u.srcElement;if(!(!this._loaded||p._leaflet_disable_events||u.type==="click"&&this._isClickDisabled(p))){var v=u.type;v==="mousedown"&&Kv(p),this._fireDOMEvent(u,v)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(u,p,v){if(u.type==="click"){var C=i({},u);C.type="preclick",this._fireDOMEvent(C,C.type,v)}var A=this._findEventTargets(u,p);if(v){for(var I=[],$=0;$<v.length;$++)v[$].listens(p,!0)&&I.push(v[$]);A=I.concat(A)}if(A.length){p==="contextmenu"&&mn(u);var X=A[0],te={originalEvent:u};if(u.type!=="keypress"&&u.type!=="keydown"&&u.type!=="keyup"){var fe=X.getLatLng&&(!X._radius||X._radius<=10);te.containerPoint=fe?this.latLngToContainerPoint(X.getLatLng()):this.mouseEventToContainerPoint(u),te.layerPoint=this.containerPointToLayerPoint(te.containerPoint),te.latlng=fe?X.getLatLng():this.layerPointToLatLng(te.layerPoint)}for($=0;$<A.length;$++)if(A[$].fire(p,te,!0),te.originalEvent._stopped||A[$].options.bubblingMouseEvents===!1&&E(this._mouseEvents,p)!==-1)return}},_draggableMoved:function(u){return u=u.dragging&&u.dragging.enabled()?u:this,u.dragging&&u.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var u=0,p=this._handlers.length;u<p;u++)this._handlers[u].disable()},whenReady:function(u,p){return this._loaded?u.call(p||this,{target:this}):this.on("load",u,p),this},_getMapPanePos:function(){return kl(this._mapPane)||new R(0,0)},_moved:function(){var u=this._getMapPanePos();return u&&!u.equals([0,0])},_getTopLeftPoint:function(u,p){var v=u&&p!==void 0?this._getNewPixelOrigin(u,p):this.getPixelOrigin();return v.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(u,p){var v=this.getSize()._divideBy(2);return this.project(u,p)._subtract(v)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(u,p,v){var C=this._getNewPixelOrigin(v,p);return this.project(u,p)._subtract(C)},_latLngBoundsToNewLayerBounds:function(u,p,v){var C=this._getNewPixelOrigin(v,p);return Ee([this.project(u.getSouthWest(),p)._subtract(C),this.project(u.getNorthWest(),p)._subtract(C),this.project(u.getSouthEast(),p)._subtract(C),this.project(u.getNorthEast(),p)._subtract(C)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(u){return this.latLngToLayerPoint(u).subtract(this._getCenterLayerPoint())},_limitCenter:function(u,p,v){if(!v)return u;var C=this.project(u,p),A=this.getSize().divideBy(2),I=new ie(C.subtract(A),C.add(A)),$=this._getBoundsOffset(I,v,p);return Math.abs($.x)<=1&&Math.abs($.y)<=1?u:this.unproject(C.add($),p)},_limitOffset:function(u,p){if(!p)return u;var v=this.getPixelBounds(),C=new ie(v.min.add(u),v.max.add(u));return u.add(this._getBoundsOffset(C,p))},_getBoundsOffset:function(u,p,v){var C=Ee(this.project(p.getNorthEast(),v),this.project(p.getSouthWest(),v)),A=C.min.subtract(u.min),I=C.max.subtract(u.max),$=this._rebound(A.x,-I.x),X=this._rebound(A.y,-I.y);return new R($,X)},_rebound:function(u,p){return u+p>0?Math.round(u-p)/2:Math.max(0,Math.ceil(u))-Math.max(0,Math.floor(p))},_limitZoom:function(u){var p=this.getMinZoom(),v=this.getMaxZoom(),C=$e.any3d?this.options.zoomSnap:1;return C&&(u=Math.round(u/C)*C),Math.max(p,Math.min(v,u))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Er(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(u,p){var v=this._getCenterOffset(u)._trunc();return(p&&p.animate)!==!0&&!this.getSize().contains(v)?!1:(this.panBy(v,p),!0)},_createAnimProxy:function(){var u=this._proxy=Lt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(u),this.on("zoomanim",function(p){var v=$v,C=this._proxy.style[v];Al(this._proxy,this.project(p.center,p.zoom),this.getZoomScale(p.zoom,1)),C===this._proxy.style[v]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){pr(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var u=this.getCenter(),p=this.getZoom();Al(this._proxy,this.project(u,p),this.getZoomScale(p,1))},_catchTransitionEnd:function(u){this._animatingZoom&&u.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(u,p,v){if(this._animatingZoom)return!0;if(v=v||{},!this._zoomAnimated||v.animate===!1||this._nothingToAnimate()||Math.abs(p-this._zoom)>this.options.zoomAnimationThreshold)return!1;var C=this.getZoomScale(p),A=this._getCenterOffset(u)._divideBy(1-1/C);return v.animate!==!0&&!this.getSize().contains(A)?!1:(V(function(){this._moveStart(!0,v.noMoveStart||!1)._animateZoom(u,p,!0)},this),!0)},_animateZoom:function(u,p,v,C){this._mapPane&&(v&&(this._animatingZoom=!0,this._animateToCenter=u,this._animateToZoom=p,pt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:u,zoom:p,noUpdate:C}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Er(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function lU(u,p){return new Ct(u,p)}var ss=H.extend({options:{position:"topright"},initialize:function(u){x(this,u)},getPosition:function(){return this.options.position},setPosition:function(u){var p=this._map;return p&&p.removeControl(this),this.options.position=u,p&&p.addControl(this),this},getContainer:function(){return this._container},addTo:function(u){this.remove(),this._map=u;var p=this._container=this.onAdd(u),v=this.getPosition(),C=u._controlCorners[v];return pt(p,"leaflet-control"),v.indexOf("bottom")!==-1?C.insertBefore(p,C.firstChild):C.appendChild(p),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(pr(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(u){this._map&&u&&u.screenX>0&&u.screenY>0&&this._map.getContainer().focus()}}),gh=function(u){return new ss(u)};Ct.include({addControl:function(u){return u.addTo(this),this},removeControl:function(u){return u.remove(),this},_initControlPos:function(){var u=this._controlCorners={},p="leaflet-",v=this._controlContainer=Lt("div",p+"control-container",this._container);function C(A,I){var $=p+A+" "+p+I;u[A+I]=Lt("div",$,v)}C("top","left"),C("top","right"),C("bottom","left"),C("bottom","right")},_clearControlPos:function(){for(var u in this._controlCorners)pr(this._controlCorners[u]);pr(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var bC=ss.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(u,p,v,C){return v<C?-1:C<v?1:0}},initialize:function(u,p,v){x(this,v),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var C in u)this._addLayer(u[C],C);for(C in p)this._addLayer(p[C],C,!0)},onAdd:function(u){this._initLayout(),this._update(),this._map=u,u.on("zoomend",this._checkDisabledLayers,this);for(var p=0;p<this._layers.length;p++)this._layers[p].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(u){return ss.prototype.addTo.call(this,u),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(u,p){return this._addLayer(u,p),this._map?this._update():this},addOverlay:function(u,p){return this._addLayer(u,p,!0),this._map?this._update():this},removeLayer:function(u){u.off("add remove",this._onLayerChange,this);var p=this._getLayer(c(u));return p&&this._layers.splice(this._layers.indexOf(p),1),this._map?this._update():this},expand:function(){pt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var u=this._map.getSize().y-(this._container.offsetTop+50);return u<this._section.clientHeight?(pt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=u+"px"):Er(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Er(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var u="leaflet-control-layers",p=this._container=Lt("div",u),v=this.options.collapsed;p.setAttribute("aria-haspopup",!0),mh(p),ex(p);var C=this._section=Lt("section",u+"-list");v&&(this._map.on("click",this.collapse,this),st(p,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var A=this._layersLink=Lt("a",u+"-toggle",p);A.href="#",A.title="Layers",A.setAttribute("role","button"),st(A,{keydown:function(I){I.keyCode===13&&this._expandSafely()},click:function(I){mn(I),this._expandSafely()}},this),v||this.expand(),this._baseLayersList=Lt("div",u+"-base",C),this._separator=Lt("div",u+"-separator",C),this._overlaysList=Lt("div",u+"-overlays",C),p.appendChild(C)},_getLayer:function(u){for(var p=0;p<this._layers.length;p++)if(this._layers[p]&&c(this._layers[p].layer)===u)return this._layers[p]},_addLayer:function(u,p,v){this._map&&u.on("add remove",this._onLayerChange,this),this._layers.push({layer:u,name:p,overlay:v}),this.options.sortLayers&&this._layers.sort(a(function(C,A){return this.options.sortFunction(C.layer,A.layer,C.name,A.name)},this)),this.options.autoZIndex&&u.setZIndex&&(this._lastZIndex++,u.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Nm(this._baseLayersList),Nm(this._overlaysList),this._layerControlInputs=[];var u,p,v,C,A=0;for(v=0;v<this._layers.length;v++)C=this._layers[v],this._addItem(C),p=p||C.overlay,u=u||!C.overlay,A+=C.overlay?0:1;return this.options.hideSingleBase&&(u=u&&A>1,this._baseLayersList.style.display=u?"":"none"),this._separator.style.display=p&&u?"":"none",this},_onLayerChange:function(u){this._handlingClick||this._update();var p=this._getLayer(c(u.target)),v=p.overlay?u.type==="add"?"overlayadd":"overlayremove":u.type==="add"?"baselayerchange":null;v&&this._map.fire(v,p)},_createRadioElement:function(u,p){var v='<input type="radio" class="leaflet-control-layers-selector" name="'+u+'"'+(p?' checked="checked"':"")+"/>",C=document.createElement("div");return C.innerHTML=v,C.firstChild},_addItem:function(u){var p=document.createElement("label"),v=this._map.hasLayer(u.layer),C;u.overlay?(C=document.createElement("input"),C.type="checkbox",C.className="leaflet-control-layers-selector",C.defaultChecked=v):C=this._createRadioElement("leaflet-base-layers_"+c(this),v),this._layerControlInputs.push(C),C.layerId=c(u.layer),st(C,"click",this._onInputClick,this);var A=document.createElement("span");A.innerHTML=" "+u.name;var I=document.createElement("span");p.appendChild(I),I.appendChild(C),I.appendChild(A);var $=u.overlay?this._overlaysList:this._baseLayersList;return $.appendChild(p),this._checkDisabledLayers(),p},_onInputClick:function(){if(!this._preventClick){var u=this._layerControlInputs,p,v,C=[],A=[];this._handlingClick=!0;for(var I=u.length-1;I>=0;I--)p=u[I],v=this._getLayer(p.layerId).layer,p.checked?C.push(v):p.checked||A.push(v);for(I=0;I<A.length;I++)this._map.hasLayer(A[I])&&this._map.removeLayer(A[I]);for(I=0;I<C.length;I++)this._map.hasLayer(C[I])||this._map.addLayer(C[I]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var u=this._layerControlInputs,p,v,C=this._map.getZoom(),A=u.length-1;A>=0;A--)p=u[A],v=this._getLayer(p.layerId).layer,p.disabled=v.options.minZoom!==void 0&&C<v.options.minZoom||v.options.maxZoom!==void 0&&C>v.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var u=this._section;this._preventClick=!0,st(u,"click",mn),this.expand();var p=this;setTimeout(function(){er(u,"click",mn),p._preventClick=!1})}}),cU=function(u,p,v){return new bC(u,p,v)},rx=ss.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(u){var p="leaflet-control-zoom",v=Lt("div",p+" leaflet-bar"),C=this.options;return this._zoomInButton=this._createButton(C.zoomInText,C.zoomInTitle,p+"-in",v,this._zoomIn),this._zoomOutButton=this._createButton(C.zoomOutText,C.zoomOutTitle,p+"-out",v,this._zoomOut),this._updateDisabled(),u.on("zoomend zoomlevelschange",this._updateDisabled,this),v},onRemove:function(u){u.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(u){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(u.shiftKey?3:1))},_zoomOut:function(u){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(u.shiftKey?3:1))},_createButton:function(u,p,v,C,A){var I=Lt("a",v,C);return I.innerHTML=u,I.href="#",I.title=p,I.setAttribute("role","button"),I.setAttribute("aria-label",p),mh(I),st(I,"click",Pl),st(I,"click",A,this),st(I,"click",this._refocusOnMap,this),I},_updateDisabled:function(){var u=this._map,p="leaflet-disabled";Er(this._zoomInButton,p),Er(this._zoomOutButton,p),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||u._zoom===u.getMinZoom())&&(pt(this._zoomOutButton,p),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||u._zoom===u.getMaxZoom())&&(pt(this._zoomInButton,p),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ct.mergeOptions({zoomControl:!0}),Ct.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new rx,this.addControl(this.zoomControl))});var uU=function(u){return new rx(u)},_C=ss.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(u){var p="leaflet-control-scale",v=Lt("div",p),C=this.options;return this._addScales(C,p+"-line",v),u.on(C.updateWhenIdle?"moveend":"move",this._update,this),u.whenReady(this._update,this),v},onRemove:function(u){u.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(u,p,v){u.metric&&(this._mScale=Lt("div",p,v)),u.imperial&&(this._iScale=Lt("div",p,v))},_update:function(){var u=this._map,p=u.getSize().y/2,v=u.distance(u.containerPointToLatLng([0,p]),u.containerPointToLatLng([this.options.maxWidth,p]));this._updateScales(v)},_updateScales:function(u){this.options.metric&&u&&this._updateMetric(u),this.options.imperial&&u&&this._updateImperial(u)},_updateMetric:function(u){var p=this._getRoundNum(u),v=p<1e3?p+" m":p/1e3+" km";this._updateScale(this._mScale,v,p/u)},_updateImperial:function(u){var p=u*3.2808399,v,C,A;p>5280?(v=p/5280,C=this._getRoundNum(v),this._updateScale(this._iScale,C+" mi",C/v)):(A=this._getRoundNum(p),this._updateScale(this._iScale,A+" ft",A/p))},_updateScale:function(u,p,v){u.style.width=Math.round(this.options.maxWidth*v)+"px",u.innerHTML=p},_getRoundNum:function(u){var p=Math.pow(10,(Math.floor(u)+"").length-1),v=u/p;return v=v>=10?10:v>=5?5:v>=3?3:v>=2?2:1,p*v}}),dU=function(u){return new _C(u)},hU='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',nx=ss.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+($e.inlineSvg?hU+" ":"")+"Leaflet</a>"},initialize:function(u){x(this,u),this._attributions={}},onAdd:function(u){u.attributionControl=this,this._container=Lt("div","leaflet-control-attribution"),mh(this._container);for(var p in u._layers)u._layers[p].getAttribution&&this.addAttribution(u._layers[p].getAttribution());return this._update(),u.on("layeradd",this._addAttribution,this),this._container},onRemove:function(u){u.off("layeradd",this._addAttribution,this)},_addAttribution:function(u){u.layer.getAttribution&&(this.addAttribution(u.layer.getAttribution()),u.layer.once("remove",function(){this.removeAttribution(u.layer.getAttribution())},this))},setPrefix:function(u){return this.options.prefix=u,this._update(),this},addAttribution:function(u){return u?(this._attributions[u]||(this._attributions[u]=0),this._attributions[u]++,this._update(),this):this},removeAttribution:function(u){return u?(this._attributions[u]&&(this._attributions[u]--,this._update()),this):this},_update:function(){if(this._map){var u=[];for(var p in this._attributions)this._attributions[p]&&u.push(p);var v=[];this.options.prefix&&v.push(this.options.prefix),u.length&&v.push(u.join(", ")),this._container.innerHTML=v.join(' <span aria-hidden="true">|</span> ')}}});Ct.mergeOptions({attributionControl:!0}),Ct.addInitHook(function(){this.options.attributionControl&&new nx().addTo(this)});var fU=function(u){return new nx(u)};ss.Layers=bC,ss.Zoom=rx,ss.Scale=_C,ss.Attribution=nx,gh.layers=cU,gh.zoom=uU,gh.scale=dU,gh.attribution=fU;var Qs=H.extend({initialize:function(u){this._map=u},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Qs.addTo=function(u,p){return u.addHandler(p,this),this};var pU={Events:ae},NC=$e.touch?"touchstart mousedown":"mousedown",mo=me.extend({options:{clickTolerance:3},initialize:function(u,p,v,C){x(this,C),this._element=u,this._dragStartTarget=p||u,this._preventOutline=v},enable:function(){this._enabled||(st(this._dragStartTarget,NC,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(mo._dragging===this&&this.finishDrag(!0),er(this._dragStartTarget,NC,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(u){if(this._enabled&&(this._moved=!1,!Vv(this._element,"leaflet-zoom-anim"))){if(u.touches&&u.touches.length!==1){mo._dragging===this&&this.finishDrag();return}if(!(mo._dragging||u.shiftKey||u.which!==1&&u.button!==1&&!u.touches)&&(mo._dragging=this,this._preventOutline&&Kv(this._element),Gv(),hh(),!this._moving)){this.fire("down");var p=u.touches?u.touches[0]:u,v=mC(this._element);this._startPoint=new R(p.clientX,p.clientY),this._startPos=kl(this._element),this._parentScale=Yv(v);var C=u.type==="mousedown";st(document,C?"mousemove":"touchmove",this._onMove,this),st(document,C?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(u){if(this._enabled){if(u.touches&&u.touches.length>1){this._moved=!0;return}var p=u.touches&&u.touches.length===1?u.touches[0]:u,v=new R(p.clientX,p.clientY)._subtract(this._startPoint);!v.x&&!v.y||Math.abs(v.x)+Math.abs(v.y)<this.options.clickTolerance||(v.x/=this._parentScale.x,v.y/=this._parentScale.y,mn(u),this._moved||(this.fire("dragstart"),this._moved=!0,pt(document.body,"leaflet-dragging"),this._lastTarget=u.target||u.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),pt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(v),this._moving=!0,this._lastEvent=u,this._updatePosition())}},_updatePosition:function(){var u={originalEvent:this._lastEvent};this.fire("predrag",u),Dr(this._element,this._newPos),this.fire("drag",u)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(u){Er(document.body,"leaflet-dragging"),this._lastTarget&&(Er(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),er(document,"mousemove touchmove",this._onMove,this),er(document,"mouseup touchend touchcancel",this._onUp,this),qv(),fh();var p=this._moved&&this._moving;this._moving=!1,mo._dragging=!1,p&&this.fire("dragend",{noInertia:u,distance:this._newPos.distanceTo(this._startPos)})}});function CC(u,p,v){var C,A=[1,4,2,8],I,$,X,te,fe,je,Je,yt;for(I=0,je=u.length;I<je;I++)u[I]._code=Tl(u[I],p);for(X=0;X<4;X++){for(Je=A[X],C=[],I=0,je=u.length,$=je-1;I<je;$=I++)te=u[I],fe=u[$],te._code&Je?fe._code&Je||(yt=km(fe,te,Je,p,v),yt._code=Tl(yt,p),C.push(yt)):(fe._code&Je&&(yt=km(fe,te,Je,p,v),yt._code=Tl(yt,p),C.push(yt)),C.push(te));u=C}return u}function SC(u,p){var v,C,A,I,$,X,te,fe,je;if(!u||u.length===0)throw new Error("latlngs not passed");Ri(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var Je=De([0,0]),yt=Ue(u),Ln=yt.getNorthWest().distanceTo(yt.getSouthWest())*yt.getNorthEast().distanceTo(yt.getNorthWest());Ln<1700&&(Je=ix(u));var rn=u.length,Fi=[];for(v=0;v<rn;v++){var ai=De(u[v]);Fi.push(p.project(De([ai.lat-Je.lat,ai.lng-Je.lng])))}for(X=te=fe=0,v=0,C=rn-1;v<rn;C=v++)A=Fi[v],I=Fi[C],$=A.y*I.x-I.y*A.x,te+=(A.x+I.x)*$,fe+=(A.y+I.y)*$,X+=$*3;X===0?je=Fi[0]:je=[te/X,fe/X];var eu=p.unproject(ee(je));return De([eu.lat+Je.lat,eu.lng+Je.lng])}function ix(u){for(var p=0,v=0,C=0,A=0;A<u.length;A++){var I=De(u[A]);p+=I.lat,v+=I.lng,C++}return De([p/C,v/C])}var mU={__proto__:null,clipPolygon:CC,polygonCenter:SC,centroid:ix};function EC(u,p){if(!p||!u.length)return u.slice();var v=p*p;return u=xU(u,v),u=vU(u,v),u}function AC(u,p,v){return Math.sqrt(vh(u,p,v,!0))}function gU(u,p,v){return vh(u,p,v)}function vU(u,p){var v=u.length,C=typeof Uint8Array<"u"?Uint8Array:Array,A=new C(v);A[0]=A[v-1]=1,sx(u,A,p,0,v-1);var I,$=[];for(I=0;I<v;I++)A[I]&&$.push(u[I]);return $}function sx(u,p,v,C,A){var I=0,$,X,te;for(X=C+1;X<=A-1;X++)te=vh(u[X],u[C],u[A],!0),te>I&&($=X,I=te);I>v&&(p[$]=1,sx(u,p,v,C,$),sx(u,p,v,$,A))}function xU(u,p){for(var v=[u[0]],C=1,A=0,I=u.length;C<I;C++)yU(u[C],u[A])>p&&(v.push(u[C]),A=C);return A<I-1&&v.push(u[I-1]),v}var kC;function jC(u,p,v,C,A){var I=C?kC:Tl(u,v),$=Tl(p,v),X,te,fe;for(kC=$;;){if(!(I|$))return[u,p];if(I&$)return!1;X=I||$,te=km(u,p,X,v,A),fe=Tl(te,v),X===I?(u=te,I=fe):(p=te,$=fe)}}function km(u,p,v,C,A){var I=p.x-u.x,$=p.y-u.y,X=C.min,te=C.max,fe,je;return v&8?(fe=u.x+I*(te.y-u.y)/$,je=te.y):v&4?(fe=u.x+I*(X.y-u.y)/$,je=X.y):v&2?(fe=te.x,je=u.y+$*(te.x-u.x)/I):v&1&&(fe=X.x,je=u.y+$*(X.x-u.x)/I),new R(fe,je,A)}function Tl(u,p){var v=0;return u.x<p.min.x?v|=1:u.x>p.max.x&&(v|=2),u.y<p.min.y?v|=4:u.y>p.max.y&&(v|=8),v}function yU(u,p){var v=p.x-u.x,C=p.y-u.y;return v*v+C*C}function vh(u,p,v,C){var A=p.x,I=p.y,$=v.x-A,X=v.y-I,te=$*$+X*X,fe;return te>0&&(fe=((u.x-A)*$+(u.y-I)*X)/te,fe>1?(A=v.x,I=v.y):fe>0&&(A+=$*fe,I+=X*fe)),$=u.x-A,X=u.y-I,C?$*$+X*X:new R(A,I)}function Ri(u){return!S(u[0])||typeof u[0][0]!="object"&&typeof u[0][0]<"u"}function PC(u){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ri(u)}function TC(u,p){var v,C,A,I,$,X,te,fe;if(!u||u.length===0)throw new Error("latlngs not passed");Ri(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var je=De([0,0]),Je=Ue(u),yt=Je.getNorthWest().distanceTo(Je.getSouthWest())*Je.getNorthEast().distanceTo(Je.getNorthWest());yt<1700&&(je=ix(u));var Ln=u.length,rn=[];for(v=0;v<Ln;v++){var Fi=De(u[v]);rn.push(p.project(De([Fi.lat-je.lat,Fi.lng-je.lng])))}for(v=0,C=0;v<Ln-1;v++)C+=rn[v].distanceTo(rn[v+1])/2;if(C===0)fe=rn[0];else for(v=0,I=0;v<Ln-1;v++)if($=rn[v],X=rn[v+1],A=$.distanceTo(X),I+=A,I>C){te=(I-C)/A,fe=[X.x-te*(X.x-$.x),X.y-te*(X.y-$.y)];break}var ai=p.unproject(ee(fe));return De([ai.lat+je.lat,ai.lng+je.lng])}var wU={__proto__:null,simplify:EC,pointToSegmentDistance:AC,closestPointOnSegment:gU,clipSegment:jC,_getEdgeIntersection:km,_getBitCode:Tl,_sqClosestPointOnSegment:vh,isFlat:Ri,_flat:PC,polylineCenter:TC},ax={project:function(u){return new R(u.lng,u.lat)},unproject:function(u){return new ze(u.y,u.x)},bounds:new ie([-180,-90],[180,90])},ox={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ie([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(u){var p=Math.PI/180,v=this.R,C=u.lat*p,A=this.R_MINOR/v,I=Math.sqrt(1-A*A),$=I*Math.sin(C),X=Math.tan(Math.PI/4-C/2)/Math.pow((1-$)/(1+$),I/2);return C=-v*Math.log(Math.max(X,1e-10)),new R(u.lng*p*v,C)},unproject:function(u){for(var p=180/Math.PI,v=this.R,C=this.R_MINOR/v,A=Math.sqrt(1-C*C),I=Math.exp(-u.y/v),$=Math.PI/2-2*Math.atan(I),X=0,te=.1,fe;X<15&&Math.abs(te)>1e-7;X++)fe=A*Math.sin($),fe=Math.pow((1-fe)/(1+fe),A/2),te=Math.PI/2-2*Math.atan(I*fe)-$,$+=te;return new ze($*p,u.x*p/v)}},bU={__proto__:null,LonLat:ax,Mercator:ox,SphericalMercator:Me},_U=i({},_e,{code:"EPSG:3395",projection:ox,transformation:function(){var u=.5/(Math.PI*ox.R);return Qe(u,.5,-u,.5)}()}),IC=i({},_e,{code:"EPSG:4326",projection:ax,transformation:Qe(1/180,1,-1/180,.5)}),NU=i({},Y,{projection:ax,transformation:Qe(1,0,-1,0),scale:function(u){return Math.pow(2,u)},zoom:function(u){return Math.log(u)/Math.LN2},distance:function(u,p){var v=p.lng-u.lng,C=p.lat-u.lat;return Math.sqrt(v*v+C*C)},infinite:!0});Y.Earth=_e,Y.EPSG3395=_U,Y.EPSG3857=ft,Y.EPSG900913=ge,Y.EPSG4326=IC,Y.Simple=NU;var as=me.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(u){return u.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(u){return u&&u.removeLayer(this),this},getPane:function(u){return this._map.getPane(u?this.options[u]||u:this.options.pane)},addInteractiveTarget:function(u){return this._map._targets[c(u)]=this,this},removeInteractiveTarget:function(u){return delete this._map._targets[c(u)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(u){var p=u.target;if(p.hasLayer(this)){if(this._map=p,this._zoomAnimated=p._zoomAnimated,this.getEvents){var v=this.getEvents();p.on(v,this),this.once("remove",function(){p.off(v,this)},this)}this.onAdd(p),this.fire("add"),p.fire("layeradd",{layer:this})}}});Ct.include({addLayer:function(u){if(!u._layerAdd)throw new Error("The provided object is not a Layer.");var p=c(u);return this._layers[p]?this:(this._layers[p]=u,u._mapToAdd=this,u.beforeAdd&&u.beforeAdd(this),this.whenReady(u._layerAdd,u),this)},removeLayer:function(u){var p=c(u);return this._layers[p]?(this._loaded&&u.onRemove(this),delete this._layers[p],this._loaded&&(this.fire("layerremove",{layer:u}),u.fire("remove")),u._map=u._mapToAdd=null,this):this},hasLayer:function(u){return c(u)in this._layers},eachLayer:function(u,p){for(var v in this._layers)u.call(p,this._layers[v]);return this},_addLayers:function(u){u=u?S(u)?u:[u]:[];for(var p=0,v=u.length;p<v;p++)this.addLayer(u[p])},_addZoomLimit:function(u){(!isNaN(u.options.maxZoom)||!isNaN(u.options.minZoom))&&(this._zoomBoundLayers[c(u)]=u,this._updateZoomLevels())},_removeZoomLimit:function(u){var p=c(u);this._zoomBoundLayers[p]&&(delete this._zoomBoundLayers[p],this._updateZoomLevels())},_updateZoomLevels:function(){var u=1/0,p=-1/0,v=this._getZoomSpan();for(var C in this._zoomBoundLayers){var A=this._zoomBoundLayers[C].options;u=A.minZoom===void 0?u:Math.min(u,A.minZoom),p=A.maxZoom===void 0?p:Math.max(p,A.maxZoom)}this._layersMaxZoom=p===-1/0?void 0:p,this._layersMinZoom=u===1/0?void 0:u,v!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Kc=as.extend({initialize:function(u,p){x(this,p),this._layers={};var v,C;if(u)for(v=0,C=u.length;v<C;v++)this.addLayer(u[v])},addLayer:function(u){var p=this.getLayerId(u);return this._layers[p]=u,this._map&&this._map.addLayer(u),this},removeLayer:function(u){var p=u in this._layers?u:this.getLayerId(u);return this._map&&this._layers[p]&&this._map.removeLayer(this._layers[p]),delete this._layers[p],this},hasLayer:function(u){var p=typeof u=="number"?u:this.getLayerId(u);return p in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(u){var p=Array.prototype.slice.call(arguments,1),v,C;for(v in this._layers)C=this._layers[v],C[u]&&C[u].apply(C,p);return this},onAdd:function(u){this.eachLayer(u.addLayer,u)},onRemove:function(u){this.eachLayer(u.removeLayer,u)},eachLayer:function(u,p){for(var v in this._layers)u.call(p,this._layers[v]);return this},getLayer:function(u){return this._layers[u]},getLayers:function(){var u=[];return this.eachLayer(u.push,u),u},setZIndex:function(u){return this.invoke("setZIndex",u)},getLayerId:function(u){return c(u)}}),CU=function(u,p){return new Kc(u,p)},Ta=Kc.extend({addLayer:function(u){return this.hasLayer(u)?this:(u.addEventParent(this),Kc.prototype.addLayer.call(this,u),this.fire("layeradd",{layer:u}))},removeLayer:function(u){return this.hasLayer(u)?(u in this._layers&&(u=this._layers[u]),u.removeEventParent(this),Kc.prototype.removeLayer.call(this,u),this.fire("layerremove",{layer:u})):this},setStyle:function(u){return this.invoke("setStyle",u)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var u=new Ke;for(var p in this._layers){var v=this._layers[p];u.extend(v.getBounds?v.getBounds():v.getLatLng())}return u}}),SU=function(u,p){return new Ta(u,p)},Yc=H.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(u){x(this,u)},createIcon:function(u){return this._createIcon("icon",u)},createShadow:function(u){return this._createIcon("shadow",u)},_createIcon:function(u,p){var v=this._getIconUrl(u);if(!v){if(u==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var C=this._createImg(v,p&&p.tagName==="IMG"?p:null);return this._setIconStyles(C,u),(this.options.crossOrigin||this.options.crossOrigin==="")&&(C.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),C},_setIconStyles:function(u,p){var v=this.options,C=v[p+"Size"];typeof C=="number"&&(C=[C,C]);var A=ee(C),I=ee(p==="shadow"&&v.shadowAnchor||v.iconAnchor||A&&A.divideBy(2,!0));u.className="leaflet-marker-"+p+" "+(v.className||""),I&&(u.style.marginLeft=-I.x+"px",u.style.marginTop=-I.y+"px"),A&&(u.style.width=A.x+"px",u.style.height=A.y+"px")},_createImg:function(u,p){return p=p||document.createElement("img"),p.src=u,p},_getIconUrl:function(u){return $e.retina&&this.options[u+"RetinaUrl"]||this.options[u+"Url"]}});function EU(u){return new Yc(u)}var xh=Yc.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(u){return typeof xh.imagePath!="string"&&(xh.imagePath=this._detectIconPath()),(this.options.imagePath||xh.imagePath)+Yc.prototype._getIconUrl.call(this,u)},_stripUrl:function(u){var p=function(v,C,A){var I=C.exec(v);return I&&I[A]};return u=p(u,/^url\((['"])?(.+)\1\)$/,2),u&&p(u,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var u=Lt("div","leaflet-default-icon-path",document.body),p=dh(u,"background-image")||dh(u,"backgroundImage");if(document.body.removeChild(u),p=this._stripUrl(p),p)return p;var v=document.querySelector('link[href$="leaflet.css"]');return v?v.href.substring(0,v.href.length-11-1):""}}),DC=Qs.extend({initialize:function(u){this._marker=u},addHooks:function(){var u=this._marker._icon;this._draggable||(this._draggable=new mo(u,u,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),pt(u,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Er(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(u){var p=this._marker,v=p._map,C=this._marker.options.autoPanSpeed,A=this._marker.options.autoPanPadding,I=kl(p._icon),$=v.getPixelBounds(),X=v.getPixelOrigin(),te=Ee($.min._subtract(X).add(A),$.max._subtract(X).subtract(A));if(!te.contains(I)){var fe=ee((Math.max(te.max.x,I.x)-te.max.x)/($.max.x-te.max.x)-(Math.min(te.min.x,I.x)-te.min.x)/($.min.x-te.min.x),(Math.max(te.max.y,I.y)-te.max.y)/($.max.y-te.max.y)-(Math.min(te.min.y,I.y)-te.min.y)/($.min.y-te.min.y)).multiplyBy(C);v.panBy(fe,{animate:!1}),this._draggable._newPos._add(fe),this._draggable._startPos._add(fe),Dr(p._icon,this._draggable._newPos),this._onDrag(u),this._panRequest=V(this._adjustPan.bind(this,u))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(u){this._marker.options.autoPan&&(F(this._panRequest),this._panRequest=V(this._adjustPan.bind(this,u)))},_onDrag:function(u){var p=this._marker,v=p._shadow,C=kl(p._icon),A=p._map.layerPointToLatLng(C);v&&Dr(v,C),p._latlng=A,u.latlng=A,u.oldLatLng=this._oldLatLng,p.fire("move",u).fire("drag",u)},_onDragEnd:function(u){F(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",u)}}),jm=as.extend({options:{icon:new xh,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(u,p){x(this,p),this._latlng=De(u)},onAdd:function(u){this._zoomAnimated=this._zoomAnimated&&u.options.markerZoomAnimation,this._zoomAnimated&&u.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(u){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&u.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(u){var p=this._latlng;return this._latlng=De(u),this.update(),this.fire("move",{oldLatLng:p,latlng:this._latlng})},setZIndexOffset:function(u){return this.options.zIndexOffset=u,this.update()},getIcon:function(){return this.options.icon},setIcon:function(u){return this.options.icon=u,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var u=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(u)}return this},_initIcon:function(){var u=this.options,p="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),v=u.icon.createIcon(this._icon),C=!1;v!==this._icon&&(this._icon&&this._removeIcon(),C=!0,u.title&&(v.title=u.title),v.tagName==="IMG"&&(v.alt=u.alt||"")),pt(v,p),u.keyboard&&(v.tabIndex="0",v.setAttribute("role","button")),this._icon=v,u.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&st(v,"focus",this._panOnFocus,this);var A=u.icon.createShadow(this._shadow),I=!1;A!==this._shadow&&(this._removeShadow(),I=!0),A&&(pt(A,p),A.alt=""),this._shadow=A,u.opacity<1&&this._updateOpacity(),C&&this.getPane().appendChild(this._icon),this._initInteraction(),A&&I&&this.getPane(u.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&er(this._icon,"focus",this._panOnFocus,this),pr(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&pr(this._shadow),this._shadow=null},_setPos:function(u){this._icon&&Dr(this._icon,u),this._shadow&&Dr(this._shadow,u),this._zIndex=u.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(u){this._icon&&(this._icon.style.zIndex=this._zIndex+u)},_animateZoom:function(u){var p=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center).round();this._setPos(p)},_initInteraction:function(){if(this.options.interactive&&(pt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),DC)){var u=this.options.draggable;this.dragging&&(u=this.dragging.enabled(),this.dragging.disable()),this.dragging=new DC(this),u&&this.dragging.enable()}},setOpacity:function(u){return this.options.opacity=u,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var u=this.options.opacity;this._icon&&Mi(this._icon,u),this._shadow&&Mi(this._shadow,u)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var u=this._map;if(u){var p=this.options.icon.options,v=p.iconSize?ee(p.iconSize):ee(0,0),C=p.iconAnchor?ee(p.iconAnchor):ee(0,0);u.panInside(this._latlng,{paddingTopLeft:C,paddingBottomRight:v.subtract(C)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function AU(u,p){return new jm(u,p)}var go=as.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(u){this._renderer=u.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(u){return x(this,u),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&u&&Object.prototype.hasOwnProperty.call(u,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Pm=go.extend({options:{fill:!0,radius:10},initialize:function(u,p){x(this,p),this._latlng=De(u),this._radius=this.options.radius},setLatLng:function(u){var p=this._latlng;return this._latlng=De(u),this.redraw(),this.fire("move",{oldLatLng:p,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(u){return this.options.radius=this._radius=u,this.redraw()},getRadius:function(){return this._radius},setStyle:function(u){var p=u&&u.radius||this._radius;return go.prototype.setStyle.call(this,u),this.setRadius(p),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var u=this._radius,p=this._radiusY||u,v=this._clickTolerance(),C=[u+v,p+v];this._pxBounds=new ie(this._point.subtract(C),this._point.add(C))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(u){return u.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function kU(u,p){return new Pm(u,p)}var lx=Pm.extend({initialize:function(u,p,v){if(typeof p=="number"&&(p=i({},v,{radius:p})),x(this,p),this._latlng=De(u),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(u){return this._mRadius=u,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var u=[this._radius,this._radiusY||this._radius];return new Ke(this._map.layerPointToLatLng(this._point.subtract(u)),this._map.layerPointToLatLng(this._point.add(u)))},setStyle:go.prototype.setStyle,_project:function(){var u=this._latlng.lng,p=this._latlng.lat,v=this._map,C=v.options.crs;if(C.distance===_e.distance){var A=Math.PI/180,I=this._mRadius/_e.R/A,$=v.project([p+I,u]),X=v.project([p-I,u]),te=$.add(X).divideBy(2),fe=v.unproject(te).lat,je=Math.acos((Math.cos(I*A)-Math.sin(p*A)*Math.sin(fe*A))/(Math.cos(p*A)*Math.cos(fe*A)))/A;(isNaN(je)||je===0)&&(je=I/Math.cos(Math.PI/180*p)),this._point=te.subtract(v.getPixelOrigin()),this._radius=isNaN(je)?0:te.x-v.project([fe,u-je]).x,this._radiusY=te.y-$.y}else{var Je=C.unproject(C.project(this._latlng).subtract([this._mRadius,0]));this._point=v.latLngToLayerPoint(this._latlng),this._radius=this._point.x-v.latLngToLayerPoint(Je).x}this._updateBounds()}});function jU(u,p,v){return new lx(u,p,v)}var Ia=go.extend({options:{smoothFactor:1,noClip:!1},initialize:function(u,p){x(this,p),this._setLatLngs(u)},getLatLngs:function(){return this._latlngs},setLatLngs:function(u){return this._setLatLngs(u),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(u){for(var p=1/0,v=null,C=vh,A,I,$=0,X=this._parts.length;$<X;$++)for(var te=this._parts[$],fe=1,je=te.length;fe<je;fe++){A=te[fe-1],I=te[fe];var Je=C(u,A,I,!0);Je<p&&(p=Je,v=C(u,A,I))}return v&&(v.distance=Math.sqrt(p)),v},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return TC(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(u,p){return p=p||this._defaultShape(),u=De(u),p.push(u),this._bounds.extend(u),this.redraw()},_setLatLngs:function(u){this._bounds=new Ke,this._latlngs=this._convertLatLngs(u)},_defaultShape:function(){return Ri(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(u){for(var p=[],v=Ri(u),C=0,A=u.length;C<A;C++)v?(p[C]=De(u[C]),this._bounds.extend(p[C])):p[C]=this._convertLatLngs(u[C]);return p},_project:function(){var u=new ie;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,u),this._bounds.isValid()&&u.isValid()&&(this._rawPxBounds=u,this._updateBounds())},_updateBounds:function(){var u=this._clickTolerance(),p=new R(u,u);this._rawPxBounds&&(this._pxBounds=new ie([this._rawPxBounds.min.subtract(p),this._rawPxBounds.max.add(p)]))},_projectLatlngs:function(u,p,v){var C=u[0]instanceof ze,A=u.length,I,$;if(C){for($=[],I=0;I<A;I++)$[I]=this._map.latLngToLayerPoint(u[I]),v.extend($[I]);p.push($)}else for(I=0;I<A;I++)this._projectLatlngs(u[I],p,v)},_clipPoints:function(){var u=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(u))){if(this.options.noClip){this._parts=this._rings;return}var p=this._parts,v,C,A,I,$,X,te;for(v=0,A=0,I=this._rings.length;v<I;v++)for(te=this._rings[v],C=0,$=te.length;C<$-1;C++)X=jC(te[C],te[C+1],u,C,!0),X&&(p[A]=p[A]||[],p[A].push(X[0]),(X[1]!==te[C+1]||C===$-2)&&(p[A].push(X[1]),A++))}},_simplifyPoints:function(){for(var u=this._parts,p=this.options.smoothFactor,v=0,C=u.length;v<C;v++)u[v]=EC(u[v],p)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(u,p){var v,C,A,I,$,X,te=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(v=0,I=this._parts.length;v<I;v++)for(X=this._parts[v],C=0,$=X.length,A=$-1;C<$;A=C++)if(!(!p&&C===0)&&AC(u,X[A],X[C])<=te)return!0;return!1}});function PU(u,p){return new Ia(u,p)}Ia._flat=PC;var Xc=Ia.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return SC(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(u){var p=Ia.prototype._convertLatLngs.call(this,u),v=p.length;return v>=2&&p[0]instanceof ze&&p[0].equals(p[v-1])&&p.pop(),p},_setLatLngs:function(u){Ia.prototype._setLatLngs.call(this,u),Ri(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ri(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var u=this._renderer._bounds,p=this.options.weight,v=new R(p,p);if(u=new ie(u.min.subtract(v),u.max.add(v)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(u))){if(this.options.noClip){this._parts=this._rings;return}for(var C=0,A=this._rings.length,I;C<A;C++)I=CC(this._rings[C],u,!0),I.length&&this._parts.push(I)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(u){var p=!1,v,C,A,I,$,X,te,fe;if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(I=0,te=this._parts.length;I<te;I++)for(v=this._parts[I],$=0,fe=v.length,X=fe-1;$<fe;X=$++)C=v[$],A=v[X],C.y>u.y!=A.y>u.y&&u.x<(A.x-C.x)*(u.y-C.y)/(A.y-C.y)+C.x&&(p=!p);return p||Ia.prototype._containsPoint.call(this,u,!0)}});function TU(u,p){return new Xc(u,p)}var Da=Ta.extend({initialize:function(u,p){x(this,p),this._layers={},u&&this.addData(u)},addData:function(u){var p=S(u)?u:u.features,v,C,A;if(p){for(v=0,C=p.length;v<C;v++)A=p[v],(A.geometries||A.geometry||A.features||A.coordinates)&&this.addData(A);return this}var I=this.options;if(I.filter&&!I.filter(u))return this;var $=Tm(u,I);return $?($.feature=Om(u),$.defaultOptions=$.options,this.resetStyle($),I.onEachFeature&&I.onEachFeature(u,$),this.addLayer($)):this},resetStyle:function(u){return u===void 0?this.eachLayer(this.resetStyle,this):(u.options=i({},u.defaultOptions),this._setLayerStyle(u,this.options.style),this)},setStyle:function(u){return this.eachLayer(function(p){this._setLayerStyle(p,u)},this)},_setLayerStyle:function(u,p){u.setStyle&&(typeof p=="function"&&(p=p(u.feature)),u.setStyle(p))}});function Tm(u,p){var v=u.type==="Feature"?u.geometry:u,C=v?v.coordinates:null,A=[],I=p&&p.pointToLayer,$=p&&p.coordsToLatLng||cx,X,te,fe,je;if(!C&&!v)return null;switch(v.type){case"Point":return X=$(C),OC(I,u,X,p);case"MultiPoint":for(fe=0,je=C.length;fe<je;fe++)X=$(C[fe]),A.push(OC(I,u,X,p));return new Ta(A);case"LineString":case"MultiLineString":return te=Im(C,v.type==="LineString"?0:1,$),new Ia(te,p);case"Polygon":case"MultiPolygon":return te=Im(C,v.type==="Polygon"?1:2,$),new Xc(te,p);case"GeometryCollection":for(fe=0,je=v.geometries.length;fe<je;fe++){var Je=Tm({geometry:v.geometries[fe],type:"Feature",properties:u.properties},p);Je&&A.push(Je)}return new Ta(A);case"FeatureCollection":for(fe=0,je=v.features.length;fe<je;fe++){var yt=Tm(v.features[fe],p);yt&&A.push(yt)}return new Ta(A);default:throw new Error("Invalid GeoJSON object.")}}function OC(u,p,v,C){return u?u(p,v):new jm(v,C&&C.markersInheritOptions&&C)}function cx(u){return new ze(u[1],u[0],u[2])}function Im(u,p,v){for(var C=[],A=0,I=u.length,$;A<I;A++)$=p?Im(u[A],p-1,v):(v||cx)(u[A]),C.push($);return C}function ux(u,p){return u=De(u),u.alt!==void 0?[m(u.lng,p),m(u.lat,p),m(u.alt,p)]:[m(u.lng,p),m(u.lat,p)]}function Dm(u,p,v,C){for(var A=[],I=0,$=u.length;I<$;I++)A.push(p?Dm(u[I],Ri(u[I])?0:p-1,v,C):ux(u[I],C));return!p&&v&&A.length>0&&A.push(A[0].slice()),A}function Qc(u,p){return u.feature?i({},u.feature,{geometry:p}):Om(p)}function Om(u){return u.type==="Feature"||u.type==="FeatureCollection"?u:{type:"Feature",properties:{},geometry:u}}var dx={toGeoJSON:function(u){return Qc(this,{type:"Point",coordinates:ux(this.getLatLng(),u)})}};jm.include(dx),lx.include(dx),Pm.include(dx),Ia.include({toGeoJSON:function(u){var p=!Ri(this._latlngs),v=Dm(this._latlngs,p?1:0,!1,u);return Qc(this,{type:(p?"Multi":"")+"LineString",coordinates:v})}}),Xc.include({toGeoJSON:function(u){var p=!Ri(this._latlngs),v=p&&!Ri(this._latlngs[0]),C=Dm(this._latlngs,v?2:p?1:0,!0,u);return p||(C=[C]),Qc(this,{type:(v?"Multi":"")+"Polygon",coordinates:C})}}),Kc.include({toMultiPoint:function(u){var p=[];return this.eachLayer(function(v){p.push(v.toGeoJSON(u).geometry.coordinates)}),Qc(this,{type:"MultiPoint",coordinates:p})},toGeoJSON:function(u){var p=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(p==="MultiPoint")return this.toMultiPoint(u);var v=p==="GeometryCollection",C=[];return this.eachLayer(function(A){if(A.toGeoJSON){var I=A.toGeoJSON(u);if(v)C.push(I.geometry);else{var $=Om(I);$.type==="FeatureCollection"?C.push.apply(C,$.features):C.push($)}}}),v?Qc(this,{geometries:C,type:"GeometryCollection"}):{type:"FeatureCollection",features:C}}});function MC(u,p){return new Da(u,p)}var IU=MC,Mm=as.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(u,p,v){this._url=u,this._bounds=Ue(p),x(this,v)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(pt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){pr(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(u){return this.options.opacity=u,this._image&&this._updateOpacity(),this},setStyle:function(u){return u.opacity&&this.setOpacity(u.opacity),this},bringToFront:function(){return this._map&&qc(this._image),this},bringToBack:function(){return this._map&&Zc(this._image),this},setUrl:function(u){return this._url=u,this._image&&(this._image.src=u),this},setBounds:function(u){return this._bounds=Ue(u),this._map&&this._reset(),this},getEvents:function(){var u={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var u=this._url.tagName==="IMG",p=this._image=u?this._url:Lt("img");if(pt(p,"leaflet-image-layer"),this._zoomAnimated&&pt(p,"leaflet-zoom-animated"),this.options.className&&pt(p,this.options.className),p.onselectstart=f,p.onmousemove=f,p.onload=a(this.fire,this,"load"),p.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),u){this._url=p.src;return}p.src=this._url,p.alt=this.options.alt},_animateZoom:function(u){var p=this._map.getZoomScale(u.zoom),v=this._map._latLngBoundsToNewLayerBounds(this._bounds,u.zoom,u.center).min;Al(this._image,v,p)},_reset:function(){var u=this._image,p=new ie(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),v=p.getSize();Dr(u,p.min),u.style.width=v.x+"px",u.style.height=v.y+"px"},_updateOpacity:function(){Mi(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var u=this.options.errorOverlayUrl;u&&this._url!==u&&(this._url=u,this._image.src=u)},getCenter:function(){return this._bounds.getCenter()}}),DU=function(u,p,v){return new Mm(u,p,v)},RC=Mm.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var u=this._url.tagName==="VIDEO",p=this._image=u?this._url:Lt("video");if(pt(p,"leaflet-image-layer"),this._zoomAnimated&&pt(p,"leaflet-zoom-animated"),this.options.className&&pt(p,this.options.className),p.onselectstart=f,p.onmousemove=f,p.onloadeddata=a(this.fire,this,"load"),u){for(var v=p.getElementsByTagName("source"),C=[],A=0;A<v.length;A++)C.push(v[A].src);this._url=v.length>0?C:[p.src];return}S(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(p.style,"objectFit")&&(p.style.objectFit="fill"),p.autoplay=!!this.options.autoplay,p.loop=!!this.options.loop,p.muted=!!this.options.muted,p.playsInline=!!this.options.playsInline;for(var I=0;I<this._url.length;I++){var $=Lt("source");$.src=this._url[I],p.appendChild($)}}});function OU(u,p,v){return new RC(u,p,v)}var FC=Mm.extend({_initImage:function(){var u=this._image=this._url;pt(u,"leaflet-image-layer"),this._zoomAnimated&&pt(u,"leaflet-zoom-animated"),this.options.className&&pt(u,this.options.className),u.onselectstart=f,u.onmousemove=f}});function MU(u,p,v){return new FC(u,p,v)}var Js=as.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(u,p){u&&(u instanceof ze||S(u))?(this._latlng=De(u),x(this,p)):(x(this,u),this._source=p),this.options.content&&(this._content=this.options.content)},openOn:function(u){return u=arguments.length?u:this._source._map,u.hasLayer(this)||u.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(u){return this._map?this.close():(arguments.length?this._source=u:u=this._source,this._prepareOpen(),this.openOn(u._map)),this},onAdd:function(u){this._zoomAnimated=u._zoomAnimated,this._container||this._initLayout(),u._fadeAnimated&&Mi(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),u._fadeAnimated&&Mi(this._container,1),this.bringToFront(),this.options.interactive&&(pt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(u){u._fadeAnimated?(Mi(this._container,0),this._removeTimeout=setTimeout(a(pr,void 0,this._container),200)):pr(this._container),this.options.interactive&&(Er(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(u){return this._latlng=De(u),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(u){return this._content=u,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var u={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&qc(this._container),this},bringToBack:function(){return this._map&&Zc(this._container),this},_prepareOpen:function(u){var p=this._source;if(!p._map)return!1;if(p instanceof Ta){p=null;var v=this._source._layers;for(var C in v)if(v[C]._map){p=v[C];break}if(!p)return!1;this._source=p}if(!u)if(p.getCenter)u=p.getCenter();else if(p.getLatLng)u=p.getLatLng();else if(p.getBounds)u=p.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(u),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var u=this._contentNode,p=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof p=="string")u.innerHTML=p;else{for(;u.hasChildNodes();)u.removeChild(u.firstChild);u.appendChild(p)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var u=this._map.latLngToLayerPoint(this._latlng),p=ee(this.options.offset),v=this._getAnchor();this._zoomAnimated?Dr(this._container,u.add(v)):p=p.add(u).add(v);var C=this._containerBottom=-p.y,A=this._containerLeft=-Math.round(this._containerWidth/2)+p.x;this._container.style.bottom=C+"px",this._container.style.left=A+"px"}},_getAnchor:function(){return[0,0]}});Ct.include({_initOverlay:function(u,p,v,C){var A=p;return A instanceof u||(A=new u(C).setContent(p)),v&&A.setLatLng(v),A}}),as.include({_initOverlay:function(u,p,v,C){var A=v;return A instanceof u?(x(A,C),A._source=this):(A=p&&!C?p:new u(C,this),A.setContent(v)),A}});var Rm=Js.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(u){return u=arguments.length?u:this._source._map,!u.hasLayer(this)&&u._popup&&u._popup.options.autoClose&&u.removeLayer(u._popup),u._popup=this,Js.prototype.openOn.call(this,u)},onAdd:function(u){Js.prototype.onAdd.call(this,u),u.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof go||this._source.on("preclick",jl))},onRemove:function(u){Js.prototype.onRemove.call(this,u),u.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof go||this._source.off("preclick",jl))},getEvents:function(){var u=Js.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(u.preclick=this.close),this.options.keepInView&&(u.moveend=this._adjustPan),u},_initLayout:function(){var u="leaflet-popup",p=this._container=Lt("div",u+" "+(this.options.className||"")+" leaflet-zoom-animated"),v=this._wrapper=Lt("div",u+"-content-wrapper",p);if(this._contentNode=Lt("div",u+"-content",v),mh(p),ex(this._contentNode),st(p,"contextmenu",jl),this._tipContainer=Lt("div",u+"-tip-container",p),this._tip=Lt("div",u+"-tip",this._tipContainer),this.options.closeButton){var C=this._closeButton=Lt("a",u+"-close-button",p);C.setAttribute("role","button"),C.setAttribute("aria-label","Close popup"),C.href="#close",C.innerHTML='<span aria-hidden="true">&#215;</span>',st(C,"click",function(A){mn(A),this.close()},this)}},_updateLayout:function(){var u=this._contentNode,p=u.style;p.width="",p.whiteSpace="nowrap";var v=u.offsetWidth;v=Math.min(v,this.options.maxWidth),v=Math.max(v,this.options.minWidth),p.width=v+1+"px",p.whiteSpace="",p.height="";var C=u.offsetHeight,A=this.options.maxHeight,I="leaflet-popup-scrolled";A&&C>A?(p.height=A+"px",pt(u,I)):Er(u,I),this._containerWidth=this._container.offsetWidth},_animateZoom:function(u){var p=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center),v=this._getAnchor();Dr(this._container,p.add(v))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var u=this._map,p=parseInt(dh(this._container,"marginBottom"),10)||0,v=this._container.offsetHeight+p,C=this._containerWidth,A=new R(this._containerLeft,-v-this._containerBottom);A._add(kl(this._container));var I=u.layerPointToContainerPoint(A),$=ee(this.options.autoPanPadding),X=ee(this.options.autoPanPaddingTopLeft||$),te=ee(this.options.autoPanPaddingBottomRight||$),fe=u.getSize(),je=0,Je=0;I.x+C+te.x>fe.x&&(je=I.x+C-fe.x+te.x),I.x-je-X.x<0&&(je=I.x-X.x),I.y+v+te.y>fe.y&&(Je=I.y+v-fe.y+te.y),I.y-Je-X.y<0&&(Je=I.y-X.y),(je||Je)&&(this.options.keepInView&&(this._autopanning=!0),u.fire("autopanstart").panBy([je,Je]))}},_getAnchor:function(){return ee(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),RU=function(u,p){return new Rm(u,p)};Ct.mergeOptions({closePopupOnClick:!0}),Ct.include({openPopup:function(u,p,v){return this._initOverlay(Rm,u,p,v).openOn(this),this},closePopup:function(u){return u=arguments.length?u:this._popup,u&&u.close(),this}}),as.include({bindPopup:function(u,p){return this._popup=this._initOverlay(Rm,this._popup,u,p),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(u){return this._popup&&(this instanceof Ta||(this._popup._source=this),this._popup._prepareOpen(u||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(u){return this._popup&&this._popup.setContent(u),this},getPopup:function(){return this._popup},_openPopup:function(u){if(!(!this._popup||!this._map)){Pl(u);var p=u.layer||u.target;if(this._popup._source===p&&!(p instanceof go)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(u.latlng);return}this._popup._source=p,this.openPopup(u.latlng)}},_movePopup:function(u){this._popup.setLatLng(u.latlng)},_onKeyPress:function(u){u.originalEvent.keyCode===13&&this._openPopup(u)}});var Fm=Js.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(u){Js.prototype.onAdd.call(this,u),this.setOpacity(this.options.opacity),u.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(u){Js.prototype.onRemove.call(this,u),u.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var u=Js.prototype.getEvents.call(this);return this.options.permanent||(u.preclick=this.close),u},_initLayout:function(){var u="leaflet-tooltip",p=u+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Lt("div",p),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(u){var p,v,C=this._map,A=this._container,I=C.latLngToContainerPoint(C.getCenter()),$=C.layerPointToContainerPoint(u),X=this.options.direction,te=A.offsetWidth,fe=A.offsetHeight,je=ee(this.options.offset),Je=this._getAnchor();X==="top"?(p=te/2,v=fe):X==="bottom"?(p=te/2,v=0):X==="center"?(p=te/2,v=fe/2):X==="right"?(p=0,v=fe/2):X==="left"?(p=te,v=fe/2):$.x<I.x?(X="right",p=0,v=fe/2):(X="left",p=te+(je.x+Je.x)*2,v=fe/2),u=u.subtract(ee(p,v,!0)).add(je).add(Je),Er(A,"leaflet-tooltip-right"),Er(A,"leaflet-tooltip-left"),Er(A,"leaflet-tooltip-top"),Er(A,"leaflet-tooltip-bottom"),pt(A,"leaflet-tooltip-"+X),Dr(A,u)},_updatePosition:function(){var u=this._map.latLngToLayerPoint(this._latlng);this._setPosition(u)},setOpacity:function(u){this.options.opacity=u,this._container&&Mi(this._container,u)},_animateZoom:function(u){var p=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center);this._setPosition(p)},_getAnchor:function(){return ee(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),FU=function(u,p){return new Fm(u,p)};Ct.include({openTooltip:function(u,p,v){return this._initOverlay(Fm,u,p,v).openOn(this),this},closeTooltip:function(u){return u.close(),this}}),as.include({bindTooltip:function(u,p){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Fm,this._tooltip,u,p),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(u){if(!(!u&&this._tooltipHandlersAdded)){var p=u?"off":"on",v={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?v.add=this._openTooltip:(v.mouseover=this._openTooltip,v.mouseout=this.closeTooltip,v.click=this._openTooltip,this._map?this._addFocusListeners():v.add=this._addFocusListeners),this._tooltip.options.sticky&&(v.mousemove=this._moveTooltip),this[p](v),this._tooltipHandlersAdded=!u}},openTooltip:function(u){return this._tooltip&&(this instanceof Ta||(this._tooltip._source=this),this._tooltip._prepareOpen(u)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(u){return this._tooltip&&this._tooltip.setContent(u),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(u){var p=typeof u.getElement=="function"&&u.getElement();p&&(st(p,"focus",function(){this._tooltip._source=u,this.openTooltip()},this),st(p,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(u){var p=typeof u.getElement=="function"&&u.getElement();p&&p.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(u){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var p=this;this._map.once("moveend",function(){p._openOnceFlag=!1,p._openTooltip(u)});return}this._tooltip._source=u.layer||u.target,this.openTooltip(this._tooltip.options.sticky?u.latlng:void 0)}},_moveTooltip:function(u){var p=u.latlng,v,C;this._tooltip.options.sticky&&u.originalEvent&&(v=this._map.mouseEventToContainerPoint(u.originalEvent),C=this._map.containerPointToLayerPoint(v),p=this._map.layerPointToLatLng(C)),this._tooltip.setLatLng(p)}});var LC=Yc.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(u){var p=u&&u.tagName==="DIV"?u:document.createElement("div"),v=this.options;if(v.html instanceof Element?(Nm(p),p.appendChild(v.html)):p.innerHTML=v.html!==!1?v.html:"",v.bgPos){var C=ee(v.bgPos);p.style.backgroundPosition=-C.x+"px "+-C.y+"px"}return this._setIconStyles(p,"icon"),p},createShadow:function(){return null}});function LU(u){return new LC(u)}Yc.Default=xh;var yh=as.extend({options:{tileSize:256,opacity:1,updateWhenIdle:$e.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(u){x(this,u)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(u){u._addZoomLimit(this)},onRemove:function(u){this._removeAllTiles(),pr(this._container),u._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(qc(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Zc(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(u){return this.options.opacity=u,this._updateOpacity(),this},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var u=this._clampZoom(this._map.getZoom());u!==this._tileZoom&&(this._tileZoom=u,this._updateLevels()),this._update()}return this},getEvents:function(){var u={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),u.move=this._onMove),this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},createTile:function(){return document.createElement("div")},getTileSize:function(){var u=this.options.tileSize;return u instanceof R?u:new R(u,u)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(u){for(var p=this.getPane().children,v=-u(-1/0,1/0),C=0,A=p.length,I;C<A;C++)I=p[C].style.zIndex,p[C]!==this._container&&I&&(v=u(v,+I));isFinite(v)&&(this.options.zIndex=v+u(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!$e.ielt9){Mi(this._container,this.options.opacity);var u=+new Date,p=!1,v=!1;for(var C in this._tiles){var A=this._tiles[C];if(!(!A.current||!A.loaded)){var I=Math.min(1,(u-A.loaded)/200);Mi(A.el,I),I<1?p=!0:(A.active?v=!0:this._onOpaqueTile(A),A.active=!0)}}v&&!this._noPrune&&this._pruneTiles(),p&&(F(this._fadeFrame),this._fadeFrame=V(this._updateOpacity,this))}},_onOpaqueTile:f,_initContainer:function(){this._container||(this._container=Lt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var u=this._tileZoom,p=this.options.maxZoom;if(u!==void 0){for(var v in this._levels)v=Number(v),this._levels[v].el.children.length||v===u?(this._levels[v].el.style.zIndex=p-Math.abs(u-v),this._onUpdateLevel(v)):(pr(this._levels[v].el),this._removeTilesAtZoom(v),this._onRemoveLevel(v),delete this._levels[v]);var C=this._levels[u],A=this._map;return C||(C=this._levels[u]={},C.el=Lt("div","leaflet-tile-container leaflet-zoom-animated",this._container),C.el.style.zIndex=p,C.origin=A.project(A.unproject(A.getPixelOrigin()),u).round(),C.zoom=u,this._setZoomTransform(C,A.getCenter(),A.getZoom()),f(C.el.offsetWidth),this._onCreateLevel(C)),this._level=C,C}},_onUpdateLevel:f,_onRemoveLevel:f,_onCreateLevel:f,_pruneTiles:function(){if(this._map){var u,p,v=this._map.getZoom();if(v>this.options.maxZoom||v<this.options.minZoom){this._removeAllTiles();return}for(u in this._tiles)p=this._tiles[u],p.retain=p.current;for(u in this._tiles)if(p=this._tiles[u],p.current&&!p.active){var C=p.coords;this._retainParent(C.x,C.y,C.z,C.z-5)||this._retainChildren(C.x,C.y,C.z,C.z+2)}for(u in this._tiles)this._tiles[u].retain||this._removeTile(u)}},_removeTilesAtZoom:function(u){for(var p in this._tiles)this._tiles[p].coords.z===u&&this._removeTile(p)},_removeAllTiles:function(){for(var u in this._tiles)this._removeTile(u)},_invalidateAll:function(){for(var u in this._levels)pr(this._levels[u].el),this._onRemoveLevel(Number(u)),delete this._levels[u];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(u,p,v,C){var A=Math.floor(u/2),I=Math.floor(p/2),$=v-1,X=new R(+A,+I);X.z=+$;var te=this._tileCoordsToKey(X),fe=this._tiles[te];return fe&&fe.active?(fe.retain=!0,!0):(fe&&fe.loaded&&(fe.retain=!0),$>C?this._retainParent(A,I,$,C):!1)},_retainChildren:function(u,p,v,C){for(var A=2*u;A<2*u+2;A++)for(var I=2*p;I<2*p+2;I++){var $=new R(A,I);$.z=v+1;var X=this._tileCoordsToKey($),te=this._tiles[X];if(te&&te.active){te.retain=!0;continue}else te&&te.loaded&&(te.retain=!0);v+1<C&&this._retainChildren(A,I,v+1,C)}},_resetView:function(u){var p=u&&(u.pinch||u.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),p,p)},_animateZoom:function(u){this._setView(u.center,u.zoom,!0,u.noUpdate)},_clampZoom:function(u){var p=this.options;return p.minNativeZoom!==void 0&&u<p.minNativeZoom?p.minNativeZoom:p.maxNativeZoom!==void 0&&p.maxNativeZoom<u?p.maxNativeZoom:u},_setView:function(u,p,v,C){var A=Math.round(p);this.options.maxZoom!==void 0&&A>this.options.maxZoom||this.options.minZoom!==void 0&&A<this.options.minZoom?A=void 0:A=this._clampZoom(A);var I=this.options.updateWhenZooming&&A!==this._tileZoom;(!C||I)&&(this._tileZoom=A,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),A!==void 0&&this._update(u),v||this._pruneTiles(),this._noPrune=!!v),this._setZoomTransforms(u,p)},_setZoomTransforms:function(u,p){for(var v in this._levels)this._setZoomTransform(this._levels[v],u,p)},_setZoomTransform:function(u,p,v){var C=this._map.getZoomScale(v,u.zoom),A=u.origin.multiplyBy(C).subtract(this._map._getNewPixelOrigin(p,v)).round();$e.any3d?Al(u.el,A,C):Dr(u.el,A)},_resetGrid:function(){var u=this._map,p=u.options.crs,v=this._tileSize=this.getTileSize(),C=this._tileZoom,A=this._map.getPixelWorldBounds(this._tileZoom);A&&(this._globalTileRange=this._pxBoundsToTileRange(A)),this._wrapX=p.wrapLng&&!this.options.noWrap&&[Math.floor(u.project([0,p.wrapLng[0]],C).x/v.x),Math.ceil(u.project([0,p.wrapLng[1]],C).x/v.y)],this._wrapY=p.wrapLat&&!this.options.noWrap&&[Math.floor(u.project([p.wrapLat[0],0],C).y/v.x),Math.ceil(u.project([p.wrapLat[1],0],C).y/v.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(u){var p=this._map,v=p._animatingZoom?Math.max(p._animateToZoom,p.getZoom()):p.getZoom(),C=p.getZoomScale(v,this._tileZoom),A=p.project(u,this._tileZoom).floor(),I=p.getSize().divideBy(C*2);return new ie(A.subtract(I),A.add(I))},_update:function(u){var p=this._map;if(p){var v=this._clampZoom(p.getZoom());if(u===void 0&&(u=p.getCenter()),this._tileZoom!==void 0){var C=this._getTiledPixelBounds(u),A=this._pxBoundsToTileRange(C),I=A.getCenter(),$=[],X=this.options.keepBuffer,te=new ie(A.getBottomLeft().subtract([X,-X]),A.getTopRight().add([X,-X]));if(!(isFinite(A.min.x)&&isFinite(A.min.y)&&isFinite(A.max.x)&&isFinite(A.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var fe in this._tiles){var je=this._tiles[fe].coords;(je.z!==this._tileZoom||!te.contains(new R(je.x,je.y)))&&(this._tiles[fe].current=!1)}if(Math.abs(v-this._tileZoom)>1){this._setView(u,v);return}for(var Je=A.min.y;Je<=A.max.y;Je++)for(var yt=A.min.x;yt<=A.max.x;yt++){var Ln=new R(yt,Je);if(Ln.z=this._tileZoom,!!this._isValidTile(Ln)){var rn=this._tiles[this._tileCoordsToKey(Ln)];rn?rn.current=!0:$.push(Ln)}}if($.sort(function(ai,eu){return ai.distanceTo(I)-eu.distanceTo(I)}),$.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Fi=document.createDocumentFragment();for(yt=0;yt<$.length;yt++)this._addTile($[yt],Fi);this._level.el.appendChild(Fi)}}}},_isValidTile:function(u){var p=this._map.options.crs;if(!p.infinite){var v=this._globalTileRange;if(!p.wrapLng&&(u.x<v.min.x||u.x>v.max.x)||!p.wrapLat&&(u.y<v.min.y||u.y>v.max.y))return!1}if(!this.options.bounds)return!0;var C=this._tileCoordsToBounds(u);return Ue(this.options.bounds).overlaps(C)},_keyToBounds:function(u){return this._tileCoordsToBounds(this._keyToTileCoords(u))},_tileCoordsToNwSe:function(u){var p=this._map,v=this.getTileSize(),C=u.scaleBy(v),A=C.add(v),I=p.unproject(C,u.z),$=p.unproject(A,u.z);return[I,$]},_tileCoordsToBounds:function(u){var p=this._tileCoordsToNwSe(u),v=new Ke(p[0],p[1]);return this.options.noWrap||(v=this._map.wrapLatLngBounds(v)),v},_tileCoordsToKey:function(u){return u.x+":"+u.y+":"+u.z},_keyToTileCoords:function(u){var p=u.split(":"),v=new R(+p[0],+p[1]);return v.z=+p[2],v},_removeTile:function(u){var p=this._tiles[u];p&&(pr(p.el),delete this._tiles[u],this.fire("tileunload",{tile:p.el,coords:this._keyToTileCoords(u)}))},_initTile:function(u){pt(u,"leaflet-tile");var p=this.getTileSize();u.style.width=p.x+"px",u.style.height=p.y+"px",u.onselectstart=f,u.onmousemove=f,$e.ielt9&&this.options.opacity<1&&Mi(u,this.options.opacity)},_addTile:function(u,p){var v=this._getTilePos(u),C=this._tileCoordsToKey(u),A=this.createTile(this._wrapCoords(u),a(this._tileReady,this,u));this._initTile(A),this.createTile.length<2&&V(a(this._tileReady,this,u,null,A)),Dr(A,v),this._tiles[C]={el:A,coords:u,current:!0},p.appendChild(A),this.fire("tileloadstart",{tile:A,coords:u})},_tileReady:function(u,p,v){p&&this.fire("tileerror",{error:p,tile:v,coords:u});var C=this._tileCoordsToKey(u);v=this._tiles[C],v&&(v.loaded=+new Date,this._map._fadeAnimated?(Mi(v.el,0),F(this._fadeFrame),this._fadeFrame=V(this._updateOpacity,this)):(v.active=!0,this._pruneTiles()),p||(pt(v.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:v.el,coords:u})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),$e.ielt9||!this._map._fadeAnimated?V(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(u){return u.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(u){var p=new R(this._wrapX?h(u.x,this._wrapX):u.x,this._wrapY?h(u.y,this._wrapY):u.y);return p.z=u.z,p},_pxBoundsToTileRange:function(u){var p=this.getTileSize();return new ie(u.min.unscaleBy(p).floor(),u.max.unscaleBy(p).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var u in this._tiles)if(!this._tiles[u].loaded)return!1;return!0}});function BU(u){return new yh(u)}var Jc=yh.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(u,p){this._url=u,p=x(this,p),p.detectRetina&&$e.retina&&p.maxZoom>0?(p.tileSize=Math.floor(p.tileSize/2),p.zoomReverse?(p.zoomOffset--,p.minZoom=Math.min(p.maxZoom,p.minZoom+1)):(p.zoomOffset++,p.maxZoom=Math.max(p.minZoom,p.maxZoom-1)),p.minZoom=Math.max(0,p.minZoom)):p.zoomReverse?p.minZoom=Math.min(p.maxZoom,p.minZoom):p.maxZoom=Math.max(p.minZoom,p.maxZoom),typeof p.subdomains=="string"&&(p.subdomains=p.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(u,p){return this._url===u&&p===void 0&&(p=!0),this._url=u,p||this.redraw(),this},createTile:function(u,p){var v=document.createElement("img");return st(v,"load",a(this._tileOnLoad,this,p,v)),st(v,"error",a(this._tileOnError,this,p,v)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(v.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(v.referrerPolicy=this.options.referrerPolicy),v.alt="",v.src=this.getTileUrl(u),v},getTileUrl:function(u){var p={r:$e.retina?"@2x":"",s:this._getSubdomain(u),x:u.x,y:u.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var v=this._globalTileRange.max.y-u.y;this.options.tms&&(p.y=v),p["-y"]=v}return w(this._url,i(p,this.options))},_tileOnLoad:function(u,p){$e.ielt9?setTimeout(a(u,this,null,p),0):u(null,p)},_tileOnError:function(u,p,v){var C=this.options.errorTileUrl;C&&p.getAttribute("src")!==C&&(p.src=C),u(v,p)},_onTileRemove:function(u){u.tile.onload=null},_getZoomForUrl:function(){var u=this._tileZoom,p=this.options.maxZoom,v=this.options.zoomReverse,C=this.options.zoomOffset;return v&&(u=p-u),u+C},_getSubdomain:function(u){var p=Math.abs(u.x+u.y)%this.options.subdomains.length;return this.options.subdomains[p]},_abortLoading:function(){var u,p;for(u in this._tiles)if(this._tiles[u].coords.z!==this._tileZoom&&(p=this._tiles[u].el,p.onload=f,p.onerror=f,!p.complete)){p.src=j;var v=this._tiles[u].coords;pr(p),delete this._tiles[u],this.fire("tileabort",{tile:p,coords:v})}},_removeTile:function(u){var p=this._tiles[u];if(p)return p.el.setAttribute("src",j),yh.prototype._removeTile.call(this,u)},_tileReady:function(u,p,v){if(!(!this._map||v&&v.getAttribute("src")===j))return yh.prototype._tileReady.call(this,u,p,v)}});function BC(u,p){return new Jc(u,p)}var UC=Jc.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(u,p){this._url=u;var v=i({},this.defaultWmsParams);for(var C in p)C in this.options||(v[C]=p[C]);p=x(this,p);var A=p.detectRetina&&$e.retina?2:1,I=this.getTileSize();v.width=I.x*A,v.height=I.y*A,this.wmsParams=v},onAdd:function(u){this._crs=this.options.crs||u.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var p=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[p]=this._crs.code,Jc.prototype.onAdd.call(this,u)},getTileUrl:function(u){var p=this._tileCoordsToNwSe(u),v=this._crs,C=Ee(v.project(p[0]),v.project(p[1])),A=C.min,I=C.max,$=(this._wmsVersion>=1.3&&this._crs===IC?[A.y,A.x,I.y,I.x]:[A.x,A.y,I.x,I.y]).join(","),X=Jc.prototype.getTileUrl.call(this,u);return X+N(this.wmsParams,X,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+$},setParams:function(u,p){return i(this.wmsParams,u),p||this.redraw(),this}});function UU(u,p){return new UC(u,p)}Jc.WMS=UC,BC.wms=UU;var Oa=as.extend({options:{padding:.1},initialize:function(u){x(this,u),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),pt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var u={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(u.zoomanim=this._onAnimZoom),u},_onAnimZoom:function(u){this._updateTransform(u.center,u.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(u,p){var v=this._map.getZoomScale(p,this._zoom),C=this._map.getSize().multiplyBy(.5+this.options.padding),A=this._map.project(this._center,p),I=C.multiplyBy(-v).add(A).subtract(this._map._getNewPixelOrigin(u,p));$e.any3d?Al(this._container,I,v):Dr(this._container,I)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var u in this._layers)this._layers[u]._reset()},_onZoomEnd:function(){for(var u in this._layers)this._layers[u]._project()},_updatePaths:function(){for(var u in this._layers)this._layers[u]._update()},_update:function(){var u=this.options.padding,p=this._map.getSize(),v=this._map.containerPointToLayerPoint(p.multiplyBy(-u)).round();this._bounds=new ie(v,v.add(p.multiplyBy(1+u*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),zC=Oa.extend({options:{tolerance:0},getEvents:function(){var u=Oa.prototype.getEvents.call(this);return u.viewprereset=this._onViewPreReset,u},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Oa.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var u=this._container=document.createElement("canvas");st(u,"mousemove",this._onMouseMove,this),st(u,"click dblclick mousedown mouseup contextmenu",this._onClick,this),st(u,"mouseout",this._handleMouseOut,this),u._leaflet_disable_events=!0,this._ctx=u.getContext("2d")},_destroyContainer:function(){F(this._redrawRequest),delete this._ctx,pr(this._container),er(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var u;this._redrawBounds=null;for(var p in this._layers)u=this._layers[p],u._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Oa.prototype._update.call(this);var u=this._bounds,p=this._container,v=u.getSize(),C=$e.retina?2:1;Dr(p,u.min),p.width=C*v.x,p.height=C*v.y,p.style.width=v.x+"px",p.style.height=v.y+"px",$e.retina&&this._ctx.scale(2,2),this._ctx.translate(-u.min.x,-u.min.y),this.fire("update")}},_reset:function(){Oa.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(u){this._updateDashArray(u),this._layers[c(u)]=u;var p=u._order={layer:u,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=p),this._drawLast=p,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(u){this._requestRedraw(u)},_removePath:function(u){var p=u._order,v=p.next,C=p.prev;v?v.prev=C:this._drawLast=C,C?C.next=v:this._drawFirst=v,delete u._order,delete this._layers[c(u)],this._requestRedraw(u)},_updatePath:function(u){this._extendRedrawBounds(u),u._project(),u._update(),this._requestRedraw(u)},_updateStyle:function(u){this._updateDashArray(u),this._requestRedraw(u)},_updateDashArray:function(u){if(typeof u.options.dashArray=="string"){var p=u.options.dashArray.split(/[, ]+/),v=[],C,A;for(A=0;A<p.length;A++){if(C=Number(p[A]),isNaN(C))return;v.push(C)}u.options._dashArray=v}else u.options._dashArray=u.options.dashArray},_requestRedraw:function(u){this._map&&(this._extendRedrawBounds(u),this._redrawRequest=this._redrawRequest||V(this._redraw,this))},_extendRedrawBounds:function(u){if(u._pxBounds){var p=(u.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ie,this._redrawBounds.extend(u._pxBounds.min.subtract([p,p])),this._redrawBounds.extend(u._pxBounds.max.add([p,p]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var u=this._redrawBounds;if(u){var p=u.getSize();this._ctx.clearRect(u.min.x,u.min.y,p.x,p.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var u,p=this._redrawBounds;if(this._ctx.save(),p){var v=p.getSize();this._ctx.beginPath(),this._ctx.rect(p.min.x,p.min.y,v.x,v.y),this._ctx.clip()}this._drawing=!0;for(var C=this._drawFirst;C;C=C.next)u=C.layer,(!p||u._pxBounds&&u._pxBounds.intersects(p))&&u._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(u,p){if(this._drawing){var v,C,A,I,$=u._parts,X=$.length,te=this._ctx;if(X){for(te.beginPath(),v=0;v<X;v++){for(C=0,A=$[v].length;C<A;C++)I=$[v][C],te[C?"lineTo":"moveTo"](I.x,I.y);p&&te.closePath()}this._fillStroke(te,u)}}},_updateCircle:function(u){if(!(!this._drawing||u._empty())){var p=u._point,v=this._ctx,C=Math.max(Math.round(u._radius),1),A=(Math.max(Math.round(u._radiusY),1)||C)/C;A!==1&&(v.save(),v.scale(1,A)),v.beginPath(),v.arc(p.x,p.y/A,C,0,Math.PI*2,!1),A!==1&&v.restore(),this._fillStroke(v,u)}},_fillStroke:function(u,p){var v=p.options;v.fill&&(u.globalAlpha=v.fillOpacity,u.fillStyle=v.fillColor||v.color,u.fill(v.fillRule||"evenodd")),v.stroke&&v.weight!==0&&(u.setLineDash&&u.setLineDash(p.options&&p.options._dashArray||[]),u.globalAlpha=v.opacity,u.lineWidth=v.weight,u.strokeStyle=v.color,u.lineCap=v.lineCap,u.lineJoin=v.lineJoin,u.stroke())},_onClick:function(u){for(var p=this._map.mouseEventToLayerPoint(u),v,C,A=this._drawFirst;A;A=A.next)v=A.layer,v.options.interactive&&v._containsPoint(p)&&(!(u.type==="click"||u.type==="preclick")||!this._map._draggableMoved(v))&&(C=v);this._fireEvent(C?[C]:!1,u)},_onMouseMove:function(u){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var p=this._map.mouseEventToLayerPoint(u);this._handleMouseHover(u,p)}},_handleMouseOut:function(u){var p=this._hoveredLayer;p&&(Er(this._container,"leaflet-interactive"),this._fireEvent([p],u,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(u,p){if(!this._mouseHoverThrottled){for(var v,C,A=this._drawFirst;A;A=A.next)v=A.layer,v.options.interactive&&v._containsPoint(p)&&(C=v);C!==this._hoveredLayer&&(this._handleMouseOut(u),C&&(pt(this._container,"leaflet-interactive"),this._fireEvent([C],u,"mouseover"),this._hoveredLayer=C)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,u),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(u,p,v){this._map._fireDOMEvent(p,v||p.type,u)},_bringToFront:function(u){var p=u._order;if(p){var v=p.next,C=p.prev;if(v)v.prev=C;else return;C?C.next=v:v&&(this._drawFirst=v),p.prev=this._drawLast,this._drawLast.next=p,p.next=null,this._drawLast=p,this._requestRedraw(u)}},_bringToBack:function(u){var p=u._order;if(p){var v=p.next,C=p.prev;if(C)C.next=v;else return;v?v.prev=C:C&&(this._drawLast=C),p.prev=null,p.next=this._drawFirst,this._drawFirst.prev=p,this._drawFirst=p,this._requestRedraw(u)}}});function $C(u){return $e.canvas?new zC(u):null}var wh=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(u){return document.createElement("<lvml:"+u+' class="lvml">')}}catch{}return function(u){return document.createElement("<"+u+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),zU={_initContainer:function(){this._container=Lt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Oa.prototype._update.call(this),this.fire("update"))},_initPath:function(u){var p=u._container=wh("shape");pt(p,"leaflet-vml-shape "+(this.options.className||"")),p.coordsize="1 1",u._path=wh("path"),p.appendChild(u._path),this._updateStyle(u),this._layers[c(u)]=u},_addPath:function(u){var p=u._container;this._container.appendChild(p),u.options.interactive&&u.addInteractiveTarget(p)},_removePath:function(u){var p=u._container;pr(p),u.removeInteractiveTarget(p),delete this._layers[c(u)]},_updateStyle:function(u){var p=u._stroke,v=u._fill,C=u.options,A=u._container;A.stroked=!!C.stroke,A.filled=!!C.fill,C.stroke?(p||(p=u._stroke=wh("stroke")),A.appendChild(p),p.weight=C.weight+"px",p.color=C.color,p.opacity=C.opacity,C.dashArray?p.dashStyle=S(C.dashArray)?C.dashArray.join(" "):C.dashArray.replace(/( *, *)/g," "):p.dashStyle="",p.endcap=C.lineCap.replace("butt","flat"),p.joinstyle=C.lineJoin):p&&(A.removeChild(p),u._stroke=null),C.fill?(v||(v=u._fill=wh("fill")),A.appendChild(v),v.color=C.fillColor||C.color,v.opacity=C.fillOpacity):v&&(A.removeChild(v),u._fill=null)},_updateCircle:function(u){var p=u._point.round(),v=Math.round(u._radius),C=Math.round(u._radiusY||v);this._setPath(u,u._empty()?"M0 0":"AL "+p.x+","+p.y+" "+v+","+C+" 0,"+65535*360)},_setPath:function(u,p){u._path.v=p},_bringToFront:function(u){qc(u._container)},_bringToBack:function(u){Zc(u._container)}},Lm=$e.vml?wh:rt,bh=Oa.extend({_initContainer:function(){this._container=Lm("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Lm("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){pr(this._container),er(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Oa.prototype._update.call(this);var u=this._bounds,p=u.getSize(),v=this._container;(!this._svgSize||!this._svgSize.equals(p))&&(this._svgSize=p,v.setAttribute("width",p.x),v.setAttribute("height",p.y)),Dr(v,u.min),v.setAttribute("viewBox",[u.min.x,u.min.y,p.x,p.y].join(" ")),this.fire("update")}},_initPath:function(u){var p=u._path=Lm("path");u.options.className&&pt(p,u.options.className),u.options.interactive&&pt(p,"leaflet-interactive"),this._updateStyle(u),this._layers[c(u)]=u},_addPath:function(u){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(u._path),u.addInteractiveTarget(u._path)},_removePath:function(u){pr(u._path),u.removeInteractiveTarget(u._path),delete this._layers[c(u)]},_updatePath:function(u){u._project(),u._update()},_updateStyle:function(u){var p=u._path,v=u.options;p&&(v.stroke?(p.setAttribute("stroke",v.color),p.setAttribute("stroke-opacity",v.opacity),p.setAttribute("stroke-width",v.weight),p.setAttribute("stroke-linecap",v.lineCap),p.setAttribute("stroke-linejoin",v.lineJoin),v.dashArray?p.setAttribute("stroke-dasharray",v.dashArray):p.removeAttribute("stroke-dasharray"),v.dashOffset?p.setAttribute("stroke-dashoffset",v.dashOffset):p.removeAttribute("stroke-dashoffset")):p.setAttribute("stroke","none"),v.fill?(p.setAttribute("fill",v.fillColor||v.color),p.setAttribute("fill-opacity",v.fillOpacity),p.setAttribute("fill-rule",v.fillRule||"evenodd")):p.setAttribute("fill","none"))},_updatePoly:function(u,p){this._setPath(u,xt(u._parts,p))},_updateCircle:function(u){var p=u._point,v=Math.max(Math.round(u._radius),1),C=Math.max(Math.round(u._radiusY),1)||v,A="a"+v+","+C+" 0 1,0 ",I=u._empty()?"M0 0":"M"+(p.x-v)+","+p.y+A+v*2+",0 "+A+-v*2+",0 ";this._setPath(u,I)},_setPath:function(u,p){u._path.setAttribute("d",p)},_bringToFront:function(u){qc(u._path)},_bringToBack:function(u){Zc(u._path)}});$e.vml&&bh.include(zU);function VC(u){return $e.svg||$e.vml?new bh(u):null}Ct.include({getRenderer:function(u){var p=u.options.renderer||this._getPaneRenderer(u.options.pane)||this.options.renderer||this._renderer;return p||(p=this._renderer=this._createRenderer()),this.hasLayer(p)||this.addLayer(p),p},_getPaneRenderer:function(u){if(u==="overlayPane"||u===void 0)return!1;var p=this._paneRenderers[u];return p===void 0&&(p=this._createRenderer({pane:u}),this._paneRenderers[u]=p),p},_createRenderer:function(u){return this.options.preferCanvas&&$C(u)||VC(u)}});var WC=Xc.extend({initialize:function(u,p){Xc.prototype.initialize.call(this,this._boundsToLatLngs(u),p)},setBounds:function(u){return this.setLatLngs(this._boundsToLatLngs(u))},_boundsToLatLngs:function(u){return u=Ue(u),[u.getSouthWest(),u.getNorthWest(),u.getNorthEast(),u.getSouthEast()]}});function $U(u,p){return new WC(u,p)}bh.create=Lm,bh.pointsToPath=xt,Da.geometryToLayer=Tm,Da.coordsToLatLng=cx,Da.coordsToLatLngs=Im,Da.latLngToCoords=ux,Da.latLngsToCoords=Dm,Da.getFeature=Qc,Da.asFeature=Om,Ct.mergeOptions({boxZoom:!0});var HC=Qs.extend({initialize:function(u){this._map=u,this._container=u._container,this._pane=u._panes.overlayPane,this._resetStateTimeout=0,u.on("unload",this._destroy,this)},addHooks:function(){st(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){er(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){pr(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(u){if(!u.shiftKey||u.which!==1&&u.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),hh(),Gv(),this._startPoint=this._map.mouseEventToContainerPoint(u),st(document,{contextmenu:Pl,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(u){this._moved||(this._moved=!0,this._box=Lt("div","leaflet-zoom-box",this._container),pt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(u);var p=new ie(this._point,this._startPoint),v=p.getSize();Dr(this._box,p.min),this._box.style.width=v.x+"px",this._box.style.height=v.y+"px"},_finish:function(){this._moved&&(pr(this._box),Er(this._container,"leaflet-crosshair")),fh(),qv(),er(document,{contextmenu:Pl,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(u){if(!(u.which!==1&&u.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var p=new Ke(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(p).fire("boxzoomend",{boxZoomBounds:p})}},_onKeyDown:function(u){u.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ct.addInitHook("addHandler","boxZoom",HC),Ct.mergeOptions({doubleClickZoom:!0});var GC=Qs.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(u){var p=this._map,v=p.getZoom(),C=p.options.zoomDelta,A=u.originalEvent.shiftKey?v-C:v+C;p.options.doubleClickZoom==="center"?p.setZoom(A):p.setZoomAround(u.containerPoint,A)}});Ct.addInitHook("addHandler","doubleClickZoom",GC),Ct.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var qC=Qs.extend({addHooks:function(){if(!this._draggable){var u=this._map;this._draggable=new mo(u._mapPane,u._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),u.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),u.on("zoomend",this._onZoomEnd,this),u.whenReady(this._onZoomEnd,this))}pt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Er(this._map._container,"leaflet-grab"),Er(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var u=this._map;if(u._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var p=Ue(this._map.options.maxBounds);this._offsetLimit=Ee(this._map.latLngToContainerPoint(p.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(p.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;u.fire("movestart").fire("dragstart"),u.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(u){if(this._map.options.inertia){var p=this._lastTime=+new Date,v=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(v),this._times.push(p),this._prunePositions(p)}this._map.fire("move",u).fire("drag",u)},_prunePositions:function(u){for(;this._positions.length>1&&u-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var u=this._map.getSize().divideBy(2),p=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=p.subtract(u).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(u,p){return u-(u-p)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var u=this._draggable._newPos.subtract(this._draggable._startPos),p=this._offsetLimit;u.x<p.min.x&&(u.x=this._viscousLimit(u.x,p.min.x)),u.y<p.min.y&&(u.y=this._viscousLimit(u.y,p.min.y)),u.x>p.max.x&&(u.x=this._viscousLimit(u.x,p.max.x)),u.y>p.max.y&&(u.y=this._viscousLimit(u.y,p.max.y)),this._draggable._newPos=this._draggable._startPos.add(u)}},_onPreDragWrap:function(){var u=this._worldWidth,p=Math.round(u/2),v=this._initialWorldOffset,C=this._draggable._newPos.x,A=(C-p+v)%u+p-v,I=(C+p+v)%u-p-v,$=Math.abs(A+v)<Math.abs(I+v)?A:I;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=$},_onDragEnd:function(u){var p=this._map,v=p.options,C=!v.inertia||u.noInertia||this._times.length<2;if(p.fire("dragend",u),C)p.fire("moveend");else{this._prunePositions(+new Date);var A=this._lastPos.subtract(this._positions[0]),I=(this._lastTime-this._times[0])/1e3,$=v.easeLinearity,X=A.multiplyBy($/I),te=X.distanceTo([0,0]),fe=Math.min(v.inertiaMaxSpeed,te),je=X.multiplyBy(fe/te),Je=fe/(v.inertiaDeceleration*$),yt=je.multiplyBy(-Je/2).round();!yt.x&&!yt.y?p.fire("moveend"):(yt=p._limitOffset(yt,p.options.maxBounds),V(function(){p.panBy(yt,{duration:Je,easeLinearity:$,noMoveStart:!0,animate:!0})}))}}});Ct.addInitHook("addHandler","dragging",qC),Ct.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ZC=Qs.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(u){this._map=u,this._setPanDelta(u.options.keyboardPanDelta),this._setZoomDelta(u.options.zoomDelta)},addHooks:function(){var u=this._map._container;u.tabIndex<=0&&(u.tabIndex="0"),st(u,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),er(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var u=document.body,p=document.documentElement,v=u.scrollTop||p.scrollTop,C=u.scrollLeft||p.scrollLeft;this._map._container.focus(),window.scrollTo(C,v)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(u){var p=this._panKeys={},v=this.keyCodes,C,A;for(C=0,A=v.left.length;C<A;C++)p[v.left[C]]=[-1*u,0];for(C=0,A=v.right.length;C<A;C++)p[v.right[C]]=[u,0];for(C=0,A=v.down.length;C<A;C++)p[v.down[C]]=[0,u];for(C=0,A=v.up.length;C<A;C++)p[v.up[C]]=[0,-1*u]},_setZoomDelta:function(u){var p=this._zoomKeys={},v=this.keyCodes,C,A;for(C=0,A=v.zoomIn.length;C<A;C++)p[v.zoomIn[C]]=u;for(C=0,A=v.zoomOut.length;C<A;C++)p[v.zoomOut[C]]=-u},_addHooks:function(){st(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){er(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(u){if(!(u.altKey||u.ctrlKey||u.metaKey)){var p=u.keyCode,v=this._map,C;if(p in this._panKeys){if(!v._panAnim||!v._panAnim._inProgress)if(C=this._panKeys[p],u.shiftKey&&(C=ee(C).multiplyBy(3)),v.options.maxBounds&&(C=v._limitOffset(ee(C),v.options.maxBounds)),v.options.worldCopyJump){var A=v.wrapLatLng(v.unproject(v.project(v.getCenter()).add(C)));v.panTo(A)}else v.panBy(C)}else if(p in this._zoomKeys)v.setZoom(v.getZoom()+(u.shiftKey?3:1)*this._zoomKeys[p]);else if(p===27&&v._popup&&v._popup.options.closeOnEscapeKey)v.closePopup();else return;Pl(u)}}});Ct.addInitHook("addHandler","keyboard",ZC),Ct.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var KC=Qs.extend({addHooks:function(){st(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){er(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(u){var p=yC(u),v=this._map.options.wheelDebounceTime;this._delta+=p,this._lastMousePos=this._map.mouseEventToContainerPoint(u),this._startTime||(this._startTime=+new Date);var C=Math.max(v-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),C),Pl(u)},_performZoom:function(){var u=this._map,p=u.getZoom(),v=this._map.options.zoomSnap||0;u._stop();var C=this._delta/(this._map.options.wheelPxPerZoomLevel*4),A=4*Math.log(2/(1+Math.exp(-Math.abs(C))))/Math.LN2,I=v?Math.ceil(A/v)*v:A,$=u._limitZoom(p+(this._delta>0?I:-I))-p;this._delta=0,this._startTime=null,$&&(u.options.scrollWheelZoom==="center"?u.setZoom(p+$):u.setZoomAround(this._lastMousePos,p+$))}});Ct.addInitHook("addHandler","scrollWheelZoom",KC);var VU=600;Ct.mergeOptions({tapHold:$e.touchNative&&$e.safari&&$e.mobile,tapTolerance:15});var YC=Qs.extend({addHooks:function(){st(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){er(this._map._container,"touchstart",this._onDown,this)},_onDown:function(u){if(clearTimeout(this._holdTimeout),u.touches.length===1){var p=u.touches[0];this._startPos=this._newPos=new R(p.clientX,p.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(st(document,"touchend",mn),st(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",p))},this),VU),st(document,"touchend touchcancel contextmenu",this._cancel,this),st(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function u(){er(document,"touchend",mn),er(document,"touchend touchcancel",u)},_cancel:function(){clearTimeout(this._holdTimeout),er(document,"touchend touchcancel contextmenu",this._cancel,this),er(document,"touchmove",this._onMove,this)},_onMove:function(u){var p=u.touches[0];this._newPos=new R(p.clientX,p.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(u,p){var v=new MouseEvent(u,{bubbles:!0,cancelable:!0,view:window,screenX:p.screenX,screenY:p.screenY,clientX:p.clientX,clientY:p.clientY});v._simulated=!0,p.target.dispatchEvent(v)}});Ct.addInitHook("addHandler","tapHold",YC),Ct.mergeOptions({touchZoom:$e.touch,bounceAtZoomLimits:!0});var XC=Qs.extend({addHooks:function(){pt(this._map._container,"leaflet-touch-zoom"),st(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Er(this._map._container,"leaflet-touch-zoom"),er(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(u){var p=this._map;if(!(!u.touches||u.touches.length!==2||p._animatingZoom||this._zooming)){var v=p.mouseEventToContainerPoint(u.touches[0]),C=p.mouseEventToContainerPoint(u.touches[1]);this._centerPoint=p.getSize()._divideBy(2),this._startLatLng=p.containerPointToLatLng(this._centerPoint),p.options.touchZoom!=="center"&&(this._pinchStartLatLng=p.containerPointToLatLng(v.add(C)._divideBy(2))),this._startDist=v.distanceTo(C),this._startZoom=p.getZoom(),this._moved=!1,this._zooming=!0,p._stop(),st(document,"touchmove",this._onTouchMove,this),st(document,"touchend touchcancel",this._onTouchEnd,this),mn(u)}},_onTouchMove:function(u){if(!(!u.touches||u.touches.length!==2||!this._zooming)){var p=this._map,v=p.mouseEventToContainerPoint(u.touches[0]),C=p.mouseEventToContainerPoint(u.touches[1]),A=v.distanceTo(C)/this._startDist;if(this._zoom=p.getScaleZoom(A,this._startZoom),!p.options.bounceAtZoomLimits&&(this._zoom<p.getMinZoom()&&A<1||this._zoom>p.getMaxZoom()&&A>1)&&(this._zoom=p._limitZoom(this._zoom)),p.options.touchZoom==="center"){if(this._center=this._startLatLng,A===1)return}else{var I=v._add(C)._divideBy(2)._subtract(this._centerPoint);if(A===1&&I.x===0&&I.y===0)return;this._center=p.unproject(p.project(this._pinchStartLatLng,this._zoom).subtract(I),this._zoom)}this._moved||(p._moveStart(!0,!1),this._moved=!0),F(this._animRequest);var $=a(p._move,p,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=V($,this,!0),mn(u)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,F(this._animRequest),er(document,"touchmove",this._onTouchMove,this),er(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ct.addInitHook("addHandler","touchZoom",XC),Ct.BoxZoom=HC,Ct.DoubleClickZoom=GC,Ct.Drag=qC,Ct.Keyboard=ZC,Ct.ScrollWheelZoom=KC,Ct.TapHold=YC,Ct.TouchZoom=XC,r.Bounds=ie,r.Browser=$e,r.CRS=Y,r.Canvas=zC,r.Circle=lx,r.CircleMarker=Pm,r.Class=H,r.Control=ss,r.DivIcon=LC,r.DivOverlay=Js,r.DomEvent=oU,r.DomUtil=sU,r.Draggable=mo,r.Evented=me,r.FeatureGroup=Ta,r.GeoJSON=Da,r.GridLayer=yh,r.Handler=Qs,r.Icon=Yc,r.ImageOverlay=Mm,r.LatLng=ze,r.LatLngBounds=Ke,r.Layer=as,r.LayerGroup=Kc,r.LineUtil=wU,r.Map=Ct,r.Marker=jm,r.Mixin=pU,r.Path=go,r.Point=R,r.PolyUtil=mU,r.Polygon=Xc,r.Polyline=Ia,r.Popup=Rm,r.PosAnimation=wC,r.Projection=bU,r.Rectangle=WC,r.Renderer=Oa,r.SVG=bh,r.SVGOverlay=FC,r.TileLayer=Jc,r.Tooltip=Fm,r.Transformation=Ze,r.Util=q,r.VideoOverlay=RC,r.bind=a,r.bounds=Ee,r.canvas=$C,r.circle=jU,r.circleMarker=kU,r.control=gh,r.divIcon=LU,r.extend=i,r.featureGroup=SU,r.geoJSON=MC,r.geoJson=IU,r.gridLayer=BU,r.icon=EU,r.imageOverlay=DU,r.latLng=De,r.latLngBounds=Ue,r.layerGroup=CU,r.map=lU,r.marker=AU,r.point=ee,r.polygon=TU,r.polyline=PU,r.popup=RU,r.rectangle=$U,r.setOptions=x,r.stamp=c,r.svg=VC,r.svgOverlay=MU,r.tileLayer=BC,r.tooltip=FU,r.transformation=Qe,r.version=n,r.videoOverlay=OU;var WU=window.L;r.noConflict=function(){return window.L=WU,this},window.L=r})})(hb,hb.exports);var um=hb.exports;const _M=ka(um);function fN(t,e,r){return Object.freeze({instance:t,context:e,container:r})}function pN(t,e){return e==null?function(n,i){const s=b.useRef();return s.current||(s.current=t(n,i)),s}:function(n,i){const s=b.useRef();s.current||(s.current=t(n,i));const a=b.useRef(n),{instance:l}=s.current;return b.useEffect(function(){a.current!==n&&(e(l,n,a.current),a.current=n)},[l,n,i]),s}}function NM(t,e){b.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var s;(s=e.layerContainer)==null||s.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function CM(t){return function(r){const n=dN(),i=t(hN(r,n),n);return iJ(n.map,r.attribution),bM(i.current,r.eventHandlers),NM(i.current,n),i}}function lJ(t,e){const r=b.useRef();b.useEffect(function(){if(e.pathOptions!==r.current){const i=e.pathOptions??{};t.instance.setStyle(i),r.current=i}},[t,e])}function cJ(t){return function(r){const n=dN(),i=t(hN(r,n),n);return bM(i.current,r.eventHandlers),NM(i.current,n),lJ(i.current,r),i}}function uJ(t,e){const r=pN(t,e),n=CM(r);return wM(n)}function dJ(t,e){const r=pN(t,e),n=cJ(r);return wM(n)}function hJ(t,e){const r=pN(t,e),n=CM(r);return oJ(n)}function fJ(t,e,r){const{opacity:n,zIndex:i}=e;n!=null&&n!==r.opacity&&t.setOpacity(n),i!=null&&i!==r.zIndex&&t.setZIndex(i)}function pJ(){return dN().map}function fb(){return fb=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fb.apply(this,arguments)}function mJ({bounds:t,boundsOptions:e,center:r,children:n,className:i,id:s,placeholder:a,style:l,whenReady:c,zoom:d,...h},f){const[m]=b.useState({className:i,id:s,style:l}),[g,y]=b.useState(null);b.useImperativeHandle(f,()=>(g==null?void 0:g.map)??null,[g]);const x=b.useCallback(_=>{if(_!==null&&g===null){const w=new um.Map(_,h);r!=null&&d!=null?w.setView(r,d):t!=null&&w.fitBounds(t,e),c!=null&&w.whenReady(c),y(aJ(w))}},[]);b.useEffect(()=>()=>{g==null||g.map.remove()},[g]);const N=g?nt.createElement(yM,{value:g},n):a??null;return nt.createElement("div",fb({},m,{ref:x}),N)}const gJ=b.forwardRef(mJ),vJ=uJ(function({position:e,...r},n){const i=new um.Marker(e,r);return fN(i,vM(n,{overlayContainer:i}))},function(e,r,n){r.position!==n.position&&e.setLatLng(r.position),r.icon!=null&&r.icon!==n.icon&&e.setIcon(r.icon),r.zIndexOffset!=null&&r.zIndexOffset!==n.zIndexOffset&&e.setZIndexOffset(r.zIndexOffset),r.opacity!=null&&r.opacity!==n.opacity&&e.setOpacity(r.opacity),e.dragging!=null&&r.draggable!==n.draggable&&(r.draggable===!0?e.dragging.enable():e.dragging.disable())}),xJ=dJ(function({positions:e,...r},n){const i=new um.Polyline(e,r);return fN(i,vM(n,{overlayContainer:i}))},function(e,r,n){r.positions!==n.positions&&e.setLatLngs(r.positions)}),yJ=hJ(function({url:e,...r},n){const i=new um.TileLayer(e,hN(r,n));return fN(i,n)},function(e,r,n){fJ(e,r,n);const{url:i}=r;i!=null&&i!==n.url&&e.setUrl(i)});delete _M.Icon.Default.prototype._getIconUrl;_M.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});function wJ(){const[t,e]=b.useState("run"),[r,n]=b.useState(!1),[i,s]=b.useState(0),[a,l]=b.useState(0),[c,d]=b.useState(!1),[h,f]=b.useState(!1),[m,g]=b.useState(0),[y,x]=b.useState(null),[N,_]=b.useState(null),[w,S]=b.useState([]),[E,j]=b.useState(null),D=b.useRef(null),T=b.useRef(null),O=b.useRef(null),B=b.useRef(0),{toast:P}=xi(),V=Rn(),{data:F,refetch:q}=Rt({queryKey:["/api/mile-tracker/sessions/active"],retry:!1}),{data:H=[]}=Rt({queryKey:["/api/mile-tracker/sessions"],enabled:c}),le=Ut({mutationFn:async ge=>(await dt("POST","/api/mile-tracker/sessions",{activityType:ge,totalDistance:0,totalTime:0,averagePace:null})).json(),onSuccess:()=>{q(),n(!0),s(0),l(1),P({title:"Session Started!",description:`Started tracking your ${t}`})},onError:()=>{P({title:"Error",description:"Failed to start session",variant:"destructive"})}}),ae=Ut({mutationFn:async({sessionId:ge,mileNumber:rt,splitTime:xt,cumulativeTime:Qt})=>{const pn=xt;return(await dt("POST",`/api/mile-tracker/sessions/${ge}/splits`,{mileNumber:rt,splitTime:xt,cumulativeTime:Qt,pace:pn})).json()},onSuccess:()=>{q(),V.invalidateQueries({queryKey:["/api/mile-tracker/sessions"]}),P({title:"Mile Completed!",description:`Mile ${a} completed in ${R(ee())}`}),l(ge=>ge+1)}}),me=Ut({mutationFn:async ge=>{const rt=a>1?(a-1)*1e3:0,xt=i>0&&a>1?Math.round(i/(a-1)):null;return(await dt("PATCH",`/api/mile-tracker/sessions/${ge}`,{status:"completed",totalDistance:rt,totalTime:i,averagePace:xt,completedAt:new Date().toISOString()})).json()},onSuccess:()=>{n(!1),s(0),l(0),q(),V.invalidateQueries({queryKey:["/api/mile-tracker/sessions"]}),P({title:"Session Completed!",description:"Great job on your workout!"})}});b.useEffect(()=>(r?D.current=setInterval(()=>{s(ge=>ge+1)},1e3):D.current&&(clearInterval(D.current),D.current=null),()=>{D.current&&clearInterval(D.current)}),[r]),b.useEffect(()=>{if(F&&F.status==="active"){n(!1),l(F.splits.length+1);const ge=F.splits[F.splits.length-1];ge&&s(ge.cumulativeTime)}},[F]);const R=ge=>{const rt=Math.floor(ge/3600),xt=Math.floor(ge%3600/60),Qt=ge%60;return rt>0?`${rt}:${xt.toString().padStart(2,"0")}:${Qt.toString().padStart(2,"0")}`:`${xt}:${Qt.toString().padStart(2,"0")}`},G=ge=>{const rt=Math.floor(ge/60),xt=ge%60;return`${rt}:${xt.toString().padStart(2,"0")}`},ee=()=>!F||F.splits.length===0?0:F.splits[F.splits.length-1].splitTime,ie=()=>{if(a<=1||i===0)return"--:--";const ge=i/(a-1);return G(Math.round(ge))},Ee=ge=>{switch(ge){case"run":return"";case"walk":return"";case"bike":return"";default:return""}},Ke=ge=>{switch(ge){case"run":return"bg-gradient-to-r from-red-600 to-red-800 text-white border-red-500 shadow-lg shadow-red-500/25";case"walk":return"bg-gradient-to-r from-red-700 to-black text-white border-red-600 shadow-lg shadow-red-600/25";case"bike":return"bg-gradient-to-r from-black to-red-700 text-white border-red-500 shadow-lg shadow-red-500/25";default:return"bg-gradient-to-r from-red-600 to-red-800 text-white border-red-500 shadow-lg shadow-red-500/25"}},Ue=(ge,rt,xt,Qt)=>{const tn=ge*(Math.PI/180),Ks=xt*(Math.PI/180),Sn=(xt-ge)*(Math.PI/180),W=(Qt-rt)*(Math.PI/180),J=Math.sin(Sn/2)*Math.sin(Sn/2)+Math.cos(tn)*Math.cos(Ks)*Math.sin(W/2)*Math.sin(W/2);return 3958.8*(2*Math.atan2(Math.sqrt(J),Math.sqrt(1-J)))},ze=ge=>{const rt=ge.coords.latitude,xt=ge.coords.longitude,Qt=ge.coords.accuracy,pn=ge.coords.speed;if(x(Qt),pn!==null&&pn>=0&&_(pn*2.237),Qt<100){if(j([rt,xt]),S(tn=>[...tn,[rt,xt]]),O.current){const tn=Ue(O.current.lat,O.current.lon,rt,xt);tn>.003&&g(Ks=>{const Sn=Ks+tn;return F&&r&&Sn-B.current>=1&&(Ze(),B.current=Sn),Sn})}O.current={lat:rt,lon:xt,timestamp:ge.timestamp}}},De=ge=>{let rt="GPS error occurred";switch(ge.code){case ge.PERMISSION_DENIED:rt="Location access denied. Please enable location permissions.";break;case ge.POSITION_UNAVAILABLE:rt="Location unavailable. Make sure GPS is enabled.";break;case ge.TIMEOUT:rt="Location request timed out.";break}P({title:"GPS Error",description:rt,variant:"destructive"}),f(!1)},Y=()=>{if(!("geolocation"in navigator)){P({title:"GPS Not Available",description:"Your device doesn't support GPS tracking.",variant:"destructive"});return}const ge=navigator.geolocation.watchPosition(ze,De,{enableHighAccuracy:!0,timeout:5e3,maximumAge:0});T.current=ge,f(!0),P({title:"GPS Enabled",description:"Tracking your location in real-time"})},_e=()=>{T.current!==null&&(navigator.geolocation.clearWatch(T.current),T.current=null),f(!1),x(null),_(null)},Ye=()=>{le.mutate(t),g(0),S([]),j(null),O.current=null,B.current=0},Me=()=>{r||h||Y(),n(!r)},Ze=()=>{if(!F)return;const ge=F.splits.length>0?F.splits[F.splits.length-1].cumulativeTime:0,rt=i-ge;ae.mutate({sessionId:F.id,mileNumber:a,splitTime:rt,cumulativeTime:i})},Qe=()=>{F&&(me.mutate(F.id),_e())};b.useEffect(()=>()=>{_e()},[]);function ft({center:ge}){const rt=pJ();return b.useEffect(()=>{ge&&rt.setView(ge,16)},[ge,rt]),null}return c?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950",children:o.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-4xl font-bold bg-gradient-to-r from-red-500 to-red-300 bg-clip-text text-transparent mb-2 flex items-center",children:[o.jsx(Yi,{className:"mr-3 text-red-500",size:40})," SPEED HISTORY "]}),o.jsx("p",{className:"text-red-300 font-semibold",children:"Your legendary racing sessions and conquests"})]}),o.jsxs(ue,{onClick:()=>d(!1),className:"bg-red-600 hover:bg-red-700 text-white border border-red-500",children:[o.jsx(dl,{className:"mr-2",size:16}),"Back to Action"]})]}),o.jsxs("div",{className:"space-y-4",children:[H.map(ge=>o.jsx(Le,{className:"bg-gradient-to-r from-gray-900 to-black border border-red-500/30 shadow-xl shadow-red-500/10",children:o.jsxs(Ve,{className:"pt-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"text-3xl animate-pulse",children:Ee(ge.activityType)}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("h3",{className:"font-bold text-xl capitalize text-red-400 flex items-center",children:[o.jsx(Xa,{className:"mr-1",size:18}),"EPIC ",ge.activityType.toUpperCase()]}),o.jsxs(Xe,{className:Ke(ge.activityType),children:[" ",ge.splits.length," ",ge.splits.length===1?"MILE":"MILES"," "]})]}),o.jsxs("p",{className:"text-red-300 font-medium",children:[" ",new Date(ge.startedAt).toLocaleDateString()," at"," ",new Date(ge.startedAt).toLocaleTimeString()]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-3xl font-bold text-red-400 font-mono",children:R(ge.totalTime)}),o.jsxs("p",{className:"text-sm text-red-300 font-semibold",children:[" Avg Speed: ",ge.averagePace?G(ge.averagePace):"--:--","/mile"]})]})]}),ge.splits.length>0&&o.jsxs("div",{className:"mt-4 pt-4 border-t border-red-500/30",children:[o.jsxs("h4",{className:"font-bold text-red-400 mb-2 flex items-center",children:[o.jsx(o0,{className:"mr-2",size:18})," SPEED SPLITS "]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:ge.splits.map((rt,xt)=>o.jsxs("div",{className:"bg-gradient-to-br from-red-900 to-black rounded-lg p-3 text-center border border-red-500/40 shadow-lg",children:[o.jsxs("p",{className:"text-sm font-bold text-red-300",children:[" MILE ",rt.mileNumber]}),o.jsx("p",{className:"text-xl font-bold text-red-400 font-mono",children:R(rt.splitTime)}),o.jsxs("p",{className:"text-xs text-red-300 font-semibold",children:[" ",G(rt.pace),"/mile"]}),xt===0&&ge.splits.length>1&&o.jsx("div",{className:"text-xs text-yellow-400 font-bold",children:" FASTEST"})]},rt.id))})]})]})},ge.id)),H.length===0&&o.jsx(Le,{className:"bg-gradient-to-r from-gray-900 to-black border border-red-500/30 shadow-xl",children:o.jsx(Ve,{className:"pt-6",children:o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"text-6xl mb-4",children:""}),o.jsx("h3",{className:"text-2xl font-bold text-red-400 mb-2",children:" NO LEGENDS YET "}),o.jsx("p",{className:"text-red-300 font-semibold",children:"Your racing legacy starts with the first mile. Ready to become a speed demon?"})]})})})]})]})}):o.jsx(Rd,{feature:"mile_tracker",children:o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-500/5 to-transparent animate-pulse"}),o.jsx("div",{className:"absolute top-10 left-10 text-red-500/20 text-9xl",children:""}),o.jsx("div",{className:"absolute bottom-10 right-10 text-red-500/20 text-9xl",children:""}),o.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 relative z-10",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 mb-2",children:[o.jsxs("h1",{className:"text-3xl sm:text-5xl font-bold bg-gradient-to-r from-red-500 via-red-400 to-yellow-400 bg-clip-text text-transparent flex items-center animate-pulse",children:[o.jsx(Xa,{className:"mr-2 sm:mr-3 text-red-500",size:40})," SPEED DEMON TRACKER "]}),o.jsxs(ue,{variant:"outline",onClick:()=>d(!0),className:"bg-gradient-to-r from-red-600 to-red-800 text-white border border-red-500 hover:from-red-700 hover:to-red-900 shadow-lg shadow-red-500/25 w-full sm:w-auto",children:[o.jsx(Yi,{className:"mr-2",size:16})," Hall of Fame"]})]}),o.jsx("p",{className:"text-red-300 font-bold text-base sm:text-lg",children:" Unleash your inner speed demon and dominate every mile! "})]}),F?o.jsxs("div",{className:"space-y-6",children:[o.jsx(Le,{className:"bg-gradient-to-br from-red-950 via-black to-gray-900 border border-red-500/50 shadow-2xl shadow-red-500/30",children:o.jsx(Ve,{className:"pt-6",children:o.jsxs("div",{className:"text-center relative",children:[o.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 text-6xl animate-bounce",children:""}),o.jsx("div",{className:"flex items-center justify-center mb-6 mt-8",children:o.jsxs(Xe,{className:`${Ke(F.activityType)} text-xl px-4 py-2 animate-pulse`,children:[Ee(F.activityType)," BEAST MODE ",F.activityType.toUpperCase()]})}),o.jsx("div",{className:"text-9xl font-bold bg-gradient-to-r from-red-400 via-red-500 to-yellow-400 bg-clip-text text-transparent mb-4 font-mono tracking-wider animate-pulse drop-shadow-lg",children:R(i)}),o.jsxs("div",{className:"text-2xl text-red-300 mb-4 font-bold",children:[" MILE ",a,"   SPEED: ",ie(),"/mile "]}),h&&o.jsx("div",{className:"mb-6 p-4 bg-gradient-to-r from-blue-900/50 to-purple-900/50 rounded-xl border border-blue-500/30",children:o.jsxs("div",{className:"flex items-center justify-center gap-6 flex-wrap text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(yc,{className:"text-blue-400",size:16}),o.jsxs("span",{className:"text-blue-300 font-semibold",children:["GPS: ",m.toFixed(2)," mi"]})]}),N!==null&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(o0,{className:"text-green-400",size:16}),o.jsxs("span",{className:"text-green-300 font-semibold",children:[N.toFixed(1)," mph"]})]}),y!==null&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(mt,{className:"text-yellow-400",size:16}),o.jsxs("span",{className:`font-semibold ${y<20?"text-green-300":y<50?"text-yellow-300":"text-orange-300"}`,children:["",y.toFixed(0),"m"]})]})]})}),o.jsxs("div",{className:"flex justify-center space-x-4 flex-wrap gap-4",children:[o.jsxs(ue,{onClick:Me,className:r?"bg-gradient-to-r from-yellow-600 to-yellow-700 hover:from-yellow-700 hover:to-yellow-800 text-white border border-yellow-500 shadow-lg shadow-yellow-500/25":"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white border border-green-500 shadow-lg shadow-green-500/25",size:"lg","data-testid":r?"button-pause":"button-unleash",children:[r?o.jsx(eG,{className:"mr-2 animate-pulse",size:20}):o.jsx(Tc,{className:"mr-2 animate-bounce",size:20}),r?" CHILL":" UNLEASH!"]}),o.jsxs(ue,{onClick:Ze,className:"bg-gradient-to-r from-red-600 to-red-800 hover:from-red-700 hover:to-red-900 text-white border border-red-500 shadow-lg shadow-red-500/25",size:"lg",disabled:!r||ae.isPending,"data-testid":"button-complete-mile",children:[o.jsx(ti,{className:"mr-2 animate-spin",size:20}),ae.isPending?" RECORDING...":` CRUSH MILE ${a}!`]}),o.jsxs(ue,{onClick:Qe,className:"bg-gradient-to-r from-gray-700 to-black hover:from-gray-800 hover:to-gray-900 text-red-400 border border-red-500 shadow-lg shadow-red-500/25",size:"lg",disabled:me.isPending,"data-testid":"button-finish-session",children:[o.jsx(nG,{className:"mr-2",size:20}),me.isPending?" WRAPPING UP...":" VICTORY LAP!"]})]})]})})}),h&&o.jsxs(Le,{className:"bg-gradient-to-br from-gray-900 to-black border border-blue-500/50 shadow-xl shadow-blue-500/20",children:[o.jsx(kt,{children:o.jsxs(Ot,{className:"flex items-center text-2xl font-bold text-blue-400",children:[o.jsx(yc,{className:"mr-3 text-blue-500 animate-pulse",size:28})," LIVE GPS TRACKING "]})}),o.jsx(Ve,{children:E?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"h-[400px] rounded-lg overflow-hidden border-2 border-blue-500/30",children:o.jsxs(gJ,{center:E,zoom:16,style:{height:"100%",width:"100%"},className:"z-0",children:[o.jsx(yJ,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),o.jsx(ft,{center:E}),w.length>1&&o.jsx(xJ,{positions:w,color:"#ef4444",weight:4,opacity:.8}),o.jsx(vJ,{position:E})]})}),o.jsxs("div",{className:"mt-4 text-center",children:[o.jsxs("p",{className:"text-blue-300 font-semibold",children:[" Total Distance: ",o.jsxs("span",{className:"text-blue-400 text-lg font-bold",children:[m.toFixed(2)," miles"]})]}),w.length>0&&o.jsxs("p",{className:"text-sm text-blue-400/70 mt-1",children:[" ",w.length," GPS points tracked"]})]})]}):o.jsxs("div",{className:"h-[400px] rounded-lg border-2 border-blue-500/30 bg-gray-800/50 flex flex-col items-center justify-center",children:[o.jsx("div",{className:"animate-pulse text-6xl mb-4",children:""}),o.jsx("p",{className:"text-blue-400 text-xl font-bold mb-2",children:"Acquiring GPS Signal..."}),o.jsx("p",{className:"text-blue-300 text-sm",children:"Please wait while we locate you"}),y!==null&&o.jsxs("p",{className:"text-yellow-400 text-xs mt-2",children:["Signal accuracy: ",y.toFixed(0),"m",y>=100&&" (waiting for better signal)"]})]})})]}),F.splits.length>0&&o.jsxs(Le,{className:"bg-gradient-to-br from-gray-900 to-black border border-red-500/50 shadow-xl shadow-red-500/20",children:[o.jsx(kt,{children:o.jsxs(Ot,{className:"flex items-center text-2xl font-bold text-red-400",children:[o.jsx(o0,{className:"mr-3 text-red-500 animate-spin",size:28})," SPEED DEMON SPLITS "]})}),o.jsx(Ve,{children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:F.splits.map((ge,rt)=>o.jsxs("div",{className:"bg-gradient-to-br from-red-900 to-black rounded-lg p-4 text-center border border-red-500/40 shadow-lg hover:shadow-red-500/30 transition-all duration-300",children:[o.jsxs("p",{className:"text-lg font-bold text-red-300 mb-2",children:[" MILE ",ge.mileNumber," "]}),o.jsx("p",{className:"text-3xl font-bold text-red-400 mb-2 font-mono",children:R(ge.splitTime)}),o.jsxs("p",{className:"text-sm text-red-300 font-semibold",children:[" PACE: ",G(ge.pace),"/mile"]}),rt===F.splits.indexOf(F.splits.reduce((xt,Qt)=>Qt.pace<xt.pace?Qt:xt))&&F.splits.length>1&&o.jsx("div",{className:"text-sm text-yellow-400 font-bold mt-2 animate-pulse",children:" FASTEST SPLIT! "})]},ge.id))})})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsx(Le,{className:"bg-gradient-to-br from-red-900 to-black border border-red-500/40 shadow-lg",children:o.jsxs(Ve,{className:"pt-6 text-center",children:[o.jsx(yc,{className:"mx-auto mb-2 text-red-400 animate-pulse",size:28}),o.jsx("p",{className:"text-3xl font-bold text-red-400 font-mono",children:F.splits.length}),o.jsx("p",{className:"text-sm text-red-300 font-bold",children:" MILES CRUSHED"})]})}),o.jsx(Le,{className:"bg-gradient-to-br from-red-900 to-black border border-red-500/40 shadow-lg",children:o.jsxs(Ve,{className:"pt-6 text-center",children:[o.jsx(o0,{className:"mx-auto mb-2 text-red-400 animate-spin",size:28}),o.jsx("p",{className:"text-3xl font-bold text-red-400 font-mono",children:ie()}),o.jsx("p",{className:"text-sm text-red-300 font-bold",children:" CURRENT SPEED"})]})}),o.jsx(Le,{className:"bg-gradient-to-br from-red-900 to-black border border-red-500/40 shadow-lg",children:o.jsxs(Ve,{className:"pt-6 text-center",children:[o.jsx(Yi,{className:"mx-auto mb-2 text-yellow-400 animate-bounce",size:28}),o.jsx("p",{className:"text-3xl font-bold text-yellow-400 font-mono",children:F.splits.length>0?G(Math.min(...F.splits.map(ge=>ge.pace))):"--:--"}),o.jsx("p",{className:"text-sm text-yellow-300 font-bold",children:" BEAST MILE"})]})}),o.jsx(Le,{className:"bg-gradient-to-br from-red-900 to-black border border-red-500/40 shadow-lg",children:o.jsxs(Ve,{className:"pt-6 text-center",children:[o.jsx(Xa,{className:"mx-auto mb-2 text-red-500 animate-pulse",size:28}),o.jsx("p",{className:"text-3xl font-bold text-red-400 font-mono",children:a}),o.jsx("p",{className:"text-sm text-red-300 font-bold",children:" NEXT TARGET"})]})})]})]}):o.jsx("div",{className:"space-y-6",children:o.jsxs(Le,{className:"bg-gradient-to-br from-gray-900 to-black border border-red-500/50 shadow-2xl shadow-red-500/20",children:[o.jsx(kt,{children:o.jsxs(Ot,{className:"flex items-center text-2xl font-bold text-red-400",children:[o.jsx(dl,{className:"mr-3 text-red-500 animate-pulse",size:32})," IGNITE YOUR SPEED "]})}),o.jsxs(Ve,{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-lg font-bold text-red-300 mb-3",children:" Choose Your Racing Mode "}),o.jsxs(ba,{value:t,onValueChange:ge=>e(ge),children:[o.jsx(Ms,{className:"w-full bg-gray-800 border-red-500/50 text-white text-lg font-semibold",children:o.jsx(_a,{})}),o.jsxs(Rs,{className:"bg-gray-800 border-red-500/50",children:[o.jsx(ur,{value:"run",className:"text-white font-bold text-lg",children:" BLAZING RUN"}),o.jsx(ur,{value:"walk",className:"text-white font-bold text-lg",children:" POWER WALK"}),o.jsx(ur,{value:"bike",className:"text-white font-bold text-lg",children:" SPEED CYCLING"})]})]})]}),o.jsxs(ue,{onClick:Ye,disabled:le.isPending,className:"w-full bg-gradient-to-r from-red-600 via-red-700 to-red-800 hover:from-red-700 hover:via-red-800 hover:to-red-900 text-white border border-red-500 shadow-lg shadow-red-500/50 text-xl font-bold py-6",size:"lg",children:[o.jsx(Xa,{className:"mr-3 animate-bounce",size:24}),le.isPending?" IGNITING...":` START ${t.toUpperCase()} DOMINATION! `]})]})]})})]})]})})}const il=b.forwardRef(({className:t,...e},r)=>o.jsx("textarea",{className:be("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...e}));il.displayName="Textarea";var mN="Avatar",[bJ,w0e]=hn(mN),[_J,SM]=bJ(mN),EM=b.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[i,s]=b.useState("idle");return o.jsx(_J,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:o.jsx(Fe.span,{...n,ref:e})})});EM.displayName=mN;var AM="AvatarImage",kM=b.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...s}=t,a=SM(AM,r),l=NJ(n,s),c=Cn(d=>{i(d),a.onImageLoadingStatusChange(d)});return en(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(Fe.img,{...s,ref:e,src:n}):null});kM.displayName=AM;var jM="AvatarFallback",PM=b.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...i}=t,s=SM(jM,r),[a,l]=b.useState(n===void 0);return b.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),a&&s.imageLoadingStatus!=="loaded"?o.jsx(Fe.span,{...i,ref:e}):null});PM.displayName=jM;function y4(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function NJ(t,{referrerPolicy:e,crossOrigin:r}){const n=SJ(),i=b.useRef(null),s=n?(i.current||(i.current=new window.Image),i.current):null,[a,l]=b.useState(()=>y4(s,t));return en(()=>{l(y4(s,t))},[s,t]),en(()=>{const c=f=>()=>{l(f)};if(!s)return;const d=c("loaded"),h=c("error");return s.addEventListener("load",d),s.addEventListener("error",h),e&&(s.referrerPolicy=e),typeof r=="string"&&(s.crossOrigin=r),()=>{s.removeEventListener("load",d),s.removeEventListener("error",h)}},[s,r,e]),a}function CJ(){return()=>{}}function SJ(){return b.useSyncExternalStore(CJ,()=>!0,()=>!1)}var TM=EM,IM=kM,DM=PM;const OM=b.forwardRef(({className:t,...e},r)=>o.jsx(TM,{ref:r,className:be("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));OM.displayName=TM.displayName;const MM=b.forwardRef(({className:t,...e},r)=>o.jsx(IM,{ref:r,className:be("aspect-square h-full w-full",t),...e}));MM.displayName=IM.displayName;const RM=b.forwardRef(({className:t,...e},r)=>o.jsx(DM,{ref:r,className:be("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));RM.displayName=DM.displayName;function EJ(t,e,r){const n=[];return t.forEach(i=>typeof i!="string"?n.push(i):e[Symbol.split](i).forEach((s,a,l)=>{s!==""&&n.push(s),a<l.length-1&&n.push(r)})),n}/**
 * Takes a string with placeholder variables like `%{smart_count} file selected`
 * and replaces it with values from options `{smart_count: 5}`
 *
 * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE
 * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299
 *
 * @param phrase that needs interpolation, with placeholders
 * @param options with values that will be used to replace placeholders
 */function w4(t,e){const r=/\$/g,n="$$$$";let i=[t];if(e==null)return i;for(const s of Object.keys(e))if(s!=="_"){let a=e[s];typeof a=="string"&&(a=r[Symbol.replace](a,n)),i=EJ(i,new RegExp(`%\\{${s}\\}`,"g"),a)}return i}const AJ=t=>{throw new Error(`missing string: ${t}`)};var wp,bp,pb;class FM{constructor(e,{onMissingKey:r=AJ}={}){re(this,bp);M(this,"locale");re(this,wp);this.locale={strings:{},pluralize(n){return n===1?0:1}},Array.isArray(e)?e.forEach(ce(this,bp,pb),this):ce(this,bp,pb).call(this,e),ne(this,wp,r)}translate(e,r){return this.translateArray(e,r).join("")}translateArray(e,r){let n=this.locale.strings[e];if(n==null&&(k(this,wp).call(this,e),n=e),typeof n=="object"){if(r&&typeof r.smart_count<"u"){const s=this.locale.pluralize(r.smart_count);return w4(n[s],r)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}if(typeof n!="string")throw new Error("string was not a string");return w4(n,r)}}wp=new WeakMap,bp=new WeakSet,pb=function(e){if(!(e!=null&&e.strings))return;const r=this.locale;Object.assign(this.locale,{strings:{...r.strings,...e.strings},pluralize:e.pluralize||r.pluralize})};class LM{constructor(e,r){M(this,"uppy");M(this,"opts");M(this,"id");M(this,"defaultLocale");M(this,"i18n");M(this,"i18nArray");M(this,"type");M(this,"VERSION");this.uppy=e,this.opts=r??{}}getPluginState(){const{plugins:e}=this.uppy.getState();return(e==null?void 0:e[this.id])||{}}setPluginState(e){const{plugins:r}=this.uppy.getState();this.uppy.setState({plugins:{...r,[this.id]:{...r[this.id],...e}}})}setOptions(e){this.opts={...this.opts,...e},this.setPluginState(void 0),this.i18nInit()}i18nInit(){const e=new FM([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=e.translate.bind(e),this.i18nArray=e.translateArray.bind(e),this.setPluginState(void 0)}addTarget(e){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}install(){}uninstall(){}update(e){}afterUpdate(){}}function sy(t){return t<10?`0${t}`:t.toString()}function J0(){const t=new Date,e=sy(t.getHours()),r=sy(t.getMinutes()),n=sy(t.getSeconds());return`${e}:${r}:${n}`}const kJ={debug:()=>{},warn:()=>{},error:(...t)=>console.error(`[Uppy] [${J0()}]`,...t)},jJ={debug:(...t)=>console.debug(`[Uppy] [${J0()}]`,...t),warn:(...t)=>console.warn(`[Uppy] [${J0()}]`,...t),error:(...t)=>console.error(`[Uppy] [${J0()}]`,...t)};function BM(t){return typeof t!="object"||t===null||!("nodeType"in t)?!1:t.nodeType===Node.ELEMENT_NODE}function PJ(t,e=document){return typeof t=="string"?e.querySelector(t):BM(t)?t:null}function UM(t){for(;t&&!t.dir;)t=t.parentNode;return t==null?void 0:t.dir}var dm,ht,zM,Wl,b4,$M,VM,WM,gN,mb,gb,Xf={},HM=[],TJ=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,hm=Array.isArray;function ma(t,e){for(var r in e)t[r]=e[r];return t}function vN(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Qf(t,e,r){var n,i,s,a={};for(s in e)s=="key"?n=e[s]:s=="ref"?i=e[s]:a[s]=e[s];if(arguments.length>2&&(a.children=arguments.length>3?dm.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)a[s]===void 0&&(a[s]=t.defaultProps[s]);return bf(t,a,n,i,null)}function bf(t,e,r,n,i){var s={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++zM,__i:-1,__u:0};return i==null&&ht.vnode!=null&&ht.vnode(s),s}function IJ(){return{current:null}}function Ps(t){return t.children}function vi(t,e){this.props=t,this.context=e}function Fd(t,e){if(e==null)return t.__?Fd(t.__,t.__i+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?Fd(t):null}function GM(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return GM(t)}}function _4(t){(!t.__d&&(t.__d=!0)&&Wl.push(t)&&!Qg.__r++||b4!=ht.debounceRendering)&&((b4=ht.debounceRendering)||$M)(Qg)}function Qg(){for(var t,e,r,n,i,s,a,l=1;Wl.length;)Wl.length>l&&Wl.sort(VM),t=Wl.shift(),l=Wl.length,t.__d&&(r=void 0,i=(n=(e=t).__v).__e,s=[],a=[],e.__P&&((r=ma({},n)).__v=n.__v+1,ht.vnode&&ht.vnode(r),xN(e.__P,r,n,e.__n,e.__P.namespaceURI,32&n.__u?[i]:null,s,i??Fd(n),!!(32&n.__u),a),r.__v=n.__v,r.__.__k[r.__i]=r,KM(s,r,a),r.__e!=i&&GM(r)));Qg.__r=0}function qM(t,e,r,n,i,s,a,l,c,d,h){var f,m,g,y,x,N,_,w=n&&n.__k||HM,S=e.length;for(c=DJ(r,e,w,c,S),f=0;f<S;f++)(g=r.__k[f])!=null&&(m=g.__i==-1?Xf:w[g.__i]||Xf,g.__i=f,N=xN(t,g,m,i,s,a,l,c,d,h),y=g.__e,g.ref&&m.ref!=g.ref&&(m.ref&&yN(m.ref,null,g),h.push(g.ref,g.__c||y,g)),x==null&&y!=null&&(x=y),(_=!!(4&g.__u))||m.__k===g.__k?c=ZM(g,c,t,_):typeof g.type=="function"&&N!==void 0?c=N:y&&(c=y.nextSibling),g.__u&=-7);return r.__e=x,c}function DJ(t,e,r,n,i){var s,a,l,c,d,h=r.length,f=h,m=0;for(t.__k=new Array(i),s=0;s<i;s++)(a=e[s])!=null&&typeof a!="boolean"&&typeof a!="function"?(c=s+m,(a=t.__k[s]=typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?bf(null,a,null,null,null):hm(a)?bf(Ps,{children:a},null,null,null):a.constructor==null&&a.__b>0?bf(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a).__=t,a.__b=t.__b+1,l=null,(d=a.__i=OJ(a,r,c,f))!=-1&&(f--,(l=r[d])&&(l.__u|=2)),l==null||l.__v==null?(d==-1&&(i>h?m--:i<h&&m++),typeof a.type!="function"&&(a.__u|=4)):d!=c&&(d==c-1?m--:d==c+1?m++:(d>c?m--:m++,a.__u|=4))):t.__k[s]=null;if(f)for(s=0;s<h;s++)(l=r[s])!=null&&!(2&l.__u)&&(l.__e==n&&(n=Fd(l)),XM(l,l));return n}function ZM(t,e,r,n){var i,s;if(typeof t.type=="function"){for(i=t.__k,s=0;i&&s<i.length;s++)i[s]&&(i[s].__=t,e=ZM(i[s],e,r,n));return e}t.__e!=e&&(n&&(e&&t.type&&!e.parentNode&&(e=Fd(t)),r.insertBefore(t.__e,e||null)),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function Cs(t,e){return e=e||[],t==null||typeof t=="boolean"||(hm(t)?t.some(function(r){Cs(r,e)}):e.push(t)),e}function OJ(t,e,r,n){var i,s,a,l=t.key,c=t.type,d=e[r],h=d!=null&&(2&d.__u)==0;if(d===null&&t.key==null||h&&l==d.key&&c==d.type)return r;if(n>(h?1:0)){for(i=r-1,s=r+1;i>=0||s<e.length;)if((d=e[a=i>=0?i--:s++])!=null&&!(2&d.__u)&&l==d.key&&c==d.type)return a}return-1}function N4(t,e,r){e[0]=="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||TJ.test(e)?r:r+"px"}function p0(t,e,r,n,i){var s,a;e:if(e=="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||N4(t.style,e,"");if(r)for(e in r)n&&r[e]==n[e]||N4(t.style,e,r[e])}else if(e[0]=="o"&&e[1]=="n")s=e!=(e=e.replace(WM,"$1")),a=e.toLowerCase(),e=a in t||e=="onFocusOut"||e=="onFocusIn"?a.slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=r,r?n?r.u=n.u:(r.u=gN,t.addEventListener(e,s?gb:mb,s)):t.removeEventListener(e,s?gb:mb,s);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&r==1?"":r))}}function C4(t){return function(e){if(this.l){var r=this.l[e.type+t];if(e.t==null)e.t=gN++;else if(e.t<r.u)return;return r(ht.event?ht.event(e):e)}}}function xN(t,e,r,n,i,s,a,l,c,d){var h,f,m,g,y,x,N,_,w,S,E,j,D,T,O,B,P,V=e.type;if(e.constructor!=null)return null;128&r.__u&&(c=!!(32&r.__u),s=[l=e.__e=r.__e]),(h=ht.__b)&&h(e);e:if(typeof V=="function")try{if(_=e.props,w="prototype"in V&&V.prototype.render,S=(h=V.contextType)&&n[h.__c],E=h?S?S.props.value:h.__:n,r.__c?N=(f=e.__c=r.__c).__=f.__E:(w?e.__c=f=new V(_,E):(e.__c=f=new vi(_,E),f.constructor=V,f.render=RJ),S&&S.sub(f),f.props=_,f.state||(f.state={}),f.context=E,f.__n=n,m=f.__d=!0,f.__h=[],f._sb=[]),w&&f.__s==null&&(f.__s=f.state),w&&V.getDerivedStateFromProps!=null&&(f.__s==f.state&&(f.__s=ma({},f.__s)),ma(f.__s,V.getDerivedStateFromProps(_,f.__s))),g=f.props,y=f.state,f.__v=e,m)w&&V.getDerivedStateFromProps==null&&f.componentWillMount!=null&&f.componentWillMount(),w&&f.componentDidMount!=null&&f.__h.push(f.componentDidMount);else{if(w&&V.getDerivedStateFromProps==null&&_!==g&&f.componentWillReceiveProps!=null&&f.componentWillReceiveProps(_,E),!f.__e&&f.shouldComponentUpdate!=null&&f.shouldComponentUpdate(_,f.__s,E)===!1||e.__v==r.__v){for(e.__v!=r.__v&&(f.props=_,f.state=f.__s,f.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.some(function(F){F&&(F.__=e)}),j=0;j<f._sb.length;j++)f.__h.push(f._sb[j]);f._sb=[],f.__h.length&&a.push(f);break e}f.componentWillUpdate!=null&&f.componentWillUpdate(_,f.__s,E),w&&f.componentDidUpdate!=null&&f.__h.push(function(){f.componentDidUpdate(g,y,x)})}if(f.context=E,f.props=_,f.__P=t,f.__e=!1,D=ht.__r,T=0,w){for(f.state=f.__s,f.__d=!1,D&&D(e),h=f.render(f.props,f.state,f.context),O=0;O<f._sb.length;O++)f.__h.push(f._sb[O]);f._sb=[]}else do f.__d=!1,D&&D(e),h=f.render(f.props,f.state,f.context),f.state=f.__s;while(f.__d&&++T<25);f.state=f.__s,f.getChildContext!=null&&(n=ma(ma({},n),f.getChildContext())),w&&!m&&f.getSnapshotBeforeUpdate!=null&&(x=f.getSnapshotBeforeUpdate(g,y)),B=h,h!=null&&h.type===Ps&&h.key==null&&(B=YM(h.props.children)),l=qM(t,hm(B)?B:[B],e,r,n,i,s,a,l,c,d),f.base=e.__e,e.__u&=-161,f.__h.length&&a.push(f),N&&(f.__E=f.__=null)}catch(F){if(e.__v=null,c||s!=null)if(F.then){for(e.__u|=c?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;s[s.indexOf(l)]=null,e.__e=l}else{for(P=s.length;P--;)vN(s[P]);vb(e)}else e.__e=r.__e,e.__k=r.__k,F.then||vb(e);ht.__e(F,e,r)}else s==null&&e.__v==r.__v?(e.__k=r.__k,e.__e=r.__e):l=e.__e=MJ(r.__e,e,r,n,i,s,a,c,d);return(h=ht.diffed)&&h(e),128&e.__u?void 0:l}function vb(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(vb)}function KM(t,e,r){for(var n=0;n<r.length;n++)yN(r[n],r[++n],r[++n]);ht.__c&&ht.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(s){s.call(i)})}catch(s){ht.__e(s,i.__v)}})}function YM(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:hm(t)?t.map(YM):ma({},t)}function MJ(t,e,r,n,i,s,a,l,c){var d,h,f,m,g,y,x,N=r.props,_=e.props,w=e.type;if(w=="svg"?i="http://www.w3.org/2000/svg":w=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),s!=null){for(d=0;d<s.length;d++)if((g=s[d])&&"setAttribute"in g==!!w&&(w?g.localName==w:g.nodeType==3)){t=g,s[d]=null;break}}if(t==null){if(w==null)return document.createTextNode(_);t=document.createElementNS(i,w,_.is&&_),l&&(ht.__m&&ht.__m(e,s),l=!1),s=null}if(w==null)N===_||l&&t.data==_||(t.data=_);else{if(s=s&&dm.call(t.childNodes),N=r.props||Xf,!l&&s!=null)for(N={},d=0;d<t.attributes.length;d++)N[(g=t.attributes[d]).name]=g.value;for(d in N)if(g=N[d],d!="children"){if(d=="dangerouslySetInnerHTML")f=g;else if(!(d in _)){if(d=="value"&&"defaultValue"in _||d=="checked"&&"defaultChecked"in _)continue;p0(t,d,null,g,i)}}for(d in _)g=_[d],d=="children"?m=g:d=="dangerouslySetInnerHTML"?h=g:d=="value"?y=g:d=="checked"?x=g:l&&typeof g!="function"||N[d]===g||p0(t,d,g,N[d],i);if(h)l||f&&(h.__html==f.__html||h.__html==t.innerHTML)||(t.innerHTML=h.__html),e.__k=[];else if(f&&(t.innerHTML=""),qM(e.type=="template"?t.content:t,hm(m)?m:[m],e,r,n,w=="foreignObject"?"http://www.w3.org/1999/xhtml":i,s,a,s?s[0]:r.__k&&Fd(r,0),l,c),s!=null)for(d=s.length;d--;)vN(s[d]);l||(d="value",w=="progress"&&y==null?t.removeAttribute("value"):y!=null&&(y!==t[d]||w=="progress"&&!y||w=="option"&&y!=N[d])&&p0(t,d,y,N[d],i),d="checked",x!=null&&x!=t[d]&&p0(t,d,x,N[d],i))}return t}function yN(t,e,r){try{if(typeof t=="function"){var n=typeof t.__u=="function";n&&t.__u(),n&&e==null||(t.__u=t(e))}else t.current=e}catch(i){ht.__e(i,r)}}function XM(t,e,r){var n,i;if(ht.unmount&&ht.unmount(t),(n=t.ref)&&(n.current&&n.current!=t.__e||yN(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){ht.__e(s,e)}n.base=n.__P=null}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&XM(n[i],e,r||typeof t.type!="function");r||vN(t.__e),t.__c=t.__=t.__e=void 0}function RJ(t,e,r){return this.constructor(t,r)}function FJ(t,e,r){var n,i,s,a;e==document&&(e=document.documentElement),ht.__&&ht.__(t,e),i=(n=typeof r=="function")?null:e.__k,s=[],a=[],xN(e,t=(!n&&r||e).__k=Qf(Ps,null,[t]),i||Xf,Xf,e.namespaceURI,!n&&r?[r]:i?null:e.firstChild?dm.call(e.childNodes):null,s,!n&&r?r:i?i.__e:e.firstChild,n,a),KM(s,t,a)}function QM(t,e,r){var n,i,s,a,l=ma({},t.props);for(s in t.type&&t.type.defaultProps&&(a=t.type.defaultProps),e)s=="key"?n=e[s]:s=="ref"?i=e[s]:l[s]=e[s]===void 0&&a!=null?a[s]:e[s];return arguments.length>2&&(l.children=arguments.length>3?dm.call(arguments,2):r),bf(t.type,l,n||t.key,i||t.ref,null)}dm=HM.slice,ht={__e:function(t,e,r,n){for(var i,s,a;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),a=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),a=i.__d),a)return i.__E=i}catch(l){t=l}throw t}},zM=0,vi.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=ma({},this.state),typeof t=="function"&&(t=t(ma({},r),this.props)),t&&ma(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),_4(this))},vi.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),_4(this))},vi.prototype.render=Ps,Wl=[],$M=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,VM=function(t,e){return t.__v.__b-e.__v.__b},Qg.__r=0,WM=/(PointerCapture)$|Capture$/i,gN=0,mb=C4(!1),gb=C4(!0);var Jf,Pr,ay,S4,ep=0,JM=[],Rr=ht,E4=Rr.__b,A4=Rr.__r,k4=Rr.diffed,j4=Rr.__c,P4=Rr.unmount,T4=Rr.__;function wN(t,e){Rr.__h&&Rr.__h(Pr,t,ep||e),ep=0;var r=Pr.__H||(Pr.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({}),r.__[t]}function Jg(t){return ep=1,LJ(tR,t)}function LJ(t,e,r){var n=wN(Jf++,2);if(n.t=t,!n.__c&&(n.__=[r?r(e):tR(void 0,e),function(l){var c=n.__N?n.__N[0]:n.__[0],d=n.t(c,l);c!==d&&(n.__N=[d,n.__[1]],n.__c.setState({}))}],n.__c=Pr,!Pr.__f)){var i=function(l,c,d){if(!n.__c.__H)return!0;var h=n.__c.__H.__.filter(function(m){return!!m.__c});if(h.every(function(m){return!m.__N}))return!s||s.call(this,l,c,d);var f=n.__c.props!==l;return h.forEach(function(m){if(m.__N){var g=m.__[0];m.__=m.__N,m.__N=void 0,g!==m.__[0]&&(f=!0)}}),s&&s.call(this,l,c,d)||f};Pr.__f=!0;var s=Pr.shouldComponentUpdate,a=Pr.componentWillUpdate;Pr.componentWillUpdate=function(l,c,d){if(this.__e){var h=s;s=void 0,i(l,c,d),s=h}a&&a.call(this,l,c,d)},Pr.shouldComponentUpdate=i}return n.__N||n.__}function xb(t,e){var r=wN(Jf++,3);!Rr.__s&&eR(r.__H,e)&&(r.__=t,r.u=e,Pr.__H.__h.push(r))}function eg(t){return ep=5,bN(function(){return{current:t}},[])}function bN(t,e){var r=wN(Jf++,7);return eR(r.__H,e)&&(r.__=t(),r.__H=e,r.__h=t),r.__}function BJ(t,e){return ep=8,bN(function(){return t},e)}function UJ(){for(var t;t=JM.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(tg),t.__H.__h.forEach(yb),t.__H.__h=[]}catch(e){t.__H.__h=[],Rr.__e(e,t.__v)}}Rr.__b=function(t){Pr=null,E4&&E4(t)},Rr.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),T4&&T4(t,e)},Rr.__r=function(t){A4&&A4(t),Jf=0;var e=(Pr=t.__c).__H;e&&(ay===Pr?(e.__h=[],Pr.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.u=r.__N=void 0})):(e.__h.forEach(tg),e.__h.forEach(yb),e.__h=[],Jf=0)),ay=Pr},Rr.diffed=function(t){k4&&k4(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(JM.push(e)!==1&&S4===Rr.requestAnimationFrame||((S4=Rr.requestAnimationFrame)||zJ)(UJ)),e.__H.__.forEach(function(r){r.u&&(r.__H=r.u),r.u=void 0})),ay=Pr=null},Rr.__c=function(t,e){e.some(function(r){try{r.__h.forEach(tg),r.__h=r.__h.filter(function(n){return!n.__||yb(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],Rr.__e(n,r.__v)}}),j4&&j4(t,e)},Rr.unmount=function(t){P4&&P4(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{tg(n)}catch(i){e=i}}),r.__H=void 0,e&&Rr.__e(e,r.__v))};var I4=typeof requestAnimationFrame=="function";function zJ(t){var e,r=function(){clearTimeout(n),I4&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,35);I4&&(e=requestAnimationFrame(r))}function tg(t){var e=Pr,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),Pr=e}function yb(t){var e=Pr;t.__c=t.__(),Pr=e}function eR(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function tR(t,e){return typeof e=="function"?e(t):e}function $J(t,e){for(var r in e)t[r]=e[r];return t}function D4(t,e){for(var r in t)if(r!=="__source"&&!(r in e))return!0;for(var n in e)if(n!=="__source"&&t[n]!==e[n])return!0;return!1}function O4(t,e){this.props=t,this.context=e}(O4.prototype=new vi).isPureReactComponent=!0,O4.prototype.shouldComponentUpdate=function(t,e){return D4(this.props,t)||D4(this.state,e)};var M4=ht.__b;ht.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),M4&&M4(t)};var VJ=ht.__e;ht.__e=function(t,e,r,n){if(t.then){for(var i,s=e;s=s.__;)if((i=s.__c)&&i.__c)return e.__e==null&&(e.__e=r.__e,e.__k=r.__k),i.__c(t,e)}VJ(t,e,r,n)};var R4=ht.unmount;function rR(t,e,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(n){typeof n.__c=="function"&&n.__c()}),t.__c.__H=null),(t=$J({},t)).__c!=null&&(t.__c.__P===r&&(t.__c.__P=e),t.__c.__e=!0,t.__c=null),t.__k=t.__k&&t.__k.map(function(n){return rR(n,e,r)})),t}function nR(t,e,r){return t&&r&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(n){return nR(n,e,r)}),t.__c&&t.__c.__P===e&&(t.__e&&r.appendChild(t.__e),t.__c.__e=!0,t.__c.__P=r)),t}function oy(){this.__u=0,this.o=null,this.__b=null}function iR(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function m0(){this.i=null,this.l=null}ht.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&32&t.__u&&(t.type=null),R4&&R4(t)},(oy.prototype=new vi).__c=function(t,e){var r=e.__c,n=this;n.o==null&&(n.o=[]),n.o.push(r);var i=iR(n.__v),s=!1,a=function(){s||(s=!0,r.__R=null,i?i(l):l())};r.__R=a;var l=function(){if(!--n.__u){if(n.state.__a){var c=n.state.__a;n.__v.__k[0]=nR(c,c.__c.__P,c.__c.__O)}var d;for(n.setState({__a:n.__b=null});d=n.o.pop();)d.forceUpdate()}};n.__u++||32&e.__u||n.setState({__a:n.__b=n.__v.__k[0]}),t.then(a,a)},oy.prototype.componentWillUnmount=function(){this.o=[]},oy.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var r=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=rR(this.__b,r,n.__O=n.__P)}this.__b=null}var i=e.__a&&Qf(Ps,null,t.fallback);return i&&(i.__u&=-33),[Qf(Ps,null,e.__a?null:t.children),i]};var F4=function(t,e,r){if(++r[1]===r[0]&&t.l.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.l.size))for(r=t.i;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;t.i=r=r[2]}};(m0.prototype=new vi).__a=function(t){var e=this,r=iR(e.__v),n=e.l.get(t);return n[0]++,function(i){var s=function(){e.props.revealOrder?(n.push(i),F4(e,t,n)):i()};r?r(s):s()}},m0.prototype.render=function(t){this.i=null,this.l=new Map;var e=Cs(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var r=e.length;r--;)this.l.set(e[r],this.i=[1,0,this.i]);return t.children},m0.prototype.componentDidUpdate=m0.prototype.componentDidMount=function(){var t=this;this.l.forEach(function(e,r){F4(t,r,e)})};var WJ=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,HJ=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,GJ=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,qJ=/[A-Z0-9]/g,ZJ=typeof document<"u",KJ=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(t)};function L4(t,e,r){return e.__k==null&&(e.textContent=""),FJ(t,e),typeof r=="function"&&r(),t?t.__c:null}vi.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(vi.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var B4=ht.event;function YJ(){}function XJ(){return this.cancelBubble}function QJ(){return this.defaultPrevented}ht.event=function(t){return B4&&(t=B4(t)),t.persist=YJ,t.isPropagationStopped=XJ,t.isDefaultPrevented=QJ,t.nativeEvent=t};var JJ={enumerable:!1,configurable:!0,get:function(){return this.class}},U4=ht.vnode;ht.vnode=function(t){typeof t.type=="string"&&function(e){var r=e.props,n=e.type,i={},s=n.indexOf("-")===-1;for(var a in r){var l=r[a];if(!(a==="value"&&"defaultValue"in r&&l==null||ZJ&&a==="children"&&n==="noscript"||a==="class"||a==="className")){var c=a.toLowerCase();a==="defaultValue"&&"value"in r&&r.value==null?a="value":a==="download"&&l===!0?l="":c==="translate"&&l==="no"?l=!1:c[0]==="o"&&c[1]==="n"?c==="ondoubleclick"?a="ondblclick":c!=="onchange"||n!=="input"&&n!=="textarea"||KJ(r.type)?c==="onfocus"?a="onfocusin":c==="onblur"?a="onfocusout":GJ.test(a)&&(a=c):c=a="oninput":s&&HJ.test(a)?a=a.replace(qJ,"-$&").toLowerCase():l===null&&(l=void 0),c==="oninput"&&i[a=c]&&(a="oninputCapture"),i[a]=l}}n=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=Cs(r.children).forEach(function(d){d.props.selected=i.value.indexOf(d.props.value)!=-1})),n=="select"&&i.defaultValue!=null&&(i.value=Cs(r.children).forEach(function(d){d.props.selected=i.multiple?i.defaultValue.indexOf(d.props.value)!=-1:i.defaultValue==d.props.value})),r.class&&!r.className?(i.class=r.class,Object.defineProperty(i,"className",JJ)):(r.className&&!r.class||r.class&&r.className)&&(i.class=i.className=r.className),e.props=i}(t),t.$$typeof=WJ,U4&&U4(t)};var z4=ht.__r;ht.__r=function(t){z4&&z4(t),t.__c};var $4=ht.diffed;ht.diffed=function(t){$4&&$4(t);var e=t.props,r=t.__e;r!=null&&t.type==="textarea"&&"value"in e&&e.value!==r.value&&(r.value=e.value==null?"":e.value)};function eee(t){let e=null,r;return(...n)=>(r=n,e||(e=Promise.resolve().then(()=>(e=null,t(...r)))),e)}var _p;const C1=class C1 extends LM{constructor(){super(...arguments);re(this,_p);M(this,"isTargetDOMEl");M(this,"el");M(this,"parent");M(this,"title")}getTargetPlugin(r){let n;if(typeof(r==null?void 0:r.addTarget)=="function")n=r,n instanceof C1||console.warn(new Error("The provided plugin is not an instance of UIPlugin. This is an indication of a bug with the way Uppy is bundled.",{cause:{targetPlugin:n,UIPlugin:C1}}));else if(typeof r=="function"){const i=r;this.uppy.iteratePlugins(s=>{s instanceof i&&(n=s)})}return n}mount(r,n){const i=n.id,s=PJ(r);if(s){this.isTargetDOMEl=!0;const c=document.createElement("div");return c.classList.add("uppy-Root"),ne(this,_p,eee(d=>{this.uppy.getPlugin(this.id)&&(L4(this.render(d,c),c),this.afterUpdate())})),this.uppy.log(`Installing ${i} to a DOM element '${r}'`),this.opts.replaceTargetContent&&(s.innerHTML=""),L4(this.render(this.uppy.getState(),c),c),this.el=c,s.appendChild(c),c.dir=this.opts.direction||UM(c)||"ltr",this.onMount(),this.el}const a=this.getTargetPlugin(r);if(a)return this.uppy.log(`Installing ${i} to ${a.id}`),this.parent=a,this.el=a.addTarget(n),this.onMount(),this.el;this.uppy.log(`Not installing ${i}`);let l=`Invalid target option given to ${i}.`;throw typeof r=="function"?l+=" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":l+="If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(l)}render(r,n){throw new Error("Extend the render method to add your plugin to a DOM element")}update(r){var n;this.el!=null&&((n=k(this,_p))==null||n.call(this,r))}unmount(){var r;this.isTargetDOMEl&&((r=this.el)==null||r.remove()),this.onUnmount()}onMount(){}onUnmount(){}};_p=new WeakMap;let Ld=C1;const tee="@uppy/store-default",ree="The default simple object-based store for Uppy.",nee="4.3.2",iee="MIT",see="lib/index.js",aee="module",oee={build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},lee=["file uploader","uppy","uppy-store"],cee="https://uppy.io",uee={url:"https://github.com/transloadit/uppy/issues"},dee={jsdom:"^26.1.0",typescript:"^5.8.3",vitest:"^3.2.4"},hee={type:"git",url:"git+https://github.com/transloadit/uppy.git"},fee=["src","lib","dist","CHANGELOG.md"],pee={name:tee,description:ree,version:nee,license:iee,main:see,type:aee,scripts:oee,keywords:lee,homepage:cee,bugs:uee,devDependencies:dee,repository:hee,files:fee};var sd,S1,aR;class sR{constructor(){re(this,S1);M(this,"state",{});re(this,sd,new Set)}getState(){return this.state}setState(e){const r={...this.state},n={...this.state,...e};this.state=n,ce(this,S1,aR).call(this,r,n,e)}subscribe(e){return k(this,sd).add(e),()=>{k(this,sd).delete(e)}}}sd=new WeakMap,S1=new WeakSet,aR=function(...e){k(this,sd).forEach(r=>{r(...e)})},M(sR,"VERSION",pee.version);function oR(t){const e=t.lastIndexOf(".");return e===-1||e===t.length-1?{name:t,extension:void 0}:{name:t.slice(0,e),extension:t.slice(e+1)}}const V4={__proto__:null,md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",msg:"application/vnd.ms-outlook",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"};function lR(t){var r;if(t.type)return t.type;const e=t.name?(r=oR(t.name).extension)==null?void 0:r.toLowerCase():null;return e&&e in V4?V4[e]:"application/octet-stream"}function mee(t){return t.charCodeAt(0).toString(32)}function W4(t){let e="";return t.replace(/[^A-Z0-9]/gi,r=>(e+=`-${mee(r)}`,"/"))+e}function gee(t,e){let r=e||"uppy";return typeof t.name=="string"&&(r+=`-${W4(t.name.toLowerCase())}`),t.type!==void 0&&(r+=`-${t.type}`),t.meta&&typeof t.meta.relativePath=="string"&&(r+=`-${W4(t.meta.relativePath.toLowerCase())}`),t.data.size!==void 0&&(r+=`-${t.data.size}`),t.data.lastModified!==void 0&&(r+=`-${t.data.lastModified}`),r}function vee(t){return!t.isRemote||!t.remote?!1:new Set(["box","dropbox","drive","facebook","unsplash"]).has(t.remote.provider)}function xee(t,e){if(vee(t))return t.id;const r=lR(t);return gee({...t,type:r},e)}function yee(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var _N=yee,wee=typeof Wh=="object"&&Wh&&Wh.Object===Object&&Wh,bee=wee,_ee=bee,Nee=typeof self=="object"&&self&&self.Object===Object&&self,Cee=_ee||Nee||Function("return this")(),cR=Cee,See=cR,Eee=function(){return See.Date.now()},Aee=Eee,kee=/\s/;function jee(t){for(var e=t.length;e--&&kee.test(t.charAt(e)););return e}var Pee=jee,Tee=Pee,Iee=/^\s+/;function Dee(t){return t&&t.slice(0,Tee(t)+1).replace(Iee,"")}var Oee=Dee,Mee=cR,Ree=Mee.Symbol,uR=Ree,H4=uR,dR=Object.prototype,Fee=dR.hasOwnProperty,Lee=dR.toString,Oh=H4?H4.toStringTag:void 0;function Bee(t){var e=Fee.call(t,Oh),r=t[Oh];try{t[Oh]=void 0;var n=!0}catch{}var i=Lee.call(t);return n&&(e?t[Oh]=r:delete t[Oh]),i}var Uee=Bee,zee=Object.prototype,$ee=zee.toString;function Vee(t){return $ee.call(t)}var Wee=Vee,G4=uR,Hee=Uee,Gee=Wee,qee="[object Null]",Zee="[object Undefined]",q4=G4?G4.toStringTag:void 0;function Kee(t){return t==null?t===void 0?Zee:qee:q4&&q4 in Object(t)?Hee(t):Gee(t)}var Yee=Kee;function Xee(t){return t!=null&&typeof t=="object"}var Qee=Xee,Jee=Yee,ete=Qee,tte="[object Symbol]";function rte(t){return typeof t=="symbol"||ete(t)&&Jee(t)==tte}var nte=rte,ite=Oee,Z4=_N,ste=nte,K4=NaN,ate=/^[-+]0x[0-9a-f]+$/i,ote=/^0b[01]+$/i,lte=/^0o[0-7]+$/i,cte=parseInt;function ute(t){if(typeof t=="number")return t;if(ste(t))return K4;if(Z4(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Z4(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=ite(t);var r=ote.test(t);return r||lte.test(t)?cte(t.slice(2),r?2:8):ate.test(t)?K4:+t}var dte=ute,hte=_N,ly=Aee,Y4=dte,fte="Expected a function",pte=Math.max,mte=Math.min;function gte(t,e,r){var n,i,s,a,l,c,d=0,h=!1,f=!1,m=!0;if(typeof t!="function")throw new TypeError(fte);e=Y4(e)||0,hte(r)&&(h=!!r.leading,f="maxWait"in r,s=f?pte(Y4(r.maxWait)||0,e):s,m="trailing"in r?!!r.trailing:m);function g(D){var T=n,O=i;return n=i=void 0,d=D,a=t.apply(O,T),a}function y(D){return d=D,l=setTimeout(_,e),h?g(D):a}function x(D){var T=D-c,O=D-d,B=e-T;return f?mte(B,s-O):B}function N(D){var T=D-c,O=D-d;return c===void 0||T>=e||T<0||f&&O>=s}function _(){var D=ly();if(N(D))return w(D);l=setTimeout(_,x(D))}function w(D){return l=void 0,m&&n?g(D):(n=i=void 0,a)}function S(){l!==void 0&&clearTimeout(l),d=0,n=c=i=l=void 0}function E(){return l===void 0?a:w(ly())}function j(){var D=ly(),T=N(D);if(n=arguments,i=this,c=D,T){if(l===void 0)return y(c);if(f)return clearTimeout(l),l=setTimeout(_,e),g(c)}return l===void 0&&(l=setTimeout(_,e)),a}return j.cancel=S,j.flush=E,j}var hR=gte;const vte=ka(hR);var xte=hR,yte=_N,wte="Expected a function";function bte(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(wte);return yte(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),xte(t,e,{leading:n,maxWait:e,trailing:i})}var _te=bte;const Nte=ka(_te);var Cte=function(){var e={},r=e._fns={};e.emit=function(a,l,c,d,h,f,m){var g=n(a);g.length&&i(a,g,[l,c,d,h,f,m])},e.on=function(a,l){r[a]||(r[a]=[]),r[a].push(l)},e.once=function(a,l){function c(){l.apply(this,arguments),e.off(a,c)}this.on(a,c)},e.off=function(a,l){var c=[];if(a&&l){var d=this._fns[a],h=0,f=d?d.length:0;for(h;h<f;h++)d[h]!==l&&c.push(d[h])}c.length?this._fns[a]=c:delete this._fns[a]};function n(s){var a=r[s]?r[s]:[],l=s.indexOf(":"),c=l===-1?[s]:[s.substring(0,l),s.substring(l+1)],d=Object.keys(r),h=0,f=d.length;for(h;h<f;h++){var m=d[h];if(m==="*"&&(a=a.concat(r[m])),c.length===2&&c[0]===m){a=a.concat(r[m]);break}}return a}function i(s,a,l){var c=0,d=a.length;for(c;c<d&&a[c];c++)a[c].event=s,a[c].apply(a[c],l)}return e};const Ste=ka(Cte);let Ete="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Ate=(t=21)=>{let e="",r=t|0;for(;r--;)e+=Ete[Math.random()*64|0];return e};const kte="@uppy/core",jte="Core module for the extensible JavaScript file upload widget with support for drag&drop, resumable uploads, previews, restrictions, file processing/encoding, remote providers like Instagram, Dropbox, Google Drive, S3 and more :dog:",Pte="4.5.3",Tte="MIT",Ite="lib/index.js",Dte="dist/style.min.css",Ote="module",Mte=["*.css"],Rte={build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},Fte=["file uploader","uppy","uppy-plugin"],Lte="https://uppy.io",Bte={url:"https://github.com/transloadit/uppy/issues"},Ute={type:"git",url:"git+https://github.com/transloadit/uppy.git"},zte=["src","lib","dist","CHANGELOG.md"],$te={"@transloadit/prettier-bytes":"^0.3.4","@uppy/store-default":"^4.3.2","@uppy/utils":"^6.2.2",lodash:"^4.17.21","mime-match":"^1.0.2","namespace-emitter":"^2.0.1",nanoid:"^5.0.9",preact:"^10.5.13"},Vte={"@types/deep-freeze":"^0",cssnano:"^7.0.7","deep-freeze":"^0.0.1",jsdom:"^26.1.0",postcss:"^8.5.6","postcss-cli":"^11.0.1",sass:"^1.89.2",typescript:"^5.8.3",vitest:"^3.2.4"},Wte={name:kte,description:jte,version:Pte,license:Tte,main:Ite,style:Dte,type:Ote,sideEffects:Mte,scripts:Rte,keywords:Fte,homepage:Lte,bugs:Bte,repository:Ute,files:zte,dependencies:$te,devDependencies:Vte};function Hte(t,e){return e.name?e.name:t.split("/")[0]==="image"?`${t.split("/")[0]}.${t.split("/")[1]}`:"noname"}const Gte={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},aggregateExceedsSize:"You selected %{size} of files, but maximum allowed size is %{sizeAllowed}",exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",noSearchResults:"Unfortunately, there are no results for this search",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",logIn:"Log in",pickFiles:"Pick files",pickPhotos:"Pick photos",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",loadedXFiles:"Loaded %{numFiles} files",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",resetSearch:"Reset search",emptyFolderAdded:"No files were added from empty folder",addedNumFiles:"Added %{numFiles} file(s)",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"},additionalRestrictionsFailed:"%{count} additional restrictions were not fulfilled",unnamed:"Unnamed",pleaseWait:"Please wait"}};var qte=function(e){if(typeof e!="number"||Number.isNaN(e))throw new TypeError(`Expected a number, got ${typeof e}`);const r=e<0;let n=Math.abs(e);if(r&&(n=-n),n===0)return"0 B";const i=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],s=Math.min(Math.floor(Math.log(n)/Math.log(1024)),i.length-1),a=Number(n/1024**s),l=i[s];return`${a>=10||a%1===0?Math.round(a):a.toFixed(1)} ${l}`};const Yl=ka(qte);function fR(t,e){this.text=t=t||"",this.hasWild=~t.indexOf("*"),this.separator=e,this.parts=t.split(e)}fR.prototype.match=function(t){var e=!0,r=this.parts,n,i=r.length,s;if(typeof t=="string"||t instanceof String)if(!this.hasWild&&this.text!=t)e=!1;else{for(s=(t||"").split(this.separator),n=0;e&&n<i;n++)r[n]!=="*"&&(n<s.length?e=r[n]===s[n]:e=!1);e=e&&s}else if(typeof t.splice=="function")for(e=[],n=t.length;n--;)this.match(t[n])&&(e[e.length]=t[n]);else if(typeof t=="object"){e={};for(var a in t)this.match(a)&&(e[a]=t[a])}return e};var Zte=function(t,e,r){var n=new fR(t,r||/[\/\.]/);return typeof e<"u"?n.match(e):n},Kte=Zte,Yte=/[\/\+\.]/,Xte=function(t,e){function r(n){var i=Kte(n,t,Yte);return i&&i.length>=2}return e?r(e.split(";")[0]):r};const Qte=ka(Xte),Jte={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]};class ws extends Error{constructor(r,n){super(r);M(this,"isUserFacing");M(this,"file");M(this,"isRestriction",!0);this.isUserFacing=(n==null?void 0:n.isUserFacing)??!0,n!=null&&n.file&&(this.file=n.file)}}class ere{constructor(e,r){M(this,"getI18n");M(this,"getOpts");this.getI18n=r,this.getOpts=()=>{var i;const n=e();if(((i=n.restrictions)==null?void 0:i.allowedFileTypes)!=null&&!Array.isArray(n.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return n}}validateAggregateRestrictions(e,r){const{maxTotalFileSize:n,maxNumberOfFiles:i}=this.getOpts().restrictions;if(i&&e.filter(a=>!a.isGhost).length+r.length>i)throw new ws(`${this.getI18n()("youCanOnlyUploadX",{smart_count:i})}`);if(n){const s=[...e,...r].reduce((a,l)=>a+(l.size??0),0);if(s>n)throw new ws(this.getI18n()("aggregateExceedsSize",{sizeAllowed:Yl(n),size:Yl(s)}))}}validateSingleFile(e){const{maxFileSize:r,minFileSize:n,allowedFileTypes:i}=this.getOpts().restrictions;if(i&&!i.some(a=>a.includes("/")?e.type?Qte(e.type.replace(/;.*?$/,""),a):!1:a[0]==="."&&e.extension?e.extension.toLowerCase()===a.slice(1).toLowerCase():!1)){const a=i.join(", ");throw new ws(this.getI18n()("youCanOnlyUploadFileTypes",{types:a}),{file:e})}if(r&&e.size!=null&&e.size>r)throw new ws(this.getI18n()("exceedsSize",{size:Yl(r),file:e.name??this.getI18n()("unnamed")}),{file:e});if(n&&e.size!=null&&e.size<n)throw new ws(this.getI18n()("inferiorSize",{size:Yl(n)}),{file:e})}validate(e,r){r.forEach(n=>{this.validateSingleFile(n)}),this.validateAggregateRestrictions(e,r)}validateMinNumberOfFiles(e){const{minNumberOfFiles:r}=this.getOpts().restrictions;if(r&&Object.keys(e).length<r)throw new ws(this.getI18n()("youHaveToAtLeastSelectX",{smart_count:r}))}getMissingRequiredMetaFields(e){const r=new ws(this.getI18n()("missingRequiredMetaFieldOnFile",{fileName:e.name??this.getI18n()("unnamed")})),{requiredMetaFields:n}=this.getOpts().restrictions,i=[];for(const s of n)(!Object.hasOwn(e.meta,s)||e.meta[s]==="")&&i.push(s);return{missingFields:i,error:r}}}function tre(t){if(t==null&&typeof navigator<"u"&&(t=navigator.userAgent),!t)return!0;const e=/Edge\/(\d+\.\d+)/.exec(t);if(!e)return!0;const n=e[1].split(".",2),i=parseInt(n[0],10),s=parseInt(n[1],10);return i<15||i===15&&s<15063||i>18||i===18&&s>=18218}const g0={totalProgress:0,allowNewUpload:!0,error:null,recoveredState:null};var fs,ps,Np,ac,ad,od,oc,He,Ll,bb,pR,_b,mR,Nb,Cb,Sb,Eb,E1,Ab,lc,gR,vR,Wo,Cp,Qh,xR,rg,Jh;const A1=class A1{constructor(e){re(this,He);re(this,fs,Object.create(null));re(this,ps);re(this,Np);re(this,ac,Ste());re(this,ad,new Set);re(this,od,new Set);re(this,oc,new Set);M(this,"defaultLocale");M(this,"locale");M(this,"opts");M(this,"store");M(this,"i18n");M(this,"i18nArray");M(this,"scheduledAutoProceed",null);M(this,"wasOffline",!1);re(this,E1,(e,r)=>{const n=e?this.getFile(e.id):void 0;if(e==null||!n){this.log(`Not setting progress for a file that has been removed: ${e==null?void 0:e.id}`);return}if(n.progress.percentage===100){this.log(`Not setting progress for a file that has been already uploaded: ${e.id}`);return}const i={bytesTotal:r.bytesTotal,percentage:r.bytesTotal!=null&&Number.isFinite(r.bytesTotal)&&r.bytesTotal>0?Math.round(r.bytesUploaded/r.bytesTotal*100):void 0};n.progress.uploadStarted!=null?this.setFileState(e.id,{progress:{...n.progress,...i,bytesUploaded:r.bytesUploaded}}):this.setFileState(e.id,{progress:{...n.progress,...i}}),k(this,lc).call(this)});re(this,lc,Nte(()=>ce(this,He,Ab).call(this),500,{leading:!0,trailing:!0}));re(this,Wo,this.updateOnlineStatus.bind(this));re(this,Cp,new Map);this.defaultLocale=Gte;const r={id:"uppy",autoProceed:!1,allowMultipleUploadBatches:!0,debug:!1,restrictions:Jte,meta:{},onBeforeFileAdded:(i,s)=>!Object.hasOwn(s,i.id),onBeforeUpload:i=>i,store:new sR,logger:kJ,infoTimeout:5e3},n={...r,...e};this.opts={...n,restrictions:{...r.restrictions,...e==null?void 0:e.restrictions}},e!=null&&e.logger&&e.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):e!=null&&e.debug&&(this.opts.logger=jJ),this.log(`Using Core v${A1.VERSION}`),this.i18nInit(),this.store=this.opts.store,this.setState({...g0,plugins:{},files:{},currentUploads:{},capabilities:{uploadProgress:tre(),individualCancellation:!0,resumableUploads:!1},meta:{...this.opts.meta},info:[]}),ne(this,ps,new ere(()=>this.opts,()=>this.i18n)),ne(this,Np,this.store.subscribe((i,s,a)=>{this.emit("state-update",i,s,a),this.updateAll(s)})),this.opts.debug&&typeof window<"u"&&(window[this.opts.id]=this),ce(this,He,vR).call(this)}emit(e,...r){k(this,ac).emit(e,...r)}on(e,r){return k(this,ac).on(e,r),this}once(e,r){return k(this,ac).once(e,r),this}off(e,r){return k(this,ac).off(e,r),this}updateAll(e){this.iteratePlugins(r=>{r.update(e)})}setState(e){this.store.setState(e)}getState(){return this.store.getState()}patchFilesState(e){const r=this.getState().files;this.setState({files:{...r,...Object.fromEntries(Object.entries(e).map(([n,i])=>[n,{...r[n],...i}]))}})}setFileState(e,r){if(!this.getState().files[e])throw new Error(`Cant set state for ${e} (the file could have been removed)`);this.patchFilesState({[e]:r})}i18nInit(){const e=n=>this.log(`Missing i18n string: ${n}`,"error"),r=new FM([this.defaultLocale,this.opts.locale],{onMissingKey:e});this.i18n=r.translate.bind(r),this.i18nArray=r.translateArray.bind(r),this.locale=r.locale}setOptions(e){this.opts={...this.opts,...e,restrictions:{...this.opts.restrictions,...e==null?void 0:e.restrictions}},e.meta&&this.setMeta(e.meta),this.i18nInit(),e.locale&&this.iteratePlugins(r=>{r.setOptions(e)}),this.setState(void 0)}resetProgress(){const e={percentage:0,bytesUploaded:!1,uploadComplete:!1,uploadStarted:null},r={...this.getState().files},n=Object.create(null);Object.keys(r).forEach(i=>{n[i]={...r[i],progress:{...r[i].progress,...e},tus:void 0,transloadit:void 0}}),this.setState({files:n,...g0})}clear(){const{capabilities:e,currentUploads:r}=this.getState();if(Object.keys(r).length>0&&!e.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");this.setState({...g0,files:{}})}addPreProcessor(e){k(this,ad).add(e)}removePreProcessor(e){return k(this,ad).delete(e)}addPostProcessor(e){k(this,oc).add(e)}removePostProcessor(e){return k(this,oc).delete(e)}addUploader(e){k(this,od).add(e)}removeUploader(e){return k(this,od).delete(e)}setMeta(e){const r={...this.getState().meta,...e},n={...this.getState().files};Object.keys(n).forEach(i=>{n[i]={...n[i],meta:{...n[i].meta,...e}}}),this.log("Adding metadata:"),this.log(e),this.setState({meta:r,files:n})}setFileMeta(e,r){const n={...this.getState().files};if(!n[e]){this.log(`Was trying to set metadata for a file that has been removed: ${e}`);return}const i={...n[e].meta,...r};n[e]={...n[e],meta:i},this.setState({files:n})}getFile(e){return this.getState().files[e]}getFiles(){const{files:e}=this.getState();return Object.values(e)}getFilesByIds(e){return e.map(r=>this.getFile(r))}getObjectOfFilesPerState(){const{files:e,totalProgress:r,error:n}=this.getState(),i=Object.values(e),s=[],a=[],l=[],c=[],d=[],h=[],f=[],m=[],g=[];for(const y of i){const{progress:x}=y;!x.uploadComplete&&x.uploadStarted&&(s.push(y),y.isPaused||m.push(y)),x.uploadStarted||a.push(y),(x.uploadStarted||x.preprocess||x.postprocess)&&l.push(y),x.uploadStarted&&c.push(y),y.isPaused&&d.push(y),x.uploadComplete&&h.push(y),y.error&&f.push(y),(x.preprocess||x.postprocess)&&g.push(y)}return{newFiles:a,startedFiles:l,uploadStartedFiles:c,pausedFiles:d,completeFiles:h,erroredFiles:f,inProgressFiles:s,inProgressNotPausedFiles:m,processingFiles:g,isUploadStarted:c.length>0,isAllComplete:r===100&&h.length===i.length&&g.length===0,isAllErrored:!!n&&f.length===i.length,isAllPaused:s.length!==0&&d.length===s.length,isUploadInProgress:s.length>0,isSomeGhost:i.some(y=>y.isGhost)}}validateRestrictions(e,r=this.getFiles()){try{k(this,ps).validate(r,[e])}catch(n){return n}return null}validateSingleFile(e){try{k(this,ps).validateSingleFile(e)}catch(r){return r.message}return null}validateAggregateRestrictions(e){const r=this.getFiles();try{k(this,ps).validateAggregateRestrictions(r,e)}catch(n){return n.message}return null}checkIfFileAlreadyExists(e){const{files:r}=this.getState();return!!(r[e]&&!r[e].isGhost)}addFile(e){ce(this,He,_b).call(this,e);const{nextFilesState:r,validFilesToAdd:n,errors:i}=ce(this,He,Cb).call(this,[e]),s=i.filter(l=>l.isRestriction);if(ce(this,He,Ll).call(this,s),i.length>0)throw i[0];this.setState({files:r});const[a]=n;return this.emit("file-added",a),this.emit("files-added",n),this.log(`Added file: ${a.name}, ${a.id}, mime type: ${a.type}`),ce(this,He,Nb).call(this),a.id}addFiles(e){ce(this,He,_b).call(this);const{nextFilesState:r,validFilesToAdd:n,errors:i}=ce(this,He,Cb).call(this,e),s=i.filter(l=>l.isRestriction);ce(this,He,Ll).call(this,s);const a=i.filter(l=>!l.isRestriction);if(a.length>0){let l=`Multiple errors occurred while adding files:
`;if(a.forEach(c=>{l+=`
 * ${c.message}`}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:a.length}),details:l},"error",this.opts.infoTimeout),typeof AggregateError=="function")throw new AggregateError(a,l);{const c=new Error(l);throw c.errors=a,c}}this.setState({files:r}),n.forEach(l=>{this.emit("file-added",l)}),this.emit("files-added",n),n.length>5?this.log(`Added batch of ${n.length} files`):Object.values(n).forEach(l=>{this.log(`Added file: ${l.name}
 id: ${l.id}
 type: ${l.type}`)}),n.length>0&&ce(this,He,Nb).call(this)}removeFiles(e){const{files:r,currentUploads:n}=this.getState(),i={...r},s={...n},a=Object.create(null);e.forEach(h=>{r[h]&&(a[h]=r[h],delete i[h])});function l(h){return a[h]===void 0}Object.keys(s).forEach(h=>{const f=n[h].fileIDs.filter(l);if(f.length===0){delete s[h];return}const{capabilities:m}=this.getState();if(f.length!==n[h].fileIDs.length&&!m.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");s[h]={...n[h],fileIDs:f}});const c={currentUploads:s,files:i};Object.keys(i).length===0&&(c.allowNewUpload=!0,c.error=null,c.recoveredState=null),this.setState(c),k(this,lc).call(this);const d=Object.keys(a);d.forEach(h=>{this.emit("file-removed",a[h])}),d.length>5?this.log(`Removed ${d.length} files`):this.log(`Removed files: ${d.join(", ")}`)}removeFile(e){this.removeFiles([e])}pauseResume(e){if(!this.getState().capabilities.resumableUploads||this.getFile(e).progress.uploadComplete)return;const r=this.getFile(e),i=!(r.isPaused||!1);return this.setFileState(e,{isPaused:i}),this.emit("upload-pause",r,i),i}pauseAll(){const e={...this.getState().files};Object.keys(e).filter(n=>!e[n].progress.uploadComplete&&e[n].progress.uploadStarted).forEach(n=>{const i={...e[n],isPaused:!0};e[n]=i}),this.setState({files:e}),this.emit("pause-all")}resumeAll(){const e={...this.getState().files};Object.keys(e).filter(n=>!e[n].progress.uploadComplete&&e[n].progress.uploadStarted).forEach(n=>{const i={...e[n],isPaused:!1,error:null};e[n]=i}),this.setState({files:e}),this.emit("resume-all")}async retryAll(){const e=await ce(this,He,Eb).call(this);return this.emit("complete",e),e}cancelAll(){this.emit("cancel-all");const{files:e}=this.getState(),r=Object.keys(e);r.length&&this.removeFiles(r),this.setState(g0)}retryUpload(e){this.setFileState(e,{error:null,isPaused:!1}),this.emit("upload-retry",this.getFile(e));const r=ce(this,He,Qh).call(this,[e],{forceAllowNewUpload:!0});return ce(this,He,Jh).call(this,r)}logout(){this.iteratePlugins(e=>{var r,n;(n=(r=e.provider)==null?void 0:r.logout)==null||n.call(r)})}[Symbol.for("uppy test: updateTotalProgress")](){return ce(this,He,Ab).call(this)}updateOnlineStatus(){window.navigator.onLine??!0?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}getID(){return this.opts.id}use(e,...r){if(typeof e!="function"){const a=`Expected a plugin class, but got ${e===null?"null":typeof e}. Please verify that the plugin was imported and spelled correctly.`;throw new TypeError(a)}const n=new e(this,...r),i=n.id;if(!i)throw new Error("Your plugin must have an id");if(!n.type)throw new Error("Your plugin must have a type");const s=this.getPlugin(i);if(s){const a=`Already found a plugin named '${s.id}'. Tried to use: '${i}'.
Uppy plugins must have unique \`id\` options.`;throw new Error(a)}return e.VERSION&&this.log(`Using ${i} v${e.VERSION}`),n.type in k(this,fs)?k(this,fs)[n.type].push(n):k(this,fs)[n.type]=[n],n.install(),this.emit("plugin-added",n),this}getPlugin(e){for(const r of Object.values(k(this,fs))){const n=r.find(i=>i.id===e);if(n!=null)return n}}[Symbol.for("uppy test: getPlugins")](e){return k(this,fs)[e]}iteratePlugins(e){Object.values(k(this,fs)).flat(1).forEach(e)}removePlugin(e){this.log(`Removing plugin ${e.id}`),this.emit("plugin-remove",e),e.uninstall&&e.uninstall();const r=k(this,fs)[e.type],n=r.findIndex(a=>a.id===e.id);n!==-1&&r.splice(n,1);const s={plugins:{...this.getState().plugins,[e.id]:void 0}};this.setState(s)}destroy(){this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`),this.cancelAll(),k(this,Np).call(this),this.iteratePlugins(e=>{this.removePlugin(e)}),typeof window<"u"&&window.removeEventListener&&(window.removeEventListener("online",k(this,Wo)),window.removeEventListener("offline",k(this,Wo)))}hideInfo(){const{info:e}=this.getState();this.setState({info:e.slice(1)}),this.emit("info-hidden")}info(e,r="info",n=3e3){const i=typeof e=="object";this.setState({info:[...this.getState().info,{type:r,message:i?e.message:e,details:i?e.details:null}]}),setTimeout(()=>this.hideInfo(),n),this.emit("info-visible")}log(e,r){const{logger:n}=this.opts;switch(r){case"error":n.error(e);break;case"warning":n.warn(e);break;default:n.debug(e);break}}registerRequestClient(e,r){k(this,Cp).set(e,r)}getRequestClientForFile(e){if(!e.remote)throw new Error(`Tried to get RequestClient for a non-remote file ${e.id}`);const r=k(this,Cp).get(e.remote.requestClientId);if(r==null)throw new Error(`requestClientId "${e.remote.requestClientId}" not registered for file "${e.id}"`);return r}restore(e){return this.log(`Core: attempting to restore upload "${e}"`),this.getState().currentUploads[e]?ce(this,He,Jh).call(this,e):(ce(this,He,rg).call(this,e),Promise.reject(new Error("Nonexistent upload")))}[Symbol.for("uppy test: createUpload")](...e){return ce(this,He,Qh).call(this,...e)}addResultData(e,r){if(!ce(this,He,xR).call(this,e)){this.log(`Not setting result for an upload that has been removed: ${e}`);return}const{currentUploads:n}=this.getState(),i={...n[e],result:{...n[e].result,...r}};this.setState({currentUploads:{...n,[e]:i}})}async upload(){var i;(i=k(this,fs).uploader)!=null&&i.length||this.log("No uploader type plugins are used","warning");let{files:e}=this.getState();if(ce(this,He,Sb).call(this).length>0){const s=await ce(this,He,Eb).call(this);if(!(this.getFiles().filter(l=>l.progress.uploadStarted==null).length>0))return this.emit("complete",s),s;({files:e}=this.getState())}const n=this.opts.onBeforeUpload(e);return n===!1?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(n&&typeof n=="object"&&(e=n,this.setState({files:e})),Promise.resolve().then(()=>k(this,ps).validateMinNumberOfFiles(e)).catch(s=>{throw ce(this,He,Ll).call(this,[s]),s}).then(()=>{if(!ce(this,He,pR).call(this,e))throw new ws(this.i18n("missingRequiredMetaField"))}).catch(s=>{throw s}).then(async()=>{const{currentUploads:s}=this.getState(),a=Object.values(s).flatMap(h=>h.fileIDs),l=[];Object.keys(e).forEach(h=>{const f=this.getFile(h);!f.progress.uploadStarted&&a.indexOf(h)===-1&&l.push(f.id)});const c=ce(this,He,Qh).call(this,l),d=await ce(this,He,Jh).call(this,c);return this.emit("complete",d),d}).catch(s=>{throw this.emit("error",s),this.log(s,"error"),s}))}};fs=new WeakMap,ps=new WeakMap,Np=new WeakMap,ac=new WeakMap,ad=new WeakMap,od=new WeakMap,oc=new WeakMap,He=new WeakSet,Ll=function(e){for(const a of e)a.isRestriction?this.emit("restriction-failed",a.file,a):this.emit("error",a,a.file),this.log(a,"warning");const r=e.filter(a=>a.isUserFacing),n=4,i=r.slice(0,n),s=r.slice(n);i.forEach(({message:a,details:l=""})=>{this.info({message:a,details:l},"error",this.opts.infoTimeout)}),s.length>0&&this.info({message:this.i18n("additionalRestrictionsFailed",{count:s.length})})},bb=function(e){const{missingFields:r,error:n}=k(this,ps).getMissingRequiredMetaFields(e);return r.length>0?(this.setFileState(e.id,{missingRequiredMetaFields:r,error:n.message}),this.log(n.message),this.emit("restriction-failed",e,n),!1):(r.length===0&&e.missingRequiredMetaFields&&this.setFileState(e.id,{missingRequiredMetaFields:[]}),!0)},pR=function(e){let r=!0;for(const n of Object.values(e))ce(this,He,bb).call(this,n)||(r=!1);return r},_b=function(e){const{allowNewUpload:r}=this.getState();if(r===!1){const n=new ws(this.i18n("noMoreFilesAllowed"),{file:e});throw ce(this,He,Ll).call(this,[n]),n}},mR=function(e){const r=e instanceof File?{name:e.name,type:e.type,size:e.size,data:e}:e,n=lR(r),i=Hte(n,r),s=oR(i).extension,a=xee(r,this.getID()),l=r.meta||{};l.name=i,l.type=n;const c=Number.isFinite(r.data.size)?r.data.size:null;return{source:r.source||"",id:a,name:i,extension:s||"",meta:{...this.getState().meta,...l},type:n,data:r.data,progress:{percentage:0,bytesUploaded:!1,bytesTotal:c,uploadComplete:!1,uploadStarted:null},size:c,isGhost:!1,isRemote:r.isRemote||!1,remote:r.remote,preview:r.preview}},Nb=function(){this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(()=>{this.scheduledAutoProceed=null,this.upload().catch(e=>{e.isRestriction||this.log(e.stack||e.message||e)})},4))},Cb=function(e){var a;let{files:r}=this.getState(),n={...r};const i=[],s=[];for(const l of e)try{let c=ce(this,He,mR).call(this,l);const d=(a=r[c.id])==null?void 0:a.isGhost;d&&(c={...r[c.id],isGhost:!1,data:l.data},this.log(`Replaced the blob in the restored ghost file: ${c.name}, ${c.id}`));const h=this.opts.onBeforeFileAdded(c,n);if(r=this.getState().files,n={...r,...n},!h&&this.checkIfFileAlreadyExists(c.id))throw new ws(this.i18n("noDuplicates",{fileName:c.name??this.i18n("unnamed")}),{file:l});if(h===!1&&!d)throw new ws("Cannot add the file because onBeforeFileAdded returned false.",{isUserFacing:!1,file:l});typeof h=="object"&&h!==null&&(c=h),k(this,ps).validateSingleFile(c),n[c.id]=c,i.push(c)}catch(c){s.push(c)}try{k(this,ps).validateAggregateRestrictions(Object.values(r),i)}catch(l){return s.push(l),{nextFilesState:r,validFilesToAdd:[],errors:s}}return{nextFilesState:n,validFilesToAdd:i,errors:s}},Sb=function(){const{files:e}=this.getState();return Object.keys(e).filter(r=>{const n=e[r];return n.error&&(!n.missingRequiredMetaFields||n.missingRequiredMetaFields.length===0)})},Eb=async function(){const e=ce(this,He,Sb).call(this),r={...this.getState().files};if(e.forEach(i=>{r[i]={...r[i],isPaused:!1,error:null}}),this.setState({files:r,error:null}),this.emit("retry-all",this.getFilesByIds(e)),e.length===0)return{successful:[],failed:[]};const n=ce(this,He,Qh).call(this,e,{forceAllowNewUpload:!0});return ce(this,He,Jh).call(this,n)},E1=new WeakMap,Ab=function(){const e=ce(this,He,gR).call(this);let r=null;e!=null&&(r=Math.round(e*100),r>100?r=100:r<0&&(r=0)),this.emit("progress",r??0),this.setState({totalProgress:r??0})},lc=new WeakMap,gR=function(){const r=this.getFiles().filter(c=>c.progress.uploadStarted||c.progress.preprocess||c.progress.postprocess);if(r.length===0)return 0;if(r.every(c=>c.progress.uploadComplete))return 1;const n=c=>c.progress.bytesTotal!=null&&c.progress.bytesTotal!==0,i=r.filter(n),s=r.filter(c=>!n(c));if(i.every(c=>c.progress.uploadComplete)&&s.length>0&&!s.every(c=>c.progress.uploadComplete))return null;const a=i.reduce((c,d)=>c+(d.progress.bytesTotal??0),0),l=i.reduce((c,d)=>c+(d.progress.bytesUploaded||0),0);return a===0?0:l/a},vR=function(){const e=(i,s,a)=>{let l=i.message||"Unknown error";i.details&&(l+=` ${i.details}`),this.setState({error:l}),s!=null&&s.id in this.getState().files&&this.setFileState(s.id,{error:l,response:a})};this.on("error",e),this.on("upload-error",(i,s,a)=>{if(e(s,i,a),typeof s=="object"&&s.message){this.log(s.message,"error");const l=new Error(this.i18n("failedToUpload",{file:(i==null?void 0:i.name)??""}));l.isUserFacing=!0,l.details=s.message,s.details&&(l.details+=` ${s.details}`),ce(this,He,Ll).call(this,[l])}else ce(this,He,Ll).call(this,[s])});let r=null;this.on("upload-stalled",(i,s)=>{const{message:a}=i,l=s.map(c=>c.meta.name).join(", ");r||(this.info({message:a,details:l},"warning",this.opts.infoTimeout),r=setTimeout(()=>{r=null},this.opts.infoTimeout)),this.log(`${a} ${l}`.trim(),"warning")}),this.on("upload",()=>{this.setState({error:null})});const n=i=>{const s=i.filter(l=>{const c=l!=null&&this.getFile(l.id);return c||this.log(`Not setting progress for a file that has been removed: ${l==null?void 0:l.id}`),c}),a=Object.fromEntries(s.map(l=>[l.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,bytesUploaded:0,bytesTotal:l.size}}]));this.patchFilesState(a)};this.on("upload-start",n),this.on("upload-progress",k(this,E1)),this.on("upload-success",(i,s)=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}const a=this.getFile(i.id).progress;this.setFileState(i.id,{progress:{...a,postprocess:k(this,oc).size>0?{mode:"indeterminate"}:void 0,uploadComplete:!0,percentage:100,bytesUploaded:a.bytesTotal},response:s,uploadURL:s.uploadURL,isPaused:!1}),i.size==null&&this.setFileState(i.id,{size:s.bytesUploaded||a.bytesTotal}),k(this,lc).call(this)}),this.on("preprocess-progress",(i,s)=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}this.setFileState(i.id,{progress:{...this.getFile(i.id).progress,preprocess:s}})}),this.on("preprocess-complete",i=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}const s={...this.getState().files};s[i.id]={...s[i.id],progress:{...s[i.id].progress}},delete s[i.id].progress.preprocess,this.setState({files:s})}),this.on("postprocess-progress",(i,s)=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}this.setFileState(i.id,{progress:{...this.getState().files[i.id].progress,postprocess:s}})}),this.on("postprocess-complete",i=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}const s={...this.getState().files};s[i.id]={...s[i.id],progress:{...s[i.id].progress}},delete s[i.id].progress.postprocess,this.setState({files:s})}),this.on("restored",()=>{k(this,lc).call(this)}),this.on("dashboard:file-edit-complete",i=>{i&&ce(this,He,bb).call(this,i)}),typeof window<"u"&&window.addEventListener&&(window.addEventListener("online",k(this,Wo)),window.addEventListener("offline",k(this,Wo)),setTimeout(k(this,Wo),3e3))},Wo=new WeakMap,Cp=new WeakMap,Qh=function(e,r={}){const{forceAllowNewUpload:n=!1}=r,{allowNewUpload:i,currentUploads:s}=this.getState();if(!i&&!n)throw new Error("Cannot create a new upload: already uploading.");const a=Ate();return this.emit("upload",a,this.getFilesByIds(e)),this.setState({allowNewUpload:this.opts.allowMultipleUploadBatches!==!1&&this.opts.allowMultipleUploads!==!1,currentUploads:{...s,[a]:{fileIDs:e,step:0,result:{}}}}),a},xR=function(e){const{currentUploads:r}=this.getState();return r[e]},rg=function(e){const r={...this.getState().currentUploads};delete r[e],this.setState({currentUploads:r})},Jh=async function(e){const r=()=>{const{currentUploads:a}=this.getState();return a[e]};let n=r();const i=[...k(this,ad),...k(this,od),...k(this,oc)];try{for(let a=n.step||0;a<i.length&&n;a++){const l=i[a];this.setState({currentUploads:{...this.getState().currentUploads,[e]:{...n,step:a}}});const{fileIDs:c}=n;await l(c,e),n=r()}}catch(a){throw ce(this,He,rg).call(this,e),a}if(n){n.fileIDs.forEach(d=>{const h=this.getFile(d);h!=null&&h.progress.postprocess&&this.emit("postprocess-complete",h)});const a=n.fileIDs.map(d=>this.getFile(d)),l=a.filter(d=>!d.error),c=a.filter(d=>d.error);this.addResultData(e,{successful:l,failed:c,uploadID:e}),n=r()}let s;return n&&(s=n.result,ce(this,He,rg).call(this,e)),s==null&&(this.log(`Not setting result for an upload that has been removed: ${e}`),s={successful:[],failed:[],uploadID:e}),s},M(A1,"VERSION",Wte.version);let wb=A1;var rre=0;function z(t,e,r,n,i,s){e||(e={});var a,l,c=e;if("ref"in c)for(l in c={},e)l=="ref"?a=e[l]:c[l]=e[l];var d={type:t,props:c,key:r,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--rre,__i:-1,__u:0,__source:i,__self:s};if(typeof t=="function"&&(a=t.defaultProps))for(l in a)c[l]===void 0&&(c[l]=a[l]);return ht.vnode&&ht.vnode(d),d}const nre="@uppy/informer",ire="A notification and error pop-up bar for Uppy.",sre="4.3.2",are="MIT",ore="lib/index.js",lre="dist/style.min.css",cre="module",ure={build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build"},dre=["file uploader","uppy","uppy-plugin","notification","bar","ui"],hre="https://uppy.io",fre={url:"https://github.com/transloadit/uppy/issues"},pre={type:"git",url:"git+https://github.com/transloadit/uppy.git"},mre=["src","lib","dist","CHANGELOG.md"],gre={"@uppy/utils":"^6.2.2",preact:"^10.5.13"},vre={"@uppy/core":"^4.5.2"},xre={cssnano:"^7.0.7",postcss:"^8.5.6","postcss-cli":"^11.0.1",sass:"^1.89.2",typescript:"^5.8.3"},yre={name:nre,description:ire,version:sre,license:are,main:ore,style:lre,type:cre,scripts:ure,keywords:dre,homepage:hre,bugs:fre,repository:pre,files:mre,dependencies:gre,peerDependencies:vre,devDependencies:xre},X4=300;class wre extends vi{constructor(){super(...arguments);M(this,"ref",IJ())}componentWillEnter(r){this.ref.current.style.opacity="1",this.ref.current.style.transform="none",setTimeout(r,X4)}componentWillLeave(r){this.ref.current.style.opacity="0",this.ref.current.style.transform="translateY(350%)",setTimeout(r,X4)}render(){const{children:r}=this.props;return z("div",{className:"uppy-Informer-animated",ref:this.ref,children:r})}}function bre(t,e){return Object.assign(t,e)}function _re(t,e){return(t==null?void 0:t.key)??e}function Nre(t,e){const r=t._ptgLinkedRefs||(t._ptgLinkedRefs={});return r[e]||(r[e]=n=>{t.refs[e]=n})}function Mh(t){const e={};for(let r=0;r<t.length;r++)if(t[r]!=null){const n=_re(t[r],r.toString(36));e[n]=t[r]}return e}function Cre(t,e){t=t||{},e=e||{};const r=a=>Object.hasOwn(e,a)?e[a]:t[a],n={};let i=[];for(const a in t)Object.hasOwn(e,a)?i.length&&(n[a]=i,i=[]):i.push(a);const s={};for(const a in e){if(Object.hasOwn(n,a))for(let l=0;l<n[a].length;l++){const c=n[a][l];s[n[a][l]]=r(c)}s[a]=r(a)}for(let a=0;a<i.length;a++)s[i[a]]=r(i[a]);return s}const Sre=t=>t;class yR extends vi{constructor(e,r){super(e,r),this.refs={},this.state={children:Mh(Cs(Cs(this.props.children))||[])},this.performAppear=this.performAppear.bind(this),this.performEnter=this.performEnter.bind(this),this.performLeave=this.performLeave.bind(this)}componentWillMount(){this.currentlyTransitioningKeys={},this.keysToAbortLeave=[],this.keysToEnter=[],this.keysToLeave=[]}componentDidMount(){const e=this.state.children;for(const r in e)e[r]&&this.performAppear(r)}componentWillReceiveProps(e){const r=Mh(Cs(e.children)||[]),n=this.state.children;this.setState(s=>({children:Cre(s.children,r)}));let i;for(i in r)if(Object.hasOwn(r,i)){const s=n&&Object.hasOwn(n,i);r[i]&&s&&this.currentlyTransitioningKeys[i]?(this.keysToEnter.push(i),this.keysToAbortLeave.push(i)):r[i]&&!s&&!this.currentlyTransitioningKeys[i]&&this.keysToEnter.push(i)}for(i in n)if(Object.hasOwn(n,i)){const s=r&&Object.hasOwn(r,i);n[i]&&!s&&!this.currentlyTransitioningKeys[i]&&this.keysToLeave.push(i)}}componentDidUpdate(){const{keysToEnter:e}=this;this.keysToEnter=[],e.forEach(this.performEnter);const{keysToLeave:r}=this;this.keysToLeave=[],r.forEach(this.performLeave)}_finishAbort(e){const r=this.keysToAbortLeave.indexOf(e);r!==-1&&this.keysToAbortLeave.splice(r,1)}performAppear(e){this.currentlyTransitioningKeys[e]=!0;const r=this.refs[e];r!=null&&r.componentWillAppear?r.componentWillAppear(this._handleDoneAppearing.bind(this,e)):this._handleDoneAppearing(e)}_handleDoneAppearing(e){const r=this.refs[e];r!=null&&r.componentDidAppear&&r.componentDidAppear(),delete this.currentlyTransitioningKeys[e],this._finishAbort(e);const n=Mh(Cs(this.props.children)||[]);(!n||!Object.hasOwn(n,e))&&this.performLeave(e)}performEnter(e){this.currentlyTransitioningKeys[e]=!0;const r=this.refs[e];r!=null&&r.componentWillEnter?r.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e)}_handleDoneEntering(e){const r=this.refs[e];r!=null&&r.componentDidEnter&&r.componentDidEnter(),delete this.currentlyTransitioningKeys[e],this._finishAbort(e);const n=Mh(Cs(this.props.children)||[]);(!n||!Object.hasOwn(n,e))&&this.performLeave(e)}performLeave(e){if(this.keysToAbortLeave.indexOf(e)!==-1)return;this.currentlyTransitioningKeys[e]=!0;const n=this.refs[e];n!=null&&n.componentWillLeave?n.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e)}_handleDoneLeaving(e){if(this.keysToAbortLeave.indexOf(e)!==-1)return;const n=this.refs[e];n!=null&&n.componentDidLeave&&n.componentDidLeave(),delete this.currentlyTransitioningKeys[e];const i=Mh(Cs(this.props.children)||[]);if(i&&Object.hasOwn(i,e))this.performEnter(e);else{const s=bre({},this.state.children);delete s[e],this.setState({children:s})}}render({childFactory:e,transitionLeave:r,transitionName:n,transitionAppear:i,transitionEnter:s,transitionLeaveTimeout:a,transitionEnterTimeout:l,transitionAppearTimeout:c,component:d,...h},{children:f}){const m=Object.entries(f).map(([g,y])=>{if(!y)return;const x=Nre(this,g);return QM(e(y),{ref:x,key:g})}).filter(Boolean);return Qf(d,h,m)}}yR.defaultProps={component:"span",childFactory:Sre};class wR extends Ld{constructor(r,n){super(r,n);M(this,"render",r=>z("div",{className:"uppy uppy-Informer",children:z(yR,{children:r.info.map(n=>z(wre,{children:z("p",{role:"alert",children:[n.message," ",n.details&&z("span",{"aria-label":n.details,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onClick:()=>alert(`${n.message} 

 ${n.details}`),children:"?"})]})},n.message))})}));this.type="progressindicator",this.id=this.opts.id||"Informer",this.title="Informer"}install(){const{target:r}=this.opts;r&&this.mount(r,this)}}M(wR,"VERSION",yre.version);var bR={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function r(){for(var s="",a=0;a<arguments.length;a++){var l=arguments[a];l&&(s=i(s,n(l)))}return s}function n(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return r.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var a="";for(var l in s)e.call(s,l)&&s[l]&&(a=i(a,l));return a}function i(s,a){return a?s?s+" "+a:s+a:s}t.exports?(r.default=r,t.exports=r):window.classNames=r})()})(bR);var Ere=bR.exports;const Ws=ka(Ere),Are={position:"relative",width:"100%",minHeight:"100%"},kre={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"};class jre extends vi{constructor(r){super(r);M(this,"handleScroll",()=>{this.setState({offset:this.base.scrollTop})});M(this,"handleResize",()=>{this.resize()});this.focusElement=null,this.state={offset:0,height:0}}componentDidMount(){this.resize(),window.addEventListener("resize",this.handleResize)}componentWillUpdate(){this.base.contains(document.activeElement)&&(this.focusElement=document.activeElement)}componentDidUpdate(){var r;(r=this.focusElement)!=null&&r.parentNode&&document.activeElement!==this.focusElement&&this.focusElement.focus(),this.focusElement=null,this.resize()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}resize(){const{height:r}=this.state;r!==this.base.offsetHeight&&this.setState({height:this.base.offsetHeight})}render({data:r,rowHeight:n,renderRow:i,overscanCount:s=10,...a}){const{offset:l,height:c}=this.state;let d=Math.floor(l/n),h=Math.floor(c/n);s&&(d=Math.max(0,d-d%s),h+=s);const f=d+h+4,m=r.slice(d,f),g={...Are,height:r.length*n},y={...kre,top:d*n};return z("div",{onScroll:this.handleScroll,...a,children:z("div",{role:"presentation",style:g,children:z("div",{role:"presentation",style:y,children:m.map(i)})})})}}function Pre(){return z("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30",children:z("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"})})}function Q4(t,e,r,n){return t===e?t:n===0?e:t+(e-t)*2**(-n/r)}const Tre="@uppy/status-bar",Ire="A progress bar for Uppy, with many bells and whistles.",Dre="4.2.3",Ore="MIT",Mre="lib/index.js",Rre="dist/style.min.css",Fre="module",Lre={build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build"},Bre=["file uploader","uppy","uppy-plugin","progress bar","status bar","progress","upload","eta","speed"],Ure="https://uppy.io",zre={url:"https://github.com/transloadit/uppy/issues"},$re={type:"git",url:"git+https://github.com/transloadit/uppy.git"},Vre=["src","lib","dist","CHANGELOG.md"],Wre={"@transloadit/prettier-bytes":"^0.3.4","@uppy/utils":"^6.2.2",classnames:"^2.2.6",preact:"^10.5.13"},Hre={"@uppy/core":"^4.5.2"},Gre={cssnano:"^7.0.7",postcss:"^8.5.6","postcss-cli":"^11.0.1",sass:"^1.89.2",typescript:"^5.8.3"},qre={name:Tre,description:Ire,version:Dre,license:Ore,main:Mre,style:Rre,type:Fre,scripts:Lre,keywords:Bre,homepage:Ure,bugs:zre,repository:$re,files:Vre,dependencies:Wre,peerDependencies:Hre,devDependencies:Gre},Zre={strings:{uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",cancel:"Cancel",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",dataUploadedOfUnknown:"%{complete} of unknown",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",retryUpload:"Retry upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}},na={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"};function Kre(t){const e=Math.floor(t/3600)%24,r=Math.floor(t/60)%60,n=Math.floor(t%60);return{hours:e,minutes:r,seconds:n}}function Yre(t){const e=Kre(t),r=e.hours===0?"":`${e.hours}h`,n=e.minutes===0?"":`${e.hours===0?e.minutes:` ${e.minutes.toString(10).padStart(2,"0")}`}m`,i=e.hours!==0?"":`${e.minutes===0?e.seconds:` ${e.seconds.toString(10).padStart(2,"0")}`}s`;return`${r}${n}${i}`}const Xre="",J4=()=>` ${Xre} `;function Qre(t){const{newFiles:e,isUploadStarted:r,recoveredState:n,i18n:i,uploadState:s,isSomeGhost:a,startUpload:l}=t,c=Ws("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":s===na.STATE_WAITING},{"uppy-StatusBar-actionBtn--disabled":a}),d=e&&r&&!n?i("uploadXNewFiles",{smart_count:e}):i("uploadXFiles",{smart_count:e});return z("button",{type:"button",className:c,"aria-label":i("uploadXFiles",{smart_count:e}),onClick:l,disabled:a,"data-uppy-super-focusable":!0,children:d})}function Jre(t){const{i18n:e,uppy:r}=t;return z("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":e("retryUpload"),onClick:()=>r.retryAll().catch(()=>{}),"data-uppy-super-focusable":!0,"data-cy":"retry",children:[z("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10",children:z("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})}),e("retry")]})}function ene(t){const{i18n:e,uppy:r}=t;return z("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:e("cancel"),"aria-label":e("cancel"),onClick:()=>r.cancelAll(),"data-cy":"cancel","data-uppy-super-focusable":!0,children:z("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16",children:z("g",{fill:"none",fillRule:"evenodd",children:[z("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),z("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"})]})})})}function tne(t){const{isAllPaused:e,i18n:r,isAllComplete:n,resumableUploads:i,uppy:s}=t,a=r(e?"resume":"pause");function l(){if(!n){if(!i){s.cancelAll();return}if(e){s.resumeAll();return}s.pauseAll()}}return z("button",{title:a,"aria-label":a,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:l,"data-cy":"togglePauseResume","data-uppy-super-focusable":!0,children:z("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16",children:z("g",{fill:"none",fillRule:"evenodd",children:[z("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),z("path",{fill:"#FFF",d:e?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"})]})})})}function rne(t){const{i18n:e,doneButtonHandler:r}=t;return z("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:r,"data-uppy-super-focusable":!0,children:e("done")})}function _R(){return z("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14",children:z("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"})})}function nne(t){const{progress:e}=t,{value:r,mode:n,message:i}=e;return z("div",{className:"uppy-StatusBar-content",children:[z(_R,{}),n==="determinate"?`${Math.round(r*100)}%  `:"",i]})}function ine(t){const{numUploads:e,complete:r,totalUploadedSize:n,totalSize:i,totalETA:s,i18n:a}=t,l=e>1,c=Yl(n);return z("div",{className:"uppy-StatusBar-statusSecondary",children:[l&&a("filesUploadedOfTotal",{complete:r,smart_count:e}),z("span",{className:"uppy-StatusBar-additionalInfo",children:[l&&J4(),i!=null?a("dataUploadedOfTotal",{complete:c,total:Yl(i)}):a("dataUploadedOfUnknown",{complete:c}),J4(),s!=null&&a("xTimeLeft",{time:Yre(s)})]})]})}function NR(t){const{i18n:e,complete:r,numUploads:n}=t;return z("div",{className:"uppy-StatusBar-statusSecondary",children:e("filesUploadedOfTotal",{complete:r,smart_count:n})})}function sne(t){const{i18n:e,newFiles:r,startUpload:n}=t,i=Ws("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return z("div",{className:"uppy-StatusBar-statusSecondary",children:[z("div",{className:"uppy-StatusBar-statusSecondaryHint",children:e("xMoreFilesAdded",{smart_count:r})}),z("button",{type:"button",className:i,"aria-label":e("uploadXFiles",{smart_count:r}),onClick:n,children:e("upload")})]})}function ane(t){const{i18n:e,supportsUploadProgress:r,totalProgress:n,showProgressDetails:i,isUploadStarted:s,isAllComplete:a,isAllPaused:l,newFiles:c,numUploads:d,complete:h,totalUploadedSize:f,totalSize:m,totalETA:g,startUpload:y}=t,x=c&&s;if(!s||a)return null;const N=e(l?"paused":"uploading");function _(){return!l&&!x&&i?r?z(ine,{numUploads:d,complete:h,totalUploadedSize:f,totalSize:m,totalETA:g,i18n:e}):z(NR,{i18n:e,complete:h,numUploads:d}):null}return z("div",{className:"uppy-StatusBar-content",title:N,children:[l?null:z(_R,{}),z("div",{className:"uppy-StatusBar-status",children:[z("div",{className:"uppy-StatusBar-statusPrimary",children:r&&n!==0?`${N}: ${n}%`:N}),_(),x?z(sne,{i18n:e,newFiles:c,startUpload:y}):null]})]})}function one(t){const{i18n:e}=t;return z("div",{className:"uppy-StatusBar-content",role:"status",title:e("complete"),children:z("div",{className:"uppy-StatusBar-status",children:z("div",{className:"uppy-StatusBar-statusPrimary",children:[z("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11",children:z("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})}),e("complete")]})})})}function lne(t){const{error:e,i18n:r,complete:n,numUploads:i}=t;function s(){const a=`${r("uploadFailed")} 

 ${e}`;alert(a)}return z("div",{className:"uppy-StatusBar-content",title:r("uploadFailed"),children:[z("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11",children:z("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})}),z("div",{className:"uppy-StatusBar-status",children:[z("div",{className:"uppy-StatusBar-statusPrimary",children:[r("uploadFailed"),z("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":r("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:s,type:"button",children:"?"})]}),z(NR,{i18n:r,complete:n,numUploads:i})]})]})}function cy(t){const e=[];let r="indeterminate",n;for(const{progress:s}of Object.values(t)){const{preprocess:a,postprocess:l}=s;n==null&&(a||l)&&({mode:r,message:n}=a||l),(a==null?void 0:a.mode)==="determinate"&&e.push(a.value),(l==null?void 0:l.mode)==="determinate"&&e.push(l.value)}const i=e.reduce((s,a)=>s+a/e.length,0);return{mode:r,message:n,value:i}}const{STATE_ERROR:eE,STATE_WAITING:cne,STATE_PREPROCESSING:uy,STATE_UPLOADING:v0,STATE_POSTPROCESSING:dy,STATE_COMPLETE:x0}=na;function une({newFiles:t,allowNewUpload:e,isUploadInProgress:r,isAllPaused:n,resumableUploads:i,error:s,hideUploadButton:a=void 0,hidePauseResumeButton:l=!1,hideCancelButton:c=!1,hideRetryButton:d=!1,recoveredState:h,uploadState:f,totalProgress:m,files:g,supportsUploadProgress:y,hideAfterFinish:x=!1,isSomeGhost:N,doneButtonHandler:_=void 0,isUploadStarted:w,i18n:S,startUpload:E,uppy:j,isAllComplete:D,showProgressDetails:T=void 0,numUploads:O,complete:B,totalSize:P,totalETA:V,totalUploadedSize:F}){function q(){switch(f){case dy:case uy:{const _e=cy(g);return _e.mode==="determinate"?_e.value*100:m}case eE:return null;case v0:return y?m:null;default:return m}}function H(){switch(f){case dy:case uy:{const{mode:_e}=cy(g);return _e==="indeterminate"}case v0:return!y;default:return!1}}const le=q(),ae=le??100,me=!s&&t&&(!r&&!n||h)&&e&&!a,R=!c&&f!==cne&&f!==x0,G=i&&!l&&f===v0,ee=s&&!D&&!d,ie=_&&f===x0,Ee=Ws("uppy-StatusBar-progress",{"is-indeterminate":H()}),Ke=Ws("uppy-StatusBar",`is-${f}`,{"has-ghosts":N}),Ue=(()=>{switch(f){case uy:case dy:return z(nne,{progress:cy(g)});case x0:return z(one,{i18n:S});case eE:return z(lne,{error:s,i18n:S,numUploads:O,complete:B});case v0:return z(ane,{i18n:S,supportsUploadProgress:y,totalProgress:m,showProgressDetails:T,isUploadStarted:w,isAllComplete:D,isAllPaused:n,newFiles:t,numUploads:O,complete:B,totalUploadedSize:F,totalSize:P,totalETA:V,startUpload:E});default:return null}})();return!(me||ee||G||R||ie)&&!Ue||f===x0&&x?null:z("div",{className:Ke,children:[z("div",{className:Ee,style:{width:`${ae}%`},role:"progressbar","aria-label":`${ae}%`,"aria-valuetext":`${ae}%`,"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":le}),Ue,z("div",{className:"uppy-StatusBar-actions",children:[me?z(Qre,{newFiles:t,isUploadStarted:w,recoveredState:h,i18n:S,isSomeGhost:N,startUpload:E,uploadState:f}):null,ee?z(Jre,{i18n:S,uppy:j}):null,G?z(tne,{isAllPaused:n,i18n:S,isAllComplete:D,resumableUploads:i,uppy:j}):null,R?z(ene,{i18n:S,uppy:j}):null,ie?z(rne,{i18n:S,doneButtonHandler:_}):null]})]})}const dne=2e3,hne=2e3;function fne(t,e,r,n){if(t)return na.STATE_ERROR;if(e)return na.STATE_COMPLETE;if(r)return na.STATE_WAITING;let i=na.STATE_WAITING;const s=Object.keys(n);for(let a=0;a<s.length;a++){const{progress:l}=n[s[a]];if(l.uploadStarted&&!l.uploadComplete)return na.STATE_UPLOADING;l.preprocess&&(i=na.STATE_PREPROCESSING),l.postprocess&&i!==na.STATE_PREPROCESSING&&(i=na.STATE_POSTPROCESSING)}return i}const pne={hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null};var My,Ho,Go,cc,Wa,k1,CR,Sp;let mne=(My=class extends Ld{constructor(r,n){super(r,{...pne,...n});re(this,k1);re(this,Ho);re(this,Go);re(this,cc);re(this,Wa);M(this,"startUpload",()=>this.uppy.upload().catch(()=>{}));re(this,Sp,()=>{const{recoveredState:r}=this.uppy.getState();if(ne(this,cc,null),ne(this,Wa,null),r){ne(this,Go,Object.values(r.files).reduce((n,{progress:i})=>n+i.bytesUploaded,0)),this.uppy.emit("restore-confirmed");return}ne(this,Ho,performance.now()),ne(this,Go,0)});this.id=this.opts.id||"StatusBar",this.title="StatusBar",this.type="progressindicator",this.defaultLocale=Zre,this.i18nInit(),this.render=this.render.bind(this),this.install=this.install.bind(this)}render(r){const{capabilities:n,files:i,allowNewUpload:s,totalProgress:a,error:l,recoveredState:c}=r,{newFiles:d,startedFiles:h,completeFiles:f,isUploadStarted:m,isAllComplete:g,isAllPaused:y,isUploadInProgress:x,isSomeGhost:N}=this.uppy.getObjectOfFilesPerState(),_=c?Object.values(i):d,w=!!n.resumableUploads,S=n.uploadProgress!==!1;let E=null,j=0;h.every(T=>T.progress.bytesTotal!=null&&T.progress.bytesTotal!==0)?(E=0,h.forEach(T=>{E+=T.progress.bytesTotal||0,j+=T.progress.bytesUploaded||0})):h.forEach(T=>{j+=T.progress.bytesUploaded||0});const D=ce(this,k1,CR).call(this,{uploaded:j,total:E});return une({error:l,uploadState:fne(l,g,c,r.files||{}),allowNewUpload:s,totalProgress:a,totalSize:E,totalUploadedSize:j,isAllComplete:!1,isAllPaused:y,isUploadStarted:m,isUploadInProgress:x,isSomeGhost:N,recoveredState:c,complete:f.length,newFiles:_.length,numUploads:h.length,totalETA:D,files:i,i18n:this.i18n,uppy:this.uppy,startUpload:this.startUpload,doneButtonHandler:this.opts.doneButtonHandler,resumableUploads:w,supportsUploadProgress:S,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideAfterFinish:this.opts.hideAfterFinish})}onMount(){const r=this.el;UM(r)||(r.dir="ltr")}install(){const{target:r}=this.opts;r&&this.mount(r,this),this.uppy.on("upload",k(this,Sp)),ne(this,Ho,performance.now()),ne(this,Go,this.uppy.getFiles().reduce((n,i)=>n+i.progress.bytesUploaded,0))}uninstall(){this.unmount(),this.uppy.off("upload",k(this,Sp))}},Ho=new WeakMap,Go=new WeakMap,cc=new WeakMap,Wa=new WeakMap,k1=new WeakSet,CR=function(r){if(r.total==null||r.total===0)return null;const n=r.total-r.uploaded;if(n<=0)return null;k(this,Ho)??ne(this,Ho,performance.now());const i=performance.now()-k(this,Ho);if(i===0)return Math.round((k(this,Wa)??0)/100)/10;const s=r.uploaded-k(this,Go);if(ne(this,Go,r.uploaded),s<=0)return Math.round((k(this,Wa)??0)/100)/10;const a=s/i,l=k(this,cc)==null?a:Q4(a,k(this,cc),dne,i);ne(this,cc,l);const c=n/l,d=Math.max(k(this,Wa)-i,0),h=k(this,Wa)==null?c:Q4(c,d,hne,i);return ne(this,Wa,h),ne(this,Ho,performance.now()),Math.round(h/100)/10},Sp=new WeakMap,M(My,"VERSION",qre.version),My);const gne=/^data:([^/]+\/[^,;]+(?:[^,]*?))(;base64)?,([\s\S]*)$/;function vne(t,e,r){const n=gne.exec(t),i=e.mimeType??(n==null?void 0:n[1])??"plain/text";let s;if((n==null?void 0:n[2])!=null){const a=atob(decodeURIComponent(n[3])),l=new Uint8Array(a.length);for(let c=0;c<a.length;c++)l[c]=a.charCodeAt(c);s=[l]}else(n==null?void 0:n[3])!=null&&(s=[decodeURIComponent(n[3])]);return new Blob(s,{type:i})}function tE(t){return t.startsWith("blob:")}function rE(t){return t?/^[^/]+\/(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test(t):!1}function Ht(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var SR=typeof self<"u"?self:global;const tp=typeof navigator<"u",xne=tp&&typeof HTMLImageElement>"u",nE=!(typeof global>"u"||typeof process>"u"||!process.versions||!process.versions.node),ER=SR.Buffer,AR=!!ER,yne=t=>t!==void 0;function kR(t){return t===void 0||(t instanceof Map?t.size===0:Object.values(t).filter(yne).length===0)}function un(t){let e=new Error(t);throw delete e.stack,e}function iE(t){let e=function(r){let n=0;return r.ifd0.enabled&&(n+=1024),r.exif.enabled&&(n+=2048),r.makerNote&&(n+=2048),r.userComment&&(n+=1024),r.gps.enabled&&(n+=512),r.interop.enabled&&(n+=100),r.ifd1.enabled&&(n+=1024),n+2048}(t);return t.jfif.enabled&&(e+=50),t.xmp.enabled&&(e+=2e4),t.iptc.enabled&&(e+=14e3),t.icc.enabled&&(e+=6e3),e}const hy=t=>String.fromCharCode.apply(null,t),sE=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;class Ss{static from(e,r){return e instanceof this&&e.le===r?e:new Ss(e,void 0,void 0,r)}constructor(e,r=0,n,i){if(typeof i=="boolean"&&(this.le=i),Array.isArray(e)&&(e=new Uint8Array(e)),e===0)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){n===void 0&&(n=e.byteLength-r);let s=new DataView(e,r,n);this._swapDataView(s)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof Ss){n===void 0&&(n=e.byteLength-r),(r+=e.byteOffset)+n>e.byteOffset+e.byteLength&&un("Creating view outside of available memory in ArrayBuffer");let s=new DataView(e.buffer,r,n);this._swapDataView(s)}else if(typeof e=="number"){let s=new DataView(new ArrayBuffer(e));this._swapDataView(s)}else un("Invalid input argument for BufferView: "+e)}_swapArrayBuffer(e){this._swapDataView(new DataView(e))}_swapBuffer(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}_swapDataView(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}_lengthToEnd(e){return this.byteLength-e}set(e,r,n=Ss){return e instanceof DataView||e instanceof Ss?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Uint8Array||un("BufferView.set(): Invalid data argument."),this.toUint8().set(e,r),new n(this,r,e.byteLength)}subarray(e,r){return r=r||this._lengthToEnd(e),new Ss(this,e,r)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(e,r){return new Uint8Array(this.buffer,this.byteOffset+e,r)}getString(e=0,r=this.byteLength){return i=this.getUint8Array(e,r),sE?sE.decode(i):AR?Buffer.from(i).toString("utf8"):decodeURIComponent(escape(hy(i)));var i}getLatin1String(e=0,r=this.byteLength){let n=this.getUint8Array(e,r);return hy(n)}getUnicodeString(e=0,r=this.byteLength){const n=[];for(let i=0;i<r&&e+i<this.byteLength;i+=2)n.push(this.getUint16(e+i));return hy(n)}getInt8(e){return this.dataView.getInt8(e)}getUint8(e){return this.dataView.getUint8(e)}getInt16(e,r=this.le){return this.dataView.getInt16(e,r)}getInt32(e,r=this.le){return this.dataView.getInt32(e,r)}getUint16(e,r=this.le){return this.dataView.getUint16(e,r)}getUint32(e,r=this.le){return this.dataView.getUint32(e,r)}getFloat32(e,r=this.le){return this.dataView.getFloat32(e,r)}getFloat64(e,r=this.le){return this.dataView.getFloat64(e,r)}getFloat(e,r=this.le){return this.dataView.getFloat32(e,r)}getDouble(e,r=this.le){return this.dataView.getFloat64(e,r)}getUintBytes(e,r,n){switch(r){case 1:return this.getUint8(e,n);case 2:return this.getUint16(e,n);case 4:return this.getUint32(e,n);case 8:return this.getUint64&&this.getUint64(e,n)}}getUint(e,r,n){switch(r){case 8:return this.getUint8(e,n);case 16:return this.getUint16(e,n);case 32:return this.getUint32(e,n);case 64:return this.getUint64&&this.getUint64(e,n)}}toString(e){return this.dataView.toString(e,this.constructor.name)}ensureChunk(){}}function kb(t,e){un(`${t} '${e}' was not loaded, try using full build of exifr.`)}let NN=class extends Map{constructor(e){super(),this.kind=e}get(e,r){return this.has(e)||kb(this.kind,e),r&&(e in r||function(n,i){un(`Unknown ${n} '${i}'.`)}(this.kind,e),r[e].enabled||kb(this.kind,e)),super.get(e)}keyList(){return Array.from(this.keys())}};var jR=new NN("file parser"),bs=new NN("segment parser"),CN=new NN("file reader");let wne=SR.fetch;function aE(t,e){return(r=t).startsWith("data:")||r.length>1e4?Pb(t,e,"base64"):nE&&t.includes("://")?jb(t,e,"url",oE):nE?Pb(t,e,"fs"):tp?jb(t,e,"url",oE):void un("Invalid input argument");var r}async function jb(t,e,r,n){return CN.has(r)?Pb(t,e,r):n?async function(i,s){let a=await s(i);return new Ss(a)}(t,n):void un(`Parser ${r} is not loaded`)}async function Pb(t,e,r){let n=new(CN.get(r))(t,e);return await n.read(),n}const oE=t=>wne(t).then(e=>e.arrayBuffer()),Tb=t=>new Promise((e,r)=>{let n=new FileReader;n.onloadend=()=>e(n.result||new ArrayBuffer),n.onerror=r,n.readAsArrayBuffer(t)}),SN=new Map,bne=new Map,_ne=new Map,y0=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],PR=["jfif","xmp","icc","iptc","ihdr"],Ib=["tiff",...PR],sn=["ifd0","ifd1","exif","gps","interop"],w0=[...Ib,...sn],b0=["makerNote","userComment"],TR=["translateKeys","translateValues","reviveValues","multiSegment"],_0=[...TR,"sanitize","mergeOutput","silentErrors"];class IR{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class Rh extends IR{get needed(){return this.enabled||this.deps.size>0}constructor(e,r,n,i){if(super(),Ht(this,"enabled",!1),Ht(this,"skip",new Set),Ht(this,"pick",new Set),Ht(this,"deps",new Set),Ht(this,"translateKeys",!1),Ht(this,"translateValues",!1),Ht(this,"reviveValues",!1),this.key=e,this.enabled=r,this.parse=this.enabled,this.applyInheritables(i),this.canBeFiltered=sn.includes(e),this.canBeFiltered&&(this.dict=SN.get(e)),n!==void 0)if(Array.isArray(n))this.parse=this.enabled=!0,this.canBeFiltered&&n.length>0&&this.translateTagSet(n,this.pick);else if(typeof n=="object"){if(this.enabled=!0,this.parse=n.parse!==!1,this.canBeFiltered){let{pick:s,skip:a}=n;s&&s.length>0&&this.translateTagSet(s,this.pick),a&&a.length>0&&this.translateTagSet(a,this.skip)}this.applyInheritables(n)}else n===!0||n===!1?this.parse=this.enabled=n:un(`Invalid options argument: ${n}`)}applyInheritables(e){let r,n;for(r of TR)n=e[r],n!==void 0&&(this[r]=n)}translateTagSet(e,r){if(this.dict){let n,i,{tagKeys:s,tagValues:a}=this.dict;for(n of e)typeof n=="string"?(i=a.indexOf(n),i===-1&&(i=s.indexOf(Number(n))),i!==-1&&r.add(Number(s[i]))):r.add(n)}else for(let n of e)r.add(n)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,e1(this.pick,this.deps)):this.enabled&&this.pick.size>0&&e1(this.pick,this.deps)}}var zn={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},lE=new Map;class EN extends IR{static useCached(e){let r=lE.get(e);return r!==void 0||(r=new this(e),lE.set(e,r)),r}constructor(e){super(),e===!0?this.setupFromTrue():e===void 0?this.setupFromUndefined():Array.isArray(e)?this.setupFromArray(e):typeof e=="object"?this.setupFromObject(e):un(`Invalid options argument ${e}`),this.firstChunkSize===void 0&&(this.firstChunkSize=tp?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let e;for(e of y0)this[e]=zn[e];for(e of _0)this[e]=zn[e];for(e of b0)this[e]=zn[e];for(e of w0)this[e]=new Rh(e,zn[e],void 0,this)}setupFromTrue(){let e;for(e of y0)this[e]=zn[e];for(e of _0)this[e]=zn[e];for(e of b0)this[e]=!0;for(e of w0)this[e]=new Rh(e,!0,void 0,this)}setupFromArray(e){let r;for(r of y0)this[r]=zn[r];for(r of _0)this[r]=zn[r];for(r of b0)this[r]=zn[r];for(r of w0)this[r]=new Rh(r,!1,void 0,this);this.setupGlobalFilters(e,void 0,sn)}setupFromObject(e){let r;for(r of(sn.ifd0=sn.ifd0||sn.image,sn.ifd1=sn.ifd1||sn.thumbnail,Object.assign(this,e),y0))this[r]=fy(e[r],zn[r]);for(r of _0)this[r]=fy(e[r],zn[r]);for(r of b0)this[r]=fy(e[r],zn[r]);for(r of Ib)this[r]=new Rh(r,zn[r],e[r],this);for(r of sn)this[r]=new Rh(r,zn[r],e[r],this.tiff);this.setupGlobalFilters(e.pick,e.skip,sn,w0),e.tiff===!0?this.batchEnableWithBool(sn,!0):e.tiff===!1?this.batchEnableWithUserValue(sn,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,sn):typeof e.tiff=="object"&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,sn)}batchEnableWithBool(e,r){for(let n of e)this[n].enabled=r}batchEnableWithUserValue(e,r){for(let n of e){let i=r[n];this[n].enabled=i!==!1&&i!==void 0}}setupGlobalFilters(e,r,n,i=n){if(e&&e.length){for(let a of i)this[a].enabled=!1;let s=cE(e,n);for(let[a,l]of s)e1(this[a].pick,l),this[a].enabled=!0}else if(r&&r.length){let s=cE(r,n);for(let[a,l]of s)e1(this[a].skip,l)}}filterNestedSegmentTags(){let{ifd0:e,exif:r,xmp:n,iptc:i,icc:s}=this;this.makerNote?r.deps.add(37500):r.skip.add(37500),this.userComment?r.deps.add(37510):r.skip.add(37510),n.enabled||e.skip.add(700),i.enabled||e.skip.add(33723),s.enabled||e.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:e,exif:r,gps:n,interop:i}=this;i.needed&&(r.deps.add(40965),e.deps.add(40965)),r.needed&&e.deps.add(34665),n.needed&&e.deps.add(34853),this.tiff.enabled=sn.some(s=>this[s].enabled===!0)||this.makerNote||this.userComment;for(let s of sn)this[s].finalizeFilters()}get onlyTiff(){return!PR.map(e=>this[e].enabled).some(e=>e===!0)&&this.tiff.enabled}checkLoadedPlugins(){for(let e of Ib)this[e].enabled&&!bs.has(e)&&kb("segment parser",e)}}function cE(t,e){let r,n,i,s,a=[];for(i of e){for(s of(r=SN.get(i),n=[],r))(t.includes(s[0])||t.includes(s[1]))&&n.push(s[0]);n.length&&a.push([i,n])}return a}function fy(t,e){return t!==void 0?t:e!==void 0?e:void 0}function e1(t,e){for(let r of e)t.add(r)}Ht(EN,"default",zn);class Nne{constructor(e){Ht(this,"parsers",{}),Ht(this,"output",{}),Ht(this,"errors",[]),Ht(this,"pushToErrors",r=>this.errors.push(r)),this.options=EN.useCached(e)}async read(e){this.file=await function(r,n){return typeof r=="string"?aE(r,n):tp&&!xne&&r instanceof HTMLImageElement?aE(r.src,n):r instanceof Uint8Array||r instanceof ArrayBuffer||r instanceof DataView?new Ss(r):tp&&r instanceof Blob?jb(r,n,"blob",Tb):void un("Invalid input argument")}(e,this.options)}setup(){if(this.fileParser)return;let{file:e}=this,r=e.getUint16(0);for(let[n,i]of jR)if(i.canHandle(e,r))return this.fileParser=new i(this.options,this.file,this.parsers),e[n]=!0;this.file.close&&this.file.close(),un("Unknown file format")}async parse(){let{output:e,errors:r}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),r.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&r.length>0&&(e.errors=r),kR(n=e)?void 0:n;var n}async executeParsers(){let{output:e}=this;await this.fileParser.parse();let r=Object.values(this.parsers).map(async n=>{let i=await n.parse();n.assignToOutput(e,i)});this.options.silentErrors&&(r=r.map(n=>n.catch(this.pushToErrors))),await Promise.all(r)}async extractThumbnail(){this.setup();let{options:e,file:r}=this,n=bs.get("tiff",e);var i;if(r.tiff?i={start:0,type:"tiff"}:r.jpeg&&(i=await this.fileParser.getOrFindSegment("tiff")),i===void 0)return;let s=await this.fileParser.ensureSegmentChunk(i),a=this.parsers.tiff=new n(s,e,r),l=await a.extractThumbnail();return r.close&&r.close(),l}}class Eu{static findPosition(e,r){let n=e.getUint16(r+2)+2,i=typeof this.headerLength=="function"?this.headerLength(e,r,n):this.headerLength,s=r+i,a=n-i;return{offset:r,length:n,headerLength:i,start:s,size:a,end:s+a}}static parse(e,r={}){return new this(e,new EN({[this.type]:r}),e).parse()}normalizeInput(e){return e instanceof Ss?e:new Ss(e)}constructor(e,r={},n){Ht(this,"errors",[]),Ht(this,"raw",new Map),Ht(this,"handleError",i=>{if(!this.options.silentErrors)throw i;this.errors.push(i.message)}),this.chunk=this.normalizeInput(e),this.file=n,this.type=this.constructor.type,this.globalOptions=this.options=r,this.localOptions=r[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(e,r){let n=_ne.get(r),i=bne.get(r),s=SN.get(r),a=this.options[r],l=a.reviveValues&&!!n,c=a.translateValues&&!!i,d=a.translateKeys&&!!s,h={};for(let[f,m]of e)l&&n.has(f)?m=n.get(f)(m):c&&i.has(f)&&(m=this.translateValue(m,i.get(f))),d&&s.has(f)&&(f=s.get(f)||f),h[f]=m;return h}translateValue(e,r){return r[e]||r.DEFAULT||e}assignToOutput(e,r){this.assignObjectToOutput(e,this.constructor.type,r)}assignObjectToOutput(e,r,n){if(this.globalOptions.mergeOutput)return Object.assign(e,n);e[r]?Object.assign(e[r],n):e[r]=n}}Ht(Eu,"headerLength",4),Ht(Eu,"type",void 0),Ht(Eu,"multiSegment",!1),Ht(Eu,"canHandle",()=>!1);function Cne(t){return t===192||t===194||t===196||t===219||t===221||t===218||t===254}function Sne(t){return t>=224&&t<=239}function Ene(t,e,r){for(let[n,i]of bs)if(i.canHandle(t,e,r))return n}class uE extends class{constructor(e,r,n){Ht(this,"errors",[]),Ht(this,"ensureSegmentChunk",async i=>{let s=i.start,a=i.size||65536;if(this.file.chunked)if(this.file.available(s,a))i.chunk=this.file.subarray(s,a);else try{i.chunk=await this.file.readChunk(s,a)}catch(l){un(`Couldn't read segment: ${JSON.stringify(i)}. ${l.message}`)}else this.file.byteLength>s+a?i.chunk=this.file.subarray(s,a):i.size===void 0?i.chunk=this.file.subarray(s):un("Segment unreachable: "+JSON.stringify(i));return i.chunk}),this.extendOptions&&this.extendOptions(e),this.options=e,this.file=r,this.parsers=n}injectSegment(e,r){this.options[e].enabled&&this.createParser(e,r)}createParser(e,r){let n=new(bs.get(e))(r,this.options,this.file);return this.parsers[e]=n}createParsers(e){for(let r of e){let{type:n,chunk:i}=r,s=this.options[n];if(s&&s.enabled){let a=this.parsers[n];a&&a.append||a||this.createParser(n,i)}}}async readSegments(e){let r=e.map(this.ensureSegmentChunk);await Promise.all(r)}}{constructor(...e){super(...e),Ht(this,"appSegments",[]),Ht(this,"jpegSegments",[]),Ht(this,"unknownSegments",[])}static canHandle(e,r){return r===65496}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(e){e===!0?(this.findAll=!0,this.wanted=new Set(bs.keyList())):(e=e===void 0?bs.keyList().filter(r=>this.options[r].enabled):e.filter(r=>this.options[r].enabled&&bs.has(r)),this.findAll=!1,this.remaining=new Set(e),this.wanted=new Set(e)),this.unfinishedMultiSegment=!1}async findAppSegments(e=0,r){this.setupSegmentFinderArgs(r);let{file:n,findAll:i,wanted:s,remaining:a}=this;if(!i&&this.file.chunked&&(i=Array.from(s).some(l=>{let c=bs.get(l),d=this.options[l];return c.multiSegment&&d.multiSegment}),i&&await this.file.readWhole()),e=this.findAppSegmentsInRange(e,n.byteLength),!this.options.onlyTiff&&n.chunked){let l=!1;for(;a.size>0&&!l&&(n.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:c}=n,d=this.appSegments.some(h=>!this.file.available(h.offset||h.start,h.length||h.size));if(l=e>c&&!d?!await n.readNextChunk(e):!await n.readNextChunk(c),(e=this.findAppSegmentsInRange(e,n.byteLength))===void 0)return}}}findAppSegmentsInRange(e,r){r-=2;let n,i,s,a,l,c,{file:d,findAll:h,wanted:f,remaining:m,options:g}=this;for(;e<r;e++)if(d.getUint8(e)===255){if(n=d.getUint8(e+1),Sne(n)){if(i=d.getUint16(e+2),s=Ene(d,e,i),s&&f.has(s)&&(a=bs.get(s),l=a.findPosition(d,e),c=g[s],l.type=s,this.appSegments.push(l),!h&&(a.multiSegment&&c.multiSegment?(this.unfinishedMultiSegment=l.chunkNumber<l.chunkCount,this.unfinishedMultiSegment||m.delete(s)):m.delete(s),m.size===0)))break;g.recordUnknownSegments&&(l=Eu.findPosition(d,e),l.marker=n,this.unknownSegments.push(l)),e+=i+1}else if(Cne(n)){if(i=d.getUint16(e+2),n===218&&g.stopAfterSos!==!1)return;g.recordJpegSegments&&this.jpegSegments.push({offset:e,length:i,marker:n}),e+=i+1}}return e}mergeMultiSegments(){if(!this.appSegments.some(r=>r.multiSegment))return;let e=function(r,n){let i,s,a,l=new Map;for(let c=0;c<r.length;c++)i=r[c],s=i[n],l.has(s)?a=l.get(s):l.set(s,a=[]),a.push(i);return Array.from(l)}(this.appSegments,"type");this.mergedAppSegments=e.map(([r,n])=>{let i=bs.get(r,this.options);return i.handleMultiSegments?{type:r,chunk:i.handleMultiSegments(n)}:n[0]})}getSegment(e){return this.appSegments.find(r=>r.type===e)}async getOrFindSegment(e){let r=this.getSegment(e);return r===void 0&&(await this.findAppSegments(0,[e]),r=this.getSegment(e)),r}}Ht(uE,"type","jpeg"),jR.set("jpeg",uE);const Ane=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class kne extends Eu{parseHeader(){var e=this.chunk.getUint16();e===18761?this.le=!0:e===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(e,r,n=new Map){let{pick:i,skip:s}=this.options[r];i=new Set(i);let a=i.size>0,l=s.size===0,c=this.chunk.getUint16(e);e+=2;for(let d=0;d<c;d++){let h=this.chunk.getUint16(e);if(a){if(i.has(h)&&(n.set(h,this.parseTag(e,h,r)),i.delete(h),i.size===0))break}else!l&&s.has(h)||n.set(h,this.parseTag(e,h,r));e+=12}return n}parseTag(e,r,n){let{chunk:i}=this,s=i.getUint16(e+2),a=i.getUint32(e+4),l=Ane[s];if(l*a<=4?e+=8:e=i.getUint32(e+8),(s<1||s>13)&&un(`Invalid TIFF value type. block: ${n.toUpperCase()}, tag: ${r.toString(16)}, type: ${s}, offset ${e}`),e>i.byteLength&&un(`Invalid TIFF value offset. block: ${n.toUpperCase()}, tag: ${r.toString(16)}, type: ${s}, offset ${e} is outside of chunk size ${i.byteLength}`),s===1)return i.getUint8Array(e,a);if(s===2)return(c=function(d){for(;d.endsWith("\0");)d=d.slice(0,-1);return d}(c=i.getString(e,a)).trim())===""?void 0:c;var c;if(s===7)return i.getUint8Array(e,a);if(a===1)return this.parseTagValue(s,e);{let d=new(function(f){switch(f){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}(s))(a),h=l;for(let f=0;f<a;f++)d[f]=this.parseTagValue(s,e),e+=h;return d}}parseTagValue(e,r){let{chunk:n}=this;switch(e){case 1:return n.getUint8(r);case 3:return n.getUint16(r);case 4:return n.getUint32(r);case 5:return n.getUint32(r)/n.getUint32(r+4);case 6:return n.getInt8(r);case 8:return n.getInt16(r);case 9:return n.getInt32(r);case 10:return n.getInt32(r)/n.getInt32(r+4);case 11:return n.getFloat(r);case 12:return n.getDouble(r);case 13:return n.getUint32(r);default:un(`Invalid tiff type ${e}`)}}}class py extends kne{static canHandle(e,r){return e.getUint8(r+1)===225&&e.getUint32(r+4)===1165519206&&e.getUint16(r+8)===0}async parse(){this.parseHeader();let{options:e}=this;return e.ifd0.enabled&&await this.parseIfd0Block(),e.exif.enabled&&await this.safeParse("parseExifBlock"),e.gps.enabled&&await this.safeParse("parseGpsBlock"),e.interop.enabled&&await this.safeParse("parseInteropBlock"),e.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(e){let r=this[e]();return r.catch!==void 0&&(r=r.catch(this.handleError)),r}findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();let e=this.chunk.getUint16(this.ifd0Offset),r=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(r)}}parseBlock(e,r){let n=new Map;return this[r]=n,this.parseTags(e,r,n),n}async parseIfd0Block(){if(this.ifd0)return;let{file:e}=this;this.findIfd0Offset(),this.ifd0Offset<8&&un("Malformed EXIF data"),!e.chunked&&this.ifd0Offset>e.byteLength&&un(`IFD0 offset points to outside of file.
this.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${e.byteLength}`),e.tiff&&await e.ensureChunk(this.ifd0Offset,iE(this.options));let r=this.parseBlock(this.ifd0Offset,"ifd0");return r.size!==0?(this.exifOffset=r.get(34665),this.interopOffset=r.get(40965),this.gpsOffset=r.get(34853),this.xmp=r.get(700),this.iptc=r.get(33723),this.icc=r.get(34675),this.options.sanitize&&(r.delete(34665),r.delete(40965),r.delete(34853),r.delete(700),r.delete(33723),r.delete(34675)),r):void 0}async parseExifBlock(){if(this.exif||(this.ifd0||await this.parseIfd0Block(),this.exifOffset===void 0))return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,iE(this.options));let e=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=e.get(40965)),this.makerNote=e.get(37500),this.userComment=e.get(37510),this.options.sanitize&&(e.delete(40965),e.delete(37500),e.delete(37510)),this.unpack(e,41728),this.unpack(e,41729),e}unpack(e,r){let n=e.get(r);n&&n.length===1&&e.set(r,n[0])}async parseGpsBlock(){if(this.gps||(this.ifd0||await this.parseIfd0Block(),this.gpsOffset===void 0))return;let e=this.parseBlock(this.gpsOffset,"gps");return e&&e.has(2)&&e.has(4)&&(e.set("latitude",dE(...e.get(2),e.get(1))),e.set("longitude",dE(...e.get(4),e.get(3)))),e}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),this.interopOffset!==void 0||this.exif||await this.parseExifBlock(),this.interopOffset!==void 0))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(e=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||e))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),this.ifd1===void 0)return;let e=this.ifd1.get(513),r=this.ifd1.get(514);return this.chunk.getUint8Array(e,r)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let e,r,n,i={};for(r of sn)if(e=this[r],!kR(e))if(n=this.canTranslate?this.translateBlock(e,r):Object.fromEntries(e),this.options.mergeOutput){if(r==="ifd1")continue;Object.assign(i,n)}else i[r]=n;return this.makerNote&&(i.makerNote=this.makerNote),this.userComment&&(i.userComment=this.userComment),i}assignToOutput(e,r){if(this.globalOptions.mergeOutput)Object.assign(e,r);else for(let[n,i]of Object.entries(r))this.assignObjectToOutput(e,n,i)}}function dE(t,e,r,n){var i=t+e/60+r/3600;return n!=="S"&&n!=="W"||(i*=-1),i}Ht(py,"type","tiff"),Ht(py,"headerLength",10),bs.set("tiff",py);const AN={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1};Object.assign({},AN,{firstChunkSize:4e4,gps:[1,2,3,4]});Object.assign({},AN,{tiff:!1,ifd1:!0,mergeOutput:!1});const jne=Object.assign({},AN,{firstChunkSize:4e4,ifd0:[274]});async function Pne(t){let e=new Nne(jne);await e.read(t);let r=await e.parse();if(r&&r.ifd0)return r.ifd0[274]}const Tne=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let ef=!0,tf=!0;if(typeof navigator=="object"){let t=navigator.userAgent;if(t.includes("iPad")||t.includes("iPhone")){let e=t.match(/OS (\d+)_(\d+)/);if(e){let[,r,n]=e;ef=Number(r)+.1*Number(n)<13.4,tf=!1}}else if(t.includes("OS X 10")){let[,e]=t.match(/OS X 10[_.](\d+)/);ef=tf=Number(e)<15}if(t.includes("Chrome/")){let[,e]=t.match(/Chrome\/(\d+)/);ef=tf=Number(e)<81}else if(t.includes("Firefox/")){let[,e]=t.match(/Firefox\/(\d+)/);ef=tf=Number(e)<77}}async function Ine(t){let e=await Pne(t);return Object.assign({canvas:ef,css:tf},Tne[e])}class Dne extends Ss{constructor(...e){super(...e),Ht(this,"ranges",new One),this.byteLength!==0&&this.ranges.add(0,this.byteLength)}_tryExtend(e,r,n){if(e===0&&this.byteLength===0&&n){let i=new DataView(n.buffer||n,n.byteOffset,n.byteLength);this._swapDataView(i)}else{let i=e+r;if(i>this.byteLength){let{dataView:s}=this._extend(i);this._swapDataView(s)}}}_extend(e){let r;r=AR?ER.allocUnsafe(e):new Uint8Array(e);let n=new DataView(r.buffer,r.byteOffset,r.byteLength);return r.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:r,dataView:n}}subarray(e,r,n=!1){return r=r||this._lengthToEnd(e),n&&this._tryExtend(e,r),this.ranges.add(e,r),super.subarray(e,r)}set(e,r,n=!1){n&&this._tryExtend(r,e.byteLength,e);let i=super.set(e,r);return this.ranges.add(r,i.byteLength),i}async ensureChunk(e,r){this.chunked&&(this.ranges.available(e,r)||await this.readChunk(e,r))}available(e,r){return this.ranges.available(e,r)}}class One{constructor(){Ht(this,"list",[])}get length(){return this.list.length}add(e,r,n=0){let i=e+r,s=this.list.filter(a=>hE(e,a.offset,i)||hE(e,a.end,i));if(s.length>0){e=Math.min(e,...s.map(l=>l.offset)),i=Math.max(i,...s.map(l=>l.end)),r=i-e;let a=s.shift();a.offset=e,a.length=r,a.end=i,this.list=this.list.filter(l=>!s.includes(l))}else this.list.push({offset:e,length:r,end:i})}available(e,r){let n=e+r;return this.list.some(i=>i.offset<=e&&n<=i.end)}}function hE(t,e,r){return t<=e&&e<=r}class Mne extends Dne{constructor(e,r){super(0),Ht(this,"chunksRead",0),this.input=e,this.options=r}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(e=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let r=this.options.chunkSize,n=await this.readChunk(e,r);return!!n&&n.byteLength===r}async readChunk(e,r){if(this.chunksRead++,(r=this.safeWrapAddress(e,r))!==0)return this._readChunk(e,r)}safeWrapAddress(e,r){return this.size!==void 0&&e+r>this.size?Math.max(0,this.size-e):r}get nextChunkOffset(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return this.size!==void 0&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}CN.set("blob",class extends Mne{async readWhole(){this.chunked=!1;let t=await Tb(this.input);this._swapArrayBuffer(t)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(t,e){let r=e?t+e:void 0,n=this.input.slice(t,r),i=await Tb(n);return this.set(i,t,!0)}});const Rne="@uppy/thumbnail-generator",Fne="Uppy plugin that generates small previews of images to show on your upload UI.",Lne="4.2.3",Bne="MIT",Une="lib/index.js",zne="module",$ne={build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},Vne=["file uploader","uppy","uppy-plugin","thumbnail","preview","resize"],Wne="https://uppy.io",Hne={url:"https://github.com/transloadit/uppy/issues"},Gne={type:"git",url:"git+https://github.com/transloadit/uppy.git"},qne=["src","lib","dist","CHANGELOG.md"],Zne={"@uppy/utils":"^6.2.2",exifr:"^7.0.0"},Kne={jsdom:"^26.1.0","namespace-emitter":"2.0.1",typescript:"^5.8.3",vitest:"^3.2.4"},Yne={"@uppy/core":"^4.5.3"},Xne={name:Rne,description:Fne,version:Lne,license:Bne,main:Une,type:zne,scripts:$ne,keywords:Vne,homepage:Wne,bugs:Hne,repository:Gne,files:qne,dependencies:Zne,devDependencies:Kne,peerDependencies:Yne},Qne={strings:{generatingThumbnails:"Generating thumbnails..."}};function Jne(t,e,r){try{t.getContext("2d").getImageData(0,0,1,1)}catch(n){if(n.code===18)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}return t.toBlob?new Promise(n=>{t.toBlob(n,e,r)}).then(n=>{if(n===null)throw new Error("cannot read image, probably an svg with external resources");return n}):Promise.resolve().then(()=>vne(t.toDataURL(e,r),{})).then(n=>{if(n===null)throw new Error("could not extract blob, probably an old browser");return n})}function eie(t,e){let r=t.width,n=t.height;(e.deg===90||e.deg===270)&&(r=t.height,n=t.width);const i=document.createElement("canvas");i.width=r,i.height=n;const s=i.getContext("2d");return s.translate(r/2,n/2),e.canvas&&(s.rotate(e.rad),s.scale(e.scaleX,e.scaleY)),s.drawImage(t,-t.width/2,-t.height/2,t.width,t.height),i}function tie(t){const e=t.width/t.height,r=5e6,n=4096;let i=Math.floor(Math.sqrt(r*e)),s=Math.floor(r/Math.sqrt(r*e));if(i>n&&(i=n,s=Math.round(i/e)),s>n&&(s=n,i=Math.round(e*s)),t.width>i){const a=document.createElement("canvas");return a.width=i,a.height=s,a.getContext("2d").drawImage(t,0,0,i,s),a}return t}const rie={thumbnailWidth:null,thumbnailHeight:null,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,lazy:!1};class DR extends Ld{constructor(r,n){super(r,{...rie,...n});M(this,"queue");M(this,"queueProcessing");M(this,"defaultThumbnailDimension");M(this,"thumbnailType");M(this,"onFileAdded",r=>{!r.preview&&r.data&&rE(r.type)&&!r.isRemote&&this.addToQueue(r.id)});M(this,"onCancelRequest",r=>{const n=this.queue.indexOf(r.id);n!==-1&&this.queue.splice(n,1)});M(this,"onFileRemoved",r=>{const n=this.queue.indexOf(r.id);n!==-1&&this.queue.splice(n,1),r.preview&&tE(r.preview)&&URL.revokeObjectURL(r.preview)});M(this,"onRestored",()=>{this.uppy.getFiles().filter(n=>n.isRestored).forEach(n=>{(!n.preview||tE(n.preview))&&this.addToQueue(n.id)})});M(this,"onAllFilesRemoved",()=>{this.queue=[]});M(this,"waitUntilAllProcessed",r=>{r.forEach(i=>{const s=this.uppy.getFile(i);this.uppy.emit("preprocess-progress",s,{mode:"indeterminate",message:this.i18n("generatingThumbnails")})});const n=()=>{r.forEach(i=>{const s=this.uppy.getFile(i);this.uppy.emit("preprocess-complete",s)})};return new Promise(i=>{this.queueProcessing?this.uppy.once("thumbnail:all-generated",()=>{n(),i()}):(n(),i())})});if(this.type="modifier",this.id=this.opts.id||"ThumbnailGenerator",this.title="Thumbnail Generator",this.queue=[],this.queueProcessing=!1,this.defaultThumbnailDimension=200,this.thumbnailType=this.opts.thumbnailType,this.defaultLocale=Qne,this.i18nInit(),this.opts.lazy&&this.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.")}createThumbnail(r,n,i){const s=URL.createObjectURL(r.data),a=new Promise((c,d)=>{const h=new Image;h.src=s,h.addEventListener("load",()=>{URL.revokeObjectURL(s),c(h)}),h.addEventListener("error",f=>{URL.revokeObjectURL(s),d(f.error||new Error("Could not create thumbnail"))})}),l=Ine(r.data).catch(()=>1);return Promise.all([a,l]).then(([c,d])=>{const h=this.getProportionalDimensions(c,n,i,d.deg),f=eie(c,d),m=this.resizeImage(f,h.width,h.height);return Jne(m,this.thumbnailType,80)}).then(c=>URL.createObjectURL(c))}getProportionalDimensions(r,n,i,s){let a=r.width/r.height;if((s===90||s===270)&&(a=r.height/r.width),n!=null){let l=n;return r.width<n&&(l=r.width),{width:l,height:Math.round(l/a)}}if(i!=null){let l=i;return r.height<i&&(l=r.height),{width:Math.round(l*a),height:l}}return{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/a)}}resizeImage(r,n,i){let s=tie(r),a=Math.ceil(Math.log2(s.width/n));a<1&&(a=1);let l=n*2**(a-1),c=i*2**(a-1);const d=2;for(;a--;){const h=document.createElement("canvas");h.width=l,h.height=c,h.getContext("2d").drawImage(s,0,0,l,c),s=h,l=Math.round(l/d),c=Math.round(c/d)}return s}setPreviewURL(r,n){this.uppy.setFileState(r,{preview:n})}addToQueue(r){this.queue.push(r),this.queueProcessing===!1&&this.processQueue()}processQueue(){if(this.queueProcessing=!0,this.queue.length>0){const r=this.uppy.getFile(this.queue.shift());return r?this.requestThumbnail(r).catch(()=>{}).then(()=>this.processQueue()):(this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error"),Promise.resolve())}return this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated"),Promise.resolve()}requestThumbnail(r){return rE(r.type)&&!r.isRemote?this.createThumbnail(r,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then(n=>{this.setPreviewURL(r.id,n),this.uppy.log(`[ThumbnailGenerator] Generated thumbnail for ${r.id}`),this.uppy.emit("thumbnail:generated",this.uppy.getFile(r.id),n)}).catch(n=>{this.uppy.log(`[ThumbnailGenerator] Failed thumbnail for ${r.id}:`,"warning"),this.uppy.log(n,"warning"),this.uppy.emit("thumbnail:error",this.uppy.getFile(r.id),n)}):Promise.resolve()}install(){this.uppy.on("file-removed",this.onFileRemoved),this.uppy.on("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest)):(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.addPreProcessor(this.waitUntilAllProcessed)}uninstall(){this.uppy.off("file-removed",this.onFileRemoved),this.uppy.off("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest)):(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.removePreProcessor(this.waitUntilAllProcessed)}}M(DR,"VERSION",Xne.version);function fE(t){if(typeof t=="string"){const e=document.querySelectorAll(t);return e.length===0?null:Array.from(e)}return typeof t=="object"&&BM(t)?[t]:null}const _f=Array.from;function nie(t){const e=_f(t.files);return Promise.resolve(e)}function OR(t,e,r,{onSuccess:n}){t.readEntries(i=>{const s=[...e,...i];i.length?queueMicrotask(()=>{OR(t,s,r,{onSuccess:n})}):n(s)},i=>{r(i),n(e)})}function MR(t,e){return t==null?t:{kind:t.isFile?"file":t.isDirectory?"directory":void 0,name:t.name,getFile(){return new Promise((r,n)=>t.file(r,n))},async*values(){const r=t.createReader();yield*await new Promise(i=>{OR(r,[],e,{onSuccess:s=>i(s.map(a=>MR(a,e)))})})},isSameEntry:void 0}}async function*RR(t,e,r=void 0){const n=()=>`${e}/${t.name}`;if(t.kind==="file"){const i=await t.getFile();i!=null?(i.relativePath=e?n():null,yield i):r!=null&&(yield r)}else if(t.kind==="directory")for await(const i of t.values())yield*RR(i,e?n():t.name);else r!=null&&(yield r)}async function*iie(t,e){const r=await Promise.all(Array.from(t.items,async n=>{let i;return i??(i=MR(typeof n.getAsEntry=="function"?n.getAsEntry():n.webkitGetAsEntry(),e)),{fileSystemHandle:i,lastResortFile:n.getAsFile()}}));for(const{lastResortFile:n,fileSystemHandle:i}of r)if(i!=null)try{yield*RR(i,"",n)}catch(s){n!=null?yield n:e(s)}else n!=null&&(yield n)}async function sie(t,e){const r=(e==null?void 0:e.logDropError)??Function.prototype;try{const n=[];for await(const i of iie(t,r))n.push(i);return n}catch{return nie(t)}}let aie="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",FR=(t=21)=>{let e="",r=t|0;for(;r--;)e+=aie[Math.random()*64|0];return e};const oie="@uppy/dashboard",lie="Universal UI plugin for Uppy.",cie="4.4.3",uie="MIT",die="lib/index.js",hie="dist/style.min.css",fie="module",pie={build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build",test:"vitest run --silent='passed-only'","test:e2e":"vitest watch --project browser --browser.headless false"},mie=["file uploader","uppy","uppy-plugin","dashboard","ui"],gie="https://uppy.io",vie={url:"https://github.com/transloadit/uppy/issues"},xie={type:"git",url:"git+https://github.com/transloadit/uppy.git"},yie=["src","lib","dist","CHANGELOG.md"],wie={"@transloadit/prettier-bytes":"^0.3.4","@uppy/informer":"^4.3.2","@uppy/provider-views":"^4.5.2","@uppy/status-bar":"^4.2.3","@uppy/thumbnail-generator":"^4.2.2","@uppy/utils":"^6.2.2",classnames:"^2.2.6",lodash:"^4.17.21",nanoid:"^5.0.9",preact:"^10.5.13","shallow-equal":"^3.0.0"},bie={"@uppy/core":"^4.5.2","@uppy/google-drive":"^4.4.2","@uppy/status-bar":"^4.2.3","@uppy/url":"^4.3.2","@uppy/webcam":"^4.3.2","@vitest/browser":"^3.2.4",cssnano:"^7.0.7",jsdom:"^26.1.0",postcss:"^8.5.6","postcss-cli":"^11.0.1","resize-observer-polyfill":"^1.5.0",sass:"^1.89.2",typescript:"^5.8.3",vitest:"^3.2.4"},_ie={"@uppy/core":"^4.5.2"},Nie={name:oie,description:lie,version:cie,license:uie,main:die,style:hie,type:fie,scripts:pie,keywords:mie,homepage:gie,bugs:vie,repository:xie,files:yie,dependencies:wie,devDependencies:bie,peerDependencies:_ie};function Cie(){const t=document.body;return!(!("draggable"in t)||!("ondragstart"in t&&"ondrop"in t)||!("FormData"in window)||!("FileReader"in window))}class LR extends vi{constructor(){super(...arguments);M(this,"fileInput",null);M(this,"folderInput",null);M(this,"mobilePhotoFileInput",null);M(this,"mobileVideoFileInput",null);M(this,"triggerFileInputClick",()=>{var r;(r=this.fileInput)==null||r.click()});M(this,"triggerFolderInputClick",()=>{var r;(r=this.folderInput)==null||r.click()});M(this,"triggerVideoCameraInputClick",()=>{var r;(r=this.mobileVideoFileInput)==null||r.click()});M(this,"triggerPhotoCameraInputClick",()=>{var r;(r=this.mobilePhotoFileInput)==null||r.click()});M(this,"onFileInputChange",r=>{this.props.handleInputChange(r),r.currentTarget.value=""});M(this,"renderHiddenInput",(r,n)=>{var i;return z("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,webkitdirectory:r,type:"file",name:"files[]",multiple:this.props.maxNumberOfFiles!==1,onChange:this.onFileInputChange,accept:(i=this.props.allowedFileTypes)==null?void 0:i.join(", "),ref:n})});M(this,"renderHiddenCameraInput",(r,n,i)=>{const a={photo:"image/*",video:"video/*"}[r];return z("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,type:"file",name:`camera-${r}`,onChange:this.onFileInputChange,capture:n===""?"environment":n,accept:a,ref:i})});M(this,"renderMyDeviceAcquirer",()=>z("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MyDevice",children:z("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerFileInputClick,children:[z("div",{className:"uppy-DashboardTab-inner",children:z("svg",{className:"uppy-DashboardTab-iconMyDevice","aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32",children:z("path",{d:"M8.45 22.087l-1.305-6.674h17.678l-1.572 6.674H8.45zm4.975-12.412l1.083 1.765a.823.823 0 00.715.386h7.951V13.5H8.587V9.675h4.838zM26.043 13.5h-1.195v-2.598c0-.463-.336-.75-.798-.75h-8.356l-1.082-1.766A.823.823 0 0013.897 8H7.728c-.462 0-.815.256-.815.718V13.5h-.956a.97.97 0 00-.746.37.972.972 0 00-.19.81l1.724 8.565c.095.44.484.755.933.755H24c.44 0 .824-.3.929-.727l2.043-8.568a.972.972 0 00-.176-.825.967.967 0 00-.753-.38z",fill:"currentcolor","fill-rule":"evenodd"})})}),z("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("myDevice")})]})}));M(this,"renderPhotoCamera",()=>z("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobilePhotoCamera",children:z("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerPhotoCameraInputClick,children:[z("div",{className:"uppy-DashboardTab-inner",children:z("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32",children:z("path",{d:"M23.5 9.5c1.417 0 2.5 1.083 2.5 2.5v9.167c0 1.416-1.083 2.5-2.5 2.5h-15c-1.417 0-2.5-1.084-2.5-2.5V12c0-1.417 1.083-2.5 2.5-2.5h2.917l1.416-2.167C13 7.167 13.25 7 13.5 7h5c.25 0 .5.167.667.333L20.583 9.5H23.5zM16 11.417a4.706 4.706 0 00-4.75 4.75 4.704 4.704 0 004.75 4.75 4.703 4.703 0 004.75-4.75c0-2.663-2.09-4.75-4.75-4.75zm0 7.825c-1.744 0-3.076-1.332-3.076-3.074 0-1.745 1.333-3.077 3.076-3.077 1.744 0 3.074 1.333 3.074 3.076s-1.33 3.075-3.074 3.075z",fill:"#02B383","fill-rule":"nonzero"})})}),z("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("takePictureBtn")})]})}));M(this,"renderVideoCamera",()=>z("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobileVideoCamera",children:z("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerVideoCameraInputClick,children:[z("div",{className:"uppy-DashboardTab-inner",children:z("svg",{"aria-hidden":"true",width:"32",height:"32",viewBox:"0 0 32 32",children:z("path",{fill:"#FF675E",fillRule:"nonzero",d:"m21.254 14.277 2.941-2.588c.797-.313 1.243.818 1.09 1.554-.01 2.094.02 4.189-.017 6.282-.126.915-1.145 1.08-1.58.34l-2.434-2.142c-.192.287-.504 1.305-.738.468-.104-1.293-.028-2.596-.05-3.894.047-.312.381.823.426 1.069.063-.384.206-.744.362-1.09zm-12.939-3.73c3.858.013 7.717-.025 11.574.02.912.129 1.492 1.237 1.351 2.217-.019 2.412.04 4.83-.03 7.239-.17 1.025-1.166 1.59-2.029 1.429-3.705-.012-7.41.025-11.114-.019-.913-.129-1.492-1.237-1.352-2.217.018-2.404-.036-4.813.029-7.214.136-.82.83-1.473 1.571-1.454z "})})}),z("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("recordVideoBtn")})]})}));M(this,"renderBrowseButton",(r,n)=>{const i=this.props.acquirers.length;return z("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-browse",onClick:n,"data-uppy-super-focusable":i===0,children:r})});M(this,"renderDropPasteBrowseTagline",r=>{const n=this.renderBrowseButton(this.props.i18n("browseFiles"),this.triggerFileInputClick),i=this.renderBrowseButton(this.props.i18n("browseFolders"),this.triggerFolderInputClick),s=this.props.fileManagerSelectionType,a=s.charAt(0).toUpperCase()+s.slice(1);return z("div",{class:"uppy-Dashboard-AddFiles-title",children:this.props.disableLocalFiles?this.props.i18n("importFiles"):r>0?this.props.i18nArray(`dropPasteImport${a}`,{browseFiles:n,browseFolders:i,browse:n}):this.props.i18nArray(`dropPaste${a}`,{browseFiles:n,browseFolders:i,browse:n})})});M(this,"renderAcquirer",r=>{var n;return z("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":r.id,children:z("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-cy":r.id,"aria-controls":`uppy-DashboardContent-panel--${r.id}`,"aria-selected":((n=this.props.activePickerPanel)==null?void 0:n.id)===r.id,"data-uppy-super-focusable":!0,onClick:()=>this.props.showPanel(r.id),children:[z("div",{className:"uppy-DashboardTab-inner",children:r.icon()}),z("div",{className:"uppy-DashboardTab-name",children:r.name})]})})});M(this,"renderAcquirers",r=>{const n=[...r],i=n.splice(r.length-2,r.length);return z(Ps,{children:[n.map(s=>this.renderAcquirer(s)),z("span",{role:"presentation",style:{"white-space":"nowrap"},children:i.map(s=>this.renderAcquirer(s))})]})});M(this,"renderSourcesList",(r,n)=>{const{showNativePhotoCameraButton:i,showNativeVideoCameraButton:s}=this.props;let a=[];const l="myDevice";n||a.push({key:l,elements:this.renderMyDeviceAcquirer()}),i&&a.push({key:"nativePhotoCameraButton",elements:this.renderPhotoCamera()}),s&&a.push({key:"nativePhotoCameraButton",elements:this.renderVideoCamera()}),a.push(...r.map(f=>({key:f.id,elements:this.renderAcquirer(f)}))),a.length===1&&a[0].key===l&&(a=[]);const d=[...a],h=d.splice(a.length-2,a.length);return z(Ps,{children:[this.renderDropPasteBrowseTagline(a.length),z("div",{className:"uppy-Dashboard-AddFiles-list",role:"tablist",children:[d.map(({key:f,elements:m})=>z(Ps,{children:m},f)),z("span",{role:"presentation",style:{"white-space":"nowrap"},children:h.map(({key:f,elements:m})=>z(Ps,{children:m},f))})]})]})})}[Symbol.for("uppy test: disable unused locale key warning")](){this.props.i18nArray("dropPasteBoth"),this.props.i18nArray("dropPasteFiles"),this.props.i18nArray("dropPasteFolders"),this.props.i18nArray("dropPasteImportBoth"),this.props.i18nArray("dropPasteImportFiles"),this.props.i18nArray("dropPasteImportFolders")}renderPoweredByUppy(){const{i18nArray:r}=this.props,n=z("span",{children:[z("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11",children:z("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z",fillRule:"evenodd"})}),z("span",{className:"uppy-Dashboard-poweredByUppy",children:"Uppy"})]}),i=r("poweredBy",{uppy:n});return z("a",{tabIndex:-1,href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",className:"uppy-Dashboard-poweredBy",children:i})}render(){const{showNativePhotoCameraButton:r,showNativeVideoCameraButton:n,nativeCameraFacingMode:i}=this.props;return z("div",{className:"uppy-Dashboard-AddFiles",children:[this.renderHiddenInput(!1,s=>{this.fileInput=s}),this.renderHiddenInput(!0,s=>{this.folderInput=s}),r&&this.renderHiddenCameraInput("photo",i,s=>{this.mobilePhotoFileInput=s}),n&&this.renderHiddenCameraInput("video",i,s=>{this.mobileVideoFileInput=s}),this.renderSourcesList(this.props.acquirers,this.props.disableLocalFiles),z("div",{className:"uppy-Dashboard-AddFiles-info",children:[this.props.note&&z("div",{className:"uppy-Dashboard-note",children:this.props.note}),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy()]})]})}}const Sie=t=>z("div",{className:Ws("uppy-Dashboard-AddFilesPanel",t.className),"data-uppy-panelType":"AddFiles","aria-hidden":!t.showAddFilesPanel,children:[z("div",{className:"uppy-DashboardContent-bar",children:[z("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:t.i18n("addingMoreFiles")}),z("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>t.toggleAddFilesPanel(!1),children:t.i18n("back")})]}),z(LR,{...t})]});function Eie(t){const e=t.files[t.fileCardFor],r=()=>{t.uppy.emit("file-editor:cancel",e),t.closeFileEditor()};return z("div",{className:Ws("uppy-DashboardContent-panel",t.className),role:"tabpanel","data-uppy-panelType":"FileEditor",id:"uppy-DashboardContent-panel--editor",children:[z("div",{className:"uppy-DashboardContent-bar",children:[z("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:t.i18nArray("editing",{file:z("span",{className:"uppy-DashboardContent-titleFile",children:e.meta?e.meta.name:e.name})})}),z("button",{className:"uppy-DashboardContent-back",type:"button",onClick:r,children:t.i18n("cancel")}),z("button",{className:"uppy-DashboardContent-save",type:"button",onClick:t.saveFileEditor,children:t.i18n("save")})]}),z("div",{className:"uppy-DashboardContent-panelBody",children:t.editors.map(n=>t.uppy.getPlugin(n.id).render(t.state))})]})}function Aie(){return z("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25",children:z("g",{fill:"#686DE0",fillRule:"evenodd",children:[z("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z",fillRule:"nonzero"}),z("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z",fillRule:"nonzero"}),z("circle",{cx:"7.5",cy:"9.5",r:"1.5"})]})})}function kie(){return z("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:z("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF",fillRule:"nonzero"})})}function jie(){return z("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:z("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67",fillRule:"nonzero"})})}function Pie(){return z("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:z("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A",fillRule:"nonzero"})})}function Tie(){return z("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25",children:z("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469",fillRule:"nonzero"})})}function Iie(){return z("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:z("g",{fill:"#A7AFB7",fillRule:"nonzero",children:[z("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),z("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})]})})}function Die(){return z("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:z("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69",fillRule:"nonzero"})})}function kN(t){const e={color:"#838999",icon:Iie()};if(!t)return e;const r=t.split("/")[0],n=t.split("/")[1];return r==="text"?{color:"#5a5e69",icon:Die()}:r==="image"?{color:"#686de0",icon:Aie()}:r==="audio"?{color:"#068dbb",icon:kie()}:r==="video"?{color:"#19af67",icon:jie()}:r==="application"&&n==="pdf"?{color:"#e25149",icon:Pie()}:r==="application"&&["zip","x-7z-compressed","x-zip-compressed","x-rar-compressed","x-tar","x-gzip","x-apple-diskimage"].indexOf(n)!==-1?{color:"#00C469",icon:Tie()}:e}function Ko(t){const{tagName:e}=t.target;if(e==="INPUT"||e==="TEXTAREA"){t.stopPropagation();return}t.preventDefault(),t.stopPropagation()}function BR(t){const{file:e}=t;if(e.preview)return z("img",{draggable:!1,className:"uppy-Dashboard-Item-previewImg",alt:e.name,src:e.preview});const{color:r,icon:n}=kN(e.type);return z("div",{className:"uppy-Dashboard-Item-previewIconWrap",children:[z("span",{className:"uppy-Dashboard-Item-previewIcon",style:{color:r},children:n}),z("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76",children:z("rect",{fill:"#FFF",width:"58",height:"76",rx:"3",fillRule:"evenodd"})})]})}function Oie(t){const{computedMetaFields:e,requiredMetaFields:r,updateMeta:n,form:i,formState:s}=t,a={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return e.map(l=>{const c=`uppy-Dashboard-FileCard-input-${l.id}`,d=r.includes(l.id);return z("fieldset",{className:"uppy-Dashboard-FileCard-fieldset",children:[z("label",{className:"uppy-Dashboard-FileCard-label",htmlFor:c,children:l.name}),l.render!==void 0?l.render({value:s[l.id],onChange:h=>n(h,l.id),fieldCSSClasses:a,required:d,form:i.id},Qf):z("input",{className:a.text,id:c,form:i.id,type:l.type||"text",required:d,value:s[l.id],placeholder:l.placeholder,onInput:h=>n(h.target.value,l.id),"data-uppy-super-focusable":!0})]},l.id)})}function Mie(t){const{files:e,fileCardFor:r,toggleFileCard:n,saveFileCard:i,metaFields:s,requiredMetaFields:a,openFileEditor:l,i18n:c,i18nArray:d,className:h,canEditFile:f}=t,m=()=>typeof s=="function"?s(e[r]):s,g=e[r],y=m()??[],x=f(g),N={};y.forEach(T=>{N[T.id]=g.meta[T.id]??""});const[_,w]=Jg(N),S=BJ(T=>{T.preventDefault(),i(_,r)},[i,_,r]),E=(T,O)=>{w({..._,[O]:T})},j=()=>{n(!1)},[D]=Jg(()=>{const T=document.createElement("form");return T.setAttribute("tabindex","-1"),T.id=FR(),T});return xb(()=>(document.body.appendChild(D),D.addEventListener("submit",S),()=>{D.removeEventListener("submit",S),document.body.removeChild(D)}),[D,S]),z("div",{className:Ws("uppy-Dashboard-FileCard",h),"data-uppy-panelType":"FileCard",onDragOver:Ko,onDragLeave:Ko,onDrop:Ko,onPaste:Ko,children:[z("div",{className:"uppy-DashboardContent-bar",children:[z("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:d("editing",{file:z("span",{className:"uppy-DashboardContent-titleFile",children:g.meta?g.meta.name:g.name})})}),z("button",{className:"uppy-DashboardContent-back",type:"button",form:D.id,title:c("finishEditingFile"),onClick:j,children:c("cancel")})]}),z("div",{className:"uppy-Dashboard-FileCard-inner",children:[z("div",{className:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:kN(g.type).color},children:[z(BR,{file:g}),x&&z("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",onClick:T=>{S(T),l(g)},children:c("editImage")})]}),z("div",{className:"uppy-Dashboard-FileCard-info",children:z(Oie,{computedMetaFields:y,requiredMetaFields:a,updateMeta:E,form:D,formState:_})}),z("div",{className:"uppy-Dashboard-FileCard-actions",children:[z("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"submit",form:D.id,children:c("saveChanges")}),z("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onClick:j,form:D.id,children:c("cancel")})]})]})]})}function Rie(t,e){if(t===e)return!0;if(!t||!e)return!1;const r=Object.keys(t),n=Object.keys(e),i=r.length;if(n.length!==i)return!1;for(let s=0;s<i;s++){const a=r[s];if(t[a]!==e[a]||!Object.prototype.hasOwnProperty.call(e,a))return!1}return!0}function Fie(t,e="Copy the URL below"){return new Promise(r=>{const n=document.createElement("textarea");n.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),n.value=t,document.body.appendChild(n),n.select();const i=()=>{document.body.removeChild(n),window.prompt(e,t),r()};try{return document.execCommand("copy")?(document.body.removeChild(n),r()):i()}catch{return document.body.removeChild(n),i()}})}function Lie({file:t,uploadInProgressOrComplete:e,metaFields:r,canEditFile:n,i18n:i,onClick:s}){return!e&&r&&r.length>0||!e&&n(t)?z("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":i("editFileWithFilename",{file:t.meta.name}),title:i("editFileWithFilename",{file:t.meta.name}),onClick:()=>s(),children:z("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14",children:z("g",{fillRule:"evenodd",children:[z("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z",fillRule:"nonzero"}),z("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),z("path",{fillRule:"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})]})})}):null}function Bie({i18n:t,onClick:e,file:r}){return z("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":t("removeFile",{file:r.meta.name}),title:t("removeFile",{file:r.meta.name}),onClick:()=>e(),children:z("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18",children:[z("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),z("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})]})})}function Uie({file:t,uppy:e,i18n:r}){const n=i=>{Fie(t.uploadURL,r("copyLinkToClipboardFallback")).then(()=>{e.log("Link copied to clipboard."),e.info(r("copyLinkToClipboardSuccess"),"info",3e3)}).catch(e.log).then(()=>i.target.focus({preventScroll:!0}))};return z("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":r("copyLink"),title:r("copyLink"),onClick:i=>n(i),children:z("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12",children:z("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})})})}function zie(t){const{uppy:e,file:r,uploadInProgressOrComplete:n,canEditFile:i,metaFields:s,showLinkToFileUploadResult:a,showRemoveButton:l,i18n:c,toggleFileCard:d,openFileEditor:h}=t;return z("div",{className:"uppy-Dashboard-Item-actionWrapper",children:[z(Lie,{i18n:c,file:r,uploadInProgressOrComplete:n,canEditFile:i,metaFields:s,onClick:()=>{s&&s.length>0?d(!0,r.id):h(r)}}),a&&r.uploadURL?z(Uie,{file:r,uppy:e,i18n:c}):null,l?z(Bie,{i18n:c,file:r,onClick:()=>e.removeFile(r.id)}):null]})}const my="...";function UR(t,e){if(e===0)return"";if(t.length<=e)return t;if(e<=my.length+1)return`${t.slice(0,e-1)}`;const r=e-my.length,n=Math.ceil(r/2),i=Math.floor(r/2);return t.slice(0,n)+my+t.slice(-i)}const $ie=(t,e)=>(typeof e=="function"?e():e).filter(i=>i.id===t)[0].name;function zR(t){const{file:e,toggleFileCard:r,i18n:n,metaFields:i}=t,{missingRequiredMetaFields:s}=e;if(!(s!=null&&s.length))return null;const a=s.map(l=>$ie(l,i)).join(", ");return z("div",{className:"uppy-Dashboard-Item-errorMessage",children:[n("missingRequiredMetaFields",{smart_count:s.length,fields:a})," ",z("button",{type:"button",class:"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn",onClick:()=>r(!0,e.id),children:n("editFile")})]})}const Vie=t=>{const{author:e,name:r}=t.file.meta;function n(){return t.isSingleFile&&t.containerHeight>=350?90:t.containerWidth<=352?35:t.containerWidth<=576?60:e?20:30}return z("div",{className:"uppy-Dashboard-Item-name",title:r,children:UR(r,n())})},Wie=t=>{var i;const{author:e}=t.file.meta,r=(i=t.file.remote)==null?void 0:i.providerName,n="";return e?z("div",{className:"uppy-Dashboard-Item-author",children:[z("a",{href:`${e.url}?utm_source=Companion&utm_medium=referral`,target:"_blank",rel:"noopener noreferrer",children:UR(e.name,13)}),r?z(Ps,{children:[` ${n} `,r,` ${n} `]}):null]}):null},Hie=t=>t.file.size&&z("div",{className:"uppy-Dashboard-Item-statusSize",children:Yl(t.file.size)}),Gie=t=>t.file.isGhost&&z("span",{children:["  ",z("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect",type:"button",onClick:()=>t.toggleAddFilesPanel(!0),children:t.i18n("reSelect")})]}),qie=({file:t,onClick:e})=>t.error?z("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-errorDetails","aria-label":t.error,"data-microtip-position":"bottom","data-microtip-size":"medium",onClick:e,type:"button",children:"?"}):null;function Zie(t){const{file:e,i18n:r,toggleFileCard:n,metaFields:i,toggleAddFilesPanel:s,isSingleFile:a,containerHeight:l,containerWidth:c}=t;return z("div",{className:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":e.source,children:[z("div",{className:"uppy-Dashboard-Item-fileName",children:[Vie({file:e,isSingleFile:a,containerHeight:l,containerWidth:c}),z(qie,{file:e,onClick:()=>alert(e.error)})]}),z("div",{className:"uppy-Dashboard-Item-status",children:[Wie({file:e}),Hie({file:e}),Gie({file:e,toggleAddFilesPanel:s,i18n:r})]}),z(zR,{file:e,i18n:r,toggleFileCard:n,metaFields:i})]})}function Kie(t){const{file:e,i18n:r,toggleFileCard:n,metaFields:i,showLinkToFileUploadResult:s}=t,l=e.preview?"rgba(255, 255, 255, 0.5)":kN(e.type).color;return z("div",{className:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:l},children:[s&&e.uploadURL&&z("a",{className:"uppy-Dashboard-Item-previewLink",href:e.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":e.meta.name,children:z("span",{hidden:!0,children:e.meta.name})}),z(BR,{file:e}),z(zR,{file:e,i18n:r,toggleFileCard:n,metaFields:i})]})}function Yie(t){if(!t.isUploaded){if(t.error&&!t.hideRetryButton){t.uppy.retryUpload(t.file.id);return}t.resumableUploads&&!t.hidePauseResumeButton?t.uppy.pauseResume(t.file.id):t.individualCancellation&&!t.hideCancelButton&&t.uppy.removeFile(t.file.id)}}function pE(t){return t.isUploaded?t.i18n("uploadComplete"):t.error?t.i18n("retryUpload"):t.resumableUploads?t.file.isPaused?t.i18n("resumeUpload"):t.i18n("pauseUpload"):t.individualCancellation?t.i18n("cancelUpload"):""}function gy(t){return z("div",{className:"uppy-Dashboard-Item-progress",children:z("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":pE(t),title:pE(t),onClick:()=>Yie(t),children:t.children})})}function N0({children:t}){return z("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle",children:t})}function vy({progress:t}){const e=2*Math.PI*15;return z("g",{children:[z("circle",{className:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),z("circle",{className:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)",fill:"none","stroke-width":"2","stroke-dasharray":e,"stroke-dashoffset":e-e/100*t})]})}function Xie(t){return!t.file.progress.uploadStarted||t.file.progress.percentage===void 0?null:t.isUploaded?z("div",{className:"uppy-Dashboard-Item-progress",children:z("div",{className:"uppy-Dashboard-Item-progressIndicator",children:z(N0,{children:[z("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),z("polygon",{className:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"})]})})}):t.recoveredState?null:t.error&&!t.hideRetryButton?z(gy,{...t,children:z("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19",children:[z("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),z("path",{d:"M7.9 3H10v2H7.9z"}),z("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),z("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"})]})}):t.resumableUploads&&!t.hidePauseResumeButton?z(gy,{...t,children:z(N0,{children:[z(vy,{progress:t.file.progress.percentage}),t.file.isPaused?z("polygon",{className:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):z("g",{className:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)",children:[z("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),z("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})]})]})}):!t.resumableUploads&&t.individualCancellation&&!t.hideCancelButton?z(gy,{...t,children:z(N0,{children:[z(vy,{progress:t.file.progress.percentage}),z("polygon",{className:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"})]})}):z("div",{className:"uppy-Dashboard-Item-progress",children:z("div",{className:"uppy-Dashboard-Item-progressIndicator",children:z(N0,{children:z(vy,{progress:t.file.progress.percentage})})})})}class Qie extends vi{componentDidMount(){const{file:e}=this.props;e.preview||this.props.handleRequestThumbnail(e)}shouldComponentUpdate(e){return!Rie(this.props,e)}componentDidUpdate(){const{file:e}=this.props;e.preview||this.props.handleRequestThumbnail(e)}componentWillUnmount(){const{file:e}=this.props;e.preview||this.props.handleCancelThumbnail(e)}render(){const{file:e}=this.props,r=e.progress.preprocess||e.progress.postprocess,n=!!e.progress.uploadComplete&&!r&&!e.error,i=!!e.progress.uploadStarted||!!r,s=e.progress.uploadStarted&&!e.progress.uploadComplete||r,a=e.error||!1,{isGhost:l}=e;let c=(this.props.individualCancellation||!s)&&!n;n&&this.props.showRemoveButtonAfterComplete&&(c=!0);const d=Ws({"uppy-Dashboard-Item":!0,"is-inprogress":s&&!this.props.recoveredState,"is-processing":r,"is-complete":n,"is-error":!!a,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation,"is-ghost":l});return z("div",{className:d,id:`uppy_${e.id}`,role:this.props.role,children:[z("div",{className:"uppy-Dashboard-Item-preview",children:[z(Kie,{file:e,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,i18n:this.props.i18n,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),z(Xie,{uppy:this.props.uppy,file:e,error:a,isUploaded:n,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,recoveredState:this.props.recoveredState,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,i18n:this.props.i18n})]}),z("div",{className:"uppy-Dashboard-Item-fileInfoAndButtons",children:[z(Zie,{file:e,containerWidth:this.props.containerWidth,containerHeight:this.props.containerHeight,i18n:this.props.i18n,toggleAddFilesPanel:this.props.toggleAddFilesPanel,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields,isSingleFile:this.props.isSingleFile}),z(zie,{file:e,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:c,canEditFile:this.props.canEditFile,uploadInProgressOrComplete:i,toggleFileCard:this.props.toggleFileCard,openFileEditor:this.props.openFileEditor,uppy:this.props.uppy,i18n:this.props.i18n})]})]})}}function Jie(t,e){const r=[];let n=[];return t.forEach(i=>{n.length<e?n.push(i):(r.push(n),n=[i])}),n.length&&r.push(n),r}function ese({id:t,i18n:e,uppy:r,files:n,resumableUploads:i,hideRetryButton:s,hidePauseResumeButton:a,hideCancelButton:l,showLinkToFileUploadResult:c,showRemoveButtonAfterComplete:d,metaFields:h,isSingleFile:f,toggleFileCard:m,handleRequestThumbnail:g,handleCancelThumbnail:y,recoveredState:x,individualCancellation:N,itemsPerRow:_,openFileEditor:w,canEditFile:S,toggleAddFilesPanel:E,containerWidth:j,containerHeight:D}){const T=_===1?71:200,O=bN(()=>{const P=(F,q)=>Number(n[q].isGhost)-Number(n[F].isGhost),V=Object.keys(n);return x&&V.sort(P),Jie(V,_)},[n,_,x]),B=P=>z("div",{class:"uppy-Dashboard-filesInner",role:"presentation",children:P.map(V=>z(Qie,{uppy:r,id:t,i18n:e,resumableUploads:i,individualCancellation:N,hideRetryButton:s,hidePauseResumeButton:a,hideCancelButton:l,showLinkToFileUploadResult:c,showRemoveButtonAfterComplete:d,metaFields:h,recoveredState:x,isSingleFile:f,containerWidth:j,containerHeight:D,toggleFileCard:m,handleRequestThumbnail:g,handleCancelThumbnail:y,role:"listitem",openFileEditor:w,canEditFile:S,toggleAddFilesPanel:E,file:n[V]},V))},P[0]);return f?z("div",{class:"uppy-Dashboard-files",children:B(O[0])}):z(jre,{class:"uppy-Dashboard-files",role:"list",data:O,renderRow:B,rowHeight:T})}function tse({activePickerPanel:t,className:e,hideAllPanels:r,i18n:n,state:i,uppy:s}){const a=eg(null);return z("div",{className:Ws("uppy-DashboardContent-panel",e),role:"tabpanel","data-uppy-panelType":"PickerPanel",id:`uppy-DashboardContent-panel--${t.id}`,onDragOver:Ko,onDragLeave:Ko,onDrop:Ko,onPaste:Ko,children:[z("div",{className:"uppy-DashboardContent-bar",children:[z("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:n("importFrom",{name:t.name})}),z("button",{className:"uppy-DashboardContent-back",type:"button",onClick:r,children:n("cancel")})]}),z("div",{ref:a,className:"uppy-DashboardContent-panelBody",children:s.getPlugin(t.id).render(i,a.current)})]})}const ta={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete",STATE_PAUSED:"paused"};function rse(t,e,r,n={}){if(t)return ta.STATE_ERROR;if(e)return ta.STATE_COMPLETE;if(r)return ta.STATE_PAUSED;let i=ta.STATE_WAITING;const s=Object.keys(n);for(let a=0;a<s.length;a++){const{progress:l}=n[s[a]];if(l.uploadStarted&&!l.uploadComplete)return ta.STATE_UPLOADING;l.preprocess&&i!==ta.STATE_UPLOADING&&(i=ta.STATE_PREPROCESSING),l.postprocess&&i!==ta.STATE_UPLOADING&&i!==ta.STATE_PREPROCESSING&&(i=ta.STATE_POSTPROCESSING)}return i}function nse({files:t,i18n:e,isAllComplete:r,isAllErrored:n,isAllPaused:i,inProgressNotPausedFiles:s,newFiles:a,processingFiles:l}){switch(rse(n,r,i,t)){case"uploading":return e("uploadingXFiles",{smart_count:s.length});case"preprocessing":case"postprocessing":return e("processingXFiles",{smart_count:l.length});case"paused":return e("uploadPaused");case"waiting":return e("xFilesSelected",{smart_count:a.length});case"complete":return e("uploadComplete");case"error":return e("error")}}function ise(t){const{i18n:e,isAllComplete:r,hideCancelButton:n,maxNumberOfFiles:i,toggleAddFilesPanel:s,uppy:a}=t;let{allowNewUpload:l}=t;return l&&i&&(l=t.totalFileCount<t.maxNumberOfFiles),z("div",{className:"uppy-DashboardContent-bar",children:[!r&&!n?z("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>a.cancelAll(),children:e("cancel")}):z("div",{}),z("div",{className:"uppy-DashboardContent-title",children:z(nse,{...t})}),l?z("button",{className:"uppy-DashboardContent-addMore",type:"button","aria-label":e("addMoreFiles"),title:e("addMoreFiles"),onClick:()=>s(!0),children:[z("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15",children:z("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})}),z("span",{className:"uppy-DashboardContent-addMoreCaption",children:e("addMore")})]}):z("div",{})]})}const au="uppy-transition-slideDownUp",mE=250;function C0({children:t}){const[e,r]=Jg(null),[n,i]=Jg(""),s=eg(),a=eg(),l=eg(),c=()=>{i(`${au}-enter`),cancelAnimationFrame(l.current),clearTimeout(a.current),a.current=void 0,l.current=requestAnimationFrame(()=>{i(`${au}-enter ${au}-enter-active`),s.current=setTimeout(()=>{i("")},mE)})},d=()=>{i(`${au}-leave`),cancelAnimationFrame(l.current),clearTimeout(s.current),s.current=void 0,l.current=requestAnimationFrame(()=>{i(`${au}-leave ${au}-leave-active`),a.current=setTimeout(()=>{r(null),i("")},mE)})};return xb(()=>{const h=Cs(t)[0];e!==h&&(h&&!e?c():e&&!h&&!a.current&&d(),r(h))},[t,e]),xb(()=>()=>{clearTimeout(s.current),clearTimeout(a.current),cancelAnimationFrame(l.current)},[]),e?QM(e,{className:Ws(n,e.props.className)}):null}const gE=900,vE=700,xy=576,xE=330;function sse(t){const e=t.totalFileCount===0,r=t.totalFileCount===1,n=t.containerWidth>xy,i=t.containerHeight>xE,s=Ws({"uppy-Dashboard":!0,"uppy-Dashboard--isDisabled":t.disabled,"uppy-Dashboard--animateOpenClose":t.animateOpenClose,"uppy-Dashboard--isClosing":t.isClosing,"uppy-Dashboard--isDraggingOver":t.isDraggingOver,"uppy-Dashboard--modal":!t.inline,"uppy-size--md":t.containerWidth>xy,"uppy-size--lg":t.containerWidth>vE,"uppy-size--xl":t.containerWidth>gE,"uppy-size--height-md":t.containerHeight>xE,"uppy-Dashboard--isAddFilesPanelVisible":t.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":t.areInsidesReadyToBeVisible,"uppy-Dashboard--singleFile":t.singleFileFullScreen&&r&&i});let a=1;t.containerWidth>gE?a=5:t.containerWidth>vE?a=4:t.containerWidth>xy&&(a=3);const l=t.showSelectedFiles&&!e,c=t.recoveredState?Object.keys(t.recoveredState.files).length:null,d=t.files?Object.keys(t.files).filter(m=>t.files[m].isGhost).length:0,h=()=>d>0?t.i18n("recoveredXFiles",{smart_count:d}):t.i18n("recoveredAllFiles");return z("div",{className:s,"data-uppy-theme":t.theme,"data-uppy-num-acquirers":t.acquirers.length,"data-uppy-drag-drop-supported":!t.disableLocalFiles&&Cie(),"aria-hidden":t.inline?"false":t.isHidden,"aria-disabled":t.disabled,"aria-label":t.inline?t.i18n("dashboardTitle"):t.i18n("dashboardWindowTitle"),onPaste:t.handlePaste,onDragOver:t.handleDragOver,onDragLeave:t.handleDragLeave,onDrop:t.handleDrop,children:[z("div",{"aria-hidden":"true",className:"uppy-Dashboard-overlay",tabIndex:-1,onClick:t.handleClickOutside}),z("div",{className:"uppy-Dashboard-inner",role:t.inline?void 0:"dialog",style:{width:t.inline&&t.width?t.width:"",height:t.inline&&t.height?t.height:""},children:[t.inline?null:z("button",{className:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":t.i18n("closeModal"),title:t.i18n("closeModal"),onClick:t.closeModal,children:z("span",{"aria-hidden":"true",children:""})}),z("div",{className:"uppy-Dashboard-innerWrap",children:[z("div",{className:"uppy-Dashboard-dropFilesHereHint",children:t.i18n("dropHint")}),l&&z(ise,{...t}),c&&z("div",{className:"uppy-Dashboard-serviceMsg",children:[z("svg",{className:"uppy-Dashboard-serviceMsg-icon","aria-hidden":"true",focusable:"false",width:"21",height:"16",viewBox:"0 0 24 19",children:z("g",{transform:"translate(0 -1)",fill:"none",fillRule:"evenodd",children:[z("path",{d:"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z",fill:"#FFD300"}),z("path",{fill:"#000",d:"M11 6h2l-.3 8h-1.4z"}),z("circle",{fill:"#000",cx:"12",cy:"17",r:"1"})]})}),z("strong",{className:"uppy-Dashboard-serviceMsg-title",children:t.i18n("sessionRestored")}),z("div",{className:"uppy-Dashboard-serviceMsg-text",children:h()})]}),l?z(ese,{id:t.id,i18n:t.i18n,uppy:t.uppy,files:t.files,resumableUploads:t.resumableUploads,hideRetryButton:t.hideRetryButton,hidePauseResumeButton:t.hidePauseResumeButton,hideCancelButton:t.hideCancelButton,showLinkToFileUploadResult:t.showLinkToFileUploadResult,showRemoveButtonAfterComplete:t.showRemoveButtonAfterComplete,metaFields:t.metaFields,toggleFileCard:t.toggleFileCard,handleRequestThumbnail:t.handleRequestThumbnail,handleCancelThumbnail:t.handleCancelThumbnail,recoveredState:t.recoveredState,individualCancellation:t.individualCancellation,openFileEditor:t.openFileEditor,canEditFile:t.canEditFile,toggleAddFilesPanel:t.toggleAddFilesPanel,isSingleFile:r,itemsPerRow:a,containerWidth:t.containerWidth,containerHeight:t.containerHeight}):z(LR,{i18n:t.i18n,i18nArray:t.i18nArray,acquirers:t.acquirers,handleInputChange:t.handleInputChange,maxNumberOfFiles:t.maxNumberOfFiles,allowedFileTypes:t.allowedFileTypes,showNativePhotoCameraButton:t.showNativePhotoCameraButton,showNativeVideoCameraButton:t.showNativeVideoCameraButton,nativeCameraFacingMode:t.nativeCameraFacingMode,showPanel:t.showPanel,activePickerPanel:t.activePickerPanel,disableLocalFiles:t.disableLocalFiles,fileManagerSelectionType:t.fileManagerSelectionType,note:t.note,proudlyDisplayPoweredByUppy:t.proudlyDisplayPoweredByUppy}),z(C0,{children:t.showAddFilesPanel?z(Sie,{...t,isSizeMD:n},"AddFiles"):null}),z(C0,{children:t.fileCardFor?z(Mie,{...t},"FileCard"):null}),z(C0,{children:t.activePickerPanel?z(tse,{...t},"Picker"):null}),z(C0,{children:t.showFileEditor?z(Eie,{...t},"Editor"):null}),z("div",{className:"uppy-Dashboard-progressindicators",children:t.progressindicators.map(m=>t.uppy.getPlugin(m.id).render(t.state))})]})]})]})}const ase={strings:{closeModal:"Close Modal",addMoreFiles:"Add more files",addingMoreFiles:"Adding more files",importFrom:"Import from %{name}",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard.",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",back:"Back",removeFile:"Remove file",editFile:"Edit file",editImage:"Edit image",editing:"Editing %{file}",error:"Error",finishEditingFile:"Finish editing file",saveChanges:"Save changes",myDevice:"My Device",dropHint:"Drop your files here",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},poweredBy:"Powered by %{uppy}",addMore:"Add more",editFileWithFilename:"Edit file %{file}",save:"Save",cancel:"Cancel",dropPasteFiles:"Drop files here or %{browseFiles}",dropPasteFolders:"Drop files here or %{browseFolders}",dropPasteBoth:"Drop files here, %{browseFiles} or %{browseFolders}",dropPasteImportFiles:"Drop files here, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, %{browseFolders} or import from:",dropPasteImportBoth:"Drop files here, %{browseFiles}, %{browseFolders} or import from:",importFiles:"Import files from:",browseFiles:"browse files",browseFolders:"browse folders",recoveredXFiles:{0:"We could not fully recover 1 file. Please re-select it and resume the upload.",1:"We could not fully recover %{smart_count} files. Please re-select them and resume the upload."},recoveredAllFiles:"We restored all files. You can now resume the upload.",sessionRestored:"Session restored",reSelect:"Re-select",missingRequiredMetaFields:{0:"Missing required meta field: %{fields}.",1:"Missing required meta fields: %{fields}."},takePictureBtn:"Take Picture",recordVideoBtn:"Record Video"}},$R=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])'];function VR(t,e){if(e){const r=t.querySelector(`[data-uppy-paneltype="${e}"]`);if(r)return r}return t}function ose(){let t=!1;return vte((r,n)=>{const i=VR(r,n),s=i.contains(document.activeElement);if(s&&t)return;const a=i.querySelector("[data-uppy-super-focusable]");if(!(s&&!a))if(a)a.focus({preventScroll:!0}),t=!0;else{const l=i.querySelector($R);l==null||l.focus({preventScroll:!0}),t=!1}},260)}function yE(t,e){const r=e[0];r&&(r.focus(),t.preventDefault())}function lse(t,e){const r=e[e.length-1];r&&(r.focus(),t.preventDefault())}function cse(t){return t.contains(document.activeElement)}function WR(t,e,r){const n=VR(r,e),i=_f(n.querySelectorAll($R)),s=i.indexOf(document.activeElement);cse(n)?t.shiftKey&&s===0?lse(t,i):!t.shiftKey&&s===i.length-1&&yE(t,i):yE(t,i)}function use(t,e,r){e===null||WR(t,e,r)}const wE=9,dse=27;function bE(){const t={};return t.promise=new Promise((e,r)=>{t.resolve=e,t.reject=r}),t}const hse={target:"body",metaFields:[],thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,defaultPickerIcon:Pre,showLinkToFileUploadResult:!1,showProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,note:null,singleFileFullScreen:!0,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,showNativePhotoCameraButton:!1,showNativeVideoCameraButton:!1,theme:"light",autoOpen:null,disabled:!1,disableLocalFiles:!1,nativeCameraFacingMode:"",onDragLeave:()=>{},onDragOver:()=>{},onDrop:()=>{},plugins:[],doneButtonHandler:void 0,onRequestCloseModal:null,inline:!1,animateOpenClose:!0,browserBackButtonClose:!1,closeAfterFinish:!1,closeModalOnClickOutside:!1,disablePageScrollWhenModalOpen:!0,trigger:null,width:750,height:550};var Ry,ld,uc,Ep,cd,j1,P1,T1,dc,I1,D1,ud,dn,Db,Ob,HR,Mb,Rb,GR;let fse=(Ry=class extends Ld{constructor(r,n){var s;const i=(n==null?void 0:n.autoOpen)??null;super(r,{...hse,...n,autoOpen:i});re(this,dn);re(this,ld);M(this,"modalName",`uppy-Dashboard-${FR()}`);M(this,"superFocus",ose());M(this,"ifFocusedOnUppyRecently",!1);M(this,"dashboardIsDisabled");M(this,"savedScrollPosition");M(this,"savedActiveElement");M(this,"resizeObserver");M(this,"darkModeMediaQuery");M(this,"makeDashboardInsidesVisibleAnywayTimeout");M(this,"removeTarget",r=>{const i=this.getPluginState().targets.filter(s=>s.id!==r.id);this.setPluginState({targets:i})});M(this,"addTarget",r=>{const n=r.id||r.constructor.name,i=r.title||n,s=r.type;if(s!=="acquirer"&&s!=="progressindicator"&&s!=="editor")return this.uppy.log("Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor","error"),null;const a={id:n,name:i,type:s},c=this.getPluginState().targets.slice();return c.push(a),this.setPluginState({targets:c}),this.el});M(this,"hideAllPanels",()=>{var i;const r=this.getPluginState(),n={activePickerPanel:void 0,showAddFilesPanel:!1,activeOverlayType:null,fileCardFor:null,showFileEditor:!1};r.activePickerPanel===n.activePickerPanel&&r.showAddFilesPanel===n.showAddFilesPanel&&r.showFileEditor===n.showFileEditor&&r.activeOverlayType===n.activeOverlayType||(this.setPluginState(n),this.uppy.emit("dashboard:close-panel",(i=r.activePickerPanel)==null?void 0:i.id))});M(this,"showPanel",r=>{const{targets:n}=this.getPluginState(),i=n.find(s=>s.type==="acquirer"&&s.id===r);this.setPluginState({activePickerPanel:i,activeOverlayType:"PickerPanel"}),this.uppy.emit("dashboard:show-panel",r)});M(this,"canEditFile",r=>{const{targets:n}=this.getPluginState();return k(this,dc).call(this,n).some(s=>this.uppy.getPlugin(s.id).canEditFile(r))});M(this,"openFileEditor",r=>{const{targets:n}=this.getPluginState(),i=k(this,dc).call(this,n);this.setPluginState({showFileEditor:!0,fileCardFor:r.id||null,activeOverlayType:"FileEditor"}),i.forEach(s=>{this.uppy.getPlugin(s.id).selectFile(r)})});M(this,"closeFileEditor",()=>{const{metaFields:r}=this.getPluginState();r&&r.length>0?this.setPluginState({showFileEditor:!1,activeOverlayType:"FileCard"}):this.setPluginState({showFileEditor:!1,fileCardFor:null,activeOverlayType:"AddFiles"})});M(this,"saveFileEditor",()=>{const{targets:r}=this.getPluginState();k(this,dc).call(this,r).forEach(i=>{this.uppy.getPlugin(i.id).save()}),this.closeFileEditor()});M(this,"openModal",()=>{const{promise:r,resolve:n}=bE();if(this.savedScrollPosition=window.pageYOffset,this.savedActiveElement=document.activeElement,this.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),this.opts.animateOpenClose&&this.getPluginState().isClosing){const i=()=>{this.setPluginState({isHidden:!1}),this.el.removeEventListener("animationend",i,!1),n()};this.el.addEventListener("animationend",i,!1)}else this.setPluginState({isHidden:!1}),n();return this.opts.browserBackButtonClose&&this.updateBrowserHistory(),document.addEventListener("keydown",this.handleKeyDownInModal),this.uppy.emit("dashboard:modal-open"),r});M(this,"closeModal",r=>{var c;const n=(r==null?void 0:r.manualClose)??!0,{isHidden:i,isClosing:s}=this.getPluginState();if(i||s)return;const{promise:a,resolve:l}=bE();if(this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.opts.animateOpenClose){this.setPluginState({isClosing:!0});const d=()=>{this.setPluginState({isHidden:!0,isClosing:!1}),this.superFocus.cancel(),this.savedActiveElement.focus(),this.el.removeEventListener("animationend",d,!1),l()};this.el.addEventListener("animationend",d,!1)}else this.setPluginState({isHidden:!0}),this.superFocus.cancel(),this.savedActiveElement.focus(),l();return document.removeEventListener("keydown",this.handleKeyDownInModal),n&&this.opts.browserBackButtonClose&&(c=history.state)!=null&&c[this.modalName]&&history.back(),this.uppy.emit("dashboard:modal-closed"),a});M(this,"isModalOpen",()=>!this.getPluginState().isHidden||!1);M(this,"requestCloseModal",()=>this.opts.onRequestCloseModal?this.opts.onRequestCloseModal():this.closeModal());M(this,"setDarkModeCapability",r=>{const{capabilities:n}=this.uppy.getState();this.uppy.setState({capabilities:{...n,darkMode:r}})});M(this,"handleSystemDarkModeChange",r=>{const n=r.matches;this.uppy.log(`[Dashboard] Dark mode is ${n?"on":"off"}`),this.setDarkModeCapability(n)});M(this,"toggleFileCard",(r,n)=>{const i=this.uppy.getFile(n);r?this.uppy.emit("dashboard:file-edit-start",i):this.uppy.emit("dashboard:file-edit-complete",i),this.setPluginState({fileCardFor:r?n:null,activeOverlayType:r?"FileCard":null})});M(this,"toggleAddFilesPanel",r=>{this.setPluginState({showAddFilesPanel:r,activeOverlayType:r?"AddFiles":null})});M(this,"addFiles",r=>{const n=r.map(i=>({source:this.id,name:i.name,type:i.type,data:i,meta:{relativePath:i.relativePath||i.webkitRelativePath||null}}));try{this.uppy.addFiles(n)}catch(i){this.uppy.log(i)}});M(this,"startListeningToResize",()=>{this.resizeObserver=new ResizeObserver(r=>{const n=r[0],{width:i,height:s}=n.contentRect;this.setPluginState({containerWidth:i,containerHeight:s,areInsidesReadyToBeVisible:!0})}),this.resizeObserver.observe(this.el.querySelector(".uppy-Dashboard-inner")),this.makeDashboardInsidesVisibleAnywayTimeout=setTimeout(()=>{const r=this.getPluginState(),n=!this.opts.inline&&r.isHidden;!r.areInsidesReadyToBeVisible&&!n&&(this.uppy.log("[Dashboard] resize event didnt fire on time: defaulted to mobile layout","warning"),this.setPluginState({areInsidesReadyToBeVisible:!0}))},1e3)});M(this,"stopListeningToResize",()=>{this.resizeObserver.disconnect(),clearTimeout(this.makeDashboardInsidesVisibleAnywayTimeout)});M(this,"recordIfFocusedOnUppyRecently",r=>{this.el.contains(r.target)?this.ifFocusedOnUppyRecently=!0:(this.ifFocusedOnUppyRecently=!1,this.superFocus.cancel())});M(this,"disableInteractiveElements",r=>{const n=["a[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])",'[role="button"]:not([disabled])'],i=k(this,ld)??_f(this.el.querySelectorAll(n)).filter(s=>!s.classList.contains("uppy-Dashboard-close"));for(const s of i)s.tagName==="A"?s.setAttribute("aria-disabled",r):s.disabled=r;r?ne(this,ld,i):ne(this,ld,null),this.dashboardIsDisabled=r});M(this,"updateBrowserHistory",()=>{var r;(r=history.state)!=null&&r[this.modalName]||history.pushState({...history.state,[this.modalName]:!0},""),window.addEventListener("popstate",this.handlePopState,!1)});M(this,"handlePopState",r=>{var n;this.isModalOpen()&&(!r.state||!r.state[this.modalName])&&this.closeModal({manualClose:!1}),!this.isModalOpen()&&((n=r.state)!=null&&n[this.modalName])&&history.back()});M(this,"handleKeyDownInModal",r=>{r.keyCode===dse&&this.requestCloseModal(),r.keyCode===wE&&WR(r,this.getPluginState().activeOverlayType,this.el)});M(this,"handleClickOutside",()=>{this.opts.closeModalOnClickOutside&&this.requestCloseModal()});M(this,"handlePaste",r=>{this.uppy.iteratePlugins(i=>{var s;i.type==="acquirer"&&((s=i.handleRootPaste)==null||s.call(i,r))});const n=_f(r.clipboardData.files);n.length>0&&(this.uppy.log("[Dashboard] Files pasted"),this.addFiles(n))});M(this,"handleInputChange",r=>{r.preventDefault();const n=_f(r.currentTarget.files||[]);n.length>0&&(this.uppy.log("[Dashboard] Files selected through input"),this.addFiles(n))});M(this,"handleDragOver",r=>{r.preventDefault(),r.stopPropagation();const n=()=>{let l=!0;return this.uppy.iteratePlugins(c=>{var d;(d=c.canHandleRootDrop)!=null&&d.call(c,r)&&(l=!0)}),l},i=()=>{const{types:l}=r.dataTransfer;return l.some(c=>c==="Files")},s=n(),a=i();if(!s&&!a||this.opts.disabled||this.opts.disableLocalFiles&&(a||!s)||!this.uppy.getState().allowNewUpload){r.dataTransfer.dropEffect="none";return}r.dataTransfer.dropEffect="copy",this.setPluginState({isDraggingOver:!0}),this.opts.onDragOver(r)});M(this,"handleDragLeave",r=>{r.preventDefault(),r.stopPropagation(),this.setPluginState({isDraggingOver:!1}),this.opts.onDragLeave(r)});M(this,"handleDrop",async r=>{r.preventDefault(),r.stopPropagation(),this.setPluginState({isDraggingOver:!1}),this.uppy.iteratePlugins(a=>{var l;a.type==="acquirer"&&((l=a.handleRootDrop)==null||l.call(a,r))});let n=!1;const i=a=>{this.uppy.log(a,"error"),n||(this.uppy.info(a.message,"error"),n=!0)};this.uppy.log("[Dashboard] Processing dropped files");const s=await sie(r.dataTransfer,{logDropError:i});s.length>0&&(this.uppy.log("[Dashboard] Files dropped"),this.addFiles(s)),this.opts.onDrop(r)});M(this,"handleRequestThumbnail",r=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:request",r)});M(this,"handleCancelThumbnail",r=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:cancel",r)});M(this,"handleKeyDownInInline",r=>{r.keyCode===wE&&use(r,this.getPluginState().activeOverlayType,this.el)});M(this,"handlePasteOnBody",r=>{this.el.contains(document.activeElement)&&this.handlePaste(r)});M(this,"handleComplete",({failed:r})=>{this.opts.closeAfterFinish&&!(r!=null&&r.length)&&this.requestCloseModal()});M(this,"handleCancelRestore",()=>{this.uppy.emit("restore-canceled")});re(this,uc,()=>{if(this.opts.disableThumbnailGenerator)return;const r=600,n=this.uppy.getFiles();if(n.length===1){const i=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);i==null||i.setOptions({thumbnailWidth:r});const s={...n[0],preview:void 0};i==null||i.requestThumbnail(s).then(()=>{i==null||i.setOptions({thumbnailWidth:this.opts.thumbnailWidth})})}});re(this,Ep,r=>{const n=r[0],{metaFields:i}=this.getPluginState(),s=i&&i.length>0,a=this.canEditFile(n);s&&this.opts.autoOpen==="metaEditor"?this.toggleFileCard(!0,n.id):a&&this.opts.autoOpen==="imageEditor"&&this.openFileEditor(n)});M(this,"initEvents",()=>{if(this.opts.trigger&&!this.opts.inline){const r=fE(this.opts.trigger);r?r.forEach(n=>n.addEventListener("click",this.openModal)):this.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning")}this.startListeningToResize(),document.addEventListener("paste",this.handlePasteOnBody),this.uppy.on("plugin-added",k(this,ud)),this.uppy.on("plugin-remove",this.removeTarget),this.uppy.on("file-added",this.hideAllPanels),this.uppy.on("dashboard:modal-closed",this.hideAllPanels),this.uppy.on("complete",this.handleComplete),this.uppy.on("files-added",k(this,uc)),this.uppy.on("file-removed",k(this,uc)),document.addEventListener("focus",this.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",this.recordIfFocusedOnUppyRecently,!0),this.opts.inline&&this.el.addEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpen&&this.uppy.on("files-added",k(this,Ep))});M(this,"removeEvents",()=>{const r=fE(this.opts.trigger);!this.opts.inline&&r&&r.forEach(n=>n.removeEventListener("click",this.openModal)),this.stopListeningToResize(),document.removeEventListener("paste",this.handlePasteOnBody),window.removeEventListener("popstate",this.handlePopState,!1),this.uppy.off("plugin-added",k(this,ud)),this.uppy.off("plugin-remove",this.removeTarget),this.uppy.off("file-added",this.hideAllPanels),this.uppy.off("dashboard:modal-closed",this.hideAllPanels),this.uppy.off("complete",this.handleComplete),this.uppy.off("files-added",k(this,uc)),this.uppy.off("file-removed",k(this,uc)),document.removeEventListener("focus",this.recordIfFocusedOnUppyRecently),document.removeEventListener("click",this.recordIfFocusedOnUppyRecently),this.opts.inline&&this.el.removeEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpen&&this.uppy.off("files-added",k(this,Ep))});M(this,"superFocusOnEachUpdate",()=>{const r=this.el.contains(document.activeElement),n=document.activeElement===document.body||document.activeElement===null,i=this.uppy.getState().info.length===0,s=!this.opts.inline;i&&(s||r||n&&this.ifFocusedOnUppyRecently)?this.superFocus(this.el,this.getPluginState().activeOverlayType):this.superFocus.cancel()});M(this,"afterUpdate",()=>{if(this.opts.disabled&&!this.dashboardIsDisabled){this.disableInteractiveElements(!0);return}!this.opts.disabled&&this.dashboardIsDisabled&&this.disableInteractiveElements(!1),this.superFocusOnEachUpdate()});M(this,"saveFileCard",(r,n)=>{this.uppy.setFileMeta(n,r),this.toggleFileCard(!1,n)});re(this,cd,r=>{const n=this.uppy.getPlugin(r.id);return{...r,icon:n.icon||this.opts.defaultPickerIcon,render:n.render}});re(this,j1,r=>{const n=this.uppy.getPlugin(r.id);return typeof n.isSupported!="function"?!0:n.isSupported()});re(this,P1,r=>r.filter(n=>n.type==="acquirer"&&k(this,j1).call(this,n)).map(k(this,cd)));re(this,T1,r=>r.filter(n=>n.type==="progressindicator").map(k(this,cd)));re(this,dc,r=>r.filter(n=>n.type==="editor").map(k(this,cd)));M(this,"render",r=>{const n=this.getPluginState(),{files:i,capabilities:s,allowNewUpload:a}=r,{newFiles:l,uploadStartedFiles:c,completeFiles:d,erroredFiles:h,inProgressFiles:f,inProgressNotPausedFiles:m,processingFiles:g,isUploadStarted:y,isAllComplete:x,isAllPaused:N}=this.uppy.getObjectOfFilesPerState(),_=k(this,P1).call(this,n.targets),w=k(this,T1).call(this,n.targets),S=k(this,dc).call(this,n.targets);let E;return this.opts.theme==="auto"?E=s.darkMode?"dark":"light":E=this.opts.theme,["files","folders","both"].indexOf(this.opts.fileManagerSelectionType)<0&&(this.opts.fileManagerSelectionType="files",console.warn(`Unsupported option for "fileManagerSelectionType". Using default of "${this.opts.fileManagerSelectionType}".`)),sse({state:r,isHidden:n.isHidden,files:i,newFiles:l,uploadStartedFiles:c,completeFiles:d,erroredFiles:h,inProgressFiles:f,inProgressNotPausedFiles:m,processingFiles:g,isUploadStarted:y,isAllComplete:x,isAllPaused:N,totalFileCount:Object.keys(i).length,totalProgress:r.totalProgress,allowNewUpload:a,acquirers:_,theme:E,disabled:this.opts.disabled,disableLocalFiles:this.opts.disableLocalFiles,direction:this.opts.direction,activePickerPanel:n.activePickerPanel,showFileEditor:n.showFileEditor,saveFileEditor:this.saveFileEditor,closeFileEditor:this.closeFileEditor,disableInteractiveElements:this.disableInteractiveElements,animateOpenClose:this.opts.animateOpenClose,isClosing:n.isClosing,progressindicators:w,editors:S,autoProceed:this.uppy.opts.autoProceed,id:this.id,closeModal:this.requestCloseModal,handleClickOutside:this.handleClickOutside,handleInputChange:this.handleInputChange,handlePaste:this.handlePaste,inline:this.opts.inline,showPanel:this.showPanel,hideAllPanels:this.hideAllPanels,i18n:this.i18n,i18nArray:this.i18nArray,uppy:this.uppy,note:this.opts.note,recoveredState:r.recoveredState,metaFields:n.metaFields,resumableUploads:s.resumableUploads||!1,individualCancellation:s.individualCancellation,isMobileDevice:s.isMobileDevice,fileCardFor:n.fileCardFor,toggleFileCard:this.toggleFileCard,toggleAddFilesPanel:this.toggleAddFilesPanel,showAddFilesPanel:n.showAddFilesPanel,saveFileCard:this.saveFileCard,openFileEditor:this.openFileEditor,canEditFile:this.canEditFile,width:this.opts.width,height:this.opts.height,showLinkToFileUploadResult:this.opts.showLinkToFileUploadResult,fileManagerSelectionType:this.opts.fileManagerSelectionType,proudlyDisplayPoweredByUppy:this.opts.proudlyDisplayPoweredByUppy,hideCancelButton:this.opts.hideCancelButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,showRemoveButtonAfterComplete:this.opts.showRemoveButtonAfterComplete,containerWidth:n.containerWidth,containerHeight:n.containerHeight,areInsidesReadyToBeVisible:n.areInsidesReadyToBeVisible,parentElement:this.el,allowedFileTypes:this.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:this.uppy.opts.restrictions.maxNumberOfFiles,requiredMetaFields:this.uppy.opts.restrictions.requiredMetaFields,showSelectedFiles:this.opts.showSelectedFiles,showNativePhotoCameraButton:this.opts.showNativePhotoCameraButton,showNativeVideoCameraButton:this.opts.showNativeVideoCameraButton,nativeCameraFacingMode:this.opts.nativeCameraFacingMode,singleFileFullScreen:this.opts.singleFileFullScreen,handleCancelRestore:this.handleCancelRestore,handleRequestThumbnail:this.handleRequestThumbnail,handleCancelThumbnail:this.handleCancelThumbnail,isDraggingOver:n.isDraggingOver,handleDragOver:this.handleDragOver,handleDragLeave:this.handleDragLeave,handleDrop:this.handleDrop})});re(this,I1,()=>{const{plugins:r}=this.opts;r.forEach(n=>{const i=this.uppy.getPlugin(n);i?i.mount(this,i):this.uppy.log(`[Uppy] Dashboard could not find plugin '${n}', make sure to uppy.use() the plugins you are specifying`,"warning")})});re(this,D1,()=>{this.uppy.iteratePlugins(k(this,ud))});re(this,ud,r=>{var i;const n=["acquirer","editor"];r&&!((i=r.opts)!=null&&i.target)&&n.includes(r.type)&&(this.getPluginState().targets.some(a=>r.id===a.id)||r.mount(this,r))});M(this,"install",()=>{var c;this.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:void 0,showFileEditor:!1,metaFields:this.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});const{inline:r,closeAfterFinish:n}=this.opts;if(r&&n)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");const{allowMultipleUploads:i,allowMultipleUploadBatches:s}=this.uppy.opts;(i||s)&&n&&this.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");const{target:a}=this.opts;a&&this.mount(a,this),this.opts.disableStatusBar||this.uppy.use(mne,{id:ce(this,dn,Mb).call(this),target:this,...ce(this,dn,Db).call(this)}),this.opts.disableInformer||this.uppy.use(wR,{id:ce(this,dn,GR).call(this),target:this,...ce(this,dn,HR).call(this)}),this.opts.disableThumbnailGenerator||this.uppy.use(DR,{id:ce(this,dn,Rb).call(this),...ce(this,dn,Ob).call(this)}),this.darkModeMediaQuery=typeof window<"u"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;const l=this.darkModeMediaQuery?this.darkModeMediaQuery.matches:!1;this.uppy.log(`[Dashboard] Dark mode is ${l?"on":"off"}`),this.setDarkModeCapability(l),this.opts.theme==="auto"&&((c=this.darkModeMediaQuery)==null||c.addListener(this.handleSystemDarkModeChange)),k(this,I1).call(this),k(this,D1).call(this),this.initEvents()});M(this,"uninstall",()=>{var n;if(!this.opts.disableInformer){const i=this.uppy.getPlugin(`${this.id}:Informer`);i&&this.uppy.removePlugin(i)}if(!this.opts.disableStatusBar){const i=this.uppy.getPlugin(`${this.id}:StatusBar`);i&&this.uppy.removePlugin(i)}if(!this.opts.disableThumbnailGenerator){const i=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);i&&this.uppy.removePlugin(i)}const{plugins:r}=this.opts;r.forEach(i=>{const s=this.uppy.getPlugin(i);s&&s.unmount()}),this.opts.theme==="auto"&&((n=this.darkModeMediaQuery)==null||n.removeListener(this.handleSystemDarkModeChange)),this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.unmount(),this.removeEvents()});this.id=this.opts.id||"Dashboard",this.title="Dashboard",this.type="orchestrator",this.defaultLocale=ase,this.opts.doneButtonHandler===void 0&&(this.opts.doneButtonHandler=()=>{this.uppy.clear(),this.requestCloseModal()}),(s=this.opts).onRequestCloseModal??(s.onRequestCloseModal=()=>this.closeModal()),this.i18nInit()}setOptions(r){var n,i;super.setOptions(r),(n=this.uppy.getPlugin(ce(this,dn,Mb).call(this)))==null||n.setOptions(ce(this,dn,Db).call(this)),(i=this.uppy.getPlugin(ce(this,dn,Rb).call(this)))==null||i.setOptions(ce(this,dn,Ob).call(this))}},ld=new WeakMap,uc=new WeakMap,Ep=new WeakMap,cd=new WeakMap,j1=new WeakMap,P1=new WeakMap,T1=new WeakMap,dc=new WeakMap,I1=new WeakMap,D1=new WeakMap,ud=new WeakMap,dn=new WeakSet,Db=function(){const{hideUploadButton:r,hideRetryButton:n,hidePauseResumeButton:i,hideCancelButton:s,showProgressDetails:a,hideProgressAfterFinish:l,locale:c,doneButtonHandler:d}=this.opts;return{hideUploadButton:r,hideRetryButton:n,hidePauseResumeButton:i,hideCancelButton:s,showProgressDetails:a,hideAfterFinish:l,locale:c,doneButtonHandler:d}},Ob=function(){const{thumbnailWidth:r,thumbnailHeight:n,thumbnailType:i,waitForThumbnailsBeforeUpload:s}=this.opts;return{thumbnailWidth:r,thumbnailHeight:n,thumbnailType:i,waitForThumbnailsBeforeUpload:s,lazy:!s}},HR=function(){return{}},Mb=function(){return`${this.id}:StatusBar`},Rb=function(){return`${this.id}:ThumbnailGenerator`},GR=function(){return`${this.id}:Informer`},M(Ry,"VERSION",Nie.version),Ry);const pse=["defaultChecked","defaultValue","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML","accessKey","className","contentEditable","contextMenu","dir","draggable","hidden","id","lang","placeholder","slot","spellCheck","style","tabIndex","title","translate","radioGroup","role","about","datatype","inlist","prefix","property","resource","typeof","vocab","autoCapitalize","autoCorrect","autoSave","color","itemProp","itemScope","itemType","itemID","itemRef","results","security","unselectable","inputMode","is","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],mse=/^(aria-|data-)/,qR=t=>Object.fromEntries(Object.entries(t).filter(([e])=>mse.test(e)||pse.includes(e)));function gse(t,e){const r=qR(t);return Object.keys(t).some(n=>!Object.hasOwn(r,n)&&t[n]!==e[n])}class ZR extends b.Component{constructor(){super(...arguments);M(this,"container");M(this,"plugin")}componentDidMount(){this.installPlugin()}componentDidUpdate(r){const{uppy:n,open:i,onRequestClose:s}=this.props;if(r.uppy!==n)this.uninstallPlugin(r),this.installPlugin();else if(gse(this.props,r)){const{uppy:a,...l}={...this.props,inline:!1,onRequestCloseModal:s};this.plugin.setOptions(l)}r.open&&!i?this.plugin.closeModal():!r.open&&i&&this.plugin.openModal()}componentWillUnmount(){this.uninstallPlugin()}installPlugin(){const{target:r=this.container,open:n,onRequestClose:i,uppy:s,...a}=this.props,l={id:"DashboardModal",...a,inline:!1,target:r,open:n,onRequestCloseModal:i};s.use(fse,l),this.plugin=s.getPlugin(l.id),n&&this.plugin.openModal()}uninstallPlugin(r=this.props){const{uppy:n}=r;n.removePlugin(this.plugin)}render(){return b.createElement("div",{className:"uppy-Container",ref:r=>{this.container=r},...qR(this.props)})}}M(ZR,"defaultProps",{open:void 0,onRequestClose:void 0});b.createContext({uppy:void 0,status:"init",progress:0});var vse={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fm=b;function xse(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yse=typeof Object.is=="function"?Object.is:xse,wse=fm.useSyncExternalStore,bse=fm.useRef,_se=fm.useEffect,Nse=fm.useMemo,Cse=fm.useDebugValue;vse.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=bse(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=Nse(function(){function c(g){if(!d){if(d=!0,h=g,g=n(g),i!==void 0&&a.hasValue){var y=a.value;if(i(y,g))return f=y}return f=g}if(y=f,yse(h,g))return y;var x=n(g);return i!==void 0&&i(y,x)?y:(h=g,f=x)}var d=!1,h,f,m=r===void 0?null:r;return[function(){return c(e())},m===null?void 0:function(){return c(m())}]},[e,r,n,i]);var l=wse(t,s[0],s[1]);return _se(function(){a.hasValue=!0,a.value=l},[l]),Cse(l),l};function KR(t,e){return Object.hasOwn(t,e)}class Sse extends Error{constructor(r,n){super(r);M(this,"isNetworkError");M(this,"cause");this.cause=n==null?void 0:n.cause,this.cause&&KR(this.cause,"isNetworkError")?this.isNetworkError=this.cause.isNetworkError:this.isNetworkError=!1}}class Ese extends Error{constructor(r,n=null){super("This looks like a network error, the endpoint might be blocked by an internet provider or a firewall.");M(this,"cause");M(this,"isNetworkError");M(this,"request");this.cause=r,this.isNetworkError=!0,this.request=n}}function Ase(...t){return fetch(...t).catch(e=>{throw e.name==="AbortError"?e:new Ese(e)})}function kse(t){var i;const r=(i=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?([^\n]+)/i.exec(t))==null?void 0:i[1];return`${/^http:\/\//i.test(t)?"ws":"wss"}://${r}`}class jse extends Error{constructor(){super(...arguments);M(this,"name","UserFacingApiError")}}var YR={};function rs(t,e){typeof e=="boolean"&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var Pse=rs;rs.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};rs.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};rs.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var e=new Date().getTime();if(t&&e-this._operationStart>=this._maxRetryTime)return this._errors.push(t),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var r=this._timeouts.shift();if(r===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1);else return!1;var n=this;return this._timer=setTimeout(function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout(function(){n._operationTimeoutCb(n._attempts)},n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)},r),this._options.unref&&this._timer.unref(),!0};rs.prototype.attempt=function(t,e){this._fn=t,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};rs.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)};rs.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)};rs.prototype.start=rs.prototype.try;rs.prototype.errors=function(){return this._errors};rs.prototype.attempts=function(){return this._attempts};rs.prototype.mainError=function(){if(this._errors.length===0)return null;for(var t={},e=null,r=0,n=0;n<this._errors.length;n++){var i=this._errors[n],s=i.message,a=(t[s]||0)+1;t[s]=a,a>=r&&(e=i,r=a)}return e};(function(t){var e=Pse;t.operation=function(r){var n=t.timeouts(r);return new e(n,{forever:r&&(r.forever||r.retries===1/0),unref:r&&r.unref,maxRetryTime:r&&r.maxRetryTime})},t.timeouts=function(r){if(r instanceof Array)return[].concat(r);var n={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var i in r)n[i]=r[i];if(n.minTimeout>n.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var s=[],a=0;a<n.retries;a++)s.push(this.createTimeout(a,n));return r&&r.forever&&!s.length&&s.push(this.createTimeout(a,n)),s.sort(function(l,c){return l-c}),s},t.createTimeout=function(r,n){var i=n.randomize?Math.random()+1:1,s=Math.round(i*Math.max(n.minTimeout,1)*Math.pow(n.factor,r));return s=Math.min(s,n.maxTimeout),s},t.wrap=function(r,n,i){if(n instanceof Array&&(i=n,n=null),!i){i=[];for(var s in r)typeof r[s]=="function"&&i.push(s)}for(var a=0;a<i.length;a++){var l=i[a],c=r[l];r[l]=(function(h){var f=t.operation(n),m=Array.prototype.slice.call(arguments,1),g=m.pop();m.push(function(y){f.retry(y)||(y&&(arguments[0]=f.mainError()),g.apply(this,arguments))}),f.attempt(function(){h.apply(r,m)})}).bind(r,c),r[l].options=n}}})(YR);var Tse=YR;const Ise=ka(Tse),Dse=Object.prototype.toString,Ose=t=>Dse.call(t)==="[object Error]",Mse=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Load failed","Network request failed","fetch failed","terminated"]);function Rse(t){return t&&Ose(t)&&t.name==="TypeError"&&typeof t.message=="string"?t.message==="Load failed"?t.stack===void 0:Mse.has(t.message):!1}class Fb extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}const _E=(t,e,r)=>{const n=r.retries-(e-1);return t.attemptNumber=e,t.retriesLeft=n,t};async function NE(t,e){return new Promise((r,n)=>{e={...e},e.onFailedAttempt??(e.onFailedAttempt=()=>{}),e.shouldRetry??(e.shouldRetry=()=>!0),e.retries??(e.retries=10);const i=Ise.operation(e),s=()=>{var l;i.stop(),n((l=e.signal)==null?void 0:l.reason)};e.signal&&!e.signal.aborted&&e.signal.addEventListener("abort",s,{once:!0});const a=()=>{var l;(l=e.signal)==null||l.removeEventListener("abort",s),i.stop()};i.attempt(async l=>{try{const c=await t(l);a(),r(c)}catch(c){try{if(!(c instanceof Error))throw new TypeError(`Non-error was thrown: "${c}". You should only throw errors.`);if(c instanceof Fb)throw c.originalError;if(c instanceof TypeError&&!Rse(c))throw c;if(_E(c,l,e),await e.shouldRetry(c)||(i.stop(),n(c)),await e.onFailedAttempt(c),!i.retry(c))throw i.mainError()}catch(d){_E(d,l,e),a(),n(d)}}})})}const Fse="@uppy/companion-client",Lse="Client library for communication with Companion. Intended for use in Uppy plugins.",Bse="4.5.2",Use="MIT",zse="lib/index.js",$se="module",Vse={build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},Wse=["file uploader","uppy","uppy-plugin","companion","provider"],Hse="https://uppy.io",Gse={url:"https://github.com/transloadit/uppy/issues"},qse={type:"git",url:"git+https://github.com/transloadit/uppy.git"},Zse=["src","lib","dist","CHANGELOG.md"],Kse={"@uppy/utils":"^6.2.2","namespace-emitter":"^2.0.1","p-retry":"^6.1.0"},Yse={jsdom:"^26.1.0",typescript:"^5.8.3",vitest:"^3.2.4"},Xse={"@uppy/core":"^4.5.2"},Qse={name:Fse,description:Lse,version:Bse,license:Use,main:zse,type:$se,scripts:Vse,keywords:Wse,homepage:Hse,bugs:Gse,repository:qse,files:Zse,dependencies:Kse,devDependencies:Yse,peerDependencies:Xse};class Jse extends Error{constructor(){super("Authorization required");M(this,"isAuthError");this.name="AuthError",this.isAuthError=!0}}function eae(t){return t.replace(/\/$/,"")}const CE=10,tae=5*60*1e3,rae=401;class nae extends Error{constructor({statusCode:r,message:n}){super(n);M(this,"statusCode");this.name="HttpError",this.statusCode=r}}async function iae(t){if(t.status===rae)throw new Jse;if(t.ok)return t.json();let e=`Failed request with status: ${t.status}. ${t.statusText}`,r;try{r=await t.json(),r.message&&(e=`${e} message: ${r.message}`),r.requestId&&(e=`${e} request-Id: ${r.requestId}`)}catch(n){throw new Error(e,{cause:n})}throw t.status>=400&&t.status<=499&&r.message?new jse(r.message):new nae({statusCode:t.status,message:e})}function sae(t,e,r){const{progress:n,bytesUploaded:i,bytesTotal:s}=e;n&&(t.uppy.log(`Upload progress: ${n}`),t.uppy.emit("upload-progress",r,{uploadStarted:r.progress.uploadStarted??0,bytesUploaded:i,bytesTotal:s}))}var hc,wl,Lb,O1,Bb;class XR{constructor(e,r){re(this,wl);re(this,hc);M(this,"uppy");M(this,"opts");re(this,O1,async({file:e,postBody:r,signal:n})=>{var s;if(((s=e.remote)==null?void 0:s.url)==null)throw new Error("Cannot connect to an undefined URL");return(await this.post(e.remote.url,{...e.remote.body,...r},{signal:n})).token});this.uppy=e,this.opts=r,this.onReceiveResponse=this.onReceiveResponse.bind(this),ne(this,hc,r.companionHeaders)}setCompanionHeaders(e){ne(this,hc,e)}[Symbol.for("uppy test: getCompanionHeaders")](){return k(this,hc)}get hostname(){const{companion:e}=this.uppy.getState(),r=this.opts.companionUrl;return eae(e!=null&&e[r]?e[r]:r)}async headers(e=!1){return{...{Accept:"application/json",...e?void 0:{"Content-Type":"application/json"}},...k(this,hc)}}onReceiveResponse(e){const{headers:r}=e,i=this.uppy.getState().companion||{},s=this.opts.companionUrl;r.has("i-am")&&r.get("i-am")!==i[s]&&this.uppy.setState({companion:{...i,[s]:r.get("i-am")}})}async request({path:e,method:r="GET",data:n,skipPostResponse:i,signal:s}){try{const a=await this.headers(!n),l=await Ase(ce(this,wl,Lb).call(this,e),{method:r,signal:s,headers:a,credentials:this.opts.companionCookiesRule||"same-origin",body:n?JSON.stringify(n):null});return i||this.onReceiveResponse(l),await iae(l)}catch(a){throw a.isAuthError||a.name==="UserFacingApiError"||a.name==="AbortError"?a:new Sse(`Could not ${r} ${ce(this,wl,Lb).call(this,e)}`,{cause:a})}}async get(e,r){return this.request({...r,path:e})}async post(e,r,n){return this.request({...n,path:e,method:"POST",data:r})}async delete(e,r,n){return this.request({...n,path:e,method:"DELETE",data:r})}async uploadRemoteFile(e,r,n){try{const{signal:i,getQueue:s}=n||{};return await NE(async()=>{var d;const a=(d=this.uppy.getFile(e.id))==null?void 0:d.serverToken;if(a!=null)return this.uppy.log(`Connecting to exiting websocket ${a}`),ce(this,wl,Bb).call(this,{file:e,queue:s(),signal:i});const c=await s().wrapPromiseFunction(async(...h)=>{try{return await k(this,O1).call(this,...h)}catch(f){if(f.isAuthError)throw new Fb(f);if(f.cause==null)throw f;const m=f.cause,g=()=>[408,409,429,418,423].includes(m.statusCode)||m.statusCode>=500&&m.statusCode<=599&&![501,505].includes(m.statusCode);throw m.name==="HttpError"&&!g()?new Fb(m):m}},{priority:-1})({file:e,postBody:r,signal:i}).abortOn(i);if(this.uppy.getFile(e.id))return this.uppy.setFileState(e.id,{serverToken:c}),ce(this,wl,Bb).call(this,{file:this.uppy.getFile(e.id),queue:s(),signal:i})},{retries:CE,signal:i,onFailedAttempt:a=>this.uppy.log(`Retrying upload due to: ${a.message}`,"warning")})}catch(i){if(i.name==="AbortError")return;throw this.uppy.emit("upload-error",e,i),i}}}hc=new WeakMap,wl=new WeakSet,Lb=function(e){return/^(https?:|)\/\//.test(e)?e:`${this.hostname}/${e}`},O1=new WeakMap,Bb=async function({file:e,queue:r,signal:n}){let i;const{capabilities:s}=this.uppy.getState();try{return await new Promise((a,l)=>{const c=e.serverToken,d=kse(e.remote.companionUrl);let h,f,m,{isPaused:g}=e;const y=(T,O)=>{if(h==null||h.readyState!==h.OPEN){this.uppy.log(`Cannot send "${T}" to socket ${e.id} because the socket state was ${String(h==null?void 0:h.readyState)}`,"warning");return}h.send(JSON.stringify({action:T,payload:O??{}}))};function x(){s.resumableUploads&&y(g?"pause":"resume")}const N=async()=>{f&&f.abort(),f=new AbortController;const T=B=>{var P;this.uppy.setFileState(e.id,{serverToken:null}),(P=f==null?void 0:f.abort)==null||P.call(f),l(B)};function O(){clearTimeout(m),!g&&(m=setTimeout(()=>T(new Error("Timeout waiting for message from Companion socket")),tae))}try{await r.wrapPromiseFunction(async()=>{await NE(async()=>new Promise((P,V)=>{h=new WebSocket(`${d}/api/${c}`),O(),h.addEventListener("close",()=>{h=void 0,V(new Error("Socket closed unexpectedly"))}),h.addEventListener("error",q=>{this.uppy.log(`Companion socket error ${JSON.stringify(q)}, closing socket`,"warning"),h==null||h.close()}),h.addEventListener("open",()=>{x()}),h.addEventListener("message",q=>{var H,le,ae;O();try{const{action:me,payload:R}=JSON.parse(q.data);switch(me){case"progress":{sae(this,R,this.uppy.getFile(e.id));break}case"success":{const G=(H=R.response)==null?void 0:H.responseText;this.uppy.emit("upload-success",this.uppy.getFile(e.id),{uploadURL:R.url,status:((le=R.response)==null?void 0:le.status)??200,body:G?JSON.parse(G):void 0}),(ae=f==null?void 0:f.abort)==null||ae.call(f),a();break}case"error":{const{message:G}=R.error;throw Object.assign(new Error(G),{cause:R.error})}default:this.uppy.log(`Companion socket unknown action ${me}`,"warning")}}catch(me){T(me)}});const F=()=>{this.uppy.log(`Closing socket ${e.id}`),clearTimeout(m),h&&h.close(),h=void 0};f.signal.addEventListener("abort",()=>{F()})}),{retries:CE,signal:f.signal,onFailedAttempt:()=>{f.signal.aborted||this.uppy.log(`Retrying websocket ${e.id}`)}})})().abortOn(f.signal)}catch(B){if(f.signal.aborted)return;T(B)}},_=T=>{s.resumableUploads&&(g=T,h&&x())},w=T=>{var O;s.individualCancellation&&T.id===e.id&&(y("cancel"),(O=f==null?void 0:f.abort)==null||O.call(f),this.uppy.log(`upload ${e.id} was removed`),a())},S=()=>{var T;y("cancel"),(T=f==null?void 0:f.abort)==null||T.call(f),this.uppy.log(`upload ${e.id} was canceled`),a()},E=(T,O)=>{(T==null?void 0:T.id)===e.id&&_(O)},j=()=>_(!0),D=()=>_(!1);this.uppy.on("file-removed",w),this.uppy.on("cancel-all",S),this.uppy.on("upload-pause",E),this.uppy.on("pause-all",j),this.uppy.on("resume-all",D),i=()=>{this.uppy.off("file-removed",w),this.uppy.off("cancel-all",S),this.uppy.off("upload-pause",E),this.uppy.off("pause-all",j),this.uppy.off("resume-all",D)},n.addEventListener("abort",()=>{f==null||f.abort()}),N()})}finally{i==null||i()}},M(XR,"VERSION",Qse.version);var la,Ap;class aae{constructor(e){re(this,la);re(this,Ap,[]);ne(this,la,e)}on(e,r){return k(this,Ap).push([e,r]),k(this,la).on(e,r)}remove(){for(const[e,r]of k(this,Ap).splice(0))k(this,la).off(e,r)}onFilePause(e,r){this.on("upload-pause",(n,i)=>{e===(n==null?void 0:n.id)&&r(i)})}onFileRemove(e,r){this.on("file-removed",n=>{e===n.id&&r(n.id)})}onPause(e,r){this.on("upload-pause",(n,i)=>{e===(n==null?void 0:n.id)&&r(i)})}onRetry(e,r){this.on("upload-retry",n=>{e===(n==null?void 0:n.id)&&r()})}onRetryAll(e,r){this.on("retry-all",()=>{k(this,la).getFile(e)&&r()})}onPauseAll(e,r){this.on("pause-all",()=>{k(this,la).getFile(e)&&r()})}onCancelAll(e,r){this.on("cancel-all",(...n)=>{k(this,la).getFile(e)&&r(...n)})}onResumeAll(e,r){this.on("resume-all",()=>{k(this,la).getFile(e)&&r()})}}la=new WeakMap,Ap=new WeakMap;const{AbortController:yy}=globalThis,QR=(t="Aborted",e)=>{const r=new DOMException(t,"AbortError");return e!=null&&KR(e,"cause")&&Object.defineProperty(r,"cause",{__proto__:null,configurable:!0,writable:!0,value:e.cause}),r};function oae(t){const e=r=>"error"in r&&!!r.error;return t.filter(r=>!e(r))}function lae(t){return t.filter(e=>{var r;return!((r=e.progress)!=null&&r.uploadStarted)||!e.isRestored})}function SE(t,e){return t===!0?Object.keys(e):Array.isArray(t)?t:[]}function cae(t){return new Error("Cancelled",{cause:t})}function EE(t){var e;if(t!=null){const r=()=>this.abort(t.reason);t.addEventListener("abort",r,{once:!0});const n=()=>{t.removeEventListener("abort",r)};(e=this.then)==null||e.call(this,n,n)}return this}var Ha,ca,Ga,dd,ua,hd,fc,Dn,Ub,rf,JR,e7,t7,M1,fd;class uae{constructor(e){re(this,Dn);re(this,Ha,0);re(this,ca,[]);re(this,Ga,!1);re(this,dd);re(this,ua,1);re(this,hd);re(this,fc);M(this,"limit");re(this,M1,()=>this.resume());re(this,fd,()=>{if(k(this,Ga)){ne(this,fc,setTimeout(k(this,fd),0));return}ne(this,ua,this.limit),this.limit=Math.ceil((k(this,hd)+k(this,ua))/2);for(let e=k(this,ua);e<=this.limit;e++)ce(this,Dn,rf).call(this);k(this,hd)-k(this,ua)>3?ne(this,fc,setTimeout(k(this,fd),2e3)):ne(this,ua,Math.floor(k(this,ua)/2))});typeof e!="number"||e===0?this.limit=1/0:this.limit=e}run(e,r){return!k(this,Ga)&&k(this,Ha)<this.limit?ce(this,Dn,Ub).call(this,e):ce(this,Dn,e7).call(this,e,r)}wrapSyncFunction(e,r){return(...n)=>{const i=this.run(()=>(e(...n),queueMicrotask(()=>i.done()),()=>{}),r);return{abortOn:EE,abort(){i.abort()}}}}wrapPromiseFunction(e,r){return(...n)=>{let i;const s=new Promise((a,l)=>{i=this.run(()=>{let c,d;try{d=Promise.resolve(e(...n))}catch(h){d=Promise.reject(h)}return d.then(h=>{c?l(c):(i.done(),a(h))},h=>{c?l(c):(i.done(),l(h))}),h=>{c=cae(h)}},r)});return s.abort=a=>{i.abort(a)},s.abortOn=EE,s}}resume(){ne(this,Ga,!1),clearTimeout(k(this,dd));for(let e=0;e<this.limit;e++)ce(this,Dn,rf).call(this)}pause(e=null){ne(this,Ga,!0),clearTimeout(k(this,dd)),e!=null&&ne(this,dd,setTimeout(k(this,M1),e))}rateLimit(e){clearTimeout(k(this,fc)),this.pause(e),this.limit>1&&Number.isFinite(this.limit)&&(ne(this,hd,this.limit-1),this.limit=k(this,ua),ne(this,fc,setTimeout(k(this,fd),e)))}get isPaused(){return k(this,Ga)}}Ha=new WeakMap,ca=new WeakMap,Ga=new WeakMap,dd=new WeakMap,ua=new WeakMap,hd=new WeakMap,fc=new WeakMap,Dn=new WeakSet,Ub=function(e){ne(this,Ha,k(this,Ha)+1);let r=!1,n;try{n=e()}catch(i){throw ne(this,Ha,k(this,Ha)-1),i}return{abort:i=>{r||(r=!0,ne(this,Ha,k(this,Ha)-1),n==null||n(i),ce(this,Dn,rf).call(this))},done:()=>{r||(r=!0,ne(this,Ha,k(this,Ha)-1),ce(this,Dn,rf).call(this))}}},rf=function(){queueMicrotask(()=>ce(this,Dn,JR).call(this))},JR=function(){if(k(this,Ga)||k(this,Ha)>=this.limit||k(this,ca).length===0)return;const e=k(this,ca).shift();if(e==null)throw new Error("Invariant violation: next is null");const r=ce(this,Dn,Ub).call(this,e.fn);e.abort=r.abort,e.done=r.done},e7=function(e,r){const n={fn:e,priority:(r==null?void 0:r.priority)||0,abort:()=>{ce(this,Dn,t7).call(this,n)},done:()=>{throw new Error("Cannot mark a queued request as done: this indicates a bug")}},i=k(this,ca).findIndex(s=>n.priority>s.priority);return i===-1?k(this,ca).push(n):k(this,ca).splice(i,0,n),n},t7=function(e){const r=k(this,ca).indexOf(e);r!==-1&&k(this,ca).splice(r,1)},M1=new WeakMap,fd=new WeakMap;const dae="@uppy/aws-s3",hae="Upload to Amazon S3 with Uppy",fae="4.3.2",pae="MIT",mae="lib/index.js",gae="module",vae={build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},xae=["file uploader","aws s3","amazon s3","s3","uppy","uppy-plugin","multipart"],yae="https://uppy.io",wae={url:"https://github.com/transloadit/uppy/issues"},bae={type:"git",url:"git+https://github.com/transloadit/uppy.git"},_ae=["src","lib","dist","CHANGELOG.md"],Nae={"@uppy/companion-client":"^4.5.2","@uppy/utils":"^6.2.2"},Cae={"@aws-sdk/client-s3":"^3.362.0","@aws-sdk/s3-request-presigner":"^3.362.0","@uppy/core":"^4.5.2",jsdom:"^26.1.0",nock:"^13.1.0",typescript:"^5.8.3",vitest:"^3.2.4","whatwg-fetch":"3.6.2"},Sae={"@uppy/core":"^4.5.2"},Eae={name:dae,description:hae,version:fae,license:pae,main:mae,type:gae,scripts:vae,keywords:xae,homepage:yae,bugs:wae,repository:bae,files:_ae,dependencies:Nae,devDependencies:Cae,peerDependencies:Sae};function Aae({method:t="PUT",CanonicalUri:e="/",CanonicalQueryString:r="",SignedHeaders:n,HashedPayload:i}){const s=Object.keys(n).map(a=>a.toLowerCase()).sort();return[t,e,r,...s.map(a=>`${a}:${n[a]}`),"",s.join(";"),i].join(`
`)}const jN=new TextEncoder,PN={name:"HMAC",hash:"SHA-256"};async function kae(t){const{subtle:e}=globalThis.crypto;return e.digest(PN.hash,jN.encode(t))}async function jae(t){const{subtle:e}=globalThis.crypto;return e.importKey("raw",typeof t=="string"?jN.encode(t):t,PN,!1,["sign"])}function AE(t){const e=new Uint8Array(t);let r="";for(let n=0;n<e.length;n++)r+=e[n].toString(16).padStart(2,"0");return r}async function Fh(t,e){const{subtle:r}=globalThis.crypto;return r.sign(PN,await jae(t),jN.encode(e))}async function Pae({accountKey:t,accountSecret:e,sessionToken:r,bucketName:n,Key:i,Region:s,expires:a,uploadId:l,partNumber:c}){const d="s3",h=`${d}.${s}.amazonaws.com`,f=`/${n}/${encodeURI(i).replace(/[;?:@&=+$,#!'()*]/g,B=>`%${B.charCodeAt(0).toString(16).toUpperCase()}`)}`,m="UNSIGNED-PAYLOAD",g=new Date().toISOString().replace(/[-:]|\.\d+/g,""),y=g.slice(0,8),x=`${y}/${s}/${d}/aws4_request`,N=new URL(`https://${h}${f}`);N.searchParams.set("X-Amz-Algorithm","AWS4-HMAC-SHA256"),N.searchParams.set("X-Amz-Content-Sha256",m),N.searchParams.set("X-Amz-Credential",`${t}/${x}`),N.searchParams.set("X-Amz-Date",g),N.searchParams.set("X-Amz-Expires",a),N.searchParams.set("X-Amz-Security-Token",r),N.searchParams.set("X-Amz-SignedHeaders","host"),c&&N.searchParams.set("partNumber",c),l&&N.searchParams.set("uploadId",l),N.searchParams.set("x-id",c&&l?"UploadPart":"PutObject");const _=Aae({CanonicalUri:f,CanonicalQueryString:N.search.slice(1),SignedHeaders:{host:h},HashedPayload:m}),w=AE(await kae(_)),S=["AWS4-HMAC-SHA256",g,x,w].join(`
`),E=await Fh(`AWS4${e}`,y),j=await Fh(E,s),D=await Fh(j,d),T=await Fh(D,"aws4_request"),O=AE(await Fh(T,S));return N.searchParams.set("X-Amz-Signature",O),N}const Tae=1024*1024,kE={getChunkSize(t){return Math.ceil(t.size/1e4)},onProgress(){},onPartComplete(){},onSuccess(){},onError(t){throw t}};function Iae(t){if(typeof t=="string")return parseInt(t,10);if(typeof t=="number")return t;throw new TypeError("Expected a number")}const ng=Symbol("pausing upload, not an actual error");var ms,Ui,da,qa,Za,kp,jp,pd,pc,md,Pp,gd,Tp,Gs,r7,n7,zb,Ip,Dp,i7;class Dae{constructor(e,r){re(this,Gs);M(this,"options");re(this,ms,new yy);re(this,Ui,[]);re(this,da,[]);re(this,qa);re(this,Za);re(this,kp,!1);re(this,jp);re(this,pd);re(this,pc);re(this,md);re(this,Pp,e=>(e==null?void 0:e.cause)===ng?null:k(this,jp).call(this,e));re(this,gd,1e4);re(this,Tp,5*Tae);re(this,Ip,e=>r=>{if(!r.lengthComputable)return;k(this,da)[e].uploaded=Iae(r.loaded);const n=k(this,da).reduce((i,s)=>i+s.uploaded,0);this.options.onProgress(n,k(this,qa).size)});re(this,Dp,e=>r=>{k(this,Ui)[e]=null,k(this,da)[e].etag=r,k(this,da)[e].done=!0;const n={PartNumber:e+1,ETag:r};this.options.onPartComplete(n)});var n;this.options={...kE,...r},(n=this.options).getChunkSize??(n.getChunkSize=kE.getChunkSize),ne(this,qa,e),ne(this,Za,r.file),ne(this,pd,this.options.onSuccess),ne(this,jp,this.options.onError),ne(this,pc,this.options.shouldUseMultipart),ne(this,md,r.uploadId&&r.key),ce(this,Gs,r7).call(this)}start(){k(this,kp)?(k(this,ms).signal.aborted||k(this,ms).abort(ng),ne(this,ms,new yy),ce(this,Gs,zb).call(this)):k(this,md)?(this.options.companionComm.restoreUploadFile(k(this,Za),{uploadId:this.options.uploadId,key:this.options.key}),ce(this,Gs,zb).call(this)):ce(this,Gs,n7).call(this)}pause(){k(this,ms).abort(ng),ne(this,ms,new yy)}abort(e){e!=null&&e.really?ce(this,Gs,i7).call(this):this.pause()}[Symbol.for("uppy test: getChunkState")](){return k(this,da)}}ms=new WeakMap,Ui=new WeakMap,da=new WeakMap,qa=new WeakMap,Za=new WeakMap,kp=new WeakMap,jp=new WeakMap,pd=new WeakMap,pc=new WeakMap,md=new WeakMap,Pp=new WeakMap,gd=new WeakMap,Tp=new WeakMap,Gs=new WeakSet,r7=function(){const e=k(this,qa).size,r=typeof k(this,pc)=="function"?k(this,pc).call(this,k(this,Za)):!!k(this,pc);if(r&&e>k(this,Tp)){let n=Math.max(this.options.getChunkSize(k(this,qa)),k(this,Tp)),i=Math.floor(e/n);i>k(this,gd)&&(i=k(this,gd),n=e/k(this,gd)),ne(this,Ui,Array(i));for(let s=0,a=0;s<e;s+=n,a++){const l=Math.min(e,s+n),c=()=>{const d=s;return k(this,qa).slice(d,l)};if(k(this,Ui)[a]={getData:c,onProgress:k(this,Ip).call(this,a),onComplete:k(this,Dp).call(this,a),shouldUseMultipart:r},k(this,md)){const d=s+n>e?e-s:n;k(this,Ui)[a].setAsUploaded=()=>{k(this,Ui)[a]=null,k(this,da)[a].uploaded=d}}}}else ne(this,Ui,[{getData:()=>k(this,qa),onProgress:k(this,Ip).call(this,0),onComplete:k(this,Dp).call(this,0),shouldUseMultipart:r}]);ne(this,da,k(this,Ui).map(()=>({uploaded:0})))},n7=function(){this.options.companionComm.uploadFile(k(this,Za),k(this,Ui),k(this,ms).signal).then(k(this,pd),k(this,Pp)),ne(this,kp,!0)},zb=function(){this.options.companionComm.resumeUploadFile(k(this,Za),k(this,Ui),k(this,ms).signal).then(k(this,pd),k(this,Pp))},Ip=new WeakMap,Dp=new WeakMap,i7=function(){k(this,ms).abort(),this.options.companionComm.abortFileUpload(k(this,Za)).catch(e=>this.options.log(e))};function Pn(t){if(t!=null&&t.aborted)throw QR("The operation was aborted",{cause:t.reason})}function Oae(t){const e=new URL(t);return e.search="",e.hash="",e.href}var Op,gs,Mp,Rp,Fp,Lp,vd,xd,yd,wd,mc,bd,vs,Bc,s7,$b;class Mae{constructor(e,r,n,i){re(this,Bc);re(this,Op);re(this,gs,new WeakMap);re(this,Mp);re(this,Rp);re(this,Fp);re(this,Lp);re(this,vd);re(this,xd);re(this,yd);re(this,wd);re(this,mc);re(this,bd);re(this,vs);ne(this,xd,e),ne(this,mc,n),ne(this,vs,i),this.setOptions(r)}setOptions(e){const r=k(this,xd);"abortMultipartUpload"in e&&ne(this,Op,r.wrapPromiseFunction(e.abortMultipartUpload,{priority:1})),"createMultipartUpload"in e&&ne(this,Mp,r.wrapPromiseFunction(e.createMultipartUpload,{priority:-1})),"signPart"in e&&ne(this,Rp,r.wrapPromiseFunction(e.signPart)),"listParts"in e&&ne(this,Lp,r.wrapPromiseFunction(e.listParts)),"completeMultipartUpload"in e&&ne(this,wd,r.wrapPromiseFunction(e.completeMultipartUpload,{priority:1})),"retryDelays"in e&&ne(this,yd,e.retryDelays??[]),"uploadPartBytes"in e&&ne(this,bd,r.wrapPromiseFunction(e.uploadPartBytes,{priority:1/0})),"getUploadParameters"in e&&ne(this,Fp,r.wrapPromiseFunction(e.getUploadParameters))}async getUploadId(e,r){let n;for(;n=k(this,gs).get(e.data),n!=null;)try{return await n}catch{}const i=k(this,Mp).call(this,k(this,vs).call(this,e),r),s=()=>{i.abort(r.reason),k(this,gs).delete(e.data)};return r.addEventListener("abort",s,{once:!0}),k(this,gs).set(e.data,i),i.then(async a=>{r.removeEventListener("abort",s),k(this,mc).call(this,e,a),k(this,gs).set(e.data,a)},()=>{r.removeEventListener("abort",s),k(this,gs).delete(e.data)}),i}async abortFileUpload(e){const r=k(this,gs).get(e.data);if(r==null)return;k(this,gs).delete(e.data),k(this,mc).call(this,e,Object.create(null));let n;try{n=await r}catch{return}await k(this,Op).call(this,k(this,vs).call(this,e),n)}async uploadFile(e,r,n){if(Pn(n),r.length===1&&!r[0].shouldUseMultipart)return ce(this,Bc,$b).call(this,e,r[0],n);const{uploadId:i,key:s}=await this.getUploadId(e,n);Pn(n);try{const a=await Promise.all(r.map((l,c)=>this.uploadChunk(e,c+1,l,n)));return Pn(n),await k(this,wd).call(this,k(this,vs).call(this,e),{key:s,uploadId:i,parts:a,signal:n},n).abortOn(n)}catch(a){throw(a==null?void 0:a.cause)!==ng&&(a==null?void 0:a.name)!=="AbortError"&&this.abortFileUpload(e),a}}restoreUploadFile(e,r){k(this,gs).set(e.data,r)}async resumeUploadFile(e,r,n){if(Pn(n),r.length===1&&r[0]!=null&&!r[0].shouldUseMultipart)return ce(this,Bc,$b).call(this,e,r[0],n);const{uploadId:i,key:s}=await this.getUploadId(e,n);Pn(n);const a=await k(this,Lp).call(this,k(this,vs).call(this,e),{uploadId:i,key:s,signal:n},n).abortOn(n);Pn(n);const l=await Promise.all(r.map((c,d)=>{var m;const h=d+1,f=a.find(({PartNumber:g})=>g===h);return f==null?this.uploadChunk(e,h,c,n):((m=c==null?void 0:c.setAsUploaded)==null||m.call(c),{PartNumber:h,ETag:f.ETag})}));return Pn(n),k(this,wd).call(this,k(this,vs).call(this,e),{key:s,uploadId:i,parts:l,signal:n},n).abortOn(n)}async uploadChunk(e,r,n,i){Pn(i);const{uploadId:s,key:a}=await this.getUploadId(e,i),l=k(this,yd).values(),c=k(this,yd).values(),d=()=>{const h=l.next();return h==null||h.done?null:h.value};for(;;){Pn(i);const h=n.getData(),{onProgress:f,onComplete:m}=n;let g;try{g=await k(this,Rp).call(this,k(this,vs).call(this,e),{uploadId:s,key:a,partNumber:r,body:h,signal:i}).abortOn(i)}catch(y){const x=d();if(x==null||i.aborted)throw y;await new Promise(N=>setTimeout(N,x));continue}Pn(i);try{return{PartNumber:r,...await k(this,bd).call(this,{signature:g,body:h,size:h.size,onProgress:f,onComplete:m,signal:i}).abortOn(i)}}catch(y){if(!await ce(this,Bc,s7).call(this,y,c))throw y}}}}Op=new WeakMap,gs=new WeakMap,Mp=new WeakMap,Rp=new WeakMap,Fp=new WeakMap,Lp=new WeakMap,vd=new WeakMap,xd=new WeakMap,yd=new WeakMap,wd=new WeakMap,mc=new WeakMap,bd=new WeakMap,vs=new WeakMap,Bc=new WeakSet,s7=async function(e,r){var s;const n=k(this,xd),i=(s=e==null?void 0:e.source)==null?void 0:s.status;if(i==null)return!1;if(i===403&&e.message==="Request has expired"){if(!n.isPaused){if(n.limit===1||k(this,vd)==null){const a=r.next();if(a==null||a.done)return!1;ne(this,vd,a.value)}n.rateLimit(0),await new Promise(a=>setTimeout(a,k(this,vd)))}}else if(i===429){if(!n.isPaused){const a=r.next();if(a==null||a.done)return!1;n.rateLimit(a.value)}}else{if(i>400&&i<500&&i!==409)return!1;if(typeof navigator<"u"&&navigator.onLine===!1)n.isPaused||(n.pause(),window.addEventListener("online",()=>{n.resume()},{once:!0}));else{const a=r.next();if(a==null||a.done)return!1;await new Promise(l=>setTimeout(l,a.value))}}return!0},$b=async function(e,r,n){const{method:i="POST",url:s,fields:a,headers:l}=await k(this,Fp).call(this,k(this,vs).call(this,e),{signal:n}).abortOn(n);let c;const d=r.getData();if(i.toUpperCase()==="POST"){const y=new FormData;Object.entries(a).forEach(([x,N])=>y.set(x,N)),y.set("file",d),c=y}else c=d;const{onProgress:h,onComplete:f}=r,m=await k(this,bd).call(this,{signature:{url:s,headers:l,method:i},body:c,size:d.size,onProgress:h,onComplete:f,signal:n}).abortOn(n),g=a==null?void 0:a.key;return k(this,mc).call(this,e,{key:g}),{...m,location:m.location??Oae(s),bucket:a==null?void 0:a.bucket,key:g}};function ou(t){if(t!=null&&t.error){const e=new Error(t.message);throw Object.assign(e,t.error),e}return t}function jE(t){const e=t.Expiration;if(e){const r=Math.floor((new Date(e)-Date.now())/1e3);if(r>9)return r}}function PE({meta:t,allowedMetaFields:e,querify:r=!1}){const n=e??Object.keys(t);return t?Object.fromEntries(n.filter(i=>t[i]!=null).map(i=>{const s=r?`metadata[${i}]`:i,a=String(t[i]);return[s,a]})):{}}const Rae={allowedMetaFields:!0,limit:6,getTemporarySecurityCredentials:!1,shouldUseMultipart:t=>(t.size||0)>100*1024*1024,retryDelays:[0,1e3,3e3,5e3]};var _d,Gn,Hr,Wb,Eo,xs,a7,R1,Nd,o7,l7,Bp,Cd,gc,Up;const F1=class F1 extends LM{constructor(r,n){super(r,{...Rae,uploadPartBytes:F1.uploadPartBytes,createMultipartUpload:null,listParts:null,abortMultipartUpload:null,completeMultipartUpload:null,signPart:null,getUploadParameters:null,...n});re(this,Hr);re(this,_d);re(this,Gn);M(this,"requests");M(this,"uploaderEvents");M(this,"uploaders");re(this,xs);re(this,R1,(r,{key:n,uploadId:i})=>{const s=this.uppy.getFile(r.id);s!=null&&this.uppy.setFileState(r.id,{s3Multipart:{...s.s3Multipart,key:n,uploadId:i}})});re(this,Nd,r=>this.uppy.getFile(r.id)||r);re(this,Bp,async r=>{if(r.length===0)return;const n=this.uppy.getFilesByIds(r),i=oae(n),s=lae(i);this.uppy.emit("upload-start",s);const a=i.map(c=>{if(c.isRemote){const d=()=>this.requests;k(this,gc).call(this,!1);const h=new AbortController,f=g=>{g.id===c.id&&h.abort()};this.uppy.on("file-removed",f);const m=this.uppy.getRequestClientForFile(c).uploadRemoteFile(c,ce(this,Hr,l7).call(this,c),{signal:h.signal,getQueue:d});return this.requests.wrapSyncFunction(()=>{this.uppy.off("file-removed",f)},{priority:-1})(),m}return ce(this,Hr,o7).call(this,c)}),l=await Promise.allSettled(a);return k(this,gc).call(this,!0),l});re(this,Cd,()=>{var r;(r=k(this,Gn))==null||r.setCompanionHeaders(this.opts.headers)});re(this,gc,r=>{const{capabilities:n}=this.uppy.getState();this.uppy.setState({capabilities:{...n,resumableUploads:r}})});re(this,Up,()=>{k(this,gc).call(this,!0)});this.type="uploader",this.id=this.opts.id||"AwsS3Multipart",ce(this,Hr,Wb).call(this,n);const i={createMultipartUpload:this.createMultipartUpload,listParts:this.listParts,abortMultipartUpload:this.abortMultipartUpload,completeMultipartUpload:this.completeMultipartUpload,signPart:n!=null&&n.getTemporarySecurityCredentials?this.createSignedURL:this.signPart,getUploadParameters:n!=null&&n.getTemporarySecurityCredentials?this.createSignedURL:this.getUploadParameters};for(const s of Object.keys(i))this.opts[s]==null&&(this.opts[s]=i[s].bind(this));this.requests=this.opts.rateLimitedQueue??new uae(this.opts.limit),ne(this,_d,new Mae(this.requests,this.opts,k(this,R1),k(this,Nd))),this.uploaders=Object.create(null),this.uploaderEvents=Object.create(null)}[Symbol.for("uppy test: getClient")](){return k(this,Gn)}setOptions(r){k(this,_d).setOptions(r),super.setOptions(r),ce(this,Hr,Wb).call(this,r)}resetUploaderReferences(r,n){this.uploaders[r]&&(this.uploaders[r].abort({really:(n==null?void 0:n.abort)||!1}),this.uploaders[r]=null),this.uploaderEvents[r]&&(this.uploaderEvents[r].remove(),this.uploaderEvents[r]=null)}createMultipartUpload(r,n){ce(this,Hr,Eo).call(this,"createMultipartUpload"),Pn(n);const i=SE(this.opts.allowedMetaFields,r.meta),s=PE({meta:r.meta,allowedMetaFields:i});return k(this,Gn).post("s3/multipart",{filename:r.name,type:r.type,metadata:s},{signal:n}).then(ou)}listParts(r,{key:n,uploadId:i,signal:s},a){s??(s=a),ce(this,Hr,Eo).call(this,"listParts"),Pn(s);const l=encodeURIComponent(n);return k(this,Gn).get(`s3/multipart/${encodeURIComponent(i)}?key=${l}`,{signal:s}).then(ou)}completeMultipartUpload(r,{key:n,uploadId:i,parts:s,signal:a},l){a??(a=l),ce(this,Hr,Eo).call(this,"completeMultipartUpload"),Pn(a);const c=encodeURIComponent(n),d=encodeURIComponent(i);return k(this,Gn).post(`s3/multipart/${d}/complete?key=${c}`,{parts:s.map(({ETag:h,PartNumber:f})=>({ETag:h,PartNumber:f}))},{signal:a}).then(ou)}async createSignedURL(r,n){const i=await ce(this,Hr,a7).call(this,n),s=jE(i.credentials)||604800,{uploadId:a,key:l,partNumber:c}=n;return{method:"PUT",expires:s,fields:{},url:`${await Pae({accountKey:i.credentials.AccessKeyId,accountSecret:i.credentials.SecretAccessKey,sessionToken:i.credentials.SessionToken,expires:s,bucketName:i.bucket,Region:i.region,Key:l??`${crypto.randomUUID()}-${r.name}`,uploadId:a,partNumber:c})}`,headers:{"Content-Type":r.type}}}signPart(r,{uploadId:n,key:i,partNumber:s,signal:a}){if(ce(this,Hr,Eo).call(this,"signPart"),Pn(a),n==null||i==null||s==null)throw new Error("Cannot sign without a key, an uploadId, and a partNumber");const l=encodeURIComponent(i);return k(this,Gn).get(`s3/multipart/${encodeURIComponent(n)}/${s}?key=${l}`,{signal:a}).then(ou)}abortMultipartUpload(r,{key:n,uploadId:i,signal:s}){ce(this,Hr,Eo).call(this,"abortMultipartUpload");const a=encodeURIComponent(n),l=encodeURIComponent(i);return k(this,Gn).delete(`s3/multipart/${l}?key=${a}`,void 0,{signal:s}).then(ou)}getUploadParameters(r,n){ce(this,Hr,Eo).call(this,"getUploadParameters");const{meta:i}=r,{type:s,name:a}=i,l=SE(this.opts.allowedMetaFields,r.meta),c=PE({meta:i,allowedMetaFields:l,querify:!0}),d=new URLSearchParams({filename:a,type:s,...c});return k(this,Gn).get(`s3/params?${d}`,n)}static async uploadPartBytes({signature:{url:r,expires:n,headers:i,method:s="PUT"},body:a,size:l=a.size,onProgress:c,onComplete:d,signal:h}){if(Pn(h),r==null)throw new Error("Cannot upload to an undefined URL");return new Promise((f,m)=>{const g=new XMLHttpRequest;g.open(s,r,!0),i&&Object.keys(i).forEach(N=>{g.setRequestHeader(N,i[N])}),g.responseType="text",typeof n=="number"&&(g.timeout=n*1e3);function y(){g.abort()}function x(){h==null||h.removeEventListener("abort",y)}h==null||h.addEventListener("abort",y),g.upload.addEventListener("progress",N=>{c(N)}),g.addEventListener("abort",()=>{x(),m(QR())}),g.addEventListener("timeout",()=>{x();const N=new Error("Request has expired");N.source={status:403},m(N)}),g.addEventListener("load",()=>{if(x(),g.status===403&&g.responseText.includes("<Message>Request has expired</Message>")){const E=new Error("Request has expired");E.source=g,m(E);return}if(g.status<200||g.status>=300){const E=new Error("Non 2xx");E.source=g,m(E);return}c==null||c({loaded:l,lengthComputable:!0});const N=g.getAllResponseHeaders().trim().split(/[\r\n]+/),_={__proto__:null};for(const E of N){const j=E.split(": "),D=j.shift(),T=j.join(": ");_[D]=T}const{etag:w,location:S}=_;if(s.toUpperCase()==="POST"&&S==null&&console.error("@uppy/aws-s3: Could not read the Location header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3/#setting-up-your-s3-bucket"),w==null){console.error("@uppy/aws-s3: Could not read the ETag header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3/#setting-up-your-s3-bucket");return}d==null||d(w),f({..._,ETag:w})}),g.addEventListener("error",N=>{x();const _=new Error("Unknown error");_.source=N.target,m(_)}),g.send(a)})}install(){k(this,gc).call(this,!0),this.uppy.addPreProcessor(k(this,Cd)),this.uppy.addUploader(k(this,Bp)),this.uppy.on("cancel-all",k(this,Up))}uninstall(){this.uppy.removePreProcessor(k(this,Cd)),this.uppy.removeUploader(k(this,Bp)),this.uppy.off("cancel-all",k(this,Up))}};_d=new WeakMap,Gn=new WeakMap,Hr=new WeakSet,Wb=function(r){r==null||!("endpoint"in r||"companionUrl"in r||"headers"in r||"companionHeaders"in r||"cookiesRule"in r||"companionCookiesRule"in r)||("companionUrl"in r&&!("endpoint"in r)&&this.uppy.log("`companionUrl` option has been removed in @uppy/aws-s3, use `endpoint` instead.","warning"),"companionHeaders"in r&&!("headers"in r)&&this.uppy.log("`companionHeaders` option has been removed in @uppy/aws-s3, use `headers` instead.","warning"),"companionCookiesRule"in r&&!("cookiesRule"in r)&&this.uppy.log("`companionCookiesRule` option has been removed in @uppy/aws-s3, use `cookiesRule` instead.","warning"),"endpoint"in r?ne(this,Gn,new XR(this.uppy,{pluginId:this.id,provider:"AWS",companionUrl:this.opts.endpoint,companionHeaders:this.opts.headers,companionCookiesRule:this.opts.cookiesRule})):("headers"in r&&k(this,Cd).call(this),"cookiesRule"in r&&(k(this,Gn).opts.companionCookiesRule=r.cookiesRule)))},Eo=function(r){if(!k(this,Gn))throw new Error(`Expected a \`endpoint\` option containing a URL, or if you are not using Companion, a custom \`${r}\` implementation.`)},xs=new WeakMap,a7=async function(r){if(Pn(r==null?void 0:r.signal),k(this,xs)==null){const{getTemporarySecurityCredentials:n}=this.opts;n===!0?(ce(this,Hr,Eo).call(this,"getTemporarySecurityCredentials"),ne(this,xs,k(this,Gn).get("s3/sts",r).then(ou))):ne(this,xs,n(r)),ne(this,xs,await k(this,xs)),setTimeout(()=>{ne(this,xs,null)},(jE(k(this,xs).credentials)||0)*500)}return k(this,xs)},R1=new WeakMap,Nd=new WeakMap,o7=function(r){return new Promise((n,i)=>{const s=(h,f)=>{const m=this.uppy.getFile(r.id);this.uppy.emit("upload-progress",m,{uploadStarted:m.progress.uploadStarted??0,bytesUploaded:h,bytesTotal:f})},a=h=>{this.uppy.log(h),this.uppy.emit("upload-error",r,h),this.resetUploaderReferences(r.id),i(h)},l=h=>{const f={body:{...h},status:200,uploadURL:h.location};this.resetUploaderReferences(r.id),this.uppy.emit("upload-success",k(this,Nd).call(this,r),f),h.location&&this.uppy.log(`Download ${r.name} from ${h.location}`),n(void 0)},c=new Dae(r.data,{companionComm:k(this,_d),log:(...h)=>this.uppy.log(...h),getChunkSize:this.opts.getChunkSize?this.opts.getChunkSize.bind(this):void 0,onProgress:s,onError:a,onSuccess:l,onPartComplete:h=>{this.uppy.emit("s3-multipart:part-uploaded",k(this,Nd).call(this,r),h)},file:r,shouldUseMultipart:this.opts.shouldUseMultipart,...r.s3Multipart});this.uploaders[r.id]=c;const d=new aae(this.uppy);this.uploaderEvents[r.id]=d,d.onFileRemove(r.id,h=>{c.abort(),this.resetUploaderReferences(r.id,{abort:!0}),n(`upload ${h} was removed`)}),d.onCancelAll(r.id,()=>{c.abort(),this.resetUploaderReferences(r.id,{abort:!0}),n(`upload ${r.id} was canceled`)}),d.onFilePause(r.id,h=>{h?c.pause():c.start()}),d.onPauseAll(r.id,()=>{c.pause()}),d.onResumeAll(r.id,()=>{c.start()}),c.start()})},l7=function(r){var n;return{...(n=r.remote)==null?void 0:n.body,protocol:"s3-multipart",size:r.data.size,metadata:r.meta}},Bp=new WeakMap,Cd=new WeakMap,gc=new WeakMap,Up=new WeakMap,M(F1,"VERSION",Eae.version);let Vb=F1;function Fae({maxNumberOfFiles:t=1,maxFileSize:e=10485760,onGetUploadParameters:r,onComplete:n,buttonClassName:i,children:s}){const[a,l]=b.useState(!1),[c]=b.useState(()=>new wb({restrictions:{maxNumberOfFiles:t,maxFileSize:e},autoProceed:!1}).use(Vb,{shouldUseMultipart:!1,getUploadParameters:r}).on("complete",d=>{n==null||n(d)}));return o.jsxs("div",{children:[o.jsx(ue,{onClick:()=>l(!0),className:i,children:s}),o.jsx(ZR,{uppy:c,open:a,onRequestClose:()=>l(!1),proudlyDisplayPoweredByUppy:!1})]})}function Lae(){const[t,e]=b.useState(""),[r,n]=b.useState("message"),[i,s]=b.useState(null),[a,l]=b.useState(null),{toast:c}=xi(),d=Rn(),{user:h}=ns(),{data:f=[],isLoading:m}=Rt({queryKey:["/api/community/posts"]}),g=Ut({mutationFn:async P=>(await dt("POST","/api/community/posts",P)).json(),onSuccess:()=>{d.invalidateQueries({queryKey:["/api/community/posts"]}),e(""),n("message"),s(null),l(null),c({title:"Post shared!",description:"Your post has been shared with the community."})},onError:()=>{c({title:"Error",description:"Failed to share post",variant:"destructive"})}}),y=Ut({mutationFn:async P=>(await dt("POST",`/api/community/posts/${P}/like`)).json(),onSuccess:()=>{d.invalidateQueries({queryKey:["/api/community/posts"]})}}),x=Ut({mutationFn:async P=>(await dt("POST",`/api/community/posts/${P}/dislike`)).json(),onSuccess:()=>{d.invalidateQueries({queryKey:["/api/community/posts"]})},onError:()=>{c({title:"Error",description:"Failed to dislike post",variant:"destructive"})}}),N=Ut({mutationFn:async P=>(await dt("DELETE",`/api/community/posts/${P}`)).json(),onSuccess:()=>{d.invalidateQueries({queryKey:["/api/community/posts"]}),c({title:"Post deleted",description:"Your post has been deleted successfully."})},onError:P=>{c({title:"Error",description:P.message||"Failed to delete post",variant:"destructive"})}}),_=()=>{t.trim()&&g.mutate({content:t.trim(),postType:r,imageUrl:i||void 0})},w=async()=>({method:"PUT",url:(await(await dt("POST","/api/objects/upload")).json()).uploadURL}),S=async P=>{if(P.successful&&P.successful.length>0){const F=P.successful[0].uploadURL;try{const H=await(await dt("PUT","/api/community/post-images",{imageURL:F})).json();s(H.objectPath||null),l(F||null),c({title:"Image uploaded!",description:"Your image is ready to share with your post."})}catch(q){console.error("Error setting image ACL:",q),c({title:"Upload error",description:"Image uploaded but failed to process. Try again.",variant:"destructive"})}}},E=()=>{s(null),l(null)},j=P=>{y.mutate(P)},D=P=>{x.mutate(P)},T=P=>{confirm("Are you sure you want to delete this post? This action cannot be undone.")&&N.mutate(P)},O=P=>{const V=new Date,F=new Date(P),q=V.getTime()-F.getTime(),H=Math.floor(q/(1e3*60)),le=Math.floor(H/60),ae=Math.floor(le/24);return H<1?"Just now":H<60?`${H}m ago`:le<24?`${le}h ago`:`${ae}d ago`},B=P=>{switch(P){case"workout_progress":return o.jsx(Xe,{className:"bg-gradient-to-r from-red-500/20 to-orange-500/20 text-red-700 border-red-300 animate-pulse",children:" Workout Beast"});case"goal_achievement":return o.jsx(Xe,{className:"bg-gradient-to-r from-green-500/20 to-emerald-500/20 text-green-700 border-green-300 animate-bounce",children:" Goal Crusher"});default:return o.jsx(Xe,{className:"bg-gradient-to-r from-blue-500/20 to-purple-500/20 text-blue-700 border-blue-300",children:" Community Voice"})}};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-red-50 dark:from-gray-900 dark:via-purple-900/20 dark:to-red-900/20 relative overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[o.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-purple-400/30 to-pink-400/30 rounded-full blur-3xl animate-pulse"}),o.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-br from-red-400/30 to-orange-400/30 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),o.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-gradient-to-br from-blue-400/20 to-purple-400/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}}),o.jsx("div",{className:"absolute top-20 left-[10%] animate-bounce opacity-40",style:{animationDuration:"3s",animationDelay:"0s"},children:o.jsx(hr,{className:"w-8 h-8 text-purple-400"})}),o.jsx("div",{className:"absolute top-40 right-[15%] animate-bounce opacity-40",style:{animationDuration:"4s",animationDelay:"1s"},children:o.jsx(Yi,{className:"w-10 h-10 text-yellow-400"})}),o.jsx("div",{className:"absolute top-[60%] left-[5%] animate-bounce opacity-40",style:{animationDuration:"3.5s",animationDelay:"2s"},children:o.jsx(ti,{className:"w-9 h-9 text-green-400"})}),o.jsx("div",{className:"absolute bottom-32 right-[8%] animate-bounce opacity-40",style:{animationDuration:"4.5s",animationDelay:"0.5s"},children:o.jsx(dl,{className:"w-8 h-8 text-orange-400"})}),o.jsx("div",{className:"absolute top-[35%] right-[25%] animate-bounce opacity-30",style:{animationDuration:"5s",animationDelay:"1.5s"},children:o.jsx(Ja,{className:"w-7 h-7 text-pink-400"})}),o.jsx("div",{className:"absolute bottom-[45%] left-[20%] animate-bounce opacity-30",style:{animationDuration:"3.8s",animationDelay:"2.5s"},children:o.jsx(Xr,{className:"w-8 h-8 text-red-400"})}),o.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-purple-500 via-pink-500 to-red-500 animate-pulse"}),o.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-gradient-to-r from-red-500 via-pink-500 to-purple-500 animate-pulse",style:{animationDelay:"1s"}}),o.jsx("div",{className:"absolute top-[25%] left-[30%] w-2 h-2 bg-purple-400 rounded-full animate-ping opacity-20",style:{animationDuration:"3s"}}),o.jsx("div",{className:"absolute top-[70%] right-[35%] w-3 h-3 bg-pink-400 rounded-full animate-ping opacity-20",style:{animationDuration:"4s",animationDelay:"1s"}}),o.jsx("div",{className:"absolute bottom-[30%] left-[40%] w-2 h-2 bg-red-400 rounded-full animate-ping opacity-20",style:{animationDuration:"3.5s",animationDelay:"2s"}}),o.jsx("div",{className:"absolute top-[15%] right-[45%] w-2 h-2 bg-yellow-400 rounded-full animate-ping opacity-20",style:{animationDuration:"5s",animationDelay:"0.5s"}})]}),o.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6 md:py-8 relative z-10",children:[o.jsxs("div",{className:"mb-6 md:mb-12",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4 md:mb-6",children:[o.jsx("div",{className:"flex items-center justify-center w-12 h-12 md:w-16 md:h-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full shrink-0",children:o.jsx(Xd,{className:"w-6 h-6 md:w-8 md:h-8 text-white"})}),o.jsx("h1",{className:"text-[32px] md:text-5xl font-black bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 bg-clip-text text-transparent tracking-tight leading-none",children:"Community Hub"})]}),o.jsx("p",{className:"text-base md:text-xl text-gray-700 dark:text-gray-300 mb-4 md:mb-6 leading-snug",children:"Share your victories, inspire others, and get motivated "}),o.jsxs("div",{className:"flex flex-wrap gap-3 md:gap-4",children:[o.jsxs("div",{className:"flex items-center gap-1.5 text-purple-600 bg-purple-50 dark:bg-purple-900/20 px-3 py-2 rounded-full",children:[o.jsx(Si,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:"Share"})]}),o.jsxs("div",{className:"flex items-center gap-1.5 text-pink-600 bg-pink-50 dark:bg-pink-900/20 px-3 py-2 rounded-full",children:[o.jsx(Ja,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:"Motivate"})]}),o.jsxs("div",{className:"flex items-center gap-1.5 text-red-600 bg-red-50 dark:bg-red-900/20 px-3 py-2 rounded-full",children:[o.jsx(Xr,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:"Level Up"})]})]})]}),o.jsxs(Le,{className:"mb-6 md:mb-12 bg-gradient-to-br from-white to-purple-50/50 dark:from-gray-800 dark:to-purple-900/20 border-purple-200 dark:border-purple-700 shadow-lg md:shadow-xl",children:[o.jsx(kt,{className:"bg-gradient-to-r from-purple-500/10 via-pink-500/10 to-red-500/10 p-4 md:p-6",children:o.jsxs(Ot,{className:"flex items-center text-lg md:text-2xl",children:[o.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center mr-2 md:mr-3 shrink-0",children:o.jsx(Si,{className:"w-4 h-4 md:w-5 md:h-5 text-white"})}),o.jsx("span",{className:"bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Share Your Journey"})]})}),o.jsxs(Ve,{className:"space-y-4 md:space-y-6 p-4 md:p-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm md:text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2 flex items-center",children:[o.jsx(ti,{className:"w-4 h-4 mr-2 text-purple-500"}),"Choose Your Vibe"]}),o.jsxs(ba,{value:r,onValueChange:P=>n(P),children:[o.jsx(Ms,{className:"w-full min-h-[44px] bg-gradient-to-r from-purple-50 to-pink-50 border-purple-200 hover:border-purple-300 transition-colors text-base","data-testid":"select-post-type",children:o.jsx(_a,{})}),o.jsxs(Rs,{children:[o.jsxs(ur,{value:"message",className:"cursor-pointer hover:bg-purple-50 min-h-[44px] text-base",children:[" ",o.jsx("span",{className:"font-medium",children:"General Thoughts"})]}),o.jsxs(ur,{value:"workout_progress",className:"cursor-pointer hover:bg-red-50 min-h-[44px] text-base",children:[" ",o.jsx("span",{className:"font-medium",children:"Workout Beast Mode"})]}),o.jsxs(ur,{value:"goal_achievement",className:"cursor-pointer hover:bg-green-50 min-h-[44px] text-base",children:[" ",o.jsx("span",{className:"font-medium",children:"Goal Crusher"})]})]})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm md:text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2 flex items-center",children:[o.jsx(XH,{className:"w-4 h-4 mr-2 text-pink-500"}),"Express Yourself"]}),o.jsx(il,{placeholder:r==="workout_progress"?" Just crushed an amazing workout! Tell us about it...":r==="goal_achievement"?" Goal achieved! Share your victory story...":" What's motivating you today?",value:t,onChange:P=>e(P.target.value),rows:4,className:"w-full bg-gradient-to-br from-gray-900 to-gray-800 dark:from-gray-800 dark:to-gray-700 border-purple-200 focus:border-purple-400 focus:ring-purple-400 transition-all duration-200 text-base text-white min-h-[100px]","data-testid":"textarea-post-content"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2 flex items-center",children:[o.jsx(ZH,{className:"w-4 h-4 mr-2 text-orange-500"}),"Add a Picture (Optional)"]}),a&&o.jsxs("div",{className:"mb-3 relative",children:[o.jsx("img",{src:a,alt:"Preview",className:"w-full max-w-sm h-32 object-cover rounded-lg border-2 border-purple-200 shadow-lg"}),o.jsx(ue,{onClick:E,variant:"destructive",size:"sm",className:"absolute top-2 right-2 rounded-full",children:""})]}),!a&&o.jsx(Fae,{maxNumberOfFiles:1,maxFileSize:5242880,onGetUploadParameters:w,onComplete:S,buttonClassName:"w-full bg-gradient-to-r from-orange-400 to-yellow-400 hover:from-orange-500 hover:to-yellow-500 text-white font-semibold py-3 px-6 rounded-lg shadow-lg hover:shadow-xl transition-all duration-200",children:o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsx(lI,{className:"w-5 h-5"}),o.jsx("span",{children:"Upload Photo"})]})})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx(ue,{onClick:_,disabled:!t.trim()||g.isPending,className:"w-full md:w-auto min-h-[44px] px-6 py-3 bg-gradient-to-r from-purple-500 via-pink-500 to-red-500 hover:from-purple-600 hover:via-pink-600 hover:to-red-600 text-white font-bold text-base rounded-full shadow-lg active:scale-95 transition-all duration-200","data-testid":"button-submit-post",children:g.isPending?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Sharing..."]}):o.jsxs(o.Fragment,{children:[o.jsx(rG,{className:"mr-2",size:18}),"Launch Post "]})})})]})]}),o.jsx("div",{className:"space-y-4 md:space-y-3",children:m?Array.from({length:3}).map((P,V)=>o.jsx(Le,{className:"bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-700 shadow-lg",children:o.jsx(Ve,{className:"p-4 md:p-6",children:o.jsxs("div",{className:"animate-pulse space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-200 to-pink-200 rounded-full"}),o.jsxs("div",{className:"space-y-3 flex-1",children:[o.jsx("div",{className:"h-4 bg-gradient-to-r from-purple-200 to-pink-200 rounded-full w-40"}),o.jsx("div",{className:"h-3 bg-gradient-to-r from-gray-200 to-gray-300 rounded-full w-32"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"h-5 bg-gradient-to-r from-gray-200 to-gray-300 rounded-full w-full"}),o.jsx("div",{className:"h-5 bg-gradient-to-r from-gray-200 to-gray-300 rounded-full w-3/4"})]})]})})},V)):f.length>0?f.map((P,V)=>{var F,q;return o.jsx(Le,{className:"bg-gradient-to-br from-white via-purple-50/30 to-pink-50/30 dark:from-gray-800 dark:via-purple-900/10 dark:to-pink-900/10 shadow-md active:shadow-lg transition-all duration-200 border-purple-100 dark:border-purple-700/50 overflow-hidden","data-testid":`card-post-${P.id}`,children:o.jsx(Ve,{className:"p-4 md:p-3",children:o.jsxs("div",{className:"flex items-start gap-3 md:gap-2",children:[o.jsxs("div",{className:"relative shrink-0",children:[o.jsx("div",{className:`absolute -inset-1 rounded-full ${P.user.streak>0?"bg-gradient-to-r from-yellow-400 to-orange-400":"bg-gradient-to-r from-purple-400 to-pink-400"}`}),o.jsxs(OM,{className:"relative w-10 h-10 md:w-8 md:h-8 border-2 border-white shadow-sm",children:[P.user.profileImageUrl&&o.jsx(MM,{src:P.user.profileImageUrl,alt:`${P.user.firstName||"User"}'s profile`,className:"object-cover"}),o.jsx(RM,{className:"bg-gradient-to-br from-purple-500 to-pink-500 text-white text-base md:text-sm font-bold",children:(((F=P.user.firstName)==null?void 0:F.charAt(0))||((q=P.user.email)==null?void 0:q.charAt(0))||"U").toUpperCase()})]}),P.user.streak>0&&o.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 md:w-4 md:h-4 bg-yellow-500 rounded-full flex items-center justify-center shadow-sm border border-white",children:o.jsx("span",{className:"text-xs md:text-[10px] font-bold text-white",children:P.user.streak})})]}),o.jsxs("div",{className:"flex-1 space-y-2 md:space-y-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsx("p",{className:"text-sm md:text-xs font-bold bg-gradient-to-r from-purple-700 to-pink-700 bg-clip-text text-transparent truncate",children:P.user.firstName&&P.user.lastName?`${P.user.firstName} ${P.user.lastName}`:"Fitness Warrior"}),P.user.streak>0&&o.jsxs("div",{className:"flex items-center gap-1 bg-gradient-to-r from-yellow-500 to-orange-500 px-2 py-0.5 rounded-full shrink-0",children:[o.jsx(Yi,{size:12,className:"text-white"}),o.jsxs("span",{className:"text-xs font-bold text-white",children:[P.user.streak,""]})]})]}),o.jsx("p",{className:"text-xs md:text-[10px] text-gray-600 dark:text-gray-400",children:O(P.createdAt.toString())})]}),o.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[o.jsx("div",{className:"hidden md:block",children:B(P.postType)}),h&&P.userId===h.id&&o.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>T(P.id),className:"min-h-[44px] min-w-[44px] md:h-7 md:w-7 p-0 text-red-500 hover:text-red-700 hover:bg-red-50 active:scale-95 rounded-full transition-all","data-testid":`button-delete-post-${P.id}`,children:o.jsx(ul,{size:16,className:"md:w-3 md:h-3"})})]})]}),o.jsx("div",{className:"text-gray-800 dark:text-gray-100 whitespace-pre-wrap leading-relaxed md:leading-snug p-3 md:p-2 bg-gradient-to-br from-white/50 to-purple-50/50 dark:from-gray-700/50 dark:to-purple-900/20 rounded-lg md:rounded-md border border-purple-100 dark:border-purple-800 text-[15px] md:text-xs",children:P.content}),P.imageUrl&&o.jsx("div",{className:"mt-2",children:o.jsx("img",{src:P.imageUrl,alt:"Post image",className:"w-full max-w-xs h-48 md:max-w-32 md:h-20 object-cover rounded-lg md:rounded border-2 md:border border-purple-200 dark:border-purple-700 shadow-md","data-testid":`img-post-${P.id}`})}),P.workout&&o.jsx("div",{className:"bg-gradient-to-br from-red-50 via-orange-50 to-yellow-50 dark:from-red-900/20 dark:via-orange-900/20 dark:to-yellow-900/20 rounded p-2 border border-red-200 dark:border-red-700 shadow-inner",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsxs("p",{className:"font-bold text-red-700 dark:text-red-300 flex items-center",style:{fontSize:"11px"},children:[o.jsx(hr,{className:"w-3 h-3 mr-1"}),P.workout.name]}),o.jsx("p",{className:"text-red-600 dark:text-red-400 capitalize font-medium px-1.5 py-0.5 bg-red-100 dark:bg-red-800 rounded-full",style:{fontSize:"10px"},children:P.workout.category})]}),o.jsxs("div",{className:"text-right space-y-0.5",children:[o.jsxs("div",{className:"flex items-center justify-end space-x-0.5 text-orange-600 dark:text-orange-400",children:[o.jsx(Vc,{size:10}),o.jsxs("span",{className:"font-bold",style:{fontSize:"10px"},children:[P.workout.duration,"min"]})]}),o.jsxs("div",{className:"flex items-center justify-end space-x-0.5 text-yellow-600 dark:text-yellow-400",children:[o.jsx("span",{style:{fontSize:"10px"},children:""}),o.jsxs("span",{className:"font-bold",style:{fontSize:"10px"},children:[P.workout.caloriesBurned,"cal"]})]})]})]})}),o.jsxs("div",{className:"flex items-center justify-between pt-2 md:pt-1 border-t border-purple-100 dark:border-purple-800",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(ue,{variant:"ghost",size:"sm",onClick:()=>j(P.id),disabled:y.isPending,className:"h-11 md:h-7 px-3 md:px-2 text-sm md:text-xs text-gray-600 hover:text-red-500 hover:bg-red-50 active:scale-95 transition-all","data-testid":`button-like-post-${P.id}`,children:[o.jsx(Ja,{className:"mr-1.5 md:mr-1",size:16}),o.jsx("span",{className:"font-bold",children:"Like"})]}),o.jsxs(ue,{variant:"ghost",size:"sm",onClick:()=>D(P.id),disabled:x.isPending,className:"h-11 md:h-7 px-3 md:px-2 text-sm md:text-xs text-gray-600 hover:text-blue-500 hover:bg-blue-50 active:scale-95 transition-all","data-testid":`button-dislike-post-${P.id}`,children:[o.jsx(oI,{className:"mr-1.5 md:mr-1",size:16}),o.jsx("span",{className:"font-bold",children:"Dislike"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"bg-gradient-to-r from-red-100 to-pink-100 px-2.5 md:px-2 py-1 md:py-0.5 rounded-full",children:o.jsxs("span",{className:"text-sm md:text-xs font-bold text-red-700","data-testid":`text-likes-${P.id}`,children:[P.likes," "]})}),o.jsx("div",{className:"bg-gradient-to-r from-blue-100 to-indigo-100 px-2.5 md:px-2 py-1 md:py-0.5 rounded-full",children:o.jsxs("span",{className:"text-sm md:text-xs font-bold text-blue-700","data-testid":`text-dislikes-${P.id}`,children:[P.dislikes||0," "]})})]})]})]})]})})},P.id)}):o.jsx(Le,{className:"bg-gradient-to-br from-purple-50 via-pink-50 to-red-50 dark:from-gray-800 dark:via-purple-900/20 dark:to-red-900/20 shadow-lg border-purple-200 dark:border-purple-700",children:o.jsx(Ve,{className:"p-6 md:p-8",children:o.jsxs("div",{className:"text-center py-8 md:py-16",children:[o.jsx("div",{className:"relative mb-6 md:mb-8",children:o.jsx("div",{className:"w-20 h-20 md:w-24 md:h-24 bg-gradient-to-br from-purple-400 to-pink-400 rounded-full mx-auto flex items-center justify-center shadow-xl",children:o.jsx(Si,{className:"w-10 h-10 md:w-12 md:h-12 text-white"})})}),o.jsx("h3",{className:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 bg-clip-text text-transparent mb-3 md:mb-4",children:"Ready to Ignite the Community? "}),o.jsx("p",{className:"text-base md:text-xl text-gray-700 dark:text-gray-300 mb-6 md:mb-8 max-w-2xl mx-auto",children:"Be the spark that starts the fire! Share your fitness journey and inspire others."}),o.jsxs(ue,{onClick:()=>e("Just started my fitness journey and feeling amazing! "),className:"w-full md:w-auto min-h-[44px] px-6 md:px-8 py-3 md:py-4 bg-gradient-to-r from-purple-500 via-pink-500 to-red-500 hover:from-purple-600 hover:via-pink-600 hover:to-red-600 text-white font-bold text-base md:text-xl rounded-full shadow-lg active:scale-95 transition-all duration-200","data-testid":"button-start-first-post",children:[o.jsx(Si,{className:"mr-2 md:mr-3",size:20}),"Light Up the Feed! "]})]})})})})]})]})}var TN="Tabs",[Bae,C0e]=hn(TN,[nh]),c7=nh(),[Uae,IN]=Bae(TN),u7=b.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:s,orientation:a="horizontal",dir:l,activationMode:c="automatic",...d}=t,h=rh(l),[f,m]=ts({prop:n,onChange:i,defaultProp:s});return o.jsx(Uae,{scope:r,baseId:Os(),value:f,onValueChange:m,orientation:a,dir:h,activationMode:c,children:o.jsx(Fe.div,{dir:h,"data-orientation":a,...d,ref:e})})});u7.displayName=TN;var d7="TabsList",h7=b.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,s=IN(d7,r),a=c7(r);return o.jsx(X_,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:n,children:o.jsx(Fe.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});h7.displayName=d7;var f7="TabsTrigger",p7=b.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...s}=t,a=IN(f7,r),l=c7(r),c=v7(a.baseId,n),d=x7(a.baseId,n),h=n===a.value;return o.jsx(Q_,{asChild:!0,...l,focusable:!i,active:h,children:o.jsx(Fe.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:e,onMouseDown:xe(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?a.onValueChange(n):f.preventDefault()}),onKeyDown:xe(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(n)}),onFocus:xe(t.onFocus,()=>{const f=a.activationMode!=="manual";!h&&!i&&f&&a.onValueChange(n)})})})});p7.displayName=f7;var m7="TabsContent",g7=b.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:s,...a}=t,l=IN(m7,r),c=v7(l.baseId,n),d=x7(l.baseId,n),h=n===l.value,f=b.useRef(h);return b.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),o.jsx(Di,{present:i||h,children:({present:m})=>o.jsx(Fe.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:m&&s})})});g7.displayName=m7;function v7(t,e){return`${t}-trigger-${e}`}function x7(t,e){return`${t}-content-${e}`}var zae=u7,y7=h7,w7=p7,b7=g7;const jv=zae,pm=b.forwardRef(({className:t,...e},r)=>o.jsx(y7,{ref:r,className:be("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));pm.displayName=y7.displayName;const Fs=b.forwardRef(({className:t,...e},r)=>o.jsx(w7,{ref:r,className:be("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Fs.displayName=w7.displayName;const Ls=b.forwardRef(({className:t,...e},r)=>o.jsx(b7,{ref:r,className:be("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Ls.displayName=b7.displayName;const $ae={love:{icon:Ja,color:"text-red-500",bg:"bg-red-50 border-red-200"},like:{icon:iG,color:"text-green-500",bg:"bg-green-50 border-green-200"},dislike:{icon:oI,color:"text-orange-500",bg:"bg-orange-50 border-orange-200"},never:{icon:Pi,color:"text-red-600",bg:"bg-red-100 border-red-300"}},S0=[{id:"proteins",name:"Proteins",icon:""},{id:"grains",name:"Grains",icon:""},{id:"vegetables",name:"Vegetables",icon:""},{id:"fruits",name:"Fruits",icon:""},{id:"dairy",name:"Dairy",icon:""},{id:"fats",name:"Healthy Fats",icon:""},{id:"nuts",name:"Nuts & Seeds",icon:""},{id:"legumes",name:"Legumes",icon:""}];function Vae({onComplete:t,showCalorieCalculator:e=!0}){const[r,n]=b.useState("proteins"),[i,s]=b.useState({}),[a,l]=b.useState(2e3),{toast:c}=xi(),{data:d=[],isLoading:h}=Rt({queryKey:["/api/food-items-with-preferences",r],queryFn:()=>dt("GET",`/api/food-items-with-preferences?category=${r}`).then(N=>N.json())}),f=Ut({mutationFn:async({foodItemId:N,preference:_})=>(await dt("POST","/api/user-food-preference",{foodItemId:N,preference:_})).json(),onSuccess:()=>{Vw.invalidateQueries({queryKey:["/api/food-items-with-preferences"]}),Vw.invalidateQueries({queryKey:["/api/user-food-preferences"]})},onError:()=>{c({title:"Error",description:"Failed to save food preference",variant:"destructive"})}}),m=(N,_)=>{s(w=>({...w,[N]:_})),f.mutate({foodItemId:N,preference:_})},g=()=>{const N=Object.entries(i).filter(([S,E])=>E==="like"||E==="love");if(N.length===0)return 2e3;const w=N.reduce((S,[E])=>{const j=d.find(D=>D.id===E);return S+((j==null?void 0:j.caloriesPer100g)||0)},0)/N.length;return Math.round(w*7)},y=N=>{var _;return i[N.id]||((_=N.userPreference)==null?void 0:_.preference)||null},x=S0.filter(N=>d.some(_=>_.category===N.id&&y(_))).length;return nt.useEffect(()=>{const N=g();l(N)},[i,d]),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center space-y-2",children:[o.jsxs("h2",{className:"text-2xl font-bold flex items-center justify-center gap-2",children:[o.jsx(Si,{className:"w-6 h-6 text-primary"}),"Food Preferences"]}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Tell us which foods you like to get personalized meal plans"}),o.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm",children:[o.jsxs(Xe,{variant:"outline",children:[x,"/",S0.length," categories completed"]}),e&&o.jsxs(Xe,{variant:"secondary",className:"flex items-center gap-1",children:[o.jsx($H,{className:"w-3 h-3"}),"Est. ",a," cal/day"]})]})]}),o.jsxs(jv,{value:r,onValueChange:n,children:[o.jsx(pm,{className:"grid grid-cols-4 lg:grid-cols-8 w-full",children:S0.map(N=>o.jsxs(Fs,{value:N.id,className:"text-xs",children:[o.jsx("span",{className:"mr-1",children:N.icon}),o.jsx("span",{className:"hidden sm:inline",children:N.name})]},N.id))}),S0.map(N=>o.jsxs(Ls,{value:N.id,className:"space-y-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsxs("h3",{className:"text-lg font-semibold",children:[N.icon," ",N.name]}),o.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Rate these ",N.name.toLowerCase()," to personalize your meal plans"]})]}),h?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:6}).map((_,w)=>o.jsx(Le,{className:"animate-pulse",children:o.jsxs(Ve,{className:"p-4",children:[o.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),o.jsx("div",{className:"h-3 bg-gray-100 rounded mb-3"}),o.jsx("div",{className:"flex gap-2",children:Array.from({length:4}).map((S,E)=>o.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded"},E))})]})},w))}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:d.filter(_=>_.category===N.id).map(_=>{const w=y(_);return o.jsx(Le,{className:"hover:shadow-md transition-shadow",children:o.jsx(Ve,{className:"p-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:_.name}),o.jsxs("p",{className:"text-xs text-gray-500",children:[_.caloriesPer100g," cal per 100g"]}),o.jsx("p",{className:"text-xs text-gray-400",children:_.commonServingSize})]}),o.jsx("div",{className:"flex gap-1",children:Object.entries($ae).map(([S,E])=>{const j=E.icon,D=w===S;return o.jsx("button",{onClick:()=>m(_.id,S),className:`p-2 rounded-md border transition-all ${D?`${E.bg} ${E.color} border-current scale-110`:"border-gray-200 hover:border-gray-300 text-gray-400 hover:text-gray-600"}`,title:S.charAt(0).toUpperCase()+S.slice(1),"data-testid":`preference-${S}-${_.id}`,children:o.jsx(j,{className:"w-4 h-4"})},S)})}),w&&o.jsx(Xe,{variant:"outline",className:"text-xs",children:w.charAt(0).toUpperCase()+w.slice(1)})]})})},_.id)})})]},N.id))]}),x>=3&&t&&o.jsxs("div",{className:"text-center pt-4",children:[o.jsxs(ue,{onClick:()=>t(Object.entries(i)),size:"lg",className:"min-w-48","data-testid":"complete-preferences",children:[o.jsx(Si,{className:"w-4 h-4 mr-2"}),"Generate My Meal Plan"]}),o.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["You've completed ",x," categories. You can continue or generate your plan now."]})]})]})}var mm=t=>t.type==="checkbox",Xl=t=>t instanceof Date,Yn=t=>t==null;const _7=t=>typeof t=="object";var Ir=t=>!Yn(t)&&!Array.isArray(t)&&_7(t)&&!Xl(t),N7=t=>Ir(t)&&t.target?mm(t.target)?t.target.checked:t.target.value:t,Wae=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,C7=(t,e)=>t.has(Wae(e)),Hae=t=>{const e=t.constructor&&t.constructor.prototype;return Ir(e)&&e.hasOwnProperty("isPrototypeOf")},DN=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function gn(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(DN&&(t instanceof Blob||n))&&(r||Ir(t)))if(e=r?[]:{},!r&&!Hae(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=gn(t[i]));else return t;return e}var Pv=t=>Array.isArray(t)?t.filter(Boolean):[],jr=t=>t===void 0,Se=(t,e,r)=>{if(!e||!Ir(t))return r;const n=Pv(e.split(/[,[\].]+?/)).reduce((i,s)=>Yn(i)?i:i[s],t);return jr(n)||n===t?jr(t[e])?r:t[e]:n},_i=t=>typeof t=="boolean",ON=t=>/^\w*$/.test(t),S7=t=>Pv(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Wt=(t,e,r)=>{let n=-1;const i=ON(e)?[e]:S7(e),s=i.length,a=s-1;for(;++n<s;){const l=i[n];let c=r;if(n!==a){const d=t[l];c=Ir(d)||Array.isArray(d)?d:isNaN(+i[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const t1={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Es={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ra={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},E7=nt.createContext(null),Tv=()=>nt.useContext(E7),Gae=t=>{const{children:e,...r}=t;return nt.createElement(E7.Provider,{value:r},e)};var A7=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const a=s;return e._proxyFormState[a]!==Es.all&&(e._proxyFormState[a]=!n||Es.all),r&&(r[a]=!0),t[a]}});return i};function qae(t){const e=Tv(),{control:r=e.control,disabled:n,name:i,exact:s}=t||{},[a,l]=nt.useState(r._formState),c=nt.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=nt.useRef(i);return d.current=i,nt.useEffect(()=>r._subscribe({name:d.current,formState:c.current,exact:s,callback:h=>{!n&&l({...r._formState,...h})}}),[r,n,s]),nt.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),nt.useMemo(()=>A7(a,r,c.current,!1),[a,r])}var ga=t=>typeof t=="string",k7=(t,e,r,n,i)=>ga(t)?(n&&e.watch.add(t),Se(r,t,i)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),Se(r,s))):(n&&(e.watchAll=!0),r);function Zae(t){const e=Tv(),{control:r=e.control,name:n,defaultValue:i,disabled:s,exact:a}=t||{},l=nt.useRef(n),c=nt.useRef(i);l.current=n,nt.useEffect(()=>r._subscribe({name:l.current,formState:{values:!0},exact:a,callback:f=>!s&&h(k7(l.current,r._names,f.values||r._formValues,!1,c.current))}),[r,s,a]);const[d,h]=nt.useState(r._getWatch(n,i));return nt.useEffect(()=>r._removeUnmounted()),d}function Kae(t){const e=Tv(),{name:r,disabled:n,control:i=e.control,shouldUnregister:s}=t,a=C7(i._names.array,r),l=Zae({control:i,name:r,defaultValue:Se(i._formValues,r,Se(i._defaultValues,r,t.defaultValue)),exact:!0}),c=qae({control:i,name:r,exact:!0}),d=nt.useRef(t),h=nt.useRef(i.register(r,{...t.rules,value:l,..._i(t.disabled)?{disabled:t.disabled}:{}})),f=nt.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Se(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!Se(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Se(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Se(c.validatingFields,r)},error:{enumerable:!0,get:()=>Se(c.errors,r)}}),[c,r]),m=nt.useCallback(N=>h.current.onChange({target:{value:N7(N),name:r},type:t1.CHANGE}),[r]),g=nt.useCallback(()=>h.current.onBlur({target:{value:Se(i._formValues,r),name:r},type:t1.BLUR}),[r,i._formValues]),y=nt.useCallback(N=>{const _=Se(i._fields,r);_&&N&&(_._f.ref={focus:()=>N.focus(),select:()=>N.select(),setCustomValidity:w=>N.setCustomValidity(w),reportValidity:()=>N.reportValidity()})},[i._fields,r]),x=nt.useMemo(()=>({name:r,value:l,..._i(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:m,onBlur:g,ref:y}),[r,n,c.disabled,m,g,y,l]);return nt.useEffect(()=>{const N=i._options.shouldUnregister||s;i.register(r,{...d.current.rules,..._i(d.current.disabled)?{disabled:d.current.disabled}:{}});const _=(w,S)=>{const E=Se(i._fields,w);E&&E._f&&(E._f.mount=S)};if(_(r,!0),N){const w=gn(Se(i._options.defaultValues,r));Wt(i._defaultValues,r,w),jr(Se(i._formValues,r))&&Wt(i._formValues,r,w)}return!a&&i.register(r),()=>{(a?N&&!i._state.action:N)?i.unregister(r):_(r,!1)}},[r,i,a,s]),nt.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),nt.useMemo(()=>({field:x,formState:c,fieldState:f}),[x,c,f])}const Yae=t=>t.render(Kae(t));var j7=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},Nf=t=>Array.isArray(t)?t:[t],TE=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},Hb=t=>Yn(t)||!_7(t);function Oo(t,e){if(Hb(t)||Hb(e))return t===e;if(Xl(t)&&Xl(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const i of r){const s=t[i];if(!n.includes(i))return!1;if(i!=="ref"){const a=e[i];if(Xl(s)&&Xl(a)||Ir(s)&&Ir(a)||Array.isArray(s)&&Array.isArray(a)?!Oo(s,a):s!==a)return!1}}return!0}var Zn=t=>Ir(t)&&!Object.keys(t).length,MN=t=>t.type==="file",As=t=>typeof t=="function",r1=t=>{if(!DN)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},P7=t=>t.type==="select-multiple",RN=t=>t.type==="radio",Xae=t=>RN(t)||mm(t),wy=t=>r1(t)&&t.isConnected;function Qae(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=jr(t)?n++:t[e[n++]];return t}function Jae(t){for(const e in t)if(t.hasOwnProperty(e)&&!jr(t[e]))return!1;return!0}function Ur(t,e){const r=Array.isArray(e)?e:ON(e)?[e]:S7(e),n=r.length===1?t:Qae(t,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(Ir(n)&&Zn(n)||Array.isArray(n)&&Jae(n))&&Ur(t,r.slice(0,-1)),t}var T7=t=>{for(const e in t)if(As(t[e]))return!0;return!1};function n1(t,e={}){const r=Array.isArray(t);if(Ir(t)||r)for(const n in t)Array.isArray(t[n])||Ir(t[n])&&!T7(t[n])?(e[n]=Array.isArray(t[n])?[]:{},n1(t[n],e[n])):Yn(t[n])||(e[n]=!0);return e}function I7(t,e,r){const n=Array.isArray(t);if(Ir(t)||n)for(const i in t)Array.isArray(t[i])||Ir(t[i])&&!T7(t[i])?jr(e)||Hb(r[i])?r[i]=Array.isArray(t[i])?n1(t[i],[]):{...n1(t[i])}:I7(t[i],Yn(e)?{}:e[i],r[i]):r[i]=!Oo(t[i],e[i]);return r}var Lh=(t,e)=>I7(t,e,n1(e));const IE={value:!1,isValid:!1},DE={value:!0,isValid:!0};var D7=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!jr(t[0].attributes.value)?jr(t[0].value)||t[0].value===""?DE:{value:t[0].value,isValid:!0}:DE:IE}return IE},O7=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>jr(t)?t:e?t===""?NaN:t&&+t:r&&ga(t)?new Date(t):n?n(t):t;const OE={isValid:!1,value:null};var M7=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,OE):OE;function ME(t){const e=t.ref;return MN(e)?e.files:RN(e)?M7(t.refs).value:P7(e)?[...e.selectedOptions].map(({value:r})=>r):mm(e)?D7(t.refs).value:O7(jr(e.value)?t.ref.value:e.value,t)}var eoe=(t,e,r,n)=>{const i={};for(const s of t){const a=Se(e,s);a&&Wt(i,s,a._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},i1=t=>t instanceof RegExp,Bh=t=>jr(t)?t:i1(t)?t.source:Ir(t)?i1(t.value)?t.value.source:t.value:t,RE=t=>({isOnSubmit:!t||t===Es.onSubmit,isOnBlur:t===Es.onBlur,isOnChange:t===Es.onChange,isOnAll:t===Es.all,isOnTouch:t===Es.onTouched});const FE="AsyncFunction";var toe=t=>!!t&&!!t.validate&&!!(As(t.validate)&&t.validate.constructor.name===FE||Ir(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===FE)),roe=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),LE=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Cf=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const s=Se(t,i);if(s){const{_f:a,...l}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!n)return!0;if(a.ref&&e(a.ref,a.name)&&!n)return!0;if(Cf(l,e))break}else if(Ir(l)&&Cf(l,e))break}}};function BE(t,e,r){const n=Se(t,r);if(n||ON(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),a=Se(e,s),l=Se(t,s);if(a&&!Array.isArray(a)&&r!==s)return{name:r};if(l&&l.type)return{name:s,error:l};i.pop()}return{name:r}}var noe=(t,e,r,n)=>{r(t);const{name:i,...s}=t;return Zn(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!n||Es.all))},ioe=(t,e,r)=>!t||!e||t===e||Nf(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),soe=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,aoe=(t,e)=>!Pv(Se(t,e)).length&&Ur(t,e),ooe=(t,e,r)=>{const n=Nf(Se(t,r));return Wt(n,"root",e[r]),Wt(t,r,n),t},ig=t=>ga(t);function UE(t,e,r="validate"){if(ig(t)||Array.isArray(t)&&t.every(ig)||_i(t)&&!t)return{type:r,message:ig(t)?t:"",ref:e}}var lu=t=>Ir(t)&&!i1(t)?t:{value:t,message:""},zE=async(t,e,r,n,i,s)=>{const{ref:a,refs:l,required:c,maxLength:d,minLength:h,min:f,max:m,pattern:g,validate:y,name:x,valueAsNumber:N,mount:_}=t._f,w=Se(r,x);if(!_||e.has(x))return{};const S=l?l[0]:a,E=F=>{i&&S.reportValidity&&(S.setCustomValidity(_i(F)?"":F||""),S.reportValidity())},j={},D=RN(a),T=mm(a),O=D||T,B=(N||MN(a))&&jr(a.value)&&jr(w)||r1(a)&&a.value===""||w===""||Array.isArray(w)&&!w.length,P=j7.bind(null,x,n,j),V=(F,q,H,le=Ra.maxLength,ae=Ra.minLength)=>{const me=F?q:H;j[x]={type:F?le:ae,message:me,ref:a,...P(F?le:ae,me)}};if(s?!Array.isArray(w)||!w.length:c&&(!O&&(B||Yn(w))||_i(w)&&!w||T&&!D7(l).isValid||D&&!M7(l).isValid)){const{value:F,message:q}=ig(c)?{value:!!c,message:c}:lu(c);if(F&&(j[x]={type:Ra.required,message:q,ref:S,...P(Ra.required,q)},!n))return E(q),j}if(!B&&(!Yn(f)||!Yn(m))){let F,q;const H=lu(m),le=lu(f);if(!Yn(w)&&!isNaN(w)){const ae=a.valueAsNumber||w&&+w;Yn(H.value)||(F=ae>H.value),Yn(le.value)||(q=ae<le.value)}else{const ae=a.valueAsDate||new Date(w),me=ee=>new Date(new Date().toDateString()+" "+ee),R=a.type=="time",G=a.type=="week";ga(H.value)&&w&&(F=R?me(w)>me(H.value):G?w>H.value:ae>new Date(H.value)),ga(le.value)&&w&&(q=R?me(w)<me(le.value):G?w<le.value:ae<new Date(le.value))}if((F||q)&&(V(!!F,H.message,le.message,Ra.max,Ra.min),!n))return E(j[x].message),j}if((d||h)&&!B&&(ga(w)||s&&Array.isArray(w))){const F=lu(d),q=lu(h),H=!Yn(F.value)&&w.length>+F.value,le=!Yn(q.value)&&w.length<+q.value;if((H||le)&&(V(H,F.message,q.message),!n))return E(j[x].message),j}if(g&&!B&&ga(w)){const{value:F,message:q}=lu(g);if(i1(F)&&!w.match(F)&&(j[x]={type:Ra.pattern,message:q,ref:a,...P(Ra.pattern,q)},!n))return E(q),j}if(y){if(As(y)){const F=await y(w,r),q=UE(F,S);if(q&&(j[x]={...q,...P(Ra.validate,q.message)},!n))return E(q.message),j}else if(Ir(y)){let F={};for(const q in y){if(!Zn(F)&&!n)break;const H=UE(await y[q](w,r),S,q);H&&(F={...H,...P(q,H.message)},E(H.message),n&&(j[x]=F))}if(!Zn(F)&&(j[x]={ref:S,...F},!n))return j}}return E(!0),j};const loe={mode:Es.onSubmit,reValidateMode:Es.onChange,shouldFocusError:!0};function coe(t={}){let e={...loe,...t},r={submitCount:0,isDirty:!1,isLoading:As(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const n={};let i=Ir(e.defaultValues)||Ir(e.values)?gn(e.values||e.defaultValues)||{}:{},s=e.shouldUnregister?{}:gn(i),a={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...h};const m={array:TE(),state:TE()},g=RE(e.mode),y=RE(e.reValidateMode),x=e.criteriaMode===Es.all,N=W=>J=>{clearTimeout(d),d=setTimeout(W,J)},_=async W=>{if(!e.disabled&&(h.isValid||f.isValid||W)){const J=e.resolver?Zn((await B()).errors):await V(n,!0);J!==r.isValid&&m.state.next({isValid:J})}},w=(W,J)=>{!e.disabled&&(h.isValidating||h.validatingFields||f.isValidating||f.validatingFields)&&((W||Array.from(l.mount)).forEach(oe=>{oe&&(J?Wt(r.validatingFields,oe,J):Ur(r.validatingFields,oe))}),m.state.next({validatingFields:r.validatingFields,isValidating:!Zn(r.validatingFields)}))},S=(W,J=[],oe,ke,Ne=!0,Z=!0)=>{if(ke&&oe&&!e.disabled){if(a.action=!0,Z&&Array.isArray(Se(n,W))){const K=oe(Se(n,W),ke.argA,ke.argB);Ne&&Wt(n,W,K)}if(Z&&Array.isArray(Se(r.errors,W))){const K=oe(Se(r.errors,W),ke.argA,ke.argB);Ne&&Wt(r.errors,W,K),aoe(r.errors,W)}if((h.touchedFields||f.touchedFields)&&Z&&Array.isArray(Se(r.touchedFields,W))){const K=oe(Se(r.touchedFields,W),ke.argA,ke.argB);Ne&&Wt(r.touchedFields,W,K)}(h.dirtyFields||f.dirtyFields)&&(r.dirtyFields=Lh(i,s)),m.state.next({name:W,isDirty:q(W,J),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Wt(s,W,J)},E=(W,J)=>{Wt(r.errors,W,J),m.state.next({errors:r.errors})},j=W=>{r.errors=W,m.state.next({errors:r.errors,isValid:!1})},D=(W,J,oe,ke)=>{const Ne=Se(n,W);if(Ne){const Z=Se(s,W,jr(oe)?Se(i,W):oe);jr(Z)||ke&&ke.defaultChecked||J?Wt(s,W,J?Z:ME(Ne._f)):ae(W,Z),a.mount&&_()}},T=(W,J,oe,ke,Ne)=>{let Z=!1,K=!1;const We={name:W};if(!e.disabled){if(!oe||ke){(h.isDirty||f.isDirty)&&(K=r.isDirty,r.isDirty=We.isDirty=q(),Z=K!==We.isDirty);const Ft=Oo(Se(i,W),J);K=!!Se(r.dirtyFields,W),Ft?Ur(r.dirtyFields,W):Wt(r.dirtyFields,W,!0),We.dirtyFields=r.dirtyFields,Z=Z||(h.dirtyFields||f.dirtyFields)&&K!==!Ft}if(oe){const Ft=Se(r.touchedFields,W);Ft||(Wt(r.touchedFields,W,oe),We.touchedFields=r.touchedFields,Z=Z||(h.touchedFields||f.touchedFields)&&Ft!==oe)}Z&&Ne&&m.state.next(We)}return Z?We:{}},O=(W,J,oe,ke)=>{const Ne=Se(r.errors,W),Z=(h.isValid||f.isValid)&&_i(J)&&r.isValid!==J;if(e.delayError&&oe?(c=N(()=>E(W,oe)),c(e.delayError)):(clearTimeout(d),c=null,oe?Wt(r.errors,W,oe):Ur(r.errors,W)),(oe?!Oo(Ne,oe):Ne)||!Zn(ke)||Z){const K={...ke,...Z&&_i(J)?{isValid:J}:{},errors:r.errors,name:W};r={...r,...K},m.state.next(K)}},B=async W=>{w(W,!0);const J=await e.resolver(s,e.context,eoe(W||l.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return w(W),J},P=async W=>{const{errors:J}=await B(W);if(W)for(const oe of W){const ke=Se(J,oe);ke?Wt(r.errors,oe,ke):Ur(r.errors,oe)}else r.errors=J;return J},V=async(W,J,oe={valid:!0})=>{for(const ke in W){const Ne=W[ke];if(Ne){const{_f:Z,...K}=Ne;if(Z){const We=l.array.has(Z.name),Ft=Ne._f&&toe(Ne._f);Ft&&h.validatingFields&&w([ke],!0);const ir=await zE(Ne,l.disabled,s,x,e.shouldUseNativeValidation&&!J,We);if(Ft&&h.validatingFields&&w([ke]),ir[Z.name]&&(oe.valid=!1,J))break;!J&&(Se(ir,Z.name)?We?ooe(r.errors,ir,Z.name):Wt(r.errors,Z.name,ir[Z.name]):Ur(r.errors,Z.name))}!Zn(K)&&await V(K,J,oe)}}return oe.valid},F=()=>{for(const W of l.unMount){const J=Se(n,W);J&&(J._f.refs?J._f.refs.every(oe=>!wy(oe)):!wy(J._f.ref))&&Ye(W)}l.unMount=new Set},q=(W,J)=>!e.disabled&&(W&&J&&Wt(s,W,J),!Oo(Ee(),i)),H=(W,J,oe)=>k7(W,l,{...a.mount?s:jr(J)?i:ga(W)?{[W]:J}:J},oe,J),le=W=>Pv(Se(a.mount?s:i,W,e.shouldUnregister?Se(i,W,[]):[])),ae=(W,J,oe={})=>{const ke=Se(n,W);let Ne=J;if(ke){const Z=ke._f;Z&&(!Z.disabled&&Wt(s,W,O7(J,Z)),Ne=r1(Z.ref)&&Yn(J)?"":J,P7(Z.ref)?[...Z.ref.options].forEach(K=>K.selected=Ne.includes(K.value)):Z.refs?mm(Z.ref)?Z.refs.length>1?Z.refs.forEach(K=>(!K.defaultChecked||!K.disabled)&&(K.checked=Array.isArray(Ne)?!!Ne.find(We=>We===K.value):Ne===K.value)):Z.refs[0]&&(Z.refs[0].checked=!!Ne):Z.refs.forEach(K=>K.checked=K.value===Ne):MN(Z.ref)?Z.ref.value="":(Z.ref.value=Ne,Z.ref.type||m.state.next({name:W,values:gn(s)})))}(oe.shouldDirty||oe.shouldTouch)&&T(W,Ne,oe.shouldTouch,oe.shouldDirty,!0),oe.shouldValidate&&ie(W)},me=(W,J,oe)=>{for(const ke in J){const Ne=J[ke],Z=`${W}.${ke}`,K=Se(n,Z);(l.array.has(W)||Ir(Ne)||K&&!K._f)&&!Xl(Ne)?me(Z,Ne,oe):ae(Z,Ne,oe)}},R=(W,J,oe={})=>{const ke=Se(n,W),Ne=l.array.has(W),Z=gn(J);Wt(s,W,Z),Ne?(m.array.next({name:W,values:gn(s)}),(h.isDirty||h.dirtyFields||f.isDirty||f.dirtyFields)&&oe.shouldDirty&&m.state.next({name:W,dirtyFields:Lh(i,s),isDirty:q(W,Z)})):ke&&!ke._f&&!Yn(Z)?me(W,Z,oe):ae(W,Z,oe),LE(W,l)&&m.state.next({...r}),m.state.next({name:a.mount?W:void 0,values:gn(s)})},G=async W=>{a.mount=!0;const J=W.target;let oe=J.name,ke=!0;const Ne=Se(n,oe),Z=K=>{ke=Number.isNaN(K)||Xl(K)&&isNaN(K.getTime())||Oo(K,Se(s,oe,K))};if(Ne){let K,We;const Ft=J.type?ME(Ne._f):N7(W),ir=W.type===t1.BLUR||W.type===t1.FOCUS_OUT,is=!roe(Ne._f)&&!e.resolver&&!Se(r.errors,oe)&&!Ne._f.deps||soe(ir,Se(r.touchedFields,oe),r.isSubmitted,y,g),Br=LE(oe,l,ir);Wt(s,oe,Ft),ir?(Ne._f.onBlur&&Ne._f.onBlur(W),c&&c(0)):Ne._f.onChange&&Ne._f.onChange(W);const Oi=T(oe,Ft,ir),Pa=!Zn(Oi)||Br;if(!ir&&m.state.next({name:oe,type:W.type,values:gn(s)}),is)return(h.isValid||f.isValid)&&(e.mode==="onBlur"?ir&&_():ir||_()),Pa&&m.state.next({name:oe,...Br?{}:Oi});if(!ir&&Br&&m.state.next({...r}),e.resolver){const{errors:wm}=await B([oe]);if(Z(Ft),ke){const El=BE(r.errors,n,oe),bm=BE(wm,n,El.name||oe);K=bm.error,oe=bm.name,We=Zn(wm)}}else w([oe],!0),K=(await zE(Ne,l.disabled,s,x,e.shouldUseNativeValidation))[oe],w([oe]),Z(Ft),ke&&(K?We=!1:(h.isValid||f.isValid)&&(We=await V(n,!0)));ke&&(Ne._f.deps&&ie(Ne._f.deps),O(oe,We,K,Oi))}},ee=(W,J)=>{if(Se(r.errors,J)&&W.focus)return W.focus(),1},ie=async(W,J={})=>{let oe,ke;const Ne=Nf(W);if(e.resolver){const Z=await P(jr(W)?W:Ne);oe=Zn(Z),ke=W?!Ne.some(K=>Se(Z,K)):oe}else W?(ke=(await Promise.all(Ne.map(async Z=>{const K=Se(n,Z);return await V(K&&K._f?{[Z]:K}:K)}))).every(Boolean),!(!ke&&!r.isValid)&&_()):ke=oe=await V(n);return m.state.next({...!ga(W)||(h.isValid||f.isValid)&&oe!==r.isValid?{}:{name:W},...e.resolver||!W?{isValid:oe}:{},errors:r.errors}),J.shouldFocus&&!ke&&Cf(n,ee,W?Ne:l.mount),ke},Ee=W=>{const J={...a.mount?s:i};return jr(W)?J:ga(W)?Se(J,W):W.map(oe=>Se(J,oe))},Ke=(W,J)=>({invalid:!!Se((J||r).errors,W),isDirty:!!Se((J||r).dirtyFields,W),error:Se((J||r).errors,W),isValidating:!!Se(r.validatingFields,W),isTouched:!!Se((J||r).touchedFields,W)}),Ue=W=>{W&&Nf(W).forEach(J=>Ur(r.errors,J)),m.state.next({errors:W?r.errors:{}})},ze=(W,J,oe)=>{const ke=(Se(n,W,{_f:{}})._f||{}).ref,Ne=Se(r.errors,W)||{},{ref:Z,message:K,type:We,...Ft}=Ne;Wt(r.errors,W,{...Ft,...J,ref:ke}),m.state.next({name:W,errors:r.errors,isValid:!1}),oe&&oe.shouldFocus&&ke&&ke.focus&&ke.focus()},De=(W,J)=>As(W)?m.state.subscribe({next:oe=>W(H(void 0,J),oe)}):H(W,J,!0),Y=W=>m.state.subscribe({next:J=>{ioe(W.name,J.name,W.exact)&&noe(J,W.formState||h,tn,W.reRenderRoot)&&W.callback({values:{...s},...r,...J})}}).unsubscribe,_e=W=>(a.mount=!0,f={...f,...W.formState},Y({...W,formState:f})),Ye=(W,J={})=>{for(const oe of W?Nf(W):l.mount)l.mount.delete(oe),l.array.delete(oe),J.keepValue||(Ur(n,oe),Ur(s,oe)),!J.keepError&&Ur(r.errors,oe),!J.keepDirty&&Ur(r.dirtyFields,oe),!J.keepTouched&&Ur(r.touchedFields,oe),!J.keepIsValidating&&Ur(r.validatingFields,oe),!e.shouldUnregister&&!J.keepDefaultValue&&Ur(i,oe);m.state.next({values:gn(s)}),m.state.next({...r,...J.keepDirty?{isDirty:q()}:{}}),!J.keepIsValid&&_()},Me=({disabled:W,name:J})=>{(_i(W)&&a.mount||W||l.disabled.has(J))&&(W?l.disabled.add(J):l.disabled.delete(J))},Ze=(W,J={})=>{let oe=Se(n,W);const ke=_i(J.disabled)||_i(e.disabled);return Wt(n,W,{...oe||{},_f:{...oe&&oe._f?oe._f:{ref:{name:W}},name:W,mount:!0,...J}}),l.mount.add(W),oe?Me({disabled:_i(J.disabled)?J.disabled:e.disabled,name:W}):D(W,!0,J.value),{...ke?{disabled:J.disabled||e.disabled}:{},...e.progressive?{required:!!J.required,min:Bh(J.min),max:Bh(J.max),minLength:Bh(J.minLength),maxLength:Bh(J.maxLength),pattern:Bh(J.pattern)}:{},name:W,onChange:G,onBlur:G,ref:Ne=>{if(Ne){Ze(W,J),oe=Se(n,W);const Z=jr(Ne.value)&&Ne.querySelectorAll&&Ne.querySelectorAll("input,select,textarea")[0]||Ne,K=Xae(Z),We=oe._f.refs||[];if(K?We.find(Ft=>Ft===Z):Z===oe._f.ref)return;Wt(n,W,{_f:{...oe._f,...K?{refs:[...We.filter(wy),Z,...Array.isArray(Se(i,W))?[{}]:[]],ref:{type:Z.type,name:W}}:{ref:Z}}}),D(W,!1,void 0,Z)}else oe=Se(n,W,{}),oe._f&&(oe._f.mount=!1),(e.shouldUnregister||J.shouldUnregister)&&!(C7(l.array,W)&&a.action)&&l.unMount.add(W)}}},Qe=()=>e.shouldFocusError&&Cf(n,ee,l.mount),ft=W=>{_i(W)&&(m.state.next({disabled:W}),Cf(n,(J,oe)=>{const ke=Se(n,oe);ke&&(J.disabled=ke._f.disabled||W,Array.isArray(ke._f.refs)&&ke._f.refs.forEach(Ne=>{Ne.disabled=ke._f.disabled||W}))},0,!1))},ge=(W,J)=>async oe=>{let ke;oe&&(oe.preventDefault&&oe.preventDefault(),oe.persist&&oe.persist());let Ne=gn(s);if(m.state.next({isSubmitting:!0}),e.resolver){const{errors:Z,values:K}=await B();r.errors=Z,Ne=K}else await V(n);if(l.disabled.size)for(const Z of l.disabled)Wt(Ne,Z,void 0);if(Ur(r.errors,"root"),Zn(r.errors)){m.state.next({errors:{}});try{await W(Ne,oe)}catch(Z){ke=Z}}else J&&await J({...r.errors},oe),Qe(),setTimeout(Qe);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Zn(r.errors)&&!ke,submitCount:r.submitCount+1,errors:r.errors}),ke)throw ke},rt=(W,J={})=>{Se(n,W)&&(jr(J.defaultValue)?R(W,gn(Se(i,W))):(R(W,J.defaultValue),Wt(i,W,gn(J.defaultValue))),J.keepTouched||Ur(r.touchedFields,W),J.keepDirty||(Ur(r.dirtyFields,W),r.isDirty=J.defaultValue?q(W,gn(Se(i,W))):q()),J.keepError||(Ur(r.errors,W),h.isValid&&_()),m.state.next({...r}))},xt=(W,J={})=>{const oe=W?gn(W):i,ke=gn(oe),Ne=Zn(W),Z=Ne?i:ke;if(J.keepDefaultValues||(i=oe),!J.keepValues){if(J.keepDirtyValues){const K=new Set([...l.mount,...Object.keys(Lh(i,s))]);for(const We of Array.from(K))Se(r.dirtyFields,We)?Wt(Z,We,Se(s,We)):R(We,Se(Z,We))}else{if(DN&&jr(W))for(const K of l.mount){const We=Se(n,K);if(We&&We._f){const Ft=Array.isArray(We._f.refs)?We._f.refs[0]:We._f.ref;if(r1(Ft)){const ir=Ft.closest("form");if(ir){ir.reset();break}}}}for(const K of l.mount)R(K,Se(Z,K))}s=gn(Z),m.array.next({values:{...Z}}),m.state.next({values:{...Z}})}l={mount:J.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!h.isValid||!!J.keepIsValid||!!J.keepDirtyValues,a.watch=!!e.shouldUnregister,m.state.next({submitCount:J.keepSubmitCount?r.submitCount:0,isDirty:Ne?!1:J.keepDirty?r.isDirty:!!(J.keepDefaultValues&&!Oo(W,i)),isSubmitted:J.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Ne?{}:J.keepDirtyValues?J.keepDefaultValues&&s?Lh(i,s):r.dirtyFields:J.keepDefaultValues&&W?Lh(i,W):J.keepDirty?r.dirtyFields:{},touchedFields:J.keepTouched?r.touchedFields:{},errors:J.keepErrors?r.errors:{},isSubmitSuccessful:J.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Qt=(W,J)=>xt(As(W)?W(s):W,J),pn=(W,J={})=>{const oe=Se(n,W),ke=oe&&oe._f;if(ke){const Ne=ke.refs?ke.refs[0]:ke.ref;Ne.focus&&(Ne.focus(),J.shouldSelect&&As(Ne.select)&&Ne.select())}},tn=W=>{r={...r,...W}},Sn={control:{register:Ze,unregister:Ye,getFieldState:Ke,handleSubmit:ge,setError:ze,_subscribe:Y,_runSchema:B,_getWatch:H,_getDirty:q,_setValid:_,_setFieldArray:S,_setDisabledField:Me,_setErrors:j,_getFieldArray:le,_reset:xt,_resetDefaultValues:()=>As(e.defaultValues)&&e.defaultValues().then(W=>{Qt(W,e.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:F,_disableForm:ft,_subjects:m,_proxyFormState:h,get _fields(){return n},get _formValues(){return s},get _state(){return a},set _state(W){a=W},get _defaultValues(){return i},get _names(){return l},set _names(W){l=W},get _formState(){return r},get _options(){return e},set _options(W){e={...e,...W}}},subscribe:_e,trigger:ie,register:Ze,handleSubmit:ge,watch:De,setValue:R,getValues:Ee,reset:Qt,resetField:rt,clearErrors:Ue,unregister:Ye,setError:ze,setFocus:pn,getFieldState:Ke};return{...Sn,formControl:Sn}}function Gb(t={}){const e=nt.useRef(void 0),r=nt.useRef(void 0),[n,i]=nt.useState({isDirty:!1,isValidating:!1,isLoading:As(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:As(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:coe(t),formState:n},t.formControl&&t.defaultValues&&!As(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const s=e.current.control;return s._options=t,nt.useLayoutEffect(()=>s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0}),[s]),nt.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),nt.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==n.isDirty&&s._subjects.state.next({isDirty:a})}},[s,n.isDirty]),nt.useEffect(()=>{t.values&&!Oo(t.values,r.current)?(s._reset(t.values,s._options.resetOptions),r.current=t.values,i(a=>({...a}))):s._resetDefaultValues()},[t.values,s]),nt.useEffect(()=>{t.errors&&!Zn(t.errors)&&s._setErrors(t.errors)},[t.errors,s]),nt.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),nt.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[t.shouldUnregister,s]),e.current.formState=A7(n,s),e.current}const uoe=Gae,R7=b.createContext({}),cu=({...t})=>o.jsx(R7.Provider,{value:{name:t.name},children:o.jsx(Yae,{...t})}),Iv=()=>{const t=b.useContext(R7),e=b.useContext(F7),{getFieldState:r,formState:n}=Tv(),i=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:s}=e;return{id:s,name:t.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},F7=b.createContext({}),Bl=b.forwardRef(({className:t,...e},r)=>{const n=b.useId();return o.jsx(F7.Provider,{value:{id:n},children:o.jsx("div",{ref:r,className:be("space-y-2",t),...e})})});Bl.displayName="FormItem";const Ul=b.forwardRef(({className:t,...e},r)=>{const{error:n,formItemId:i}=Iv();return o.jsx(it,{ref:r,className:be(n&&"text-destructive",t),htmlFor:i,...e})});Ul.displayName="FormLabel";const zl=b.forwardRef(({...t},e)=>{const{error:r,formItemId:n,formDescriptionId:i,formMessageId:s}=Iv();return o.jsx(E6,{ref:e,id:n,"aria-describedby":r?`${i} ${s}`:`${i}`,"aria-invalid":!!r,...t})});zl.displayName="FormControl";const doe=b.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:n}=Iv();return o.jsx("p",{ref:r,id:n,className:be("text-sm text-muted-foreground",t),...e})});doe.displayName="FormDescription";const $l=b.forwardRef(({className:t,children:e,...r},n)=>{const{error:i,formMessageId:s}=Iv(),a=i?String((i==null?void 0:i.message)??""):e;return a?o.jsx("p",{ref:n,id:s,className:be("text-sm font-medium text-destructive",t),...r,children:a}):null});$l.displayName="FormMessage";const $E=(t,e,r)=>{if(t&&"reportValidity"in t){const n=Se(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},L7=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?$E(n.ref,r,t):n.refs&&n.refs.forEach(i=>$E(i,r,t))}},hoe=(t,e)=>{e.shouldUseNativeValidation&&L7(t,e);const r={};for(const n in t){const i=Se(e.fields,n),s=Object.assign(t[n]||{},{ref:i&&i.ref});if(foe(e.names||Object.keys(t),n)){const a=Object.assign({},Se(r,n));Wt(a,"root",s),Wt(r,n,a)}else Wt(r,n,s)}return r},foe=(t,e)=>t.some(r=>r.startsWith(e+"."));var poe=function(t,e){for(var r={};t.length;){var n=t[0],i=n.code,s=n.message,a=n.path.join(".");if(!r[a])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[a]={message:l.message,type:l.code}}else r[a]={message:s,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(h){return h.errors.forEach(function(f){return t.push(f)})}),e){var c=r[a].types,d=c&&c[n.code];r[a]=j7(a,e,r,i,d?[].concat(d,n.message):n.message)}t.shift()}return r},qb=function(t,e,r){return r===void 0&&(r={}),function(n,i,s){try{return Promise.resolve(function(a,l){try{var c=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(d){return s.shouldUseNativeValidation&&L7({},s),{errors:{},values:r.raw?n:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(a){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(a))return{values:{},errors:hoe(poe(a.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw a}))}catch(a){return Promise.reject(a)}}},jt;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const s={};for(const a of i)s[a]=a;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),a={};for(const l of s)a[l]=i[l];return t.objectValues(a)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.push(a);return s},t.find=(i,s)=>{for(const a of i)if(s(a))return a},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}t.joinValues=n,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(jt||(jt={}));var Zb;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Zb||(Zb={}));const Te=jt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),$a=t=>{switch(typeof t){case"undefined":return Te.undefined;case"string":return Te.string;case"number":return isNaN(t)?Te.nan:Te.number;case"boolean":return Te.boolean;case"function":return Te.function;case"bigint":return Te.bigint;case"symbol":return Te.symbol;case"object":return Array.isArray(t)?Te.array:t===null?Te.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Te.promise:typeof Map<"u"&&t instanceof Map?Te.map:typeof Set<"u"&&t instanceof Set?Te.set:typeof Date<"u"&&t instanceof Date?Te.date:Te.object;default:return Te.unknown}},pe=jt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),moe=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class ki extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(s){return s.message},n={_errors:[]},i=s=>{for(const a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else{let l=n,c=0;for(;c<a.path.length;){const d=a.path[c];c===a.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(r(a))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return i(this),n}static assert(e){if(!(e instanceof ki))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,jt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}ki.create=t=>new ki(t);const Bd=(t,e)=>{let r;switch(t.code){case pe.invalid_type:t.received===Te.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case pe.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,jt.jsonStringifyReplacer)}`;break;case pe.unrecognized_keys:r=`Unrecognized key(s) in object: ${jt.joinValues(t.keys,", ")}`;break;case pe.invalid_union:r="Invalid input";break;case pe.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${jt.joinValues(t.options)}`;break;case pe.invalid_enum_value:r=`Invalid enum value. Expected ${jt.joinValues(t.options)}, received '${t.received}'`;break;case pe.invalid_arguments:r="Invalid function arguments";break;case pe.invalid_return_type:r="Invalid function return type";break;case pe.invalid_date:r="Invalid date";break;case pe.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:jt.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case pe.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case pe.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case pe.custom:r="Invalid input";break;case pe.invalid_intersection_types:r="Intersection results could not be merged";break;case pe.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case pe.not_finite:r="Number must be finite";break;default:r=e.defaultError,jt.assertNever(t)}return{message:r}};let B7=Bd;function goe(t){B7=t}function s1(){return B7}const a1=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,s=[...r,...i.path||[]],a={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let l="";const c=n.filter(d=>!!d).slice().reverse();for(const d of c)l=d(a,{data:e,defaultError:l}).message;return{...i,path:s,message:l}},voe=[];function Ae(t,e){const r=s1(),n=a1({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Bd?void 0:Bd].filter(i=>!!i)});t.common.issues.push(n)}class Mn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return tt;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r){const s=await i.key,a=await i.value;n.push({key:s,value:a})}return Mn.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:s,value:a}=i;if(s.status==="aborted"||a.status==="aborted")return tt;s.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(n[s.value]=a.value)}return{status:e.value,value:n}}}const tt=Object.freeze({status:"aborted"}),Au=t=>({status:"dirty",value:t}),ri=t=>({status:"valid",value:t}),Kb=t=>t.status==="aborted",Yb=t=>t.status==="dirty",Mc=t=>t.status==="valid",rp=t=>typeof Promise<"u"&&t instanceof Promise;function o1(t,e,r,n){if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function U7(t,e,r,n,i){if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var Be;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Be||(Be={}));var nf,sf;class Sa{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const VE=(t,e)=>{if(Mc(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new ki(t.common.issues);return this._error=r,this._error}}};function at(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(a,l)=>{var c,d;const{message:h}=t;return a.code==="invalid_enum_value"?{message:h??l.defaultError}:typeof l.data>"u"?{message:(c=h??n)!==null&&c!==void 0?c:l.defaultError}:a.code!=="invalid_type"?{message:l.defaultError}:{message:(d=h??r)!==null&&d!==void 0?d:l.defaultError}},description:i}}class gt{get description(){return this._def.description}_getType(e){return $a(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:$a(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Mn,ctx:{common:e.parent.common,data:e.data,parsedType:$a(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(rp(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const i={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:$a(e)},s=this._parseSync({data:e,path:i.path,parent:i});return VE(i,s)}"~validate"(e){var r,n;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:$a(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:i});return Mc(s)?{value:s.value}:{issues:i.common.issues}}catch(s){!((n=(r=s==null?void 0:s.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(s=>Mc(s)?{value:s.value}:{issues:i.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:$a(e)},i=this._parse({data:e,path:n.path,parent:n}),s=await(rp(i)?i:Promise.resolve(i));return VE(n,s)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{const a=e(i),l=()=>s.addIssue({code:pe.custom,...n(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(l(),!1)):a?!0:(l(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new Hs({schema:this,typeName:et.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Na.create(this,this._def)}nullable(){return yl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Bs.create(this)}promise(){return zd.create(this,this._def)}or(e){return ap.create([this,e],this._def)}and(e){return op.create(this,e,this._def)}transform(e){return new Hs({...at(this._def),schema:this,typeName:et.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new hp({...at(this._def),innerType:this,defaultValue:r,typeName:et.ZodDefault})}brand(){return new FN({typeName:et.ZodBranded,type:this,...at(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new fp({...at(this._def),innerType:this,catchValue:r,typeName:et.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return gm.create(this,e)}readonly(){return pp.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const xoe=/^c[^\s-]{8,}$/i,yoe=/^[0-9a-z]+$/,woe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,boe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,_oe=/^[a-z0-9_-]{21}$/i,Noe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Coe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Soe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Eoe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let by;const Aoe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,koe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,joe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Poe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Toe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Ioe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,z7="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Doe=new RegExp(`^${z7}$`);function $7(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Ooe(t){return new RegExp(`^${$7(t)}$`)}function V7(t){let e=`${z7}T${$7(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function Moe(t,e){return!!((e==="v4"||!e)&&Aoe.test(t)||(e==="v6"||!e)&&joe.test(t))}function Roe(t,e){if(!Noe.test(t))return!1;try{const[r]=t.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||!i.typ||!i.alg||e&&i.alg!==e)}catch{return!1}}function Foe(t,e){return!!((e==="v4"||!e)&&koe.test(t)||(e==="v6"||!e)&&Poe.test(t))}class Ts extends gt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Te.string){const s=this._getOrReturnCtx(e);return Ae(s,{code:pe.invalid_type,expected:Te.string,received:s.parsedType}),tt}const n=new Mn;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),Ae(i,{code:pe.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),Ae(i,{code:pe.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const a=e.data.length>s.value,l=e.data.length<s.value;(a||l)&&(i=this._getOrReturnCtx(e,i),a?Ae(i,{code:pe.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&Ae(i,{code:pe.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")Soe.test(e.data)||(i=this._getOrReturnCtx(e,i),Ae(i,{validation:"email",code:pe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")by||(by=new RegExp(Eoe,"u")),by.test(e.data)||(i=this._getOrReturnCtx(e,i),Ae(i,{validation:"emoji",code:pe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")boe.test(e.data)||(i=this._getOrReturnCtx(e,i),Ae(i,{validation:"uuid",code:pe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")_oe.test(e.data)||(i=this._getOrReturnCtx(e,i),Ae(i,{validation:"nanoid",code:pe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")xoe.test(e.data)||(i=this._getOrReturnCtx(e,i),Ae(i,{validation:"cuid",code:pe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")yoe.test(e.data)||(i=this._getOrReturnCtx(e,i),Ae(i,{validation:"cuid2",code:pe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")woe.test(e.data)||(i=this._getOrReturnCtx(e,i),Ae(i,{validation:"ulid",code:pe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Ae(i,{validation:"url",code:pe.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Ae(i,{validation:"regex",code:pe.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),Ae(i,{code:pe.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),Ae(i,{code:pe.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),Ae(i,{code:pe.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?V7(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Ae(i,{code:pe.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?Doe.test(e.data)||(i=this._getOrReturnCtx(e,i),Ae(i,{code:pe.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?Ooe(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Ae(i,{code:pe.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?Coe.test(e.data)||(i=this._getOrReturnCtx(e,i),Ae(i,{validation:"duration",code:pe.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?Moe(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Ae(i,{validation:"ip",code:pe.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?Roe(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),Ae(i,{validation:"jwt",code:pe.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?Foe(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Ae(i,{validation:"cidr",code:pe.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?Toe.test(e.data)||(i=this._getOrReturnCtx(e,i),Ae(i,{validation:"base64",code:pe.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?Ioe.test(e.data)||(i=this._getOrReturnCtx(e,i),Ae(i,{validation:"base64url",code:pe.invalid_string,message:s.message}),n.dirty()):jt.assertNever(s);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:pe.invalid_string,...Be.errToObj(n)})}_addCheck(e){return new Ts({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Be.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Be.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Be.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Be.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Be.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Be.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Be.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Be.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Be.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Be.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Be.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Be.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Be.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,local:(n=e==null?void 0:e.local)!==null&&n!==void 0?n:!1,...Be.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Be.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Be.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Be.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...Be.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Be.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Be.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Be.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Be.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Be.errToObj(r)})}nonempty(e){return this.min(1,Be.errToObj(e))}trim(){return new Ts({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ts({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ts({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Ts.create=t=>{var e;return new Ts({checks:[],typeName:et.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...at(t)})};function Loe(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,s=parseInt(t.toFixed(i).replace(".","")),a=parseInt(e.toFixed(i).replace(".",""));return s%a/Math.pow(10,i)}class gl extends gt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Te.number){const s=this._getOrReturnCtx(e);return Ae(s,{code:pe.invalid_type,expected:Te.number,received:s.parsedType}),tt}let n;const i=new Mn;for(const s of this._def.checks)s.kind==="int"?jt.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Ae(n,{code:pe.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),Ae(n,{code:pe.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),Ae(n,{code:pe.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?Loe(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),Ae(n,{code:pe.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Ae(n,{code:pe.not_finite,message:s.message}),i.dirty()):jt.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Be.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Be.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Be.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Be.toString(r))}setLimit(e,r,n,i){return new gl({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Be.toString(i)}]})}_addCheck(e){return new gl({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Be.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Be.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Be.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Be.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Be.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Be.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Be.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Be.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Be.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&jt.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}gl.create=t=>new gl({checks:[],typeName:et.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...at(t)});class vl extends gt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Te.bigint)return this._getInvalidInput(e);let n;const i=new Mn;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),Ae(n,{code:pe.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),Ae(n,{code:pe.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Ae(n,{code:pe.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):jt.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return Ae(r,{code:pe.invalid_type,expected:Te.bigint,received:r.parsedType}),tt}gte(e,r){return this.setLimit("min",e,!0,Be.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Be.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Be.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Be.toString(r))}setLimit(e,r,n,i){return new vl({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Be.toString(i)}]})}_addCheck(e){return new vl({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Be.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Be.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Be.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Be.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Be.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}vl.create=t=>{var e;return new vl({checks:[],typeName:et.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...at(t)})};class np extends gt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Te.boolean){const n=this._getOrReturnCtx(e);return Ae(n,{code:pe.invalid_type,expected:Te.boolean,received:n.parsedType}),tt}return ri(e.data)}}np.create=t=>new np({typeName:et.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...at(t)});class Rc extends gt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Te.date){const s=this._getOrReturnCtx(e);return Ae(s,{code:pe.invalid_type,expected:Te.date,received:s.parsedType}),tt}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return Ae(s,{code:pe.invalid_date}),tt}const n=new Mn;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),Ae(i,{code:pe.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),Ae(i,{code:pe.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):jt.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Rc({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Be.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Be.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Rc.create=t=>new Rc({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:et.ZodDate,...at(t)});class l1 extends gt{_parse(e){if(this._getType(e)!==Te.symbol){const n=this._getOrReturnCtx(e);return Ae(n,{code:pe.invalid_type,expected:Te.symbol,received:n.parsedType}),tt}return ri(e.data)}}l1.create=t=>new l1({typeName:et.ZodSymbol,...at(t)});class ip extends gt{_parse(e){if(this._getType(e)!==Te.undefined){const n=this._getOrReturnCtx(e);return Ae(n,{code:pe.invalid_type,expected:Te.undefined,received:n.parsedType}),tt}return ri(e.data)}}ip.create=t=>new ip({typeName:et.ZodUndefined,...at(t)});class sp extends gt{_parse(e){if(this._getType(e)!==Te.null){const n=this._getOrReturnCtx(e);return Ae(n,{code:pe.invalid_type,expected:Te.null,received:n.parsedType}),tt}return ri(e.data)}}sp.create=t=>new sp({typeName:et.ZodNull,...at(t)});class Ud extends gt{constructor(){super(...arguments),this._any=!0}_parse(e){return ri(e.data)}}Ud.create=t=>new Ud({typeName:et.ZodAny,...at(t)});class bc extends gt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ri(e.data)}}bc.create=t=>new bc({typeName:et.ZodUnknown,...at(t)});class ho extends gt{_parse(e){const r=this._getOrReturnCtx(e);return Ae(r,{code:pe.invalid_type,expected:Te.never,received:r.parsedType}),tt}}ho.create=t=>new ho({typeName:et.ZodNever,...at(t)});class c1 extends gt{_parse(e){if(this._getType(e)!==Te.undefined){const n=this._getOrReturnCtx(e);return Ae(n,{code:pe.invalid_type,expected:Te.void,received:n.parsedType}),tt}return ri(e.data)}}c1.create=t=>new c1({typeName:et.ZodVoid,...at(t)});class Bs extends gt{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==Te.array)return Ae(r,{code:pe.invalid_type,expected:Te.array,received:r.parsedType}),tt;if(i.exactLength!==null){const a=r.data.length>i.exactLength.value,l=r.data.length<i.exactLength.value;(a||l)&&(Ae(r,{code:a?pe.too_big:pe.too_small,minimum:l?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(Ae(r,{code:pe.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(Ae(r,{code:pe.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((a,l)=>i.type._parseAsync(new Sa(r,a,r.path,l)))).then(a=>Mn.mergeArray(n,a));const s=[...r.data].map((a,l)=>i.type._parseSync(new Sa(r,a,r.path,l)));return Mn.mergeArray(n,s)}get element(){return this._def.type}min(e,r){return new Bs({...this._def,minLength:{value:e,message:Be.toString(r)}})}max(e,r){return new Bs({...this._def,maxLength:{value:e,message:Be.toString(r)}})}length(e,r){return new Bs({...this._def,exactLength:{value:e,message:Be.toString(r)}})}nonempty(e){return this.min(1,e)}}Bs.create=(t,e)=>new Bs({type:t,minLength:null,maxLength:null,exactLength:null,typeName:et.ZodArray,...at(e)});function du(t){if(t instanceof xr){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Na.create(du(n))}return new xr({...t._def,shape:()=>e})}else return t instanceof Bs?new Bs({...t._def,type:du(t.element)}):t instanceof Na?Na.create(du(t.unwrap())):t instanceof yl?yl.create(du(t.unwrap())):t instanceof Ea?Ea.create(t.items.map(e=>du(e))):t}class xr extends gt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=jt.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==Te.object){const d=this._getOrReturnCtx(e);return Ae(d,{code:pe.invalid_type,expected:Te.object,received:d.parsedType}),tt}const{status:n,ctx:i}=this._processInputParams(e),{shape:s,keys:a}=this._getCached(),l=[];if(!(this._def.catchall instanceof ho&&this._def.unknownKeys==="strip"))for(const d in i.data)a.includes(d)||l.push(d);const c=[];for(const d of a){const h=s[d],f=i.data[d];c.push({key:{status:"valid",value:d},value:h._parse(new Sa(i,f,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof ho){const d=this._def.unknownKeys;if(d==="passthrough")for(const h of l)c.push({key:{status:"valid",value:h},value:{status:"valid",value:i.data[h]}});else if(d==="strict")l.length>0&&(Ae(i,{code:pe.unrecognized_keys,keys:l}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const h of l){const f=i.data[h];c.push({key:{status:"valid",value:h},value:d._parse(new Sa(i,f,i.path,h)),alwaysSet:h in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const h of c){const f=await h.key,m=await h.value;d.push({key:f,value:m,alwaysSet:h.alwaysSet})}return d}).then(d=>Mn.mergeObjectSync(n,d)):Mn.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return Be.errToObj,new xr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,s,a,l;const c=(a=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,r,n).message)!==null&&a!==void 0?a:n.defaultError;return r.code==="unrecognized_keys"?{message:(l=Be.errToObj(e).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new xr({...this._def,unknownKeys:"strip"})}passthrough(){return new xr({...this._def,unknownKeys:"passthrough"})}extend(e){return new xr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new xr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:et.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new xr({...this._def,catchall:e})}pick(e){const r={};return jt.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new xr({...this._def,shape:()=>r})}omit(e){const r={};return jt.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new xr({...this._def,shape:()=>r})}deepPartial(){return du(this)}partial(e){const r={};return jt.objectKeys(this.shape).forEach(n=>{const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}),new xr({...this._def,shape:()=>r})}required(e){const r={};return jt.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof Na;)s=s._def.innerType;r[n]=s}}),new xr({...this._def,shape:()=>r})}keyof(){return W7(jt.objectKeys(this.shape))}}xr.create=(t,e)=>new xr({shape:()=>t,unknownKeys:"strip",catchall:ho.create(),typeName:et.ZodObject,...at(e)});xr.strictCreate=(t,e)=>new xr({shape:()=>t,unknownKeys:"strict",catchall:ho.create(),typeName:et.ZodObject,...at(e)});xr.lazycreate=(t,e)=>new xr({shape:t,unknownKeys:"strip",catchall:ho.create(),typeName:et.ZodObject,...at(e)});class ap extends gt{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const a=s.map(l=>new ki(l.ctx.common.issues));return Ae(r,{code:pe.invalid_union,unionErrors:a}),tt}if(r.common.async)return Promise.all(n.map(async s=>{const a={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(i);{let s;const a=[];for(const c of n){const d={...r,common:{...r.common,issues:[]},parent:null},h=c._parseSync({data:r.data,path:r.path,parent:d});if(h.status==="valid")return h;h.status==="dirty"&&!s&&(s={result:h,ctx:d}),d.common.issues.length&&a.push(d.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const l=a.map(c=>new ki(c));return Ae(r,{code:pe.invalid_union,unionErrors:l}),tt}}get options(){return this._def.options}}ap.create=(t,e)=>new ap({options:t,typeName:et.ZodUnion,...at(e)});const La=t=>t instanceof cp?La(t.schema):t instanceof Hs?La(t.innerType()):t instanceof up?[t.value]:t instanceof xl?t.options:t instanceof dp?jt.objectValues(t.enum):t instanceof hp?La(t._def.innerType):t instanceof ip?[void 0]:t instanceof sp?[null]:t instanceof Na?[void 0,...La(t.unwrap())]:t instanceof yl?[null,...La(t.unwrap())]:t instanceof FN||t instanceof pp?La(t.unwrap()):t instanceof fp?La(t._def.innerType):[];class Dv extends gt{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Te.object)return Ae(r,{code:pe.invalid_type,expected:Te.object,received:r.parsedType}),tt;const n=this.discriminator,i=r.data[n],s=this.optionsMap.get(i);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(Ae(r,{code:pe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),tt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const i=new Map;for(const s of r){const a=La(s.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of a){if(i.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);i.set(l,s)}}return new Dv({typeName:et.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...at(n)})}}function Xb(t,e){const r=$a(t),n=$a(e);if(t===e)return{valid:!0,data:t};if(r===Te.object&&n===Te.object){const i=jt.objectKeys(e),s=jt.objectKeys(t).filter(l=>i.indexOf(l)!==-1),a={...t,...e};for(const l of s){const c=Xb(t[l],e[l]);if(!c.valid)return{valid:!1};a[l]=c.data}return{valid:!0,data:a}}else if(r===Te.array&&n===Te.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const a=t[s],l=e[s],c=Xb(a,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return r===Te.date&&n===Te.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class op extends gt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(s,a)=>{if(Kb(s)||Kb(a))return tt;const l=Xb(s.value,a.value);return l.valid?((Yb(s)||Yb(a))&&r.dirty(),{status:r.value,value:l.data}):(Ae(n,{code:pe.invalid_intersection_types}),tt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,a])=>i(s,a)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}op.create=(t,e,r)=>new op({left:t,right:e,typeName:et.ZodIntersection,...at(r)});class Ea extends gt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Te.array)return Ae(n,{code:pe.invalid_type,expected:Te.array,received:n.parsedType}),tt;if(n.data.length<this._def.items.length)return Ae(n,{code:pe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),tt;!this._def.rest&&n.data.length>this._def.items.length&&(Ae(n,{code:pe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((a,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Sa(n,a,n.path,l)):null}).filter(a=>!!a);return n.common.async?Promise.all(s).then(a=>Mn.mergeArray(r,a)):Mn.mergeArray(r,s)}get items(){return this._def.items}rest(e){return new Ea({...this._def,rest:e})}}Ea.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ea({items:t,typeName:et.ZodTuple,rest:null,...at(e)})};class lp extends gt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Te.object)return Ae(n,{code:pe.invalid_type,expected:Te.object,received:n.parsedType}),tt;const i=[],s=this._def.keyType,a=this._def.valueType;for(const l in n.data)i.push({key:s._parse(new Sa(n,l,n.path,l)),value:a._parse(new Sa(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?Mn.mergeObjectAsync(r,i):Mn.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof gt?new lp({keyType:e,valueType:r,typeName:et.ZodRecord,...at(n)}):new lp({keyType:Ts.create(),valueType:e,typeName:et.ZodRecord,...at(r)})}}class u1 extends gt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Te.map)return Ae(n,{code:pe.invalid_type,expected:Te.map,received:n.parsedType}),tt;const i=this._def.keyType,s=this._def.valueType,a=[...n.data.entries()].map(([l,c],d)=>({key:i._parse(new Sa(n,l,n.path,[d,"key"])),value:s._parse(new Sa(n,c,n.path,[d,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of a){const d=await c.key,h=await c.value;if(d.status==="aborted"||h.status==="aborted")return tt;(d.status==="dirty"||h.status==="dirty")&&r.dirty(),l.set(d.value,h.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of a){const d=c.key,h=c.value;if(d.status==="aborted"||h.status==="aborted")return tt;(d.status==="dirty"||h.status==="dirty")&&r.dirty(),l.set(d.value,h.value)}return{status:r.value,value:l}}}}u1.create=(t,e,r)=>new u1({valueType:e,keyType:t,typeName:et.ZodMap,...at(r)});class Fc extends gt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Te.set)return Ae(n,{code:pe.invalid_type,expected:Te.set,received:n.parsedType}),tt;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(Ae(n,{code:pe.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(Ae(n,{code:pe.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const s=this._def.valueType;function a(c){const d=new Set;for(const h of c){if(h.status==="aborted")return tt;h.status==="dirty"&&r.dirty(),d.add(h.value)}return{status:r.value,value:d}}const l=[...n.data.values()].map((c,d)=>s._parse(new Sa(n,c,n.path,d)));return n.common.async?Promise.all(l).then(c=>a(c)):a(l)}min(e,r){return new Fc({...this._def,minSize:{value:e,message:Be.toString(r)}})}max(e,r){return new Fc({...this._def,maxSize:{value:e,message:Be.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Fc.create=(t,e)=>new Fc({valueType:t,minSize:null,maxSize:null,typeName:et.ZodSet,...at(e)});class $u extends gt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Te.function)return Ae(r,{code:pe.invalid_type,expected:Te.function,received:r.parsedType}),tt;function n(l,c){return a1({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,s1(),Bd].filter(d=>!!d),issueData:{code:pe.invalid_arguments,argumentsError:c}})}function i(l,c){return a1({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,s1(),Bd].filter(d=>!!d),issueData:{code:pe.invalid_return_type,returnTypeError:c}})}const s={errorMap:r.common.contextualErrorMap},a=r.data;if(this._def.returns instanceof zd){const l=this;return ri(async function(...c){const d=new ki([]),h=await l._def.args.parseAsync(c,s).catch(g=>{throw d.addIssue(n(c,g)),d}),f=await Reflect.apply(a,this,h);return await l._def.returns._def.type.parseAsync(f,s).catch(g=>{throw d.addIssue(i(f,g)),d})})}else{const l=this;return ri(function(...c){const d=l._def.args.safeParse(c,s);if(!d.success)throw new ki([n(c,d.error)]);const h=Reflect.apply(a,this,d.data),f=l._def.returns.safeParse(h,s);if(!f.success)throw new ki([i(h,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new $u({...this._def,args:Ea.create(e).rest(bc.create())})}returns(e){return new $u({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new $u({args:e||Ea.create([]).rest(bc.create()),returns:r||bc.create(),typeName:et.ZodFunction,...at(n)})}}class cp extends gt{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}cp.create=(t,e)=>new cp({getter:t,typeName:et.ZodLazy,...at(e)});class up extends gt{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return Ae(r,{received:r.data,code:pe.invalid_literal,expected:this._def.value}),tt}return{status:"valid",value:e.data}}get value(){return this._def.value}}up.create=(t,e)=>new up({value:t,typeName:et.ZodLiteral,...at(e)});function W7(t,e){return new xl({values:t,typeName:et.ZodEnum,...at(e)})}class xl extends gt{constructor(){super(...arguments),nf.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return Ae(r,{expected:jt.joinValues(n),received:r.parsedType,code:pe.invalid_type}),tt}if(o1(this,nf)||U7(this,nf,new Set(this._def.values)),!o1(this,nf).has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return Ae(r,{received:r.data,code:pe.invalid_enum_value,options:n}),tt}return ri(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return xl.create(e,{...this._def,...r})}exclude(e,r=this._def){return xl.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}nf=new WeakMap;xl.create=W7;class dp extends gt{constructor(){super(...arguments),sf.set(this,void 0)}_parse(e){const r=jt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Te.string&&n.parsedType!==Te.number){const i=jt.objectValues(r);return Ae(n,{expected:jt.joinValues(i),received:n.parsedType,code:pe.invalid_type}),tt}if(o1(this,sf)||U7(this,sf,new Set(jt.getValidEnumValues(this._def.values))),!o1(this,sf).has(e.data)){const i=jt.objectValues(r);return Ae(n,{received:n.data,code:pe.invalid_enum_value,options:i}),tt}return ri(e.data)}get enum(){return this._def.values}}sf=new WeakMap;dp.create=(t,e)=>new dp({values:t,typeName:et.ZodNativeEnum,...at(e)});class zd extends gt{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Te.promise&&r.common.async===!1)return Ae(r,{code:pe.invalid_type,expected:Te.promise,received:r.parsedType}),tt;const n=r.parsedType===Te.promise?r.data:Promise.resolve(r.data);return ri(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}zd.create=(t,e)=>new zd({type:t,typeName:et.ZodPromise,...at(e)});class Hs extends gt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===et.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:a=>{Ae(n,a),a.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const a=i.transform(n.data,s);if(n.common.async)return Promise.resolve(a).then(async l=>{if(r.value==="aborted")return tt;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?tt:c.status==="dirty"||r.value==="dirty"?Au(c.value):c});{if(r.value==="aborted")return tt;const l=this._def.schema._parseSync({data:a,path:n.path,parent:n});return l.status==="aborted"?tt:l.status==="dirty"||r.value==="dirty"?Au(l.value):l}}if(i.type==="refinement"){const a=l=>{const c=i.refinement(l,s);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?tt:(l.status==="dirty"&&r.dirty(),a(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?tt:(l.status==="dirty"&&r.dirty(),a(l.value).then(()=>({status:r.value,value:l.value}))))}if(i.type==="transform")if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Mc(a))return a;const l=i.transform(a.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>Mc(a)?Promise.resolve(i.transform(a.value,s)).then(l=>({status:r.value,value:l})):a);jt.assertNever(i)}}Hs.create=(t,e,r)=>new Hs({schema:t,typeName:et.ZodEffects,effect:e,...at(r)});Hs.createWithPreprocess=(t,e,r)=>new Hs({schema:e,effect:{type:"preprocess",transform:t},typeName:et.ZodEffects,...at(r)});class Na extends gt{_parse(e){return this._getType(e)===Te.undefined?ri(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Na.create=(t,e)=>new Na({innerType:t,typeName:et.ZodOptional,...at(e)});class yl extends gt{_parse(e){return this._getType(e)===Te.null?ri(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}yl.create=(t,e)=>new yl({innerType:t,typeName:et.ZodNullable,...at(e)});class hp extends gt{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===Te.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}hp.create=(t,e)=>new hp({innerType:t,typeName:et.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...at(e)});class fp extends gt{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return rp(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ki(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ki(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}fp.create=(t,e)=>new fp({innerType:t,typeName:et.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...at(e)});class d1 extends gt{_parse(e){if(this._getType(e)!==Te.nan){const n=this._getOrReturnCtx(e);return Ae(n,{code:pe.invalid_type,expected:Te.nan,received:n.parsedType}),tt}return{status:"valid",value:e.data}}}d1.create=t=>new d1({typeName:et.ZodNaN,...at(t)});const Boe=Symbol("zod_brand");class FN extends gt{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class gm extends gt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?tt:s.status==="dirty"?(r.dirty(),Au(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?tt:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new gm({in:e,out:r,typeName:et.ZodPipeline})}}class pp extends gt{_parse(e){const r=this._def.innerType._parse(e),n=i=>(Mc(i)&&(i.value=Object.freeze(i.value)),i);return rp(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}pp.create=(t,e)=>new pp({innerType:t,typeName:et.ZodReadonly,...at(e)});function WE(t,e){const r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function H7(t,e={},r){return t?Ud.create().superRefine((n,i)=>{var s,a;const l=t(n);if(l instanceof Promise)return l.then(c=>{var d,h;if(!c){const f=WE(e,n),m=(h=(d=f.fatal)!==null&&d!==void 0?d:r)!==null&&h!==void 0?h:!0;i.addIssue({code:"custom",...f,fatal:m})}});if(!l){const c=WE(e,n),d=(a=(s=c.fatal)!==null&&s!==void 0?s:r)!==null&&a!==void 0?a:!0;i.addIssue({code:"custom",...c,fatal:d})}}):Ud.create()}const Uoe={object:xr.lazycreate};var et;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(et||(et={}));const zoe=(t,e={message:`Input not instance of ${t.name}`})=>H7(r=>r instanceof t,e),G7=Ts.create,q7=gl.create,$oe=d1.create,Voe=vl.create,Z7=np.create,Woe=Rc.create,Hoe=l1.create,Goe=ip.create,qoe=sp.create,Zoe=Ud.create,Koe=bc.create,Yoe=ho.create,Xoe=c1.create,Qoe=Bs.create,Joe=xr.create,ele=xr.strictCreate,tle=ap.create,rle=Dv.create,nle=op.create,ile=Ea.create,sle=lp.create,ale=u1.create,ole=Fc.create,lle=$u.create,cle=cp.create,ule=up.create,dle=xl.create,hle=dp.create,fle=zd.create,HE=Hs.create,ple=Na.create,mle=yl.create,gle=Hs.createWithPreprocess,vle=gm.create,xle=()=>G7().optional(),yle=()=>q7().optional(),wle=()=>Z7().optional(),ble={string:t=>Ts.create({...t,coerce:!0}),number:t=>gl.create({...t,coerce:!0}),boolean:t=>np.create({...t,coerce:!0}),bigint:t=>vl.create({...t,coerce:!0}),date:t=>Rc.create({...t,coerce:!0})},_le=tt;var At=Object.freeze({__proto__:null,defaultErrorMap:Bd,setErrorMap:goe,getErrorMap:s1,makeIssue:a1,EMPTY_PATH:voe,addIssueToContext:Ae,ParseStatus:Mn,INVALID:tt,DIRTY:Au,OK:ri,isAborted:Kb,isDirty:Yb,isValid:Mc,isAsync:rp,get util(){return jt},get objectUtil(){return Zb},ZodParsedType:Te,getParsedType:$a,ZodType:gt,datetimeRegex:V7,ZodString:Ts,ZodNumber:gl,ZodBigInt:vl,ZodBoolean:np,ZodDate:Rc,ZodSymbol:l1,ZodUndefined:ip,ZodNull:sp,ZodAny:Ud,ZodUnknown:bc,ZodNever:ho,ZodVoid:c1,ZodArray:Bs,ZodObject:xr,ZodUnion:ap,ZodDiscriminatedUnion:Dv,ZodIntersection:op,ZodTuple:Ea,ZodRecord:lp,ZodMap:u1,ZodSet:Fc,ZodFunction:$u,ZodLazy:cp,ZodLiteral:up,ZodEnum:xl,ZodNativeEnum:dp,ZodPromise:zd,ZodEffects:Hs,ZodTransformer:Hs,ZodOptional:Na,ZodNullable:yl,ZodDefault:hp,ZodCatch:fp,ZodNaN:d1,BRAND:Boe,ZodBranded:FN,ZodPipeline:gm,ZodReadonly:pp,custom:H7,Schema:gt,ZodSchema:gt,late:Uoe,get ZodFirstPartyTypeKind(){return et},coerce:ble,any:Zoe,array:Qoe,bigint:Voe,boolean:Z7,date:Woe,discriminatedUnion:rle,effect:HE,enum:dle,function:lle,instanceof:zoe,intersection:nle,lazy:cle,literal:ule,map:ale,nan:$oe,nativeEnum:hle,never:Yoe,null:qoe,nullable:mle,number:q7,object:Joe,oboolean:wle,onumber:yle,optional:ple,ostring:xle,pipeline:vle,preprocess:gle,promise:fle,record:sle,set:ole,strictObject:ele,string:G7,symbol:Hoe,transformer:HE,tuple:ile,undefined:Goe,union:tle,unknown:Koe,void:Xoe,NEVER:_le,ZodIssueCode:pe,quotelessJson:moe,ZodError:ki});function h1({type:t="general"}){const e=()=>{switch(t){case"nutrition":return"The nutritional information and meal plans provided are general guidelines. Calorie and macro recommendations should be verified with a registered dietitian or healthcare provider, especially if you have dietary restrictions, allergies, or medical conditions.";case"exercise":return"The workout recommendations and exercise plans are general fitness guidelines. Consult with a physician before beginning any exercise program, especially if you have cardiovascular conditions, joint issues, or other health concerns.";default:return"The health and fitness information provided is for educational purposes only and should not replace professional medical advice."}};return o.jsxs(am,{className:"border-blue-200 bg-blue-50 dark:border-blue-800 dark:bg-blue-950 mb-6",children:[o.jsx(S_,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),o.jsx(om,{className:"text-blue-800 dark:text-blue-200 text-sm",children:e()})]})}function f1(){return o.jsxs(am,{className:"border-purple-200 bg-purple-50 dark:border-purple-800 dark:bg-purple-950",children:[o.jsx(S_,{className:"h-4 w-4 text-purple-600 dark:text-purple-400"}),o.jsxs(om,{className:"text-purple-800 dark:text-purple-200 text-sm",children:[o.jsx("strong",{children:"AI-Generated Content:"})," This plan was created by artificial intelligence based on your inputs. AI-generated recommendations should be reviewed and verified with qualified health professionals before implementation."]})]})}function mp(){const[t,e]=b.useState(!1),r=[{title:"USDA Dietary Guidelines for Americans",description:"Evidence-based nutritional and dietary information for healthy eating patterns",url:"https://www.dietaryguidelines.gov/"},{title:"American College of Sports Medicine (ACSM)",description:"Exercise guidelines and physical activity recommendations",url:"https://www.acsm.org/"},{title:"National Institutes of Health (NIH) - Nutrition",description:"Scientific research on nutrition, calories, and healthy eating",url:"https://www.nih.gov/health-information/diet-nutrition"},{title:"CDC Physical Activity Guidelines",description:"Federal guidelines for physical activity and exercise recommendations",url:"https://www.cdc.gov/physicalactivity/basics/index.htm"},{title:"Academy of Nutrition and Dietetics",description:"Professional organization providing evidence-based nutrition information",url:"https://www.eatright.org/"}];return o.jsxs(Le,{className:"mt-6",children:[o.jsx(kt,{className:"pb-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Ot,{className:"text-lg flex items-center",children:[o.jsx(UH,{className:"w-5 h-5 mr-2"}),"Health & Fitness Sources"]}),o.jsxs(ue,{variant:"ghost",size:"sm",onClick:()=>e(!t),"data-testid":"button-toggle-sources",children:[t?"Hide":"Show"," Sources"]})]})}),t&&o.jsxs(Ve,{className:"space-y-3",children:[o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Our health and fitness recommendations are based on guidelines from the following authoritative sources:"}),r.map((n,i)=>o.jsx("div",{className:"border-l-4 border-blue-500 pl-4 py-2",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold text-sm text-gray-900 dark:text-white",children:n.title}),o.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:n.description})]}),o.jsx("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",className:"ml-2 text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300","data-testid":`link-source-${i}`,children:o.jsx(qH,{className:"w-4 h-4"})})]})},i)),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-4 pt-4 border-t",children:"Last updated: October 2025. Always consult healthcare professionals for personalized medical advice."})]})]})}const Nle=At.object({goal:At.enum(["weight_loss","weight_gain","maintenance"]),dailyCalories:At.number().min(1200).max(4e3),dietaryRestrictions:At.array(At.string()).optional(),allergies:At.array(At.string()).optional(),preferences:At.array(At.string()).optional(),duration:At.number().min(3).max(14).default(7)});function Cle(){const[t,e]=b.useState(null),[r,n]=b.useState(1),[i,s]=b.useState(!1),[a,l]=b.useState(!1),[c,d]=b.useState(new Set),[h,f]=b.useState("plans"),[m,g]=b.useState(""),{toast:y}=xi(),x=Rn(),{data:N=[],isLoading:_}=Rt({queryKey:["/api/meal-plans"]}),{data:w}=Rt({queryKey:["/api/user-meal-plan"],retry:!1}),{data:S}=Rt({queryKey:["/api/user-meal-preferences"],retry:!1}),{data:E=[]}=Rt({queryKey:["/api/user-food-preferences"],retry:!1}),j=Gb({resolver:qb(Nle),defaultValues:{goal:"maintenance",dailyCalories:2e3,dietaryRestrictions:[],allergies:[],preferences:[],duration:7}});b.useEffect(()=>{S&&j.reset({goal:S.goal,dailyCalories:S.dailyCalories,dietaryRestrictions:S.dietaryRestrictions||[],allergies:S.allergies||[],preferences:S.preferences||[],duration:7})},[S,j]);const D=Ut({mutationFn:async R=>(console.log("Assigning meal plan:",R),(await dt("POST","/api/user-meal-plan",{mealPlanId:R,startDate:new Date().toISOString(),isActive:!0})).json()),onSuccess:R=>{console.log("Meal plan assigned successfully:",R),x.invalidateQueries({queryKey:["/api/user-meal-plan"]}),y({title:"Meal Plan Assigned!",description:"Your new meal plan is now active."})},onError:R=>{console.error("Assignment error:",R),y({title:"Error",description:R.message||"Failed to assign meal plan",variant:"destructive"})}}),T=Ut({mutationFn:async R=>(await dt("POST","/api/generate-meal-plan",R)).json(),onSuccess:()=>{x.invalidateQueries({queryKey:["/api/meal-plans"]}),x.invalidateQueries({queryKey:["/api/user-meal-plan"]}),x.invalidateQueries({queryKey:["/api/user-meal-preferences"]}),s(!1),j.reset(),y({title:"AI Meal Plan Generated!",description:"Your personalized meal plan has been created and assigned."})},onError:R=>{y({title:"Error",description:R.message||"Failed to generate meal plan",variant:"destructive"})}}),O=Ut({mutationFn:async R=>(await dt("POST","/api/generate-personalized-meal-plan",R)).json(),onSuccess:()=>{x.invalidateQueries({queryKey:["/api/meal-plans"]}),x.invalidateQueries({queryKey:["/api/user-meal-plan"]}),l(!1),y({title:"Personalized Meal Plan Created!",description:"Your meal plan has been generated based on your food preferences and is now active."})},onError:R=>{y({title:"Error",description:R.message||"Failed to generate personalized meal plan",variant:"destructive"})}}),B=N,P=R=>{switch(R){case"weight_loss":return o.jsx(sG,{className:"text-blue-500",size:20});case"weight_gain":return o.jsx(Xr,{className:"text-green-500",size:20});default:return o.jsx(ti,{className:"text-gray-500",size:20})}},V=R=>{switch(R){case"weight_loss":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";case"weight_gain":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}},F=R=>R.replace("_"," ").replace(/\b\w/g,G=>G.toUpperCase()),q=(R,G)=>R.meals.filter(ee=>ee.mealType===G),H=R=>{D.mutate(R)},le=R=>{T.mutate(R)},ae=(R,G=2e3)=>{O.mutate({goal:"maintenance",dailyCalories:G,duration:7})},me=R=>{d(G=>{const ee=new Set(G);return ee.has(R)?ee.delete(R):ee.add(R),ee})};return _?o.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:o.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})}):o.jsx(Rd,{feature:"meal_plans",children:o.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:o.jsxs("div",{className:"max-w-6xl mx-auto px-3 sm:px-4 py-4 pb-20 md:pb-8",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-1",children:"Meal Plans"}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Choose a meal plan to support your fitness goals"})]}),o.jsx(h1,{type:"nutrition"}),o.jsxs(jv,{value:h,onValueChange:f,className:"space-y-6",children:[o.jsxs(pm,{className:"grid w-full grid-cols-3 max-w-2xl mx-auto",children:[o.jsx(Fs,{value:"plans",children:"Available Plans"}),o.jsx(Fs,{value:"current",children:"My Current Plan"}),o.jsxs(Fs,{value:"preferences",className:"flex items-center gap-2",children:[o.jsx(Ja,{className:"w-4 h-4"}),"Food Preferences"]})]}),o.jsxs(Ls,{value:"plans",className:"space-y-6",children:[o.jsx("div",{className:"flex justify-center",children:o.jsxs(ml,{open:i,onOpenChange:s,children:[o.jsx(yv,{asChild:!0,children:o.jsxs(ue,{className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white","data-testid":"generate-ai-meal-plan",children:[o.jsx(Si,{className:"w-4 h-4 mr-2"}),"Generate AI Meal Plan"]})}),o.jsxs(lo,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsx(co,{children:o.jsx(uo,{children:"Generate Personalized Meal Plan"})}),o.jsx(f1,{}),o.jsx(uoe,{...j,children:o.jsxs("form",{onSubmit:j.handleSubmit(le),className:"space-y-6",children:[E.length>0&&o.jsxs(am,{className:"bg-blue-50 dark:bg-blue-950 border-blue-200 dark:border-blue-800",children:[o.jsx(Ja,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),o.jsx(om,{className:"text-blue-800 dark:text-blue-200",children:"Your saved food preferences will be automatically incorporated into this meal plan."})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(cu,{control:j.control,name:"goal",render:({field:R})=>o.jsxs(Bl,{children:[o.jsx(Ul,{children:"Fitness Goal"}),o.jsxs(ba,{onValueChange:R.onChange,defaultValue:R.value,children:[o.jsx(zl,{children:o.jsx(Ms,{children:o.jsx(_a,{placeholder:"Select your goal"})})}),o.jsxs(Rs,{children:[o.jsx(ur,{value:"weight_loss",children:"Weight Loss"}),o.jsx(ur,{value:"weight_gain",children:"Weight Gain"}),o.jsx(ur,{value:"maintenance",children:"Maintenance"})]})]}),o.jsx($l,{})]})}),o.jsx(cu,{control:j.control,name:"dailyCalories",render:({field:R})=>o.jsxs(Bl,{children:[o.jsx(Ul,{children:"Daily Calories"}),o.jsx(zl,{children:o.jsx(Yt,{type:"number",placeholder:"2000",...R,onChange:G=>R.onChange(parseInt(G.target.value)||0)})}),o.jsx($l,{})]})})]}),o.jsx(cu,{control:j.control,name:"duration",render:({field:R})=>o.jsxs(Bl,{children:[o.jsx(Ul,{children:"Plan Duration (days)"}),o.jsx(zl,{children:o.jsx(Yt,{type:"number",placeholder:"7",...R,onChange:G=>R.onChange(parseInt(G.target.value)||7)})}),o.jsx($l,{})]})}),o.jsx(cu,{control:j.control,name:"dietaryRestrictions",render:({field:R})=>{var G;return o.jsxs(Bl,{children:[o.jsx(Ul,{children:"Dietary Restrictions"}),o.jsx(zl,{children:o.jsx(il,{placeholder:"e.g., vegetarian, gluten-free, dairy-free (separate with commas)",value:((G=R.value)==null?void 0:G.join(", "))||"",onChange:ee=>R.onChange(ee.target.value.split(",").map(ie=>ie.trim()).filter(Boolean))})}),o.jsx($l,{})]})}}),o.jsx(cu,{control:j.control,name:"allergies",render:({field:R})=>{var G;return o.jsxs(Bl,{children:[o.jsx(Ul,{children:"Allergies"}),o.jsx(zl,{children:o.jsx(il,{placeholder:"e.g., nuts, shellfish, eggs (separate with commas)",value:((G=R.value)==null?void 0:G.join(", "))||"",onChange:ee=>R.onChange(ee.target.value.split(",").map(ie=>ie.trim()).filter(Boolean))})}),o.jsx($l,{})]})}}),o.jsx(cu,{control:j.control,name:"preferences",render:({field:R})=>{var G;return o.jsxs(Bl,{children:[o.jsx(Ul,{children:"Food Preferences"}),o.jsx(zl,{children:o.jsx(il,{placeholder:"e.g., Mediterranean, low-carb, high-protein (separate with commas)",value:((G=R.value)==null?void 0:G.join(", "))||"",onChange:ee=>R.onChange(ee.target.value.split(",").map(ie=>ie.trim()).filter(Boolean))})}),o.jsx($l,{})]})}}),o.jsxs("div",{className:"flex justify-end space-x-2",children:[o.jsx(ue,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Cancel"}),o.jsx(ue,{type:"submit",disabled:T.isPending,children:T.isPending?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin mr-2"}),"Generating..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Si,{className:"w-4 h-4 mr-2"}),"Generate Meal Plan"]})})]})]})})]})]})}),w&&o.jsxs(Le,{className:"mb-8 border-primary dark:border-primary",children:[o.jsx(kt,{children:o.jsxs(Ot,{className:"flex items-center",children:[o.jsx(Fg,{className:"mr-2",size:20}),"Your Active Meal Plan"]})}),o.jsx(Ve,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold",children:w.mealPlan.name}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:w.mealPlan.description}),o.jsxs("div",{className:"flex items-center mt-3 space-x-4",children:[o.jsx(Xe,{className:V(w.mealPlan.goal),children:F(w.mealPlan.goal)}),o.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[w.mealPlan.dailyCalories," cal/day"]})]})]}),o.jsx(ue,{onClick:()=>e(w.mealPlan),variant:"outline",children:"View Details"})]})})]}),o.jsx("div",{className:"max-w-2xl mx-auto mb-8",children:o.jsxs(ba,{value:m,onValueChange:R=>{g(R);const G=B.find(ee=>ee.id===R);G&&e(G)},children:[o.jsx(Ms,{className:"w-full","data-testid":"select-meal-plan",children:o.jsx(_a,{placeholder:"Select a meal plan"})}),o.jsx(Rs,{children:B.map(R=>o.jsx(ur,{value:R.id,children:R.name},R.id))})]})}),m&&B.find(R=>R.id===m)&&o.jsxs(Le,{className:"max-w-4xl mx-auto",children:[o.jsx(kt,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[P(B.find(R=>R.id===m).goal),o.jsx(Ot,{className:"ml-2",children:B.find(R=>R.id===m).name})]}),o.jsx(Xe,{className:V(B.find(R=>R.id===m).goal),variant:"secondary",children:F(B.find(R=>R.id===m).goal)})]})}),o.jsxs(Ve,{className:"space-y-6",children:[o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:B.find(R=>R.id===m).description}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-primary",children:B.find(R=>R.id===m).dailyCalories}),o.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Calories/day"})]}),o.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[o.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[B.find(R=>R.id===m).dailyProtein,"g"]}),o.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Protein/day"})]}),o.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[o.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[B.find(R=>R.id===m).dailyCarbs,"g"]}),o.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Carbs/day"})]}),o.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[o.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[B.find(R=>R.id===m).dailyFat,"g"]}),o.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Fat/day"})]})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx(ue,{onClick:()=>e(B.find(R=>R.id===m)),variant:"outline",className:"flex-1","data-testid":"button-view-details",children:"View Full Details"}),o.jsx(ue,{onClick:()=>H(m),disabled:D.isPending||(w==null?void 0:w.mealPlanId)===m,className:"flex-1","data-testid":"button-start-plan",children:(w==null?void 0:w.mealPlanId)===m?"Active Plan":"Start This Plan"})]})]})]}),o.jsx(ml,{open:!!t,onOpenChange:()=>e(null),children:o.jsx(lo,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:t&&o.jsxs(o.Fragment,{children:[o.jsx(co,{children:o.jsxs(uo,{className:"flex items-center",children:[P(t.goal),o.jsx("span",{className:"ml-2",children:t.name})]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:t.description}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-primary",children:t.dailyCalories}),o.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Calories/day"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[t.dailyProtein,"g"]}),o.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Protein/day"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[t.dailyCarbs,"g"]}),o.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Carbs/day"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[t.dailyFat,"g"]}),o.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Fat/day"})]})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx(ei,{className:"mr-2",size:20}),o.jsx("span",{className:"font-semibold",children:"Daily Meal Plan"})]}),o.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:t.days.map(R=>o.jsx(ue,{variant:r===R.dayNumber?"default":"outline",size:"sm",onClick:()=>n(R.dayNumber),children:R.name},R.id))})]}),t.days.filter(R=>R.dayNumber===r).map(R=>o.jsx("div",{className:"space-y-4",children:["breakfast","lunch","dinner","snack"].map(G=>{const ee=q(R,G);return ee.length===0?null:o.jsxs("div",{className:"border rounded-lg p-4 dark:border-gray-700",children:[o.jsx("h4",{className:"font-semibold text-lg mb-3 capitalize",children:G}),o.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:ee.map(ie=>o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4",children:[ie.imageUrl&&o.jsx("div",{className:"mb-3 rounded-lg overflow-hidden",children:o.jsx("img",{src:ie.imageUrl,alt:ie.name,className:"w-full h-40 object-cover",loading:"lazy","data-testid":`meal-image-${ie.id}`})}),o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h5",{className:"font-medium",children:ie.name}),ie.prepTime&&o.jsxs(Xe,{variant:"outline",className:"text-xs",children:[o.jsx(Vc,{size:12,className:"mr-1"}),ie.prepTime,"min"]})]}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:ie.description}),o.jsxs("div",{className:"grid grid-cols-4 gap-2 text-xs mb-3",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"font-semibold",children:ie.calories}),o.jsx("div",{className:"text-gray-500",children:"cal"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"font-semibold",children:[ie.protein,"g"]}),o.jsx("div",{className:"text-gray-500",children:"protein"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"font-semibold",children:[ie.carbs,"g"]}),o.jsx("div",{className:"text-gray-500",children:"carbs"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"font-semibold",children:[ie.fat,"g"]}),o.jsx("div",{className:"text-gray-500",children:"fat"})]})]}),o.jsx("div",{className:"space-y-2",children:o.jsxs("div",{children:[o.jsxs("button",{onClick:()=>me(ie.id),className:"flex items-center justify-between w-full text-left hover:bg-gray-100 dark:hover:bg-gray-700 rounded p-1 transition-colors","data-testid":`ingredients-toggle-${ie.id}`,children:[o.jsxs("h6",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300",children:["Ingredients (",ie.ingredients.length,")"]}),c.has(ie.id)?o.jsx(C_,{size:14,className:"text-gray-500"}):o.jsx(Yd,{size:14,className:"text-gray-500"})]}),c.has(ie.id)?o.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:ie.ingredients.map((Ee,Ke)=>o.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white dark:bg-gray-900 rounded",children:[ie.ingredientImages&&ie.ingredientImages[Ee]&&o.jsx("img",{src:ie.ingredientImages[Ee],alt:Ee,className:"w-10 h-10 rounded object-cover flex-shrink-0",loading:"lazy","data-testid":`ingredient-image-${Ke}`,onError:Ue=>{Ue.currentTarget.style.display="none"}}),o.jsx("span",{className:"text-xs text-gray-700 dark:text-gray-300",children:Ee})]},Ke))}):o.jsxs("ul",{className:"text-xs text-gray-600 dark:text-gray-400",children:[ie.ingredients.slice(0,3).map((Ee,Ke)=>o.jsxs("li",{className:"py-0.5 flex items-center gap-2",children:[ie.ingredientImages&&ie.ingredientImages[Ee]&&o.jsx("img",{src:ie.ingredientImages[Ee],alt:Ee,className:"w-6 h-6 rounded object-cover inline-block",loading:"lazy",onError:Ue=>{Ue.currentTarget.style.display="none"}}),o.jsxs("span",{children:[" ",Ee]})]},Ke)),ie.ingredients.length>3&&o.jsxs("li",{className:"py-0.5 italic text-blue-600 dark:text-blue-400",children:[" Click to see ",ie.ingredients.length-3," more ingredients..."]})]})]})})]},ie.id))})]},G)})},R.id)),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t dark:border-gray-700",children:[o.jsx(ue,{variant:"outline",onClick:()=>e(null),children:"Close"}),o.jsx(ue,{onClick:()=>H(t.id),disabled:D.isPending||(w==null?void 0:w.mealPlanId)===t.id,children:(w==null?void 0:w.mealPlanId)===t.id?"Currently Active":"Start This Plan"})]})]})]})})}),o.jsx(mp,{})]}),o.jsxs(Ls,{value:"current",className:"space-y-6",children:[w?o.jsx(Le,{children:o.jsx(Ve,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold",children:w.mealPlan.name}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:w.mealPlan.description}),o.jsxs("div",{className:"flex items-center mt-3 space-x-4",children:[o.jsx(Xe,{className:V(w.mealPlan.goal),children:F(w.mealPlan.goal)}),o.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[w.mealPlan.dailyCalories," cal/day"]})]})]}),o.jsx(ue,{onClick:()=>e(w.mealPlan),variant:"outline",children:"View Details"})]})})}):o.jsx(Le,{children:o.jsxs(Ve,{className:"p-6 text-center",children:[o.jsx(Fg,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Active Meal Plan"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"You don't have an active meal plan yet. Browse our meal plans or create a personalized one based on your food preferences."}),o.jsxs("div",{className:"space-x-3",children:[o.jsx(ue,{onClick:()=>s(!0),"data-testid":"button-generate-ai-plan",children:"Generate AI Plan"}),o.jsx(ue,{variant:"outline",onClick:()=>f("preferences"),"data-testid":"button-set-food-preferences",children:"Set Food Preferences"})]})]})}),o.jsx(mp,{})]}),o.jsx(Ls,{value:"preferences",className:"space-y-6",children:o.jsx(Le,{children:o.jsxs(Ve,{className:"p-6",children:[o.jsx(Vae,{onComplete:ae,showCalorieCalculator:!0}),O.isPending&&o.jsxs("div",{className:"mt-6 text-center",children:[o.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Generating your personalized meal plan based on your food preferences..."})]})]})})})]})]})})})}var LN="Progress",BN=100,[Sle,S0e]=hn(LN),[Ele,Ale]=Sle(LN),K7=b.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:s=kle,...a}=t;(i||i===0)&&!GE(i)&&console.error(jle(`${i}`,"Progress"));const l=GE(i)?i:BN;n!==null&&!qE(n,l)&&console.error(Ple(`${n}`,"Progress"));const c=qE(n,l)?n:null,d=p1(c)?s(c,l):void 0;return o.jsx(Ele,{scope:r,value:c,max:l,children:o.jsx(Fe.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":p1(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":Q7(c,l),"data-value":c??void 0,"data-max":l,...a,ref:e})})});K7.displayName=LN;var Y7="ProgressIndicator",X7=b.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,i=Ale(Y7,r);return o.jsx(Fe.div,{"data-state":Q7(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:e})});X7.displayName=Y7;function kle(t,e){return`${Math.round(t/e*100)}%`}function Q7(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function p1(t){return typeof t=="number"}function GE(t){return p1(t)&&!isNaN(t)&&t>0}function qE(t,e){return p1(t)&&!isNaN(t)&&t<=e&&t>=0}function jle(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${BN}\`.`}function Ple(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${BN} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var J7=K7,Tle=X7;const Lc=b.forwardRef(({className:t,value:e,...r},n)=>o.jsx(J7,{ref:n,className:be("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:o.jsx(Tle,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Lc.displayName=J7.displayName;var UN="Radio",[Ile,eF]=hn(UN),[Dle,Ole]=Ile(UN),tF=b.forwardRef((t,e)=>{const{__scopeRadio:r,name:n,checked:i=!1,required:s,disabled:a,value:l="on",onCheck:c,form:d,...h}=t,[f,m]=b.useState(null),g=lt(e,N=>m(N)),y=b.useRef(!1),x=f?d||!!f.closest("form"):!0;return o.jsxs(Dle,{scope:r,checked:i,disabled:a,children:[o.jsx(Fe.button,{type:"button",role:"radio","aria-checked":i,"data-state":iF(i),"data-disabled":a?"":void 0,disabled:a,value:l,...h,ref:g,onClick:xe(t.onClick,N=>{i||c==null||c(),x&&(y.current=N.isPropagationStopped(),y.current||N.stopPropagation())})}),x&&o.jsx(Mle,{control:f,bubbles:!y.current,name:n,value:l,checked:i,required:s,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});tF.displayName=UN;var rF="RadioIndicator",nF=b.forwardRef((t,e)=>{const{__scopeRadio:r,forceMount:n,...i}=t,s=Ole(rF,r);return o.jsx(Di,{present:n||s.checked,children:o.jsx(Fe.span,{"data-state":iF(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e})})});nF.displayName=rF;var Mle=t=>{const{control:e,checked:r,bubbles:n=!0,...i}=t,s=b.useRef(null),a=lm(r),l=Qp(e);return b.useEffect(()=>{const c=s.current,d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(a!==r&&f){const m=new Event("click",{bubbles:n});f.call(c,r),c.dispatchEvent(m)}},[a,r,n]),o.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:s,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function iF(t){return t?"checked":"unchecked"}var Rle=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],zN="RadioGroup",[Fle,E0e]=hn(zN,[nh,eF]),sF=nh(),aF=eF(),[Lle,Ble]=Fle(zN),oF=b.forwardRef((t,e)=>{const{__scopeRadioGroup:r,name:n,defaultValue:i,value:s,required:a=!1,disabled:l=!1,orientation:c,dir:d,loop:h=!0,onValueChange:f,...m}=t,g=sF(r),y=rh(d),[x,N]=ts({prop:s,defaultProp:i,onChange:f});return o.jsx(Lle,{scope:r,name:n,required:a,disabled:l,value:x,onValueChange:N,children:o.jsx(X_,{asChild:!0,...g,orientation:c,dir:y,loop:h,children:o.jsx(Fe.div,{role:"radiogroup","aria-required":a,"aria-orientation":c,"data-disabled":l?"":void 0,dir:y,...m,ref:e})})})});oF.displayName=zN;var lF="RadioGroupItem",cF=b.forwardRef((t,e)=>{const{__scopeRadioGroup:r,disabled:n,...i}=t,s=Ble(lF,r),a=s.disabled||n,l=sF(r),c=aF(r),d=b.useRef(null),h=lt(e,d),f=s.value===i.value,m=b.useRef(!1);return b.useEffect(()=>{const g=x=>{Rle.includes(x.key)&&(m.current=!0)},y=()=>m.current=!1;return document.addEventListener("keydown",g),document.addEventListener("keyup",y),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",y)}},[]),o.jsx(Q_,{asChild:!0,...l,focusable:!a,active:f,children:o.jsx(tF,{disabled:a,required:s.required,checked:f,...c,...i,name:s.name,ref:h,onCheck:()=>s.onValueChange(i.value),onKeyDown:xe(g=>{g.key==="Enter"&&g.preventDefault()}),onFocus:xe(i.onFocus,()=>{var g;m.current&&((g=d.current)==null||g.click())})})})});cF.displayName=lF;var Ule="RadioGroupIndicator",uF=b.forwardRef((t,e)=>{const{__scopeRadioGroup:r,...n}=t,i=aF(r);return o.jsx(nF,{...i,...n,ref:e})});uF.displayName=Ule;var dF=oF,hF=cF,zle=uF;const fF=b.forwardRef(({className:t,...e},r)=>o.jsx(dF,{className:be("grid gap-2",t),...e,ref:r}));fF.displayName=dF.displayName;const pF=b.forwardRef(({className:t,...e},r)=>o.jsx(hF,{ref:r,className:be("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:o.jsx(zle,{className:"flex items-center justify-center",children:o.jsx(nI,{className:"h-2.5 w-2.5 fill-current text-current"})})}));pF.displayName=hF.displayName;var $N="Checkbox",[$le,A0e]=hn($N),[Vle,Wle]=$le($N),mF=b.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:s,required:a,disabled:l,value:c="on",onCheckedChange:d,form:h,...f}=t,[m,g]=b.useState(null),y=lt(e,E=>g(E)),x=b.useRef(!1),N=m?h||!!m.closest("form"):!0,[_=!1,w]=ts({prop:i,defaultProp:s,onChange:d}),S=b.useRef(_);return b.useEffect(()=>{const E=m==null?void 0:m.form;if(E){const j=()=>w(S.current);return E.addEventListener("reset",j),()=>E.removeEventListener("reset",j)}},[m,w]),o.jsxs(Vle,{scope:r,state:_,disabled:l,children:[o.jsx(Fe.button,{type:"button",role:"checkbox","aria-checked":sl(_)?"mixed":_,"aria-required":a,"data-state":xF(_),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onKeyDown:xe(t.onKeyDown,E=>{E.key==="Enter"&&E.preventDefault()}),onClick:xe(t.onClick,E=>{w(j=>sl(j)?!0:!j),N&&(x.current=E.isPropagationStopped(),x.current||E.stopPropagation())})}),N&&o.jsx(Hle,{control:m,bubbles:!x.current,name:n,value:c,checked:_,required:a,disabled:l,form:h,style:{transform:"translateX(-100%)"},defaultChecked:sl(s)?!1:s})]})});mF.displayName=$N;var gF="CheckboxIndicator",vF=b.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...i}=t,s=Wle(gF,r);return o.jsx(Di,{present:n||sl(s.state)||s.state===!0,children:o.jsx(Fe.span,{"data-state":xF(s.state),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});vF.displayName=gF;var Hle=t=>{const{control:e,checked:r,bubbles:n=!0,defaultChecked:i,...s}=t,a=b.useRef(null),l=lm(r),c=Qp(e);b.useEffect(()=>{const h=a.current,f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&g){const y=new Event("click",{bubbles:n});h.indeterminate=sl(r),g.call(h,sl(r)?!1:r),h.dispatchEvent(y)}},[l,r,n]);const d=b.useRef(sl(r)?!1:r);return o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??d.current,...s,tabIndex:-1,ref:a,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function sl(t){return t==="indeterminate"}function xF(t){return sl(t)?"indeterminate":t?"checked":"unchecked"}var yF=mF,Gle=vF;const wF=b.forwardRef(({className:t,...e},r)=>o.jsx(yF,{ref:r,className:be("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:o.jsx(Gle,{className:be("flex items-center justify-center text-current"),children:o.jsx(qn,{className:"h-4 w-4"})})}));wF.displayName=yF.displayName;function qle(){const[t,e]=b.useState(0),[r,n]=b.useState({fitnessLevel:"",primaryGoals:[],workoutDaysPerWeek:3,sessionDuration:45,availableEquipment:[],preferredWorkoutTypes:[],injuriesOrLimitations:[]}),[i,s]=b.useState(!1),{toast:a}=xi(),l=Rn(),{data:c}=Rt({queryKey:["/api/workout-preferences"]}),{data:d}=Rt({queryKey:["/api/workout-plan"],enabled:!!c||i});b.useEffect(()=>{c&&(n({fitnessLevel:c.fitnessLevel,primaryGoals:c.primaryGoals,workoutDaysPerWeek:c.workoutDaysPerWeek,sessionDuration:c.sessionDuration,availableEquipment:c.availableEquipment,preferredWorkoutTypes:c.preferredWorkoutTypes,injuriesOrLimitations:c.injuriesOrLimitations||[]}),s(!0))},[c]);const h=Ut({mutationFn:async E=>(await dt("POST","/api/workout-preferences",E)).json(),onSuccess:()=>{l.invalidateQueries({queryKey:["/api/workout-preferences"]}),a({title:"Preferences Saved! ",description:"Your workout preferences have been saved successfully."}),f.mutate()}}),f=Ut({mutationFn:async()=>{const E=await dt("POST","/api/workout-plan/generate",{});if(!E.ok){const j=await E.json();throw new Error(j.message||"Failed to generate workout plan")}return E.json()},onSuccess:()=>{l.invalidateQueries({queryKey:["/api/workout-plan"]}),s(!0),a({title:"Workout Plan Generated! ",description:"Your personalized workout plan is ready!"})},onError:E=>{a({title:"Generation Failed",description:E.message||"Failed to generate workout plan. Please try again.",variant:"destructive"})}}),m=[{title:"What's your current fitness level?",key:"fitnessLevel",type:"radio",options:[{value:"beginner",label:"Beginner",description:"New to working out or returning after a long break"},{value:"intermediate",label:"Intermediate",description:"Regular workouts for 6+ months"},{value:"advanced",label:"Advanced",description:"Consistent training for 2+ years"}]},{title:"What are your primary fitness goals?",key:"primaryGoals",type:"checkbox",options:[{value:"lose_weight",label:"Lose Weight",description:"Burn calories and reduce body fat"},{value:"build_muscle",label:"Build Muscle",description:"Increase muscle mass and strength"},{value:"improve_endurance",label:"Improve Endurance",description:"Better cardiovascular fitness"},{value:"general_fitness",label:"General Fitness",description:"Overall health and wellness"},{value:"sport_specific",label:"Sport-Specific",description:"Training for a particular sport"}]},{title:"How many days per week can you workout?",key:"workoutDaysPerWeek",type:"radio",options:[{value:"2",label:"2 days",description:"Minimal time commitment"},{value:"3",label:"3 days",description:"Balanced approach"},{value:"4",label:"4 days",description:"Dedicated routine"},{value:"5",label:"5 days",description:"High commitment"},{value:"6",label:"6 days",description:"Very high commitment"}]},{title:"How long can each workout session be?",key:"sessionDuration",type:"radio",options:[{value:"30",label:"30 minutes",description:"Quick and efficient"},{value:"45",label:"45 minutes",description:"Standard length"},{value:"60",label:"60 minutes",description:"Comprehensive workout"},{value:"90",label:"90 minutes",description:"Extended training"}]},{title:"What equipment do you have access to?",key:"availableEquipment",type:"checkbox",options:[{value:"bodyweight",label:"Bodyweight",description:"No equipment needed"},{value:"dumbbells",label:"Dumbbells",description:"Various weights"},{value:"barbell",label:"Barbell",description:"Olympic or standard"},{value:"resistance_bands",label:"Resistance Bands",description:"Portable resistance"},{value:"pull_up_bar",label:"Pull-up Bar",description:"For upper body"},{value:"gym_access",label:"Full Gym",description:"Complete gym facility"}]},{title:"What types of workouts do you prefer?",key:"preferredWorkoutTypes",type:"checkbox",options:[{value:"strength",label:"Strength Training",description:"Weight lifting and resistance"},{value:"cardio",label:"Cardio",description:"Running, cycling, HIIT"},{value:"yoga",label:"Yoga",description:"Flexibility and mindfulness"},{value:"pilates",label:"Pilates",description:"Core strength and stability"},{value:"functional",label:"Functional Training",description:"Real-world movement patterns"}]},{key:"injuriesOrLimitations",title:"Do you have any injuries or physical limitations?",type:"checkbox",options:[{value:"none",label:"No injuries or limitations",description:"I can do all exercises"},{value:"knee",label:"Knee issues",description:"Knee pain or limitations"},{value:"back",label:"Back problems",description:"Lower or upper back issues"},{value:"shoulder",label:"Shoulder issues",description:"Shoulder pain or mobility limits"},{value:"ankle",label:"Ankle problems",description:"Ankle instability or pain"},{value:"wrist",label:"Wrist/hand issues",description:"Wrist pain or grip limitations"},{value:"other",label:"Other limitations",description:"Other physical restrictions"}]}],g=(E,j,D=!1)=>{n(T=>({...T,[E]:D?T[E].includes(j)?T[E].filter(O=>O!==j):[...T[E],j]:j}))},y=()=>{t<m.length-1?e(t+1):h.mutate(r)},x=()=>{t>0&&e(t-1)},N=()=>{const E=m[t],j=r[E.key];return E.type==="checkbox"?Array.isArray(j)&&j.length>0:j!==""&&j!==void 0},_=()=>{if(!(d!=null&&d.plannedWorkouts))return o.jsx(Le,{className:"bg-black/80 border-red-800/30",children:o.jsxs(Ve,{className:"p-12 text-center space-y-4",children:[o.jsx("div",{className:"w-16 h-16 bg-red-600/20 rounded-full flex items-center justify-center mx-auto",children:o.jsx(hr,{className:"w-8 h-8 text-red-500"})}),o.jsx("h3",{className:"text-xl font-semibold text-white",children:"No Workout Plan Generated Yet"}),o.jsx("p",{className:"text-gray-400 max-w-md mx-auto",children:'Click the "Generate New Plan" button below to create your personalized AI-powered workout plan.'}),o.jsx(ue,{onClick:()=>f.mutate(),disabled:f.isPending,className:"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800","data-testid":"button-generate-initial-plan",children:f.isPending?o.jsxs(o.Fragment,{children:[o.jsx(iI,{className:"mr-2 h-4 w-4 animate-spin"}),"Generating Your Plan..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Tc,{className:"mr-2 h-4 w-4"}),"Generate My Workout Plan"]})})]})});const E=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],j=1,D=d.plannedWorkouts.filter(T=>T.weekNumber===j);return o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2 text-white",children:[o.jsx(ei,{className:"w-5 h-5"}),"Weekly Schedule - Week ",j]}),o.jsx("div",{className:"grid gap-3",children:E.map((T,O)=>{const B=D.find(P=>P.dayOfWeek===O);return o.jsxs(Le,{className:`p-4 ${B!=null&&B.isRestDay?"bg-gray-900/50":"bg-gray-900/70"}`,"data-testid":`workout-card-${T.toLowerCase()}`,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"}),o.jsx("span",{className:"font-medium text-white",children:T})]}),o.jsx("div",{className:"flex items-center gap-2",children:B?B.isRestDay?o.jsxs(Xe,{variant:"secondary",className:"flex items-center gap-1",children:[o.jsx(Kw,{className:"w-3 h-3"}),"Rest Day"]}):o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Xe,{variant:"default",className:"flex items-center gap-1",children:[o.jsx(hr,{className:"w-3 h-3"}),B.workoutType]}),o.jsxs("span",{className:"text-sm text-gray-400",children:[B.estimatedDuration,"min"]})]}):o.jsx(Xe,{variant:"outline",children:"No workout"})})]}),B&&!B.isRestDay&&o.jsxs("div",{className:"mt-3 space-y-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("h4",{className:"font-semibold text-white",children:B.name}),o.jsx("p",{className:"text-sm text-gray-400",children:B.description})]}),B.exercises&&Array.isArray(B.exercises)&&B.exercises.length>0?o.jsxs("div",{className:"space-y-2 mt-4 pt-3 border-t border-gray-700",children:[o.jsxs("h5",{className:"text-sm font-medium text-white flex items-center gap-2",children:[o.jsx(mt,{className:"w-4 h-4 text-primary"}),"Exercises (",B.exercises.length,")"]}),o.jsx("div",{className:"space-y-3",children:B.exercises.map((P,V)=>o.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3 space-y-1","data-testid":`exercise-${V}`,children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsx("span",{className:"font-medium text-white text-sm",children:P.name}),o.jsxs(Xe,{variant:"outline",className:"text-xs",children:[P.sets,"  ",P.reps]})]}),o.jsx("div",{className:"flex items-center gap-3 text-xs text-gray-400",children:o.jsxs("span",{children:["Rest: ",P.restSeconds,"s"]})}),P.notes&&o.jsx("p",{className:"text-xs text-gray-500 mt-1 italic",children:P.notes})]},V))})]}):null]})]},T)})})]})};if(i&&c)return o.jsx(Rd,{feature:"workout_planner",children:o.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-8",children:[o.jsxs("div",{className:"text-center space-y-4",children:[o.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center justify-center gap-3",children:[o.jsx(ti,{className:"w-8 h-8 text-primary"}),"Your Personalized Workout Plan"]}),o.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Based on your preferences, we've created a customized workout plan with rest days included."})]}),o.jsx(h1,{type:"exercise"}),o.jsx(f1,{}),o.jsxs(jv,{defaultValue:"schedule",className:"w-full",children:[o.jsxs(pm,{className:"grid w-full grid-cols-3",children:[o.jsx(Fs,{value:"schedule",children:"Weekly Schedule"}),o.jsx(Fs,{value:"preferences",children:"Your Preferences"}),o.jsx(Fs,{value:"progress",children:"Progress"})]}),o.jsxs(Ls,{value:"schedule",className:"space-y-6",children:[_(),o.jsxs("div",{className:"flex gap-4 justify-center",children:[o.jsxs(ue,{onClick:()=>f.mutate(),disabled:f.isPending,className:"flex items-center gap-2",children:[o.jsx(Kw,{className:"w-4 h-4"}),f.isPending?"Generating...":"Generate New Plan"]}),o.jsxs(ue,{variant:"outline",onClick:()=>s(!1),className:"flex items-center gap-2",children:[o.jsx(ti,{className:"w-4 h-4"}),"Retake Quiz"]})]})]}),o.jsx(Ls,{value:"preferences",className:"space-y-6",children:o.jsxs(Le,{children:[o.jsxs(kt,{children:[o.jsx(Ot,{children:"Your Workout Preferences"}),o.jsx(qr,{children:"These settings were used to create your plan"})]}),o.jsx(Ve,{className:"space-y-4",children:o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(it,{className:"text-sm font-medium text-white",children:"Fitness Level"}),o.jsx(Xe,{variant:"outline",className:"mt-1 capitalize",children:c.fitnessLevel})]}),o.jsxs("div",{children:[o.jsx(it,{className:"text-sm font-medium text-white",children:"Workout Days"}),o.jsxs(Xe,{variant:"outline",className:"mt-1",children:[c.workoutDaysPerWeek," days/week"]})]}),o.jsxs("div",{children:[o.jsx(it,{className:"text-sm font-medium text-white",children:"Session Duration"}),o.jsxs(Xe,{variant:"outline",className:"mt-1",children:[c.sessionDuration," minutes"]})]}),o.jsxs("div",{children:[o.jsx(it,{className:"text-sm font-medium text-white",children:"Primary Goals"}),o.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:c.primaryGoals.map(E=>o.jsx(Xe,{variant:"secondary",className:"text-xs",children:E.replace("_"," ")},E))})]})]})})]})}),o.jsx(Ls,{value:"progress",className:"space-y-6",children:o.jsxs(Le,{children:[o.jsxs(kt,{children:[o.jsxs(Ot,{className:"flex items-center gap-2",children:[o.jsx(Xr,{className:"w-5 h-5"}),"Weekly Progress"]}),o.jsx(qr,{children:"Track your workout completion"})]}),o.jsx(Ve,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"This Week"}),o.jsxs("span",{className:"text-sm font-medium",children:["0/",c.workoutDaysPerWeek," completed"]})]}),o.jsx(Lc,{value:0,className:"w-full"})]})})]})})]}),o.jsx(mp,{})]})});const w=m[t],S=(t+1)/m.length*100;return o.jsx(Rd,{feature:"workout_planner",children:o.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-3xl",children:[o.jsxs("div",{className:"text-center space-y-4 mb-8",children:[o.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center justify-center gap-3",children:[o.jsx(ti,{className:"w-8 h-8 text-primary"}),"Workout Planner"]}),o.jsx("p",{className:"text-gray-600",children:"Let's create a personalized workout plan tailored to your goals and preferences"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[o.jsxs("span",{children:["Question ",t+1," of ",m.length]}),o.jsxs("span",{children:[Math.round(S),"% complete"]})]}),o.jsx(Lc,{value:S,className:"w-full"})]})]}),o.jsx(h1,{type:"exercise"}),o.jsx(f1,{}),o.jsxs(Le,{className:"mb-6",children:[o.jsx(kt,{children:o.jsx(Ot,{className:"text-xl",children:w.title})}),o.jsx(Ve,{className:"space-y-4",children:w.type==="radio"?o.jsx(fF,{value:r[w.key],onValueChange:E=>g(w.key,E),children:w.options.map(E=>o.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border hover:bg-gray-50 transition-colors",children:[o.jsx(pF,{value:E.value,id:E.value,className:"mt-0.5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx(it,{htmlFor:E.value,className:"font-medium cursor-pointer",children:E.label}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:E.description})]})]},E.value))}):o.jsx("div",{className:"space-y-3",children:w.options.map(E=>{const j=r[w.key].includes(E.value);return o.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border hover:bg-gray-50 transition-colors",children:[o.jsx(wF,{id:E.value,checked:j,onCheckedChange:()=>g(w.key,E.value,!0),className:"mt-0.5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx(it,{htmlFor:E.value,className:"font-medium cursor-pointer",children:E.label}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:E.description})]})]},E.value)})})})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx(ue,{variant:"outline",onClick:x,disabled:t===0,className:"flex items-center gap-2",children:"Previous"}),o.jsx(ue,{onClick:y,disabled:!N()||h.isPending||f.isPending,className:"flex items-center gap-2","data-testid":"next-button",children:t===m.length-1?h.isPending||f.isPending?"Creating Plan...":"Create My Plan":"Next"})]}),o.jsx(mp,{})]})})}const Qb=b.forwardRef(({className:t,...e},r)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:r,className:be("w-full caption-bottom text-sm",t),...e})}));Qb.displayName="Table";const bF=b.forwardRef(({className:t,...e},r)=>o.jsx("thead",{ref:r,className:be("[&_tr]:border-b",t),...e}));bF.displayName="TableHeader";const Jb=b.forwardRef(({className:t,...e},r)=>o.jsx("tbody",{ref:r,className:be("[&_tr:last-child]:border-0",t),...e}));Jb.displayName="TableBody";const Zle=b.forwardRef(({className:t,...e},r)=>o.jsx("tfoot",{ref:r,className:be("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));Zle.displayName="TableFooter";const Ba=b.forwardRef(({className:t,...e},r)=>o.jsx("tr",{ref:r,className:be("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Ba.displayName="TableRow";const e2=b.forwardRef(({className:t,...e},r)=>o.jsx("th",{ref:r,className:be("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));e2.displayName="TableHead";const $n=b.forwardRef(({className:t,...e},r)=>o.jsx("td",{ref:r,className:be("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));$n.displayName="TableCell";const Kle=b.forwardRef(({className:t,...e},r)=>o.jsx("caption",{ref:r,className:be("mt-4 text-sm text-muted-foreground",t),...e}));Kle.displayName="TableCaption";function Yle(t,e){var r=Object.setPrototypeOf;r?r(t,e):t.__proto__=e}function Xle(t,e){e===void 0&&(e=t.constructor);var r=Error.captureStackTrace;r&&r(t,e)}var Qle=function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])},t(r,n)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Jle=function(t){Qle(e,t);function e(r,n){var i=this.constructor,s=t.call(this,r,n)||this;return Object.defineProperty(s,"name",{value:i.name,enumerable:!1,configurable:!0}),Yle(s,i.prototype),Xle(s),s}return e}(Error),ece=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),yi=function(t){ece(e,t);function e(r){r===void 0&&(r=void 0);var n=t.call(this,r)||this;return n.message=r,n}return e.prototype.getKind=function(){var r=this.constructor;return r.kind},e.kind="Exception",e}(Jle),tce=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ar=function(t){tce(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArgumentException",e}(yi),rce=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),qe=function(t){rce(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e}(yi),_F=function(){function t(e){if(this.binarizer=e,e===null)throw new qe("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(e,r){return this.binarizer.getBlackRow(e,r)},t.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,r,n,i){var s=this.binarizer.getLuminanceSource().crop(e,r,n,i);return new t(this.binarizer.createBinarizer(s))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},t}(),nce=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Lr=function(t){nce(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(yi),ice=function(){function t(e){this.source=e}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t}(),rr=function(){function t(){}return t.arraycopy=function(e,r,n,i,s){for(;s--;)n[i++]=e[r++]},t.currentTimeMillis=function(){return Date.now()},t}(),sce=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),VN=function(t){sce(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e}(yi),ace=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ZE=function(t){ace(e,t);function e(r,n){r===void 0&&(r=void 0),n===void 0&&(n=void 0);var i=t.call(this,n)||this;return i.index=r,i.message=n,i}return e.kind="ArrayIndexOutOfBoundsException",e}(VN),oce=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Kr=function(){function t(){}return t.fill=function(e,r){for(var n=0,i=e.length;n<i;n++)e[n]=r},t.fillWithin=function(e,r,n,i){t.rangeCheck(e.length,r,n);for(var s=r;s<n;s++)e[s]=i},t.rangeCheck=function(e,r,n){if(r>n)throw new qe("fromIndex("+r+") > toIndex("+n+")");if(r<0)throw new ZE(r);if(n>e)throw new ZE(n)},t.asList=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e},t.create=function(e,r,n){var i=Array.from({length:e});return i.map(function(s){return Array.from({length:r}).fill(n)})},t.createInt32Array=function(e,r,n){var i=Array.from({length:e});return i.map(function(s){return Int32Array.from({length:r}).fill(n)})},t.equals=function(e,r){if(!e||!r||!e.length||!r.length||e.length!==r.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]!==r[n])return!1;return!0},t.hashCode=function(e){var r,n;if(e===null)return 0;var i=1;try{for(var s=oce(e),a=s.next();!a.done;a=s.next()){var l=a.value;i=31*i+l}}catch(c){r={error:c}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return i},t.fillUint8Array=function(e,r){for(var n=0;n!==e.length;n++)e[n]=r},t.copyOf=function(e,r){return e.slice(0,r)},t.copyOfUint8Array=function(e,r){if(e.length<=r){var n=new Uint8Array(r);return n.set(e),n}return e.slice(0,r)},t.copyOfRange=function(e,r,n){var i=n-r,s=new Int32Array(i);return rr.arraycopy(e,r,s,0,i),s},t.binarySearch=function(e,r,n){n===void 0&&(n=t.numberComparator);for(var i=0,s=e.length-1;i<=s;){var a=s+i>>1,l=n(r,e[a]);if(l>0)i=a+1;else if(l<0)s=a-1;else return a}return-i-1},t.numberComparator=function(e,r){return e-r},t}(),wt=function(){function t(){}return t.numberOfTrailingZeros=function(e){var r;if(e===0)return 32;var n=31;return r=e<<16,r!==0&&(n-=16,e=r),r=e<<8,r!==0&&(n-=8,e=r),r=e<<4,r!==0&&(n-=4,e=r),r=e<<2,r!==0&&(n-=2,e=r),n-(e<<1>>>31)},t.numberOfLeadingZeros=function(e){if(e===0)return 32;var r=1;return e>>>16||(r+=16,e<<=16),e>>>24||(r+=8,e<<=8),e>>>28||(r+=4,e<<=4),e>>>30||(r+=2,e<<=2),r-=e>>>31,r},t.toHexString=function(e){return e.toString(16)},t.toBinaryString=function(e){return String(parseInt(String(e),2))},t.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},t.truncDivision=function(e,r){return Math.trunc(e/r)},t.parseInt=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),ln=function(){function t(e,r){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,r==null?this.bits=t.makeArray(e):this.bits=r)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var r=t.makeArray(e);rr.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}},t.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},t.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},t.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},t.prototype.getNextSet=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),s=n[i];s&=~((1<<(e&31))-1);for(var a=n.length;s===0;){if(++i===a)return r;s=n[i]}var l=i*32+wt.numberOfTrailingZeros(s);return l>r?r:l},t.prototype.getNextUnset=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),s=~n[i];s&=~((1<<(e&31))-1);for(var a=n.length;s===0;){if(++i===a)return r;s=~n[i]}var l=i*32+wt.numberOfTrailingZeros(s);return l>r?r:l},t.prototype.setBulk=function(e,r){this.bits[Math.floor(e/32)]=r},t.prototype.setRange=function(e,r){if(r<e||e<0||r>this.size)throw new qe;if(r!==e){r--;for(var n=Math.floor(e/32),i=Math.floor(r/32),s=this.bits,a=n;a<=i;a++){var l=a>n?0:e&31,c=a<i?31:r&31,d=(2<<c)-(1<<l);s[a]|=d}}},t.prototype.clear=function(){for(var e=this.bits.length,r=this.bits,n=0;n<e;n++)r[n]=0},t.prototype.isRange=function(e,r,n){if(r<e||e<0||r>this.size)throw new qe;if(r===e)return!0;r--;for(var i=Math.floor(e/32),s=Math.floor(r/32),a=this.bits,l=i;l<=s;l++){var c=l>i?0:e&31,d=l<s?31:r&31,h=(2<<d)-(1<<c)&4294967295;if((a[l]&h)!==(n?h:0))return!1}return!0},t.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},t.prototype.appendBits=function(e,r){if(r<0||r>32)throw new qe("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(var n=r;n>0;n--)this.appendBit((e>>n-1&1)===1)},t.prototype.appendBitArray=function(e){var r=e.size;this.ensureCapacity(this.size+r);for(var n=0;n<r;n++)this.appendBit(e.get(n))},t.prototype.xor=function(e){if(this.size!==e.size)throw new qe("Sizes don't match");for(var r=this.bits,n=0,i=r.length;n<i;n++)r[n]^=e.bits[n]},t.prototype.toBytes=function(e,r,n,i){for(var s=0;s<i;s++){for(var a=0,l=0;l<8;l++)this.get(e)&&(a|=1<<7-l),e++;r[n+s]=a}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),n=r+1,i=this.bits,s=0;s<n;s++){var a=i[s];a=a>>1&1431655765|(a&1431655765)<<1,a=a>>2&858993459|(a&858993459)<<2,a=a>>4&252645135|(a&252645135)<<4,a=a>>8&16711935|(a&16711935)<<8,a=a>>16&65535|(a&65535)<<16,e[r-s]=a}if(this.size!==n*32){for(var l=n*32-this.size,c=e[0]>>>l,s=1;s<n;s++){var d=e[s];c|=d<<32-l,e[s-1]=c,c=d>>>l}e[n-1]=c}this.bits=e},t.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.size===r.size&&Kr.equals(this.bits,r.bits)},t.prototype.hashCode=function(){return 31*this.size+Kr.hashCode(this.bits)},t.prototype.toString=function(){for(var e="",r=0,n=this.size;r<n;r++)r&7||(e+=" "),e+=this.get(r)?"X":".";return e},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t.prototype.toArray=function(){for(var e=[],r=0,n=this.size;r<n;r++)e.push(this.get(r));return e},t}(),t2;(function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",t[t.ASSUME_GS1=8]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(t2||(t2={}));const nr=t2;var lce=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),we=function(t){lce(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(yi),cce=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},qt;(function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"})(qt||(qt={}));var Zr=function(){function t(e,r,n){for(var i,s,a=[],l=3;l<arguments.length;l++)a[l-3]=arguments[l];this.valueIdentifier=e,this.name=n,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=a,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(n,this);for(var c=this.values,d=0,h=c.length;d!==h;d++){var f=c[d];t.VALUES_TO_ECI.set(f,this)}try{for(var m=cce(a),g=m.next();!g.done;g=m.next()){var y=g.value;t.NAME_TO_ECI.set(y,this)}}catch(x){i={error:x}}finally{try{g&&!g.done&&(s=m.return)&&s.call(m)}finally{if(i)throw i.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new we("incorect value");var r=t.VALUES_TO_ECI.get(e);if(r===void 0)throw new we("incorect value");return r},t.getCharacterSetECIByName=function(e){var r=t.NAME_TO_ECI.get(e);if(r===void 0)throw new we("incorect value");return r},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.getName()===r.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(qt.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(qt.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(qt.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(qt.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(qt.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(qt.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(qt.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(qt.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(qt.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(qt.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(qt.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(qt.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(qt.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(qt.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(qt.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(qt.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(qt.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(qt.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(qt.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(qt.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(qt.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(qt.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(qt.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(qt.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(qt.Big5,28,"Big5"),t.GB18030=new t(qt.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(qt.EUC_KR,30,"EUC_KR","EUC-KR"),t}(),uce=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),sg=function(t){uce(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e}(yi),Qi=function(){function t(){}return t.decode=function(e,r){var n=this.encodingName(r);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&e==="ISO-8859-1"},t.encode=function(e,r){var n=this.encodingName(r);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},t.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},t.encodingName=function(e){return typeof e=="string"?e:e.getName()},t.encodingCharacterSet=function(e){return e instanceof Zr?e:Zr.getCharacterSetECIByName(e)},t.decodeFallback=function(e,r){var n=this.encodingCharacterSet(r);if(t.isDecodeFallbackSupported(n)){for(var i="",s=0,a=e.length;s<a;s++){var l=e[s].toString(16);l.length<2&&(l="0"+l),i+="%"+l}return decodeURIComponent(i)}if(n.equals(Zr.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new sg("Encoding "+this.encodingName(r)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(e){return e.equals(Zr.UTF8)||e.equals(Zr.ISO8859_1)||e.equals(Zr.ASCII)},t.encodeFallback=function(e){for(var r=btoa(unescape(encodeURIComponent(e))),n=r.split(""),i=[],s=0;s<n.length;s++)i.push(n[s].charCodeAt(0));return new Uint8Array(i)},t}(),Et=function(){function t(){}return t.castAsNonUtf8Char=function(e,r){r===void 0&&(r=null);var n=r?r.getName():this.ISO88591;return Qi.decode(new Uint8Array([e]),n)},t.guessEncoding=function(e,r){if(r!=null&&r.get(nr.CHARACTER_SET)!==void 0)return r.get(nr.CHARACTER_SET).toString();for(var n=e.length,i=!0,s=!0,a=!0,l=0,c=0,d=0,h=0,f=0,m=0,g=0,y=0,x=0,N=0,_=0,w=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,S=0;S<n&&(i||s||a);S++){var E=e[S]&255;a&&(l>0?E&128?l--:a=!1:E&128&&(E&64?(l++,E&32?(l++,E&16?(l++,E&8?a=!1:h++):d++):c++):a=!1)),i&&(E>127&&E<160?i=!1:E>159&&(E<192||E===215||E===247)&&_++),s&&(f>0?E<64||E===127||E>252?s=!1:f--:E===128||E===160||E>239?s=!1:E>160&&E<224?(m++,y=0,g++,g>x&&(x=g)):E>127?(f++,g=0,y++,y>N&&(N=y)):(g=0,y=0))}return a&&l>0&&(a=!1),s&&f>0&&(s=!1),a&&(w||c+d+h>0)?t.UTF8:s&&(t.ASSUME_SHIFT_JIS||x>=3||N>=3)?t.SHIFT_JIS:i&&s?x===2&&m===2||_*10>=n?t.SHIFT_JIS:t.ISO88591:i?t.ISO88591:s?t.SHIFT_JIS:a?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=-1;function s(l,c,d,h,f,m){if(l==="%%")return"%";if(r[++i]!==void 0){l=h?parseInt(h.substr(1)):void 0;var g=f?parseInt(f.substr(1)):void 0,y;switch(m){case"s":y=r[i];break;case"c":y=r[i][0];break;case"f":y=parseFloat(r[i]).toFixed(l);break;case"p":y=parseFloat(r[i]).toPrecision(l);break;case"e":y=parseFloat(r[i]).toExponential(l);break;case"x":y=parseInt(r[i]).toString(g||16);break;case"d":y=parseFloat(parseInt(r[i],g||10).toPrecision(l)).toFixed(0);break}y=typeof y=="object"?JSON.stringify(y):(+y).toString(g);for(var x=parseInt(d),N=d&&d[0]+""=="0"?"0":" ";y.length<x;)y=c!==void 0?y+N:N+y;return y}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,s)},t.getBytes=function(e,r){return Qi.encode(e,r)},t.getCharCode=function(e,r){return r===void 0&&(r=0),e.charCodeAt(r)},t.getCharAt=function(e){return String.fromCharCode(e)},t.SHIFT_JIS=Zr.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=Zr.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=Zr.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t}(),vt=function(){function t(e){e===void 0&&(e=""),this.value=e}return t.prototype.enableDecoding=function(e){return this.encoding=e,this},t.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=Et.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},t.prototype.appendChars=function(e,r,n){for(var i=r;r<r+n;i++)this.append(e[i]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(e){return this.value.charAt(e)},t.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},t.prototype.setCharAt=function(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+1)},t.prototype.substring=function(e,r){return this.value.substring(e,r)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(e,r){this.value=this.value.substring(0,e)+r+this.value.substring(e)},t}(),Aa=function(){function t(e,r,n,i){if(this.width=e,this.height=r,this.rowSize=n,this.bits=i,r==null&&(r=e),this.height=r,e<1||r<1)throw new qe("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var r=e.length,n=e[0].length,i=new t(n,r),s=0;s<r;s++)for(var a=e[s],l=0;l<n;l++)a[l]&&i.set(l,s);return i},t.parseFromString=function(e,r,n){if(e===null)throw new qe("stringRepresentation cannot be null");for(var i=new Array(e.length),s=0,a=0,l=-1,c=0,d=0;d<e.length;)if(e.charAt(d)===`
`||e.charAt(d)==="\r"){if(s>a){if(l===-1)l=s-a;else if(s-a!==l)throw new qe("row lengths do not match");a=s,c++}d++}else if(e.substring(d,d+r.length)===r)d+=r.length,i[s]=!0,s++;else if(e.substring(d,d+n.length)===n)d+=n.length,i[s]=!1,s++;else throw new qe("illegal character encountered: "+e.substring(d));if(s>a){if(l===-1)l=s-a;else if(s-a!==l)throw new qe("row lengths do not match");c++}for(var h=new t(l,c),f=0;f<s;f++)i[f]&&h.set(Math.floor(f%l),Math.floor(f/l));return h},t.prototype.get=function(e,r){var n=r*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0},t.prototype.set=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295},t.prototype.unset=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)},t.prototype.flip=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295},t.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new qe("input matrix dimensions do not match");for(var r=new ln(Math.floor(this.width/32)+1),n=this.rowSize,i=this.bits,s=0,a=this.height;s<a;s++)for(var l=s*n,c=e.getRow(s,r).getBitArray(),d=0;d<n;d++)i[l+d]^=c[d]},t.prototype.clear=function(){for(var e=this.bits,r=e.length,n=0;n<r;n++)e[n]=0},t.prototype.setRegion=function(e,r,n,i){if(r<0||e<0)throw new qe("Left and top must be nonnegative");if(i<1||n<1)throw new qe("Height and width must be at least 1");var s=e+n,a=r+i;if(a>this.height||s>this.width)throw new qe("The region must fit inside the matrix");for(var l=this.rowSize,c=this.bits,d=r;d<a;d++)for(var h=d*l,f=e;f<s;f++)c[h+Math.floor(f/32)]|=1<<(f&31)&4294967295},t.prototype.getRow=function(e,r){r==null||r.getSize()<this.width?r=new ln(this.width):r.clear();for(var n=this.rowSize,i=this.bits,s=e*n,a=0;a<n;a++)r.setBulk(a*32,i[s+a]);return r},t.prototype.setRow=function(e,r){rr.arraycopy(r.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var e=this.getWidth(),r=this.getHeight(),n=new ln(e),i=new ln(e),s=0,a=Math.floor((r+1)/2);s<a;s++)n=this.getRow(s,n),i=this.getRow(r-1-s,i),n.reverse(),i.reverse(),this.setRow(s,i),this.setRow(r-1-s,n)},t.prototype.getEnclosingRectangle=function(){for(var e=this.width,r=this.height,n=this.rowSize,i=this.bits,s=e,a=r,l=-1,c=-1,d=0;d<r;d++)for(var h=0;h<n;h++){var f=i[d*n+h];if(f!==0){if(d<a&&(a=d),d>c&&(c=d),h*32<s){for(var m=0;!(f<<31-m&4294967295);)m++;h*32+m<s&&(s=h*32+m)}if(h*32+31>l){for(var m=31;!(f>>>m);)m--;h*32+m>l&&(l=h*32+m)}}}return l<s||c<a?null:Int32Array.from([s,a,l-s+1,c-a+1])},t.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,r=this.bits,n=0;n<r.length&&r[n]===0;)n++;if(n===r.length)return null;for(var i=n/e,s=n%e*32,a=r[n],l=0;!(a<<31-l&4294967295);)l++;return s+=l,Int32Array.from([s,i])},t.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,r=this.bits,n=r.length-1;n>=0&&r[n]===0;)n--;if(n<0)return null;for(var i=Math.floor(n/e),s=Math.floor(n%e)*32,a=r[n],l=31;!(a>>>l);)l--;return s+=l,Int32Array.from([s,i])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&Kr.equals(this.bits,r.bits)},t.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+Kr.hashCode(this.bits),e},t.prototype.toString=function(e,r,n){return e===void 0&&(e="X "),r===void 0&&(r="  "),n===void 0&&(n=`
`),this.buildToString(e,r,n)},t.prototype.buildToString=function(e,r,n){for(var i=new vt,s=0,a=this.height;s<a;s++){for(var l=0,c=this.width;l<c;l++)i.append(this.get(l,s)?e:r);i.append(n)}return i.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t}(),dce=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),se=function(t){dce(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(yi),hce=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),fce=function(t){hce(e,t);function e(r){var n=t.call(this,r)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return e.prototype.getBlackRow=function(r,n){var i=this.getLuminanceSource(),s=i.getWidth();n==null||n.getSize()<s?n=new ln(s):n.clear(),this.initArrays(s);for(var a=i.getRow(r,this.luminances),l=this.buckets,c=0;c<s;c++)l[(a[c]&255)>>e.LUMINANCE_SHIFT]++;var d=e.estimateBlackPoint(l);if(s<3)for(var c=0;c<s;c++)(a[c]&255)<d&&n.set(c);else for(var h=a[0]&255,f=a[1]&255,c=1;c<s-1;c++){var m=a[c+1]&255;(f*4-h-m)/2<d&&n.set(c),h=f,f=m}return n},e.prototype.getBlackMatrix=function(){var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight(),s=new Aa(n,i);this.initArrays(n);for(var a=this.buckets,l=1;l<5;l++)for(var c=Math.floor(i*l/5),d=r.getRow(c,this.luminances),h=Math.floor(n*4/5),f=Math.floor(n/5);f<h;f++){var m=d[f]&255;a[m>>e.LUMINANCE_SHIFT]++}for(var g=e.estimateBlackPoint(a),y=r.getMatrix(),l=0;l<i;l++)for(var x=l*n,f=0;f<n;f++){var m=y[x+f]&255;m<g&&s.set(f,l)}return s},e.prototype.createBinarizer=function(r){return new e(r)},e.prototype.initArrays=function(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));for(var n=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)n[i]=0},e.estimateBlackPoint=function(r){for(var n=r.length,i=0,s=0,a=0,l=0;l<n;l++)r[l]>a&&(s=l,a=r[l]),r[l]>i&&(i=r[l]);for(var c=0,d=0,l=0;l<n;l++){var h=l-s,f=r[l]*h*h;f>d&&(c=l,d=f)}if(s>c){var m=s;s=c,c=m}if(c-s<=n/16)throw new se;for(var g=c-1,y=-1,l=c-1;l>s;l--){var x=l-s,f=x*x*(c-l)*(i-r[l]);f>y&&(g=l,y=f)}return g<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(ice),pce=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),NF=function(t){pce(e,t);function e(r){var n=t.call(this,r)||this;return n.matrix=null,n}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight();if(n>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var s=r.getMatrix(),a=n>>e.BLOCK_SIZE_POWER;n&e.BLOCK_SIZE_MASK&&a++;var l=i>>e.BLOCK_SIZE_POWER;i&e.BLOCK_SIZE_MASK&&l++;var c=e.calculateBlackPoints(s,a,l,n,i),d=new Aa(n,i);e.calculateThresholdForBlock(s,a,l,n,i,c,d),this.matrix=d}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(r){return new e(r)},e.calculateThresholdForBlock=function(r,n,i,s,a,l,c){for(var d=a-e.BLOCK_SIZE,h=s-e.BLOCK_SIZE,f=0;f<i;f++){var m=f<<e.BLOCK_SIZE_POWER;m>d&&(m=d);for(var g=e.cap(f,2,i-3),y=0;y<n;y++){var x=y<<e.BLOCK_SIZE_POWER;x>h&&(x=h);for(var N=e.cap(y,2,n-3),_=0,w=-2;w<=2;w++){var S=l[g+w];_+=S[N-2]+S[N-1]+S[N]+S[N+1]+S[N+2]}var E=_/25;e.thresholdBlock(r,x,m,E,s,c)}}},e.cap=function(r,n,i){return r<n?n:r>i?i:r},e.thresholdBlock=function(r,n,i,s,a,l){for(var c=0,d=i*a+n;c<e.BLOCK_SIZE;c++,d+=a)for(var h=0;h<e.BLOCK_SIZE;h++)(r[d+h]&255)<=s&&l.set(n+h,i+c)},e.calculateBlackPoints=function(r,n,i,s,a){for(var l=a-e.BLOCK_SIZE,c=s-e.BLOCK_SIZE,d=new Array(i),h=0;h<i;h++){d[h]=new Int32Array(n);var f=h<<e.BLOCK_SIZE_POWER;f>l&&(f=l);for(var m=0;m<n;m++){var g=m<<e.BLOCK_SIZE_POWER;g>c&&(g=c);for(var y=0,x=255,N=0,_=0,w=f*s+g;_<e.BLOCK_SIZE;_++,w+=s){for(var S=0;S<e.BLOCK_SIZE;S++){var E=r[w+S]&255;y+=E,E<x&&(x=E),E>N&&(N=E)}if(N-x>e.MIN_DYNAMIC_RANGE)for(_++,w+=s;_<e.BLOCK_SIZE;_++,w+=s)for(var S=0;S<e.BLOCK_SIZE;S++)y+=r[w+S]&255}var j=y>>e.BLOCK_SIZE_POWER*2;if(N-x<=e.MIN_DYNAMIC_RANGE&&(j=x/2,h>0&&m>0)){var D=(d[h-1][m]+2*d[h][m-1]+d[h-1][m-1])/4;x<D&&(j=D)}d[h][m]=j}}return d},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e}(fce),vm=function(){function t(e,r){this.width=e,this.height=r}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(e,r,n,i){throw new sg("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new sg("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new sg("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),r=new vt,n=0;n<this.height;n++){for(var i=this.getRow(n,e),s=0;s<this.width;s++){var a=i[s]&255,l=void 0;a<64?l="#":a<128?l="+":a<192?l=".":l=" ",r.append(l)}r.append(`
`)}return r.toString()},t}(),mce=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ov=function(t){mce(e,t);function e(r){var n=t.call(this,r.getWidth(),r.getHeight())||this;return n.delegate=r,n}return e.prototype.getRow=function(r,n){for(var i=this.delegate.getRow(r,n),s=this.getWidth(),a=0;a<s;a++)i[a]=255-(i[a]&255);return i},e.prototype.getMatrix=function(){for(var r=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(n),s=0;s<n;s++)i[s]=255-(r[s]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(r,n,i,s){return new e(this.delegate.crop(r,n,i,s))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(vm),gce=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),vce=function(t){gce(e,t);function e(r,n){n===void 0&&(n=!1);var i=t.call(this,r.width,r.height)||this;return i.canvas=r,i.tempCanvasElement=null,i.buffer=e.makeBufferFromCanvasImageData(r,n),i}return e.makeBufferFromCanvasImageData=function(r,n){n===void 0&&(n=!1);var i=r.getContext("2d").getImageData(0,0,r.width,r.height);return e.toGrayscaleBuffer(i.data,r.width,r.height,n)},e.toGrayscaleBuffer=function(r,n,i,s){s===void 0&&(s=!1);var a=new Uint8ClampedArray(n*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!s)for(var l=0,c=0,d=r.length;l<d;l+=4,c++){var h=void 0,f=r[l+3];if(f===0)h=255;else{var m=r[l],g=r[l+1],y=r[l+2];h=306*m+601*g+117*y+512>>10}a[c]=h}else for(var l=0,c=0,x=r.length;l<x;l+=4,c++){var h=void 0,f=r[l+3];if(f===0)h=255;else{var m=r[l],g=r[l+1],y=r[l+2];h=306*m+601*g+117*y+512>>10}a[c]=255-h}return a},e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new qe("Requested row is outside the image: "+r);var i=this.getWidth(),s=r*i;return n===null?n=this.buffer.slice(s,s+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(s,s+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,s){return t.prototype.crop.call(this,r,n,i,s),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},e.prototype.rotate=function(r){var n=this.getTempCanvasElement(),i=n.getContext("2d"),s=r*e.DEGREE_TO_RADIANS,a=this.canvas.width,l=this.canvas.height,c=Math.ceil(Math.abs(Math.cos(s))*a+Math.abs(Math.sin(s))*l),d=Math.ceil(Math.abs(Math.sin(s))*a+Math.abs(Math.cos(s))*l);return n.width=c,n.height=d,i.translate(c/2,d/2),i.rotate(s),i.drawImage(this.canvas,a/-2,l/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new Ov(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e}(vm),xce=function(){function t(e,r,n){this.deviceId=e,this.label=r,this.kind="videoinput",this.groupId=n||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t}(),Bn=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(h){try{d(n.next(h))}catch(f){a(f)}}function c(h){try{d(n.throw(h))}catch(f){a(f)}}function d(h){h.done?s(h.value):i(h.value).then(l,c)}d((n=n.apply(t,e||[])).next())})},Un=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(d){return function(h){return c([d,h])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,i=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){r.label=d[1];break}if(d[0]===6&&r.label<s[1]){r.label=s[1],s=d;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(d);break}s[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(h){d=[6,h],i=0}finally{n=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},yce=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},sh=function(){function t(e,r,n){r===void 0&&(r=500),this.reader=e,this.timeBetweenScansMillis=r,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return Bn(this,void 0,void 0,function(){var e,r,n,i,s,a,l,c,d,h,f,m;return Un(this,function(g){switch(g.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=g.sent(),r=[];try{for(n=yce(e),i=n.next();!i.done;i=n.next())s=i.value,a=s.kind==="video"?"videoinput":s.kind,a==="videoinput"&&(l=s.deviceId||s.id,c=s.label||"Video device "+(r.length+1),d=s.groupId,h={deviceId:l,label:c,kind:a,groupId:d},r.push(h))}catch(y){f={error:y}}finally{try{i&&!i.done&&(m=n.return)&&m.call(n)}finally{if(f)throw f.error}}return[2,r]}})})},t.prototype.getVideoInputDevices=function(){return Bn(this,void 0,void 0,function(){var e;return Un(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=r.sent(),[2,e.map(function(n){return new xce(n.deviceId,n.label)})]}})})},t.prototype.findDeviceById=function(e){return Bn(this,void 0,void 0,function(){var r;return Un(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(i){return i.deviceId===e})]:[2,null]}})})},t.prototype.decodeFromInputVideoDevice=function(e,r){return Bn(this,void 0,void 0,function(){return Un(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,r)];case 1:return[2,n.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,r){return Bn(this,void 0,void 0,function(){var n,i;return Un(this,function(s){switch(s.label){case 0:return this.reset(),e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,r)];case 1:return[2,s.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(e,r){return Bn(this,void 0,void 0,function(){var n;return Un(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return Bn(this,void 0,void 0,function(){var n,i;return Un(this,function(s){switch(s.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return n=s.sent(),[4,this.decodeOnce(n)];case 2:return i=s.sent(),[2,i]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(e,r,n){return Bn(this,void 0,void 0,function(){return Un(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,r,n)];case 1:return[2,i.sent()]}})})},t.prototype.decodeFromVideoDevice=function(e,r,n){return Bn(this,void 0,void 0,function(){var i,s;return Un(this,function(a){switch(a.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},s={video:i},[4,this.decodeFromConstraints(s,r,n)];case 1:return[2,a.sent()]}})})},t.prototype.decodeFromConstraints=function(e,r,n){return Bn(this,void 0,void 0,function(){var i;return Un(this,function(s){switch(s.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=s.sent(),[4,this.decodeFromStream(i,r,n)];case 2:return[2,s.sent()]}})})},t.prototype.decodeFromStream=function(e,r,n){return Bn(this,void 0,void 0,function(){var i;return Un(this,function(s){switch(s.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return i=s.sent(),[4,this.decodeContinuously(i,n)];case 2:return[2,s.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(e,r){return Bn(this,void 0,void 0,function(){var n;return Un(this,function(i){switch(i.label){case 0:return n=this.prepareVideoElement(r),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return i.sent(),[2,n]}})})},t.prototype.playVideoOnLoadAsync=function(e){var r=this;return new Promise(function(n,i){return r.playVideoOnLoad(e,function(){return n()})})},t.prototype.playVideoOnLoad=function(e,r){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",r),this.tryPlayVideo(e)},t.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},t.prototype.tryPlayVideo=function(e){return Bn(this,void 0,void 0,function(){return Un(this,function(r){switch(r.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[3,4];case 3:return r.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(e,r){var n=document.getElementById(e);if(!n)throw new Ar("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new Ar("element with id '"+e+"' must be an "+r+" element");return n},t.prototype.decodeFromImage=function(e,r){if(!e&&!r)throw new Ar("either imageElement with a src set or an url must be provided");return r&&!e?this.decodeFromImageUrl(r):this.decodeFromImageElement(e)},t.prototype.decodeFromVideo=function(e,r){if(!e&&!r)throw new Ar("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(e)},t.prototype.decodeFromVideoContinuously=function(e,r,n){if(e===void 0&&r===void 0)throw new Ar("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrlContinuously(r,n):this.decodeFromVideoElementContinuously(e,n)},t.prototype.decodeFromImageElement=function(e){if(!e)throw new Ar("An image element must be provided.");this.reset();var r=this.prepareImageElement(e);this.imageElement=r;var n;return this.isImageLoaded(r)?n=this.decodeOnce(r,!1,!0):n=this._decodeOnLoadImage(r),n},t.prototype.decodeFromVideoElement=function(e){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(r)},t.prototype.decodeFromVideoElementContinuously=function(e,r){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,r)},t.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new Ar("A video element must be provided.");this.reset();var r=this.prepareVideoElement(e);return this.videoElement=r,r},t.prototype.decodeFromImageUrl=function(e){if(!e)throw new Ar("An URL must be provided.");this.reset();var r=this.prepareImageElement();this.imageElement=r;var n=this._decodeOnLoadImage(r);return r.src=e,n},t.prototype.decodeFromVideoUrl=function(e){if(!e)throw new Ar("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),n=this.decodeFromVideoElement(r);return r.src=e,n},t.prototype.decodeFromVideoUrlContinuously=function(e,r){if(!e)throw new Ar("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(n,r);return n.src=e,i},t.prototype._decodeOnLoadImage=function(e){var r=this;return new Promise(function(n,i){r.imageLoadedListener=function(){return r.decodeOnce(e,!1,!0).then(n,i)},e.addEventListener("load",r.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(e){return Bn(this,void 0,void 0,function(){return Un(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),[4,this.decodeOnce(e)];case 2:return[2,r.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(e,r){return Bn(this,void 0,void 0,function(){return Un(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,r),[2]}})})},t.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.prototype.prepareImageElement=function(e){var r;return typeof e>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(r=e),r},t.prototype.prepareVideoElement=function(e){var r;return!e&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(r=e),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.prototype.decodeOnce=function(e,r,n){var i=this;r===void 0&&(r=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var s=function(a,l){if(i._stopAsyncDecode){l(new se("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var c=i.decode(e);a(c)}catch(m){var d=r&&m instanceof se,h=m instanceof Lr||m instanceof we,f=h&&n;if(d||f)return setTimeout(s,i._timeBetweenDecodingAttempts,a,l);l(m)}};return new Promise(function(a,l){return s(a,l)})},t.prototype.decodeContinuously=function(e,r){var n=this;this._stopContinuousDecode=!1;var i=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var s=n.decode(e);r(s,null),setTimeout(i,n.timeBetweenScansMillis)}catch(c){r(null,c);var a=c instanceof Lr||c instanceof we,l=c instanceof se;(a||l)&&setTimeout(i,n._timeBetweenDecodingAttempts)}};i()},t.prototype.decode=function(e){var r=this.createBinaryBitmap(e);return this.decodeBitmap(r)},t.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var r=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),r=!0):this.drawImageOnCanvas(e);var n=this.getCaptureCanvas(e),i=new vce(n,r),s=new NF(i);return new _F(s)},t.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var r=this.getCaptureCanvas(e),n=void 0;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var r=this.createCaptureCanvas(e);this.captureCanvas=r}return this.captureCanvas},t.prototype.drawFrameOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.drawImageOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},t.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var r=document.createElement("canvas"),n,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),r.style.width=n+"px",r.style.height=i+"px",r.width=n,r.height=i,r},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(e,r){try{e.srcObject=r}catch{e.src=URL.createObjectURL(r)}},t.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},t}(),Fn=function(){function t(e,r,n,i,s,a){n===void 0&&(n=r==null?0:8*r.length),a===void 0&&(a=rr.currentTimeMillis()),this.text=e,this.rawBytes=r,this.numBits=n,this.resultPoints=i,this.format=s,this.timestamp=a,this.text=e,this.rawBytes=r,n==null?this.numBits=r==null?0:8*r.length:this.numBits=n,this.resultPoints=i,this.format=s,this.resultMetadata=null,a==null?this.timestamp=rr.currentTimeMillis():this.timestamp=a}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(e,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,r)},t.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},t.prototype.addResultPoints=function(e){var r=this.resultPoints;if(r===null)this.resultPoints=e;else if(e!==null&&e.length>0){var n=new Array(r.length+e.length);rr.arraycopy(r,0,n,0,r.length),rr.arraycopy(e,0,n,r.length,e.length),this.resultPoints=n}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t}(),r2;(function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(r2||(r2={}));const Ge=r2;var n2;(function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(n2||(n2={}));const bn=n2;var Mv=function(){function t(e,r,n,i,s,a){s===void 0&&(s=-1),a===void 0&&(a=-1),this.rawBytes=e,this.text=r,this.byteSegments=n,this.ecLevel=i,this.structuredAppendSequenceNumber=s,this.structuredAppendParity=a,this.numBits=e==null?0:8*e.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(e){this.numBits=e},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(e){this.erasures=e},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(e){this.other=e},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t}(),af=function(){function t(){}return t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new qe;return this.logTable[e]},t.addOrSubtract=function(e,r){return e^r},t}(),al=function(){function t(e,r){if(r.length===0)throw new qe;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-i),rr.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var r=this.coefficients,n;if(e===1){n=0;for(var i=0,s=r.length;i!==s;i++){var a=r[i];n=af.addOrSubtract(n,a)}return n}n=r[0];for(var l=r.length,c=this.field,i=1;i<l;i++)n=af.addOrSubtract(c.multiply(e,n),r[i]);return n},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new qe("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var s=new Int32Array(n.length),a=n.length-r.length;rr.arraycopy(n,0,s,0,a);for(var l=a;l<n.length;l++)s[l]=af.addOrSubtract(r[l-a],n[l]);return new t(this.field,s)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new qe("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var r=this.coefficients,n=r.length,i=e.coefficients,s=i.length,a=new Int32Array(n+s-1),l=this.field,c=0;c<n;c++)for(var d=r[c],h=0;h<s;h++)a[c+h]=af.addOrSubtract(a[c+h],l.multiply(d,i[h]));return new t(l,a)},t.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var r=this.coefficients.length,n=this.field,i=new Int32Array(r),s=this.coefficients,a=0;a<r;a++)i[a]=n.multiply(s[a],e);return new t(n,i)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new qe;if(r===0)return this.field.getZero();for(var n=this.coefficients,i=n.length,s=new Int32Array(i+e),a=this.field,l=0;l<i;l++)s[l]=a.multiply(n[l],r);return new t(a,s)},t.prototype.divide=function(e){if(!this.field.equals(e.field))throw new qe("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new qe("Divide by 0");for(var r=this.field,n=r.getZero(),i=this,s=e.getCoefficient(e.getDegree()),a=r.inverse(s);i.getDegree()>=e.getDegree()&&!i.isZero();){var l=i.getDegree()-e.getDegree(),c=r.multiply(i.getCoefficient(i.getDegree()),a),d=e.multiplyByMonomial(l,c),h=r.buildMonomial(l,c);n=n.addOrSubtract(h),i=i.addOrSubtract(d)}return[n,i]},t.prototype.toString=function(){for(var e="",r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),r===0||n!==1){var i=this.field.log(n);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}r!==0&&(r===1?e+="x":(e+="x^",e+=r))}}return e},t}(),wce=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),CF=function(t){wce(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArithmeticException",e}(yi),bce=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),hi=function(t){bce(e,t);function e(r,n,i){var s=t.call(this)||this;s.primitive=r,s.size=n,s.generatorBase=i;for(var a=new Int32Array(n),l=1,c=0;c<n;c++)a[c]=l,l*=2,l>=n&&(l^=r,l&=n-1);s.expTable=a;for(var d=new Int32Array(n),c=0;c<n-1;c++)d[a[c]]=c;return s.logTable=d,s.zero=new al(s,Int32Array.from([0])),s.one=new al(s,Int32Array.from([1])),s}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new qe;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new al(this,i)},e.prototype.inverse=function(r){if(r===0)throw new CF;return this.expTable[this.size-this.logTable[r]-1]},e.prototype.multiply=function(r,n){return r===0||n===0?0:this.expTable[(this.logTable[r]+this.logTable[n])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+wt.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(r){return r===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(af),_ce=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),E0=function(t){_ce(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReedSolomonException",e}(yi),Nce=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),xm=function(t){Nce(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalStateException",e}(yi),Rv=function(){function t(e){this.field=e}return t.prototype.decode=function(e,r){for(var n=this.field,i=new al(n,e),s=new Int32Array(r),a=!0,l=0;l<r;l++){var c=i.evaluateAt(n.exp(l+n.getGeneratorBase()));s[s.length-1-l]=c,c!==0&&(a=!1)}if(!a)for(var d=new al(n,s),h=this.runEuclideanAlgorithm(n.buildMonomial(r,1),d,r),f=h[0],m=h[1],g=this.findErrorLocations(f),y=this.findErrorMagnitudes(m,g),l=0;l<g.length;l++){var x=e.length-1-n.log(g[l]);if(x<0)throw new E0("Bad error location");e[x]=hi.addOrSubtract(e[x],y[l])}},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var s=this.field,a=e,l=r,c=s.getZero(),d=s.getOne();l.getDegree()>=(n/2|0);){var h=a,f=c;if(a=l,c=d,a.isZero())throw new E0("r_{i-1} was zero");l=h;for(var m=s.getZero(),g=a.getCoefficient(a.getDegree()),y=s.inverse(g);l.getDegree()>=a.getDegree()&&!l.isZero();){var x=l.getDegree()-a.getDegree(),N=s.multiply(l.getCoefficient(l.getDegree()),y);m=m.addOrSubtract(s.buildMonomial(x,N)),l=l.addOrSubtract(a.multiplyByMonomial(x,N))}if(d=m.multiply(c).addOrSubtract(f),l.getDegree()>=a.getDegree())throw new xm("Division algorithm failed to reduce polynomial?")}var _=d.getCoefficient(0);if(_===0)throw new E0("sigmaTilde(0) was zero");var w=s.inverse(_),S=d.multiplyScalar(w),E=l.multiplyScalar(w);return[S,E]},t.prototype.findErrorLocations=function(e){var r=e.getDegree();if(r===1)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(r),i=0,s=this.field,a=1;a<s.getSize()&&i<r;a++)e.evaluateAt(a)===0&&(n[i]=s.inverse(a),i++);if(i!==r)throw new E0("Error locator degree does not match number of roots");return n},t.prototype.findErrorMagnitudes=function(e,r){for(var n=r.length,i=new Int32Array(n),s=this.field,a=0;a<n;a++){for(var l=s.inverse(r[a]),c=1,d=0;d<n;d++)if(a!==d){var h=s.multiply(r[d],l),f=h&1?h&-2:h|1;c=s.multiply(c,f)}i[a]=s.multiply(e.evaluateAt(l),s.inverse(c)),s.getGeneratorBase()!==0&&(i[a]=s.multiply(i[a],l))}return i},t}(),vn;(function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"})(vn||(vn={}));var KE=function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var r=e.getBits(),n=this.extractBits(r),i=this.correctBits(n),s=t.convertBoolArrayToByteArray(i),a=t.getEncodedData(i),l=new Mv(s,a,null,null);return l.setNumBits(i.length),l},t.highLevelDecode=function(e){return this.getEncodedData(e)},t.getEncodedData=function(e){for(var r=e.length,n=vn.UPPER,i=vn.UPPER,s="",a=0;a<r;)if(i===vn.BINARY){if(r-a<5)break;var l=t.readCode(e,a,5);if(a+=5,l===0){if(r-a<11)break;l=t.readCode(e,a,11)+31,a+=11}for(var c=0;c<l;c++){if(r-a<8){a=r;break}var d=t.readCode(e,a,8);s+=Et.castAsNonUtf8Char(d),a+=8}i=n}else{var h=i===vn.DIGIT?4:5;if(r-a<h)break;var d=t.readCode(e,a,h);a+=h;var f=t.getCharacter(i,d);f.startsWith("CTRL_")?(n=i,i=t.getTable(f.charAt(5)),f.charAt(6)==="L"&&(n=i)):(s+=f,i=n)}return s},t.getTable=function(e){switch(e){case"L":return vn.LOWER;case"P":return vn.PUNCT;case"M":return vn.MIXED;case"D":return vn.DIGIT;case"B":return vn.BINARY;case"U":default:return vn.UPPER}},t.getCharacter=function(e,r){switch(e){case vn.UPPER:return t.UPPER_TABLE[r];case vn.LOWER:return t.LOWER_TABLE[r];case vn.MIXED:return t.MIXED_TABLE[r];case vn.PUNCT:return t.PUNCT_TABLE[r];case vn.DIGIT:return t.DIGIT_TABLE[r];default:throw new xm("Bad table")}},t.prototype.correctBits=function(e){var r,n;this.ddata.getNbLayers()<=2?(n=6,r=hi.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,r=hi.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,r=hi.AZTEC_DATA_10):(n=12,r=hi.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),s=e.length/n;if(s<i)throw new we;for(var a=e.length%n,l=new Int32Array(s),c=0;c<s;c++,a+=n)l[c]=t.readCode(e,a,n);try{var d=new Rv(r);d.decode(l,s-i)}catch(N){throw new we(N)}for(var h=(1<<n)-1,f=0,c=0;c<i;c++){var m=l[c];if(m===0||m===h)throw new we;(m===1||m===h-1)&&f++}for(var g=new Array(i*n-f),y=0,c=0;c<i;c++){var m=l[c];if(m===1||m===h-1)g.fill(m>1,y,y+n-1),y+=n-1;else for(var x=n-1;x>=0;--x)g[y++]=(m&1<<x)!==0}return g},t.prototype.extractBits=function(e){var r=this.ddata.isCompact(),n=this.ddata.getNbLayers(),i=(r?11:14)+n*4,s=new Int32Array(i),a=new Array(this.totalBitsInLayer(n,r));if(r)for(var l=0;l<s.length;l++)s[l]=l;else for(var c=i+1+2*wt.truncDivision(wt.truncDivision(i,2)-1,15),d=i/2,h=wt.truncDivision(c,2),l=0;l<d;l++){var f=l+wt.truncDivision(l,15);s[d-l-1]=h-f-1,s[d+l]=h+f+1}for(var l=0,m=0;l<n;l++){for(var g=(n-l)*4+(r?9:12),y=l*2,x=i-1-y,N=0;N<g;N++)for(var _=N*2,w=0;w<2;w++)a[m+_+w]=e.get(s[y+w],s[y+N]),a[m+2*g+_+w]=e.get(s[y+N],s[x-w]),a[m+4*g+_+w]=e.get(s[x-w],s[x-N]),a[m+6*g+_+w]=e.get(s[x-N],s[y+w]);m+=g*8}return a},t.readCode=function(e,r,n){for(var i=0,s=r;s<r+n;s++)i<<=1,e[s]&&(i|=1);return i},t.readByte=function(e,r){var n=e.length-r;return n>=8?t.readCode(e,r,8):t.readCode(e,r,n)<<8-n},t.convertBoolArrayToByteArray=function(e){for(var r=new Uint8Array((e.length+7)/8),n=0;n<r.length;n++)r[n]=t.readByte(e,8*n);return r},t.prototype.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t}(),Bt=function(){function t(){}return t.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},t.distance=function(e,r,n,i){var s=e-n,a=r-i;return Math.sqrt(s*s+a*a)},t.sum=function(e){for(var r=0,n=0,i=e.length;n!==i;n++){var s=e[n];r+=s}return r},t}(),i2=function(){function t(){}return t.floatToIntBits=function(e){return e},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),Re=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){if(e instanceof t){var r=e;return this.x===r.x&&this.y===r.y}return!1},t.prototype.hashCode=function(){return 31*i2.floatToIntBits(this.x)+i2.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(e){var r=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),s,a,l;if(n>=r&&n>=i?(a=e[0],s=e[1],l=e[2]):i>=n&&i>=r?(a=e[1],s=e[0],l=e[2]):(a=e[2],s=e[0],l=e[1]),this.crossProductZ(s,a,l)<0){var c=s;s=l,l=c}e[0]=s,e[1]=a,e[2]=l},t.distance=function(e,r){return Bt.distance(e.x,e.y,r.x,r.y)},t.crossProductZ=function(e,r,n){var i=r.x,s=r.y;return(n.x-i)*(e.y-s)-(n.y-s)*(e.x-i)},t}(),WN=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),Cce=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Sce=function(t){Cce(e,t);function e(r,n,i,s,a){var l=t.call(this,r,n)||this;return l.compact=i,l.nbDatablocks=s,l.nbLayers=a,l}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(WN),s2=function(){function t(e,r,n,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),r==null&&(r=t.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var s=r/2|0;if(this.leftInit=n-s,this.rightInit=n+s,this.upInit=i-s,this.downInit=i+s,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new se}return t.prototype.detect=function(){for(var e=this.leftInit,r=this.rightInit,n=this.upInit,i=this.downInit,s=!1,a=!0,l=!1,c=!1,d=!1,h=!1,f=!1,m=this.width,g=this.height;a;){a=!1;for(var y=!0;(y||!c)&&r<m;)y=this.containsBlackPoint(n,i,r,!1),y?(r++,a=!0,c=!0):c||r++;if(r>=m){s=!0;break}for(var x=!0;(x||!d)&&i<g;)x=this.containsBlackPoint(e,r,i,!0),x?(i++,a=!0,d=!0):d||i++;if(i>=g){s=!0;break}for(var N=!0;(N||!h)&&e>=0;)N=this.containsBlackPoint(n,i,e,!1),N?(e--,a=!0,h=!0):h||e--;if(e<0){s=!0;break}for(var _=!0;(_||!f)&&n>=0;)_=this.containsBlackPoint(e,r,n,!0),_?(n--,a=!0,f=!0):f||n--;if(n<0){s=!0;break}a&&(l=!0)}if(!s&&l){for(var w=r-e,S=null,E=1;S===null&&E<w;E++)S=this.getBlackPointOnSegment(e,i-E,e+E,i);if(S==null)throw new se;for(var j=null,E=1;j===null&&E<w;E++)j=this.getBlackPointOnSegment(e,n+E,e+E,n);if(j==null)throw new se;for(var D=null,E=1;D===null&&E<w;E++)D=this.getBlackPointOnSegment(r,n+E,r-E,n);if(D==null)throw new se;for(var T=null,E=1;T===null&&E<w;E++)T=this.getBlackPointOnSegment(r,i-E,r-E,i);if(T==null)throw new se;return this.centerEdges(T,S,D,j)}else throw new se},t.prototype.getBlackPointOnSegment=function(e,r,n,i){for(var s=Bt.round(Bt.distance(e,r,n,i)),a=(n-e)/s,l=(i-r)/s,c=this.image,d=0;d<s;d++){var h=Bt.round(e+d*a),f=Bt.round(r+d*l);if(c.get(h,f))return new Re(h,f)}return null},t.prototype.centerEdges=function(e,r,n,i){var s=e.getX(),a=e.getY(),l=r.getX(),c=r.getY(),d=n.getX(),h=n.getY(),f=i.getX(),m=i.getY(),g=t.CORR;return s<this.width/2?[new Re(f-g,m+g),new Re(l+g,c+g),new Re(d-g,h-g),new Re(s+g,a-g)]:[new Re(f+g,m+g),new Re(l+g,c-g),new Re(d-g,h+g),new Re(s-g,a-g)]},t.prototype.containsBlackPoint=function(e,r,n,i){var s=this.image;if(i){for(var a=e;a<=r;a++)if(s.get(a,n))return!0}else for(var l=e;l<=r;l++)if(s.get(n,l))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t}(),YE=function(){function t(){}return t.checkAndNudgePoints=function(e,r){for(var n=e.getWidth(),i=e.getHeight(),s=!0,a=0;a<r.length&&s;a+=2){var l=Math.floor(r[a]),c=Math.floor(r[a+1]);if(l<-1||l>n||c<-1||c>i)throw new se;s=!1,l===-1?(r[a]=0,s=!0):l===n&&(r[a]=n-1,s=!0),c===-1?(r[a+1]=0,s=!0):c===i&&(r[a+1]=i-1,s=!0)}s=!0;for(var a=r.length-2;a>=0&&s;a-=2){var l=Math.floor(r[a]),c=Math.floor(r[a+1]);if(l<-1||l>n||c<-1||c>i)throw new se;s=!1,l===-1?(r[a]=0,s=!0):l===n&&(r[a]=n-1,s=!0),c===-1?(r[a+1]=0,s=!0):c===i&&(r[a+1]=i-1,s=!0)}},t}(),SF=function(){function t(e,r,n,i,s,a,l,c,d){this.a11=e,this.a21=r,this.a31=n,this.a12=i,this.a22=s,this.a32=a,this.a13=l,this.a23=c,this.a33=d}return t.quadrilateralToQuadrilateral=function(e,r,n,i,s,a,l,c,d,h,f,m,g,y,x,N){var _=t.quadrilateralToSquare(e,r,n,i,s,a,l,c),w=t.squareToQuadrilateral(d,h,f,m,g,y,x,N);return w.times(_)},t.prototype.transformPoints=function(e){for(var r=e.length,n=this.a11,i=this.a12,s=this.a13,a=this.a21,l=this.a22,c=this.a23,d=this.a31,h=this.a32,f=this.a33,m=0;m<r;m+=2){var g=e[m],y=e[m+1],x=s*g+c*y+f;e[m]=(n*g+a*y+d)/x,e[m+1]=(i*g+l*y+h)/x}},t.prototype.transformPointsWithValues=function(e,r){for(var n=this.a11,i=this.a12,s=this.a13,a=this.a21,l=this.a22,c=this.a23,d=this.a31,h=this.a32,f=this.a33,m=e.length,g=0;g<m;g++){var y=e[g],x=r[g],N=s*y+c*x+f;e[g]=(n*y+a*x+d)/N,r[g]=(i*y+l*x+h)/N}},t.squareToQuadrilateral=function(e,r,n,i,s,a,l,c){var d=e-n+s-l,h=r-i+a-c;if(d===0&&h===0)return new t(n-e,s-n,e,i-r,a-i,r,0,0,1);var f=n-s,m=l-s,g=i-a,y=c-a,x=f*y-m*g,N=(d*y-m*h)/x,_=(f*h-d*g)/x;return new t(n-e+N*n,l-e+_*l,e,i-r+N*i,c-r+_*c,r,N,_,1)},t.quadrilateralToSquare=function(e,r,n,i,s,a,l,c){return t.squareToQuadrilateral(e,r,n,i,s,a,l,c).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t}(),Ece=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ace=function(t){Ece(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sampleGrid=function(r,n,i,s,a,l,c,d,h,f,m,g,y,x,N,_,w,S,E){var j=SF.quadrilateralToQuadrilateral(s,a,l,c,d,h,f,m,g,y,x,N,_,w,S,E);return this.sampleGridWithTransform(r,n,i,j)},e.prototype.sampleGridWithTransform=function(r,n,i,s){if(n<=0||i<=0)throw new se;for(var a=new Aa(n,i),l=new Float32Array(2*n),c=0;c<i;c++){for(var d=l.length,h=c+.5,f=0;f<d;f+=2)l[f]=f/2+.5,l[f+1]=h;s.transformPoints(l),YE.checkAndNudgePoints(r,l);try{for(var f=0;f<d;f+=2)r.get(Math.floor(l[f]),Math.floor(l[f+1]))&&a.set(f/2,c)}catch{throw new se}}return a},e}(YE),HN=function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new Ace,t}(),oi=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.toResultPoint=function(){return new Re(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t}(),kce=function(){function t(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(e){var r=this.getMatrixCenter(),n=this.getBullsEyeCorners(r);if(e){var i=n[0];n[0]=n[2],n[2]=i}this.extractParameters(n);var s=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),a=this.getMatrixCornerPoints(n);return new Sce(s,a,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new se;var r=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],r),this.sampleLine(e[1],e[2],r),this.sampleLine(e[2],e[3],r),this.sampleLine(e[3],e[0],r)]);this.shift=this.getRotation(n,r);for(var i=0,s=0;s<4;s++){var a=n[(this.shift+s)%4];this.compact?(i<<=7,i+=a>>1&127):(i<<=10,i+=(a>>2&992)+(a>>1&31))}var l=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)},t.prototype.getRotation=function(e,r){var n=0;e.forEach(function(s,a,l){var c=(s>>r-2<<1)+(s&1);n=(n<<3)+c}),n=((n&1)<<11)+(n>>1);for(var i=0;i<4;i++)if(wt.bitCount(n^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new se},t.prototype.getCorrectedParameterData=function(e,r){var n,i;r?(n=7,i=2):(n=10,i=4);for(var s=n-i,a=new Int32Array(n),l=n-1;l>=0;--l)a[l]=e&15,e>>=4;try{var c=new Rv(hi.AZTEC_PARAM);c.decode(a,s)}catch{throw new se}for(var d=0,l=0;l<i;l++)d=(d<<4)+a[l];return d},t.prototype.getBullsEyeCorners=function(e){var r=e,n=e,i=e,s=e,a=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var l=this.getFirstDifferent(r,a,1,-1),c=this.getFirstDifferent(n,a,1,1),d=this.getFirstDifferent(i,a,-1,1),h=this.getFirstDifferent(s,a,-1,-1);if(this.nbCenterLayers>2){var f=this.distancePoint(h,l)*this.nbCenterLayers/(this.distancePoint(s,r)*(this.nbCenterLayers+2));if(f<.75||f>1.25||!this.isWhiteOrBlackRectangle(l,c,d,h))break}r=l,n=c,i=d,s=h,a=!a}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new se;this.compact=this.nbCenterLayers===5;var m=new Re(r.getX()+.5,r.getY()-.5),g=new Re(n.getX()+.5,n.getY()+.5),y=new Re(i.getX()-.5,i.getY()+.5),x=new Re(s.getX()-.5,s.getY()-.5);return this.expandSquare([m,g,y,x],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var e,r,n,i;try{var s=new s2(this.image).detect();e=s[0],r=s[1],n=s[2],i=s[3]}catch{var a=this.image.getWidth()/2,l=this.image.getHeight()/2;e=this.getFirstDifferent(new oi(a+7,l-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new oi(a+7,l+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new oi(a-7,l+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new oi(a-7,l-7),!1,-1,-1).toResultPoint()}var c=Bt.round((e.getX()+i.getX()+r.getX()+n.getX())/4),d=Bt.round((e.getY()+i.getY()+r.getY()+n.getY())/4);try{var s=new s2(this.image,15,c,d).detect();e=s[0],r=s[1],n=s[2],i=s[3]}catch{e=this.getFirstDifferent(new oi(c+7,d-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new oi(c+7,d+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new oi(c-7,d+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new oi(c-7,d-7),!1,-1,-1).toResultPoint()}return c=Bt.round((e.getX()+i.getX()+r.getX()+n.getX())/4),d=Bt.round((e.getY()+i.getY()+r.getY()+n.getY())/4),new oi(c,d)},t.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(e,r,n,i,s){var a=HN.getInstance(),l=this.getDimension(),c=l/2-this.nbCenterLayers,d=l/2+this.nbCenterLayers;return a.sampleGrid(e,l,l,c,c,d,c,d,d,c,d,r.getX(),r.getY(),n.getX(),n.getY(),i.getX(),i.getY(),s.getX(),s.getY())},t.prototype.sampleLine=function(e,r,n){for(var i=0,s=this.distanceResultPoint(e,r),a=s/n,l=e.getX(),c=e.getY(),d=a*(r.getX()-e.getX())/s,h=a*(r.getY()-e.getY())/s,f=0;f<n;f++)this.image.get(Bt.round(l+f*d),Bt.round(c+f*h))&&(i|=1<<n-f-1);return i},t.prototype.isWhiteOrBlackRectangle=function(e,r,n,i){var s=3;e=new oi(e.getX()-s,e.getY()+s),r=new oi(r.getX()-s,r.getY()-s),n=new oi(n.getX()+s,n.getY()-s),i=new oi(i.getX()+s,i.getY()+s);var a=this.getColor(i,e);if(a===0)return!1;var l=this.getColor(e,r);return l!==a||(l=this.getColor(r,n),l!==a)?!1:(l=this.getColor(n,i),l===a)},t.prototype.getColor=function(e,r){for(var n=this.distancePoint(e,r),i=(r.getX()-e.getX())/n,s=(r.getY()-e.getY())/n,a=0,l=e.getX(),c=e.getY(),d=this.image.get(e.getX(),e.getY()),h=Math.ceil(n),f=0;f<h;f++)l+=i,c+=s,this.image.get(Bt.round(l),Bt.round(c))!==d&&a++;var m=a/n;return m>.1&&m<.9?0:m<=.1===d?1:-1},t.prototype.getFirstDifferent=function(e,r,n,i){for(var s=e.getX()+n,a=e.getY()+i;this.isValid(s,a)&&this.image.get(s,a)===r;)s+=n,a+=i;for(s-=n,a-=i;this.isValid(s,a)&&this.image.get(s,a)===r;)s+=n;for(s-=n;this.isValid(s,a)&&this.image.get(s,a)===r;)a+=i;return a-=i,new oi(s,a)},t.prototype.expandSquare=function(e,r,n){var i=n/(2*r),s=e[0].getX()-e[2].getX(),a=e[0].getY()-e[2].getY(),l=(e[0].getX()+e[2].getX())/2,c=(e[0].getY()+e[2].getY())/2,d=new Re(l+i*s,c+i*a),h=new Re(l-i*s,c-i*a);s=e[1].getX()-e[3].getX(),a=e[1].getY()-e[3].getY(),l=(e[1].getX()+e[3].getX())/2,c=(e[1].getY()+e[3].getY())/2;var f=new Re(l+i*s,c+i*a),m=new Re(l-i*s,c-i*a),g=[d,f,h,m];return g},t.prototype.isValid=function(e,r){return e>=0&&e<this.image.getWidth()&&r>0&&r<this.image.getHeight()},t.prototype.isValidPoint=function(e){var r=Bt.round(e.getX()),n=Bt.round(e.getY());return this.isValid(r,n)},t.prototype.distancePoint=function(e,r){return Bt.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.distanceResultPoint=function(e,r){return Bt.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(wt.truncDivision(this.nbLayers-4,8)+1)+15},t}(),m1=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=null,i=new kce(e.getBlackMatrix()),s=null,a=null;try{var l=i.detectMirror(!1);s=l.getPoints(),this.reportFoundResultPoints(r,s),a=new KE().decode(l)}catch(f){n=f}if(a==null)try{var l=i.detectMirror(!0);s=l.getPoints(),this.reportFoundResultPoints(r,s),a=new KE().decode(l)}catch(f){throw n??f}var c=new Fn(a.getText(),a.getRawBytes(),a.getNumBits(),s,Ge.AZTEC,rr.currentTimeMillis()),d=a.getByteSegments();d!=null&&c.putMetadata(bn.BYTE_SEGMENTS,d);var h=a.getECLevel();return h!=null&&c.putMetadata(bn.ERROR_CORRECTION_LEVEL,h),c},t.prototype.reportFoundResultPoints=function(e,r){if(e!=null){var n=e.get(nr.NEED_RESULT_POINT_CALLBACK);n!=null&&r.forEach(function(i,s,a){n.foundPossibleResultPoint(i)})}},t.prototype.reset=function(){},t}(),jce=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){jce(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new m1,r)||this}return e})(sh);var Qr=function(){function t(){}return t.prototype.decode=function(e,r){try{return this.doDecode(e,r)}catch{var n=r&&r.get(nr.TRY_HARDER)===!0;if(n&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),s=this.doDecode(i,r),a=s.getResultMetadata(),l=270;a!==null&&a.get(bn.ORIENTATION)===!0&&(l=l+a.get(bn.ORIENTATION)%360),s.putMetadata(bn.ORIENTATION,l);var c=s.getResultPoints();if(c!==null)for(var d=i.getHeight(),h=0;h<c.length;h++)c[h]=new Re(d-c[h].getY()-1,c[h].getX());return s}else throw new se}},t.prototype.reset=function(){},t.prototype.doDecode=function(e,r){var n=e.getWidth(),i=e.getHeight(),s=new ln(n),a=r&&r.get(nr.TRY_HARDER)===!0,l=Math.max(1,i>>(a?8:5)),c;a?c=i:c=15;for(var d=Math.trunc(i/2),h=0;h<c;h++){var f=Math.trunc((h+1)/2),m=(h&1)===0,g=d+l*(m?f:-f);if(g<0||g>=i)break;try{s=e.getBlackRow(g,s)}catch{continue}for(var y=function(w){if(w===1&&(s.reverse(),r&&r.get(nr.NEED_RESULT_POINT_CALLBACK)===!0)){var S=new Map;r.forEach(function(D,T){return S.set(T,D)}),S.delete(nr.NEED_RESULT_POINT_CALLBACK),r=S}try{var E=x.decodeRow(g,s,r);if(w===1){E.putMetadata(bn.ORIENTATION,180);var j=E.getResultPoints();j!==null&&(j[0]=new Re(n-j[0].getX()-1,j[0].getY()),j[1]=new Re(n-j[1].getX()-1,j[1].getY()))}return{value:E}}catch{}},x=this,N=0;N<2;N++){var _=y(N);if(typeof _=="object")return _.value}}throw new se},t.recordPattern=function(e,r,n){for(var i=n.length,s=0;s<i;s++)n[s]=0;var a=e.getSize();if(r>=a)throw new se;for(var l=!e.get(r),c=0,d=r;d<a;){if(e.get(d)!==l)n[c]++;else{if(++c===i)break;n[c]=1,l=!l}d++}if(!(c===i||c===i-1&&d===a))throw new se},t.recordPatternInReverse=function(e,r,n){for(var i=n.length,s=e.get(r);r>0&&i>=0;)e.get(--r)!==s&&(i--,s=!s);if(i>=0)throw new se;t.recordPattern(e,r+1,n)},t.patternMatchVariance=function(e,r,n){for(var i=e.length,s=0,a=0,l=0;l<i;l++)s+=e[l],a+=r[l];if(s<a)return Number.POSITIVE_INFINITY;var c=s/a;n*=c;for(var d=0,h=0;h<i;h++){var f=e[h],m=r[h]*c,g=f>m?f-m:m-f;if(g>n)return Number.POSITIVE_INFINITY;d+=g}return d/s},t}(),Pce=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),XE=function(t){Pce(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.findStartPattern=function(r){for(var n=r.getSize(),i=r.getNextSet(0),s=0,a=Int32Array.from([0,0,0,0,0,0]),l=i,c=!1,d=6,h=i;h<n;h++)if(r.get(h)!==c)a[s]++;else{if(s===d-1){for(var f=e.MAX_AVG_VARIANCE,m=-1,g=e.CODE_START_A;g<=e.CODE_START_C;g++){var y=Qr.patternMatchVariance(a,e.CODE_PATTERNS[g],e.MAX_INDIVIDUAL_VARIANCE);y<f&&(f=y,m=g)}if(m>=0&&r.isRange(Math.max(0,l-(h-l)/2),l,!1))return Int32Array.from([l,h,m]);l+=a[0]+a[1],a=a.slice(2,a.length),a[s-1]=0,a[s]=0,s--}else s++;a[s]=1,c=!c}throw new se},e.decodeCode=function(r,n,i){Qr.recordPattern(r,i,n);for(var s=e.MAX_AVG_VARIANCE,a=-1,l=0;l<e.CODE_PATTERNS.length;l++){var c=e.CODE_PATTERNS[l],d=this.patternMatchVariance(n,c,e.MAX_INDIVIDUAL_VARIANCE);d<s&&(s=d,a=l)}if(a>=0)return a;throw new se},e.prototype.decodeRow=function(r,n,i){var s=i&&i.get(nr.ASSUME_GS1)===!0,a=e.findStartPattern(n),l=a[2],c=0,d=new Uint8Array(20);d[c++]=l;var h;switch(l){case e.CODE_START_A:h=e.CODE_CODE_A;break;case e.CODE_START_B:h=e.CODE_CODE_B;break;case e.CODE_START_C:h=e.CODE_CODE_C;break;default:throw new we}for(var f=!1,m=!1,g="",y=a[0],x=a[1],N=Int32Array.from([0,0,0,0,0,0]),_=0,w=0,S=l,E=0,j=!0,D=!1,T=!1;!f;){var O=m;switch(m=!1,_=w,w=e.decodeCode(n,N,x),d[c++]=w,w!==e.CODE_STOP&&(j=!0),w!==e.CODE_STOP&&(E++,S+=E*w),y=x,x+=N.reduce(function(me,R){return me+R},0),w){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new we}switch(h){case e.CODE_CODE_A:if(w<64)T===D?g+=String.fromCharCode(32+w):g+=String.fromCharCode(32+w+128),T=!1;else if(w<96)T===D?g+=String.fromCharCode(w-64):g+=String.fromCharCode(w+64),T=!1;else switch(w!==e.CODE_STOP&&(j=!1),w){case e.CODE_FNC_1:s&&(g.length===0?g+="]C1":g+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!D&&T?(D=!0,T=!1):D&&T?(D=!1,T=!1):T=!0;break;case e.CODE_SHIFT:m=!0,h=e.CODE_CODE_B;break;case e.CODE_CODE_B:h=e.CODE_CODE_B;break;case e.CODE_CODE_C:h=e.CODE_CODE_C;break;case e.CODE_STOP:f=!0;break}break;case e.CODE_CODE_B:if(w<96)T===D?g+=String.fromCharCode(32+w):g+=String.fromCharCode(32+w+128),T=!1;else switch(w!==e.CODE_STOP&&(j=!1),w){case e.CODE_FNC_1:s&&(g.length===0?g+="]C1":g+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!D&&T?(D=!0,T=!1):D&&T?(D=!1,T=!1):T=!0;break;case e.CODE_SHIFT:m=!0,h=e.CODE_CODE_A;break;case e.CODE_CODE_A:h=e.CODE_CODE_A;break;case e.CODE_CODE_C:h=e.CODE_CODE_C;break;case e.CODE_STOP:f=!0;break}break;case e.CODE_CODE_C:if(w<100)w<10&&(g+="0"),g+=w;else switch(w!==e.CODE_STOP&&(j=!1),w){case e.CODE_FNC_1:s&&(g.length===0?g+="]C1":g+="");break;case e.CODE_CODE_A:h=e.CODE_CODE_A;break;case e.CODE_CODE_B:h=e.CODE_CODE_B;break;case e.CODE_STOP:f=!0;break}break}O&&(h=h===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var B=x-y;if(x=n.getNextUnset(x),!n.isRange(x,Math.min(n.getSize(),x+(x-y)/2),!1))throw new se;if(S-=E*_,S%103!==_)throw new Lr;var P=g.length;if(P===0)throw new se;P>0&&j&&(h===e.CODE_CODE_C?g=g.substring(0,P-2):g=g.substring(0,P-1));for(var V=(a[1]+a[0])/2,F=y+B/2,q=d.length,H=new Uint8Array(q),le=0;le<q;le++)H[le]=d[le];var ae=[new Re(V,r),new Re(F,r)];return new Fn(g,H,0,ae,Ge.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(Qr),Tce=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),_y=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},QE=function(t){Tce(e,t);function e(r,n){r===void 0&&(r=!1),n===void 0&&(n=!1);var i=t.call(this)||this;return i.usingCheckDigit=r,i.extendedMode=n,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(r,n,i){var s,a,l,c,d=this.counters;d.fill(0),this.decodeRowResult="";var h=e.findAsteriskPattern(n,d),f=n.getNextSet(h[1]),m=n.getSize(),g,y;do{e.recordPattern(n,f,d);var x=e.toNarrowWidePattern(d);if(x<0)throw new se;g=e.patternToChar(x),this.decodeRowResult+=g,y=f;try{for(var N=(s=void 0,_y(d)),_=N.next();!_.done;_=N.next()){var w=_.value;f+=w}}catch(q){s={error:q}}finally{try{_&&!_.done&&(a=N.return)&&a.call(N)}finally{if(s)throw s.error}}f=n.getNextSet(f)}while(g!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var S=0;try{for(var E=_y(d),j=E.next();!j.done;j=E.next()){var w=j.value;S+=w}}catch(q){l={error:q}}finally{try{j&&!j.done&&(c=E.return)&&c.call(E)}finally{if(l)throw l.error}}var D=f-y-S;if(f!==m&&D*2<S)throw new se;if(this.usingCheckDigit){for(var T=this.decodeRowResult.length-1,O=0,B=0;B<T;B++)O+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(B));if(this.decodeRowResult.charAt(T)!==e.ALPHABET_STRING.charAt(O%43))throw new Lr;this.decodeRowResult=this.decodeRowResult.substring(0,T)}if(this.decodeRowResult.length===0)throw new se;var P;this.extendedMode?P=e.decodeExtended(this.decodeRowResult):P=this.decodeRowResult;var V=(h[1]+h[0])/2,F=y+S/2;return new Fn(P,null,0,[new Re(V,r),new Re(F,r)],Ge.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(r,n){for(var i=r.getSize(),s=r.getNextSet(0),a=0,l=s,c=!1,d=n.length,h=s;h<i;h++)if(r.get(h)!==c)n[a]++;else{if(a===d-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&r.isRange(Math.max(0,l-Math.floor((h-l)/2)),l,!1))return[l,h];l+=n[0]+n[1],n.copyWithin(0,2,2+a-1),n[a-1]=0,n[a]=0,a--}else a++;n[a]=1,c=!c}throw new se},e.toNarrowWidePattern=function(r){var n,i,s=r.length,a=0,l;do{var c=2147483647;try{for(var d=(n=void 0,_y(r)),h=d.next();!h.done;h=d.next()){var f=h.value;f<c&&f>a&&(c=f)}}catch(x){n={error:x}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}a=c,l=0;for(var m=0,g=0,y=0;y<s;y++){var f=r[y];f>a&&(g|=1<<s-1-y,l++,m+=f)}if(l===3){for(var y=0;y<s&&l>0;y++){var f=r[y];if(f>a&&(l--,f*2>=m))return-1}return g}}while(l>3);return-1},e.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);if(r===e.ASTERISK_ENCODING)return"*";throw new se},e.decodeExtended=function(r){for(var n=r.length,i="",s=0;s<n;s++){var a=r.charAt(s);if(a==="+"||a==="$"||a==="%"||a==="/"){var l=r.charAt(s+1),c="\0";switch(a){case"+":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)+32);else throw new we;break;case"$":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)-64);else throw new we;break;case"%":if(l>="A"&&l<="E")c=String.fromCharCode(l.charCodeAt(0)-38);else if(l>="F"&&l<="J")c=String.fromCharCode(l.charCodeAt(0)-11);else if(l>="K"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)+16);else if(l>="P"&&l<="T")c=String.fromCharCode(l.charCodeAt(0)+43);else if(l==="U")c="\0";else if(l==="V")c="@";else if(l==="W")c="`";else if(l==="X"||l==="Y"||l==="Z")c="";else throw new we;break;case"/":if(l>="A"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)-32);else if(l==="Z")c=":";else throw new we;break}i+=c,s++}else i+=a}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(Qr),Ice=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ny=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},JE=function(t){Ice(e,t);function e(){var r=t.call(this)||this;return r.decodeRowResult="",r.counters=new Int32Array(6),r}return e.prototype.decodeRow=function(r,n,i){var s,a,l,c,d=this.findAsteriskPattern(n),h=n.getNextSet(d[1]),f=n.getSize(),m=this.counters;m.fill(0),this.decodeRowResult="";var g,y;do{e.recordPattern(n,h,m);var x=this.toPattern(m);if(x<0)throw new se;g=this.patternToChar(x),this.decodeRowResult+=g,y=h;try{for(var N=(s=void 0,Ny(m)),_=N.next();!_.done;_=N.next()){var w=_.value;h+=w}}catch(B){s={error:B}}finally{try{_&&!_.done&&(a=N.return)&&a.call(N)}finally{if(s)throw s.error}}h=n.getNextSet(h)}while(g!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var S=0;try{for(var E=Ny(m),j=E.next();!j.done;j=E.next()){var w=j.value;S+=w}}catch(B){l={error:B}}finally{try{j&&!j.done&&(c=E.return)&&c.call(E)}finally{if(l)throw l.error}}if(h===f||!n.get(h))throw new se;if(this.decodeRowResult.length<2)throw new se;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var D=this.decodeExtended(this.decodeRowResult),T=(d[1]+d[0])/2,O=y+S/2;return new Fn(D,null,0,[new Re(T,r),new Re(O,r)],Ge.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(r){var n=r.getSize(),i=r.getNextSet(0);this.counters.fill(0);for(var s=this.counters,a=i,l=!1,c=s.length,d=0,h=i;h<n;h++)if(r.get(h)!==l)s[d]++;else{if(d===c-1){if(this.toPattern(s)===e.ASTERISK_ENCODING)return new Int32Array([a,h]);a+=s[0]+s[1],s.copyWithin(0,2,2+d-1),s[d-1]=0,s[d]=0,d--}else d++;s[d]=1,l=!l}throw new se},e.prototype.toPattern=function(r){var n,i,s=0;try{for(var a=Ny(r),l=a.next();!l.done;l=a.next()){var c=l.value;s+=c}}catch(y){n={error:y}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}for(var d=0,h=r.length,f=0;f<h;f++){var m=Math.round(r[f]*9/s);if(m<1||m>4)return-1;if(f&1)d<<=m;else for(var g=0;g<m;g++)d=d<<1|1}return d},e.prototype.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);throw new se},e.prototype.decodeExtended=function(r){for(var n=r.length,i="",s=0;s<n;s++){var a=r.charAt(s);if(a>="a"&&a<="d"){if(s>=n-1)throw new we;var l=r.charAt(s+1),c="\0";switch(a){case"d":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)+32);else throw new we;break;case"a":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)-64);else throw new we;break;case"b":if(l>="A"&&l<="E")c=String.fromCharCode(l.charCodeAt(0)-38);else if(l>="F"&&l<="J")c=String.fromCharCode(l.charCodeAt(0)-11);else if(l>="K"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)+16);else if(l>="P"&&l<="T")c=String.fromCharCode(l.charCodeAt(0)+43);else if(l==="U")c="\0";else if(l==="V")c="@";else if(l==="W")c="`";else if(l>="X"&&l<="Z")c="";else throw new we;break;case"c":if(l>="A"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)-32);else if(l==="Z")c=":";else throw new we;break}i+=c,s++}else i+=a}return i},e.prototype.checkChecksums=function(r){var n=r.length;this.checkOneChecksum(r,n-2,20),this.checkOneChecksum(r,n-1,15)},e.prototype.checkOneChecksum=function(r,n,i){for(var s=1,a=0,l=n-1;l>=0;l--)a+=s*e.ALPHABET_STRING.indexOf(r.charAt(l)),++s>i&&(s=1);if(r.charAt(n)!==e.ALPHABET_STRING[a%47])throw new Lr},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e}(Qr),Dce=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Oce=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},eA=function(t){Dce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.narrowLineWidth=-1,r}return e.prototype.decodeRow=function(r,n,i){var s,a,l=this.decodeStart(n),c=this.decodeEnd(n),d=new vt;e.decodeMiddle(n,l[1],c[0],d);var h=d.toString(),f=null;i!=null&&(f=i.get(nr.ALLOWED_LENGTHS)),f==null&&(f=e.DEFAULT_ALLOWED_LENGTHS);var m=h.length,g=!1,y=0;try{for(var x=Oce(f),N=x.next();!N.done;N=x.next()){var _=N.value;if(m===_){g=!0;break}_>y&&(y=_)}}catch(E){s={error:E}}finally{try{N&&!N.done&&(a=x.return)&&a.call(x)}finally{if(s)throw s.error}}if(!g&&m>y&&(g=!0),!g)throw new we;var w=[new Re(l[1],r),new Re(c[0],r)],S=new Fn(h,null,0,w,Ge.ITF,new Date().getTime());return S},e.decodeMiddle=function(r,n,i,s){var a=new Int32Array(10),l=new Int32Array(5),c=new Int32Array(5);for(a.fill(0),l.fill(0),c.fill(0);n<i;){Qr.recordPattern(r,n,a);for(var d=0;d<5;d++){var h=2*d;l[d]=a[h],c[d]=a[h+1]}var f=e.decodeDigit(l);s.append(f.toString()),f=this.decodeDigit(c),s.append(f.toString()),a.forEach(function(m){n+=m})}},e.prototype.decodeStart=function(r){var n=e.skipWhiteSpace(r),i=e.findGuardPattern(r,n,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(r,i[0]),i},e.prototype.validateQuietZone=function(r,n){var i=this.narrowLineWidth*10;i=i<n?i:n;for(var s=n-1;i>0&&s>=0&&!r.get(s);s--)i--;if(i!==0)throw new se},e.skipWhiteSpace=function(r){var n=r.getSize(),i=r.getNextSet(0);if(i===n)throw new se;return i},e.prototype.decodeEnd=function(r){r.reverse();try{var n=e.skipWhiteSpace(r),i=void 0;try{i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[0])}catch(a){a instanceof se&&(i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,i[0]);var s=i[0];return i[0]=r.getSize()-i[1],i[1]=r.getSize()-s,i}finally{r.reverse()}},e.findGuardPattern=function(r,n,i){var s=i.length,a=new Int32Array(s),l=r.getSize(),c=!1,d=0,h=n;a.fill(0);for(var f=n;f<l;f++)if(r.get(f)!==c)a[d]++;else{if(d===s-1){if(Qr.patternMatchVariance(a,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[h,f];h+=a[0]+a[1],rr.arraycopy(a,2,a,0,d-1),a[d-1]=0,a[d]=0,d--}else d++;a[d]=1,c=!c}throw new se},e.decodeDigit=function(r){for(var n=e.MAX_AVG_VARIANCE,i=-1,s=e.PATTERNS.length,a=0;a<s;a++){var l=e.PATTERNS[a],c=Qr.patternMatchVariance(r,l,e.MAX_INDIVIDUAL_VARIANCE);c<n?(n=c,i=a):c===n&&(i=-1)}if(i>=0)return i%10;throw new se},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(Qr),Mce=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),$d=function(t){Mce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.decodeRowStringBuffer="",r}return e.findStartGuardPattern=function(r){for(var n=!1,i,s=0,a=Int32Array.from([0,0,0]);!n;){a=Int32Array.from([0,0,0]),i=e.findGuardPattern(r,s,!1,this.START_END_PATTERN,a);var l=i[0];s=i[1];var c=l-(s-l);c>=0&&(n=r.isRange(c,l,!1))}return i},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,s=n-1;s>=0;s-=2){var a=r.charAt(s).charCodeAt(0)-48;if(a<0||a>9)throw new we;i+=a}i*=3;for(var s=n-2;s>=0;s-=2){var a=r.charAt(s).charCodeAt(0)-48;if(a<0||a>9)throw new we;i+=a}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(r,n,i,s){return this.findGuardPattern(r,n,i,s,new Int32Array(s.length))},e.findGuardPattern=function(r,n,i,s,a){var l=r.getSize();n=i?r.getNextUnset(n):r.getNextSet(n);for(var c=0,d=n,h=s.length,f=i,m=n;m<l;m++)if(r.get(m)!==f)a[c]++;else{if(c===h-1){if(Qr.patternMatchVariance(a,s,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([d,m]);d+=a[0]+a[1];for(var g=a.slice(2,a.length),y=0;y<c-1;y++)a[y]=g[y];a[c-1]=0,a[c]=0,c--}else c++;a[c]=1,f=!f}throw new se},e.decodeDigit=function(r,n,i,s){this.recordPattern(r,i,n);for(var a=this.MAX_AVG_VARIANCE,l=-1,c=s.length,d=0;d<c;d++){var h=s[d],f=Qr.patternMatchVariance(n,h,e.MAX_INDIVIDUAL_VARIANCE);f<a&&(a=f,l=d)}if(l>=0)return l;throw new se},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(Qr),Rce=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Fce=function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,s=this.decodeMiddle(r,n,i),a=i.toString(),l=t.parseExtensionString(a),c=[new Re((n[0]+n[1])/2,e),new Re(s,e)],d=new Fn(a,null,0,c,Ge.UPC_EAN_EXTENSION,new Date().getTime());return l!=null&&d.putAllMetadata(l),d},t.prototype.decodeMiddle=function(e,r,n){var i,s,a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var l=e.getSize(),c=r[1],d=0,h=0;h<5&&c<l;h++){var f=$d.decodeDigit(e,a,c,$d.L_AND_G_PATTERNS);n+=String.fromCharCode(48+f%10);try{for(var m=(i=void 0,Rce(a)),g=m.next();!g.done;g=m.next()){var y=g.value;c+=y}}catch(N){i={error:N}}finally{try{g&&!g.done&&(s=m.return)&&s.call(m)}finally{if(i)throw i.error}}f>=10&&(d|=1<<4-h),h!==4&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(n.length!==5)throw new se;var x=this.determineCheckDigit(d);if(t.extensionChecksum(n.toString())!==x)throw new se;return c},t.extensionChecksum=function(e){for(var r=e.length,n=0,i=r-2;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;n*=3;for(var i=r-1;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;return n*=3,n%10},t.prototype.determineCheckDigit=function(e){for(var r=0;r<10;r++)if(e===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new se},t.parseExtensionString=function(e){if(e.length!==5)return null;var r=t.parseExtension5String(e);return r==null?null:new Map([[bn.SUGGESTED_PRICE,r]])},t.parseExtension5String=function(e){var r;switch(e.charAt(0)){case"0":r="";break;case"5":r="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}var n=parseInt(e.substring(1)),i=(n/100).toString(),s=n%100,a=s<10?"0"+s:s.toString();return r+i+"."+a},t}(),Lce=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Bce=function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,s=this.decodeMiddle(r,n,i),a=i.toString(),l=t.parseExtensionString(a),c=[new Re((n[0]+n[1])/2,e),new Re(s,e)],d=new Fn(a,null,0,c,Ge.UPC_EAN_EXTENSION,new Date().getTime());return l!=null&&d.putAllMetadata(l),d},t.prototype.decodeMiddle=function(e,r,n){var i,s,a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var l=e.getSize(),c=r[1],d=0,h=0;h<2&&c<l;h++){var f=$d.decodeDigit(e,a,c,$d.L_AND_G_PATTERNS);n+=String.fromCharCode(48+f%10);try{for(var m=(i=void 0,Lce(a)),g=m.next();!g.done;g=m.next()){var y=g.value;c+=y}}catch(x){i={error:x}}finally{try{g&&!g.done&&(s=m.return)&&s.call(m)}finally{if(i)throw i.error}}f>=10&&(d|=1<<1-h),h!==1&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(n.length!==2)throw new se;if(parseInt(n.toString())%4!==d)throw new se;return c},t.parseExtensionString=function(e){return e.length!==2?null:new Map([[bn.ISSUE_NUMBER,parseInt(e)]])},t}(),Uce=function(){function t(){}return t.decodeRow=function(e,r,n){var i=$d.findGuardPattern(r,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var s=new Fce;return s.decodeRow(e,r,i)}catch{var a=new Bce;return a.decodeRow(e,r,i)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t}(),zce=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Wr=function(t){zce(e,t);function e(){var r=t.call(this)||this;r.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(l){return Int32Array.from(l)});for(var n=10;n<20;n++){for(var i=e.L_PATTERNS[n-10],s=new Int32Array(i.length),a=0;a<i.length;a++)s[a]=i[i.length-a-1];e.L_AND_G_PATTERNS[n]=s}return r}return e.prototype.decodeRow=function(r,n,i){var s=e.findStartGuardPattern(n),a=i==null?null:i.get(nr.NEED_RESULT_POINT_CALLBACK);if(a!=null){var l=new Re((s[0]+s[1])/2,r);a.foundPossibleResultPoint(l)}var c=this.decodeMiddle(n,s,this.decodeRowStringBuffer),d=c.rowOffset,h=c.resultString;if(a!=null){var f=new Re(d,r);a.foundPossibleResultPoint(f)}var m=e.decodeEnd(n,d);if(a!=null){var g=new Re((m[0]+m[1])/2,r);a.foundPossibleResultPoint(g)}var y=m[1],x=y+(y-m[0]);if(x>=n.getSize()||!n.isRange(y,x,!1))throw new se;var N=h.toString();if(N.length<8)throw new we;if(!e.checkChecksum(N))throw new Lr;var _=(s[1]+s[0])/2,w=(m[1]+m[0])/2,S=this.getBarcodeFormat(),E=[new Re(_,r),new Re(w,r)],j=new Fn(N,null,0,E,S,new Date().getTime()),D=0;try{var T=Uce.decodeRow(r,n,m[1]);j.putMetadata(bn.UPC_EAN_EXTENSION,T.getText()),j.putAllMetadata(T.getResultMetadata()),j.addResultPoints(T.getResultPoints()),D=T.getText().length}catch{}var O=i==null?null:i.get(nr.ALLOWED_EAN_EXTENSIONS);if(O!=null){var B=!1;for(var P in O)if(D.toString()===P){B=!0;break}if(!B)throw new se}return S===Ge.EAN_13||Ge.UPC_A,j},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,s=n-1;s>=0;s-=2){var a=r.charAt(s).charCodeAt(0)-48;if(a<0||a>9)throw new we;i+=a}i*=3;for(var s=n-2;s>=0;s-=2){var a=r.charAt(s).charCodeAt(0)-48;if(a<0||a>9)throw new we;i+=a}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}($d),$ce=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),tA=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a2=function(t){$ce(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var s,a,l,c,d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;for(var h=r.getSize(),f=n[1],m=0,g=0;g<6&&f<h;g++){var y=Wr.decodeDigit(r,d,f,Wr.L_AND_G_PATTERNS);i+=String.fromCharCode(48+y%10);try{for(var x=(s=void 0,tA(d)),N=x.next();!N.done;N=x.next()){var _=N.value;f+=_}}catch(j){s={error:j}}finally{try{N&&!N.done&&(a=x.return)&&a.call(x)}finally{if(s)throw s.error}}y>=10&&(m|=1<<5-g)}i=e.determineFirstDigit(i,m);var w=Wr.findGuardPattern(r,f,!0,Wr.MIDDLE_PATTERN,new Int32Array(Wr.MIDDLE_PATTERN.length).fill(0));f=w[1];for(var g=0;g<6&&f<h;g++){var y=Wr.decodeDigit(r,d,f,Wr.L_PATTERNS);i+=String.fromCharCode(48+y);try{for(var S=(l=void 0,tA(d)),E=S.next();!E.done;E=S.next()){var _=E.value;f+=_}}catch(T){l={error:T}}finally{try{E&&!E.done&&(c=S.return)&&c.call(S)}finally{if(l)throw l.error}}}return{rowOffset:f,resultString:i}},e.prototype.getBarcodeFormat=function(){return Ge.EAN_13},e.determineFirstDigit=function(r,n){for(var i=0;i<10;i++)if(n===this.FIRST_DIGIT_ENCODINGS[i])return r=String.fromCharCode(48+i)+r,r;throw new se},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(Wr),Vce=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),rA=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nA=function(t){Vce(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var s,a,l,c,d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;for(var h=r.getSize(),f=n[1],m=0;m<4&&f<h;m++){var g=Wr.decodeDigit(r,d,f,Wr.L_PATTERNS);i+=String.fromCharCode(48+g);try{for(var y=(s=void 0,rA(d)),x=y.next();!x.done;x=y.next()){var N=x.value;f+=N}}catch(E){s={error:E}}finally{try{x&&!x.done&&(a=y.return)&&a.call(y)}finally{if(s)throw s.error}}}var _=Wr.findGuardPattern(r,f,!0,Wr.MIDDLE_PATTERN,new Int32Array(Wr.MIDDLE_PATTERN.length).fill(0));f=_[1];for(var m=0;m<4&&f<h;m++){var g=Wr.decodeDigit(r,d,f,Wr.L_PATTERNS);i+=String.fromCharCode(48+g);try{for(var w=(l=void 0,rA(d)),S=w.next();!S.done;S=w.next()){var N=S.value;f+=N}}catch(D){l={error:D}}finally{try{S&&!S.done&&(c=w.return)&&c.call(w)}finally{if(l)throw l.error}}}return{rowOffset:f,resultString:i}},e.prototype.getBarcodeFormat=function(){return Ge.EAN_8},e}(Wr),Wce=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),iA=function(t){Wce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.ean13Reader=new a2,r}return e.prototype.getBarcodeFormat=function(){return Ge.UPC_A},e.prototype.decode=function(r,n){return this.maybeReturnResult(this.ean13Reader.decode(r))},e.prototype.decodeRow=function(r,n,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,n,i))},e.prototype.decodeMiddle=function(r,n,i){return this.ean13Reader.decodeMiddle(r,n,i)},e.prototype.maybeReturnResult=function(r){var n=r.getText();if(n.charAt(0)==="0"){var i=new Fn(n.substring(1),null,null,r.getResultPoints(),Ge.UPC_A);return r.getResultMetadata()!=null&&i.putAllMetadata(r.getResultMetadata()),i}else throw new se},e.prototype.reset=function(){this.ean13Reader.reset()},e}(Wr),Hce=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Gce=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},sA=function(t){Hce(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=new Int32Array(4),r}return e.prototype.decodeMiddle=function(r,n,i){var s,a,l=this.decodeMiddleCounters.map(function(N){return N});l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var c=r.getSize(),d=n[1],h=0,f=0;f<6&&d<c;f++){var m=e.decodeDigit(r,l,d,e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+m%10);try{for(var g=(s=void 0,Gce(l)),y=g.next();!y.done;y=g.next()){var x=y.value;d+=x}}catch(N){s={error:N}}finally{try{y&&!y.done&&(a=g.return)&&a.call(g)}finally{if(s)throw s.error}}m>=10&&(h|=1<<5-f)}return e.determineNumSysAndCheckDigit(new vt(i),h),d},e.prototype.decodeEnd=function(r,n){return e.findGuardPatternWithoutCounters(r,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(r){return Wr.checkChecksum(e.convertUPCEtoUPCA(r))},e.determineNumSysAndCheckDigit=function(r,n){for(var i=0;i<=1;i++)for(var s=0;s<10;s++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][s]){r.insert(0,"0"+i),r.append("0"+s);return}throw se.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return Ge.UPC_E},e.convertUPCEtoUPCA=function(r){var n=r.slice(1,7).split("").map(function(a){return a.charCodeAt(0)}),i=new vt;i.append(r.charAt(0));var s=n[5];switch(s){case 0:case 1:case 2:i.appendChars(n,0,2),i.append(s),i.append("0000"),i.appendChars(n,2,3);break;case 3:i.appendChars(n,0,3),i.append("00000"),i.appendChars(n,3,2);break;case 4:i.appendChars(n,0,4),i.append("00000"),i.append(n[4]);break;default:i.appendChars(n,0,5),i.append("0000"),i.append(s);break}return r.length>=8&&i.append(r.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(Wr),qce=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),aA=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Cy=function(t){qce(e,t);function e(r){var n=t.call(this)||this,i=r==null?null:r.get(nr.POSSIBLE_FORMATS),s=[];return i!=null&&(i.indexOf(Ge.EAN_13)>-1&&s.push(new a2),i.indexOf(Ge.UPC_A)>-1&&s.push(new iA),i.indexOf(Ge.EAN_8)>-1&&s.push(new nA),i.indexOf(Ge.UPC_E)>-1&&s.push(new sA)),s.length===0&&(s.push(new a2),s.push(new iA),s.push(new nA),s.push(new sA)),n.readers=s,n}return e.prototype.decodeRow=function(r,n,i){var s,a;try{for(var l=aA(this.readers),c=l.next();!c.done;c=l.next()){var d=c.value;try{var h=d.decodeRow(r,n,i),f=h.getBarcodeFormat()===Ge.EAN_13&&h.getText().charAt(0)==="0",m=i==null?null:i.get(nr.POSSIBLE_FORMATS),g=m==null||m.includes(Ge.UPC_A);if(f&&g){var y=h.getRawBytes(),x=new Fn(h.getText().substring(1),y,y?y.length:null,h.getResultPoints(),Ge.UPC_A);return x.putAllMetadata(h.getResultMetadata()),x}return h}catch{}}}catch(N){s={error:N}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(s)throw s.error}}throw new se},e.prototype.reset=function(){var r,n;try{for(var i=aA(this.readers),s=i.next();!s.done;s=i.next()){var a=s.value;a.reset()}}catch(l){r={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e}(Qr),Zce=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Kce=function(t){Zce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},r}return e.prototype.decodeRow=function(r,n,i){var s=this.getValidRowData(n);if(!s)throw new se;var a=this.codaBarDecodeRow(s.row);if(!a)throw new se;return new Fn(a,null,0,[new Re(s.left,r),new Re(s.right,r)],Ge.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(r){var n=r.toArray(),i=n.indexOf(!0);if(i===-1)return null;var s=n.lastIndexOf(!0);if(s<=i)return null;n=n.slice(i,s+1);for(var a=[],l=n[0],c=1,d=1;d<n.length;d++)n[d]===l?c++:(l=n[d],a.push(c),c=1);return a.push(c),a.length<23&&(a.length+1)%8!==0?null:{row:a,left:i,right:s}},e.prototype.codaBarDecodeRow=function(r){for(var n=[],i=Math.ceil(r.reduce(function(c,d){return(c+d)/2},0));r.length>0;){var s=r.splice(0,8).splice(0,7),a=s.map(function(c){return c<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[a]===void 0)return null;n.push(this.CODA_BAR_CHAR_SET[a])}var l=n.join("");return this.validCodaBarString(l)?l:null},e.prototype.validCodaBarString=function(r){var n=/^[A-D].{1,}[A-D]$/;return n.test(r)},e}(Qr),Yce=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Xce=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Vl=function(t){Yce(e,t);function e(){var r=t.call(this)||this;return r.decodeFinderCounters=new Int32Array(4),r.dataCharacterCounters=new Int32Array(8),r.oddRoundingErrors=new Array(4),r.evenRoundingErrors=new Array(4),r.oddCounts=new Array(r.dataCharacterCounters.length/2),r.evenCounts=new Array(r.dataCharacterCounters.length/2),r}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(r,n){for(var i=0;i<n.length;i++)if(Qr.patternMatchVariance(r,n[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new se},e.count=function(r){return Bt.sum(new Int32Array(r))},e.increment=function(r,n){for(var i=0,s=n[0],a=1;a<r.length;a++)n[a]>s&&(s=n[a],i=a);r[i]++},e.decrement=function(r,n){for(var i=0,s=n[0],a=1;a<r.length;a++)n[a]<s&&(s=n[a],i=a);r[i]--},e.isFinderPattern=function(r){var n,i,s=r[0]+r[1],a=s+r[2]+r[3],l=s/a;if(l>=e.MIN_FINDER_PATTERN_RATIO&&l<=e.MAX_FINDER_PATTERN_RATIO){var c=Number.MAX_SAFE_INTEGER,d=Number.MIN_SAFE_INTEGER;try{for(var h=Xce(r),f=h.next();!f.done;f=h.next()){var m=f.value;m>d&&(d=m),m<c&&(c=m)}}catch(g){n={error:g}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}return d<10*c}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(Qr),g1=function(){function t(e,r){this.value=e,this.checksumPortion=r}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value&&this.checksumPortion===r.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t}(),EF=function(){function t(e,r,n,i,s){this.value=e,this.startEnd=r,this.value=e,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new Re(n,s)),this.resultPoints.push(new Re(i,s))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.hashCode=function(){return this.value},t}(),Qce=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ku=function(){function t(){}return t.getRSSvalue=function(e,r,n){var i,s,a=0;try{for(var l=Qce(e),c=l.next();!c.done;c=l.next()){var d=c.value;a+=d}}catch(w){i={error:w}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(i)throw i.error}}for(var h=0,f=0,m=e.length,g=0;g<m-1;g++){var y=void 0;for(y=1,f|=1<<g;y<e[g];y++,f&=~(1<<g)){var x=t.combins(a-y-1,m-g-2);if(n&&f===0&&a-y-(m-g-1)>=m-g-1&&(x-=t.combins(a-y-(m-g),m-g-2)),m-g-1>1){for(var N=0,_=a-y-(m-g-2);_>r;_--)N+=t.combins(a-y-_-1,m-g-3);x-=N*(m-1-g)}else a-y>r&&x--;h+=x}a-=y}return h},t.combins=function(e,r){var n,i;e-r>r?(i=r,n=e-r):(i=e-r,n=r);for(var s=1,a=1,l=e;l>n;l--)s*=l,a<=i&&(s/=a,a++);for(;a<=i;)s/=a,a++;return s},t}(),Jce=function(){function t(){}return t.buildBitArray=function(e){var r=e.length*2-1;e[e.length-1].getRightChar()==null&&(r-=1);for(var n=12*r,i=new ln(n),s=0,a=e[0],l=a.getRightChar().getValue(),c=11;c>=0;--c)l&1<<c&&i.set(s),s++;for(var c=1;c<e.length;++c){for(var d=e[c],h=d.getLeftChar().getValue(),f=11;f>=0;--f)h&1<<f&&i.set(s),s++;if(d.getRightChar()!==null)for(var m=d.getRightChar().getValue(),f=11;f>=0;--f)m&1<<f&&i.set(s),s++}return i},t}(),Il=function(){function t(e,r){r?this.decodedInformation=null:(this.finished=e,this.decodedInformation=r)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t}(),GN=function(){function t(e){this.newPosition=e}return t.prototype.getNewPosition=function(){return this.newPosition},t}(),eue=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),cs=function(t){eue(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(GN),tue=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Dl=function(t){tue(e,t);function e(r,n,i){var s=t.call(this,r)||this;return i?(s.remaining=!0,s.remainingValue=s.remainingValue):(s.remaining=!1,s.remainingValue=0),s.newString=n,s}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(GN),rue=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),uu=function(t){rue(e,t);function e(r,n,i){var s=t.call(this,r)||this;if(n<0||n>10||i<0||i>10)throw new we;return s.firstDigit=n,s.secondDigit=i,s}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(GN),A0=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nue=function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var r,n,i,s,a,l,c,d;if(!e)return null;if(e.length<2)throw new se;var h=e.substring(0,2);try{for(var f=A0(t.TWO_DIGIT_DATA_LENGTH),m=f.next();!m.done;m=f.next()){var g=m.value;if(g[0]===h)return g[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,g[2],e):t.processFixedAI(2,g[1],e)}}catch(D){r={error:D}}finally{try{m&&!m.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}if(e.length<3)throw new se;var y=e.substring(0,3);try{for(var x=A0(t.THREE_DIGIT_DATA_LENGTH),N=x.next();!N.done;N=x.next()){var g=N.value;if(g[0]===y)return g[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,g[2],e):t.processFixedAI(3,g[1],e)}}catch(D){i={error:D}}finally{try{N&&!N.done&&(s=x.return)&&s.call(x)}finally{if(i)throw i.error}}try{for(var _=A0(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),w=_.next();!w.done;w=_.next()){var g=w.value;if(g[0]===y)return g[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,g[2],e):t.processFixedAI(4,g[1],e)}}catch(D){a={error:D}}finally{try{w&&!w.done&&(l=_.return)&&l.call(_)}finally{if(a)throw a.error}}if(e.length<4)throw new se;var S=e.substring(0,4);try{for(var E=A0(t.FOUR_DIGIT_DATA_LENGTH),j=E.next();!j.done;j=E.next()){var g=j.value;if(g[0]===S)return g[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,g[2],e):t.processFixedAI(4,g[1],e)}}catch(D){c={error:D}}finally{try{j&&!j.done&&(d=E.return)&&d.call(E)}finally{if(c)throw c.error}}throw new se},t.processFixedAI=function(e,r,n){if(n.length<e)throw new se;var i=n.substring(0,e);if(n.length<e+r)throw new se;var s=n.substring(e,e+r),a=n.substring(e+r),l="("+i+")"+s,c=t.parseFieldsInGeneralPurpose(a);return c==null?l:l+c},t.processVariableAI=function(e,r,n){var i=n.substring(0,e),s;n.length<e+r?s=n.length:s=e+r;var a=n.substring(e,s),l=n.substring(s),c="("+i+")"+a,d=t.parseFieldsInGeneralPurpose(l);return d==null?c:c+d},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t}(),ag=function(){function t(e){this.buffer=new vt,this.information=e}return t.prototype.decodeAllCodes=function(e,r){var n=r,i=null;do{var s=this.decodeGeneralPurposeField(n,i),a=nue.parseFieldsInGeneralPurpose(s.getNewString());if(a!=null&&e.append(a),s.isRemaining()?i=""+s.getRemainingValue():i=null,n===s.getNewPosition())break;n=s.getNewPosition()}while(!0);return e.toString()},t.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var r=e;r<e+3;++r)if(this.information.get(r))return!0;return this.information.get(e+3)},t.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var r=this.extractNumericValueFromBitArray(e,4);return r===0?new uu(this.information.getSize(),uu.FNC1,uu.FNC1):new uu(this.information.getSize(),r-1,uu.FNC1)}var n=this.extractNumericValueFromBitArray(e,7),i=(n-8)/11,s=(n-8)%11;return new uu(e+7,i,s)},t.prototype.extractNumericValueFromBitArray=function(e,r){return t.extractNumericValueFromBitArray(this.information,e,r)},t.extractNumericValueFromBitArray=function(e,r,n){for(var i=0,s=0;s<n;++s)e.get(r+s)&&(i|=1<<n-s-1);return i},t.prototype.decodeGeneralPurposeField=function(e,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(e);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new Dl(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new Dl(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var e,r;do{var n=this.current.getPosition();this.current.isAlpha()?(r=this.parseAlphaBlock(),e=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),e=r.isFinished()):(r=this.parseNumericBlock(),e=r.isFinished());var i=n!==this.current.getPosition();if(!i&&!e)break}while(!e);return r.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var r=void 0;return e.isSecondDigitFNC1()?r=new Dl(this.current.getPosition(),this.buffer.toString()):r=new Dl(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Il(!0,r)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var r=new Dl(this.current.getPosition(),this.buffer.toString());return new Il(!0,r)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Il(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new Dl(this.current.getPosition(),this.buffer.toString());return new Il(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Il(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new Dl(this.current.getPosition(),this.buffer.toString());return new Il(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Il(!1)},t.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},t.prototype.decodeIsoIec646=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new cs(e+5,cs.FNC1);if(r>=5&&r<15)return new cs(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new cs(e+7,""+(n+1));if(n>=90&&n<116)return new cs(e+7,""+(n+7));var i=this.extractNumericValueFromBitArray(e,8),s;switch(i){case 232:s="!";break;case 233:s='"';break;case 234:s="%";break;case 235:s="&";break;case 236:s="'";break;case 237:s="(";break;case 238:s=")";break;case 239:s="*";break;case 240:s="+";break;case 241:s=",";break;case 242:s="-";break;case 243:s=".";break;case 244:s="/";break;case 245:s=":";break;case 246:s=";";break;case 247:s="<";break;case 248:s="=";break;case 249:s=">";break;case 250:s="?";break;case 251:s="_";break;case 252:s=" ";break;default:throw new we}return new cs(e+8,s)},t.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},t.prototype.decodeAlphanumeric=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new cs(e+5,cs.FNC1);if(r>=5&&r<15)return new cs(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new cs(e+6,""+(n+33));var i;switch(n){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new xm("Decoding invalid alphanumeric value: "+n)}return new cs(e+6,i)},t.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<5&&r+e<this.information.getSize();++r)if(r===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+r))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var r=e;r<e+3;++r)if(this.information.get(r))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<4&&r+e<this.information.getSize();++r)if(this.information.get(e+r))return!1;return!0},t}(),AF=function(){function t(e){this.information=e,this.generalDecoder=new ag(e)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t}(),iue=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ks=function(t){iue(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedGtin=function(r,n){r.append("(01)");var i=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,n,i)},e.prototype.encodeCompressedGtinWithoutAI=function(r,n,i){for(var s=0;s<4;++s){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*s,10);a/100===0&&r.append("0"),a/10===0&&r.append("0"),r.append(a)}e.appendCheckDigit(r,i)},e.appendCheckDigit=function(r,n){for(var i=0,s=0;s<13;s++){var a=r.charAt(s+n).charCodeAt(0)-48;i+=s&1?a:3*a}i=10-i%10,i===10&&(i=0),r.append(i)},e.GTIN_SIZE=40,e}(AF),sue=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),aue=function(t){sue(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new vt;r.append("(01)");var n=r.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return r.append(i),this.encodeCompressedGtinWithoutAI(r,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e}(ks),oue=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),lue=function(t){oue(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new vt;return this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE)},e.HEADER_SIZE=5,e}(AF),cue=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),og=function(t){cue(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedWeight=function(r,n,i){var s=this.getGeneralDecoder().extractNumericValueFromBitArray(n,i);this.addWeightCode(r,s);for(var a=this.checkWeight(s),l=1e5,c=0;c<5;++c)a/l===0&&r.append("0"),l/=10;r.append(a)},e}(ks),uue=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),kF=function(t){uue(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+og.GTIN_SIZE+e.WEIGHT_SIZE)throw new se;var r=new vt;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+og.GTIN_SIZE,e.WEIGHT_SIZE),r.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e}(og),due=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),hue=function(t){due(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){r.append("(3103)")},e.prototype.checkWeight=function(r){return r},e}(kF),fue=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),pue=function(t){fue(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){n<1e4?r.append("(3202)"):r.append("(3203)")},e.prototype.checkWeight=function(r){return r<1e4?r:r-1e4},e}(kF),mue=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),gue=function(t){mue(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+ks.GTIN_SIZE)throw new se;var r=new vt;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+ks.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(392"),r.append(n),r.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+ks.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return r.append(i.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e}(ks),vue=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),xue=function(t){vue(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+ks.GTIN_SIZE)throw new se;var r=new vt;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+ks.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(393"),r.append(n),r.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+ks.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&r.append("0"),i/10===0&&r.append("0"),r.append(i);var s=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+ks.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return r.append(s.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(ks),yue=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),_o=function(t){yue(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.dateCode=i,s.firstAIdigits=n,s}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new se;var r=new vt;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(r,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),r.toString()},e.prototype.encodeCompressedDate=function(r,n){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(i!==38400){r.append("("),r.append(this.dateCode),r.append(")");var s=i%32;i/=32;var a=i%12+1;i/=12;var l=i;l/10===0&&r.append("0"),r.append(l),a/10===0&&r.append("0"),r.append(a),s/10===0&&r.append("0"),r.append(s)}},e.prototype.addWeightCode=function(r,n){r.append("("),r.append(this.firstAIdigits),r.append(n/1e5),r.append(")")},e.prototype.checkWeight=function(r){return r%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(og);function wue(t){try{if(t.get(1))return new aue(t);if(!t.get(2))return new lue(t);var e=ag.extractNumericValueFromBitArray(t,1,4);switch(e){case 4:return new hue(t);case 5:return new pue(t)}var r=ag.extractNumericValueFromBitArray(t,1,5);switch(r){case 12:return new gue(t);case 13:return new xue(t)}var n=ag.extractNumericValueFromBitArray(t,1,7);switch(n){case 56:return new _o(t,"310","11");case 57:return new _o(t,"320","11");case 58:return new _o(t,"310","13");case 59:return new _o(t,"320","13");case 60:return new _o(t,"310","15");case 61:return new _o(t,"320","15");case 62:return new _o(t,"310","17");case 63:return new _o(t,"320","17")}}catch(i){throw console.log(i),new xm("unknown decoder: "+t)}}var oA=function(){function t(e,r,n,i){this.leftchar=e,this.rightchar=r,this.finderpattern=n,this.maybeLast=i}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return this.rightchar==null},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,r){return e instanceof t?t.equalsOrNull(e.leftchar,r.leftchar)&&t.equalsOrNull(e.rightchar,r.rightchar)&&t.equalsOrNull(e.finderpattern,r.finderpattern):!1},t.equalsOrNull=function(e,r){return e===null?r===null:t.equals(e,r)},t.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},t}(),bue=function(){function t(e,r,n){this.pairs=e,this.rowNumber=r,this.wasReversed=n}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,r){return e instanceof t?this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed:!1},t.prototype.checkEqualitity=function(e,r){if(!(!e||!r)){var n;return e.forEach(function(i,s){r.forEach(function(a){i.getLeftChar().getValue()===a.getLeftChar().getValue()&&i.getRightChar().getValue()===a.getRightChar().getValue()&&i.getFinderPatter().getValue()===a.getFinderPatter().getValue()&&(n=!0)})}),n}},t}(),_ue=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),No=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Nue=function(t){_ue(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.pairs=new Array(e.MAX_PAIRS),r.rows=new Array,r.startEnd=[2],r}return e.prototype.decodeRow=function(r,n,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(r,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(r,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(r,n){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,r))}catch(l){if(l instanceof se){if(!this.pairs.length)throw new se;i=!0}}if(this.checkChecksum())return this.pairs;var s;if(this.rows.length?s=!0:s=!1,this.storeRow(r,!1),s){var a=this.checkRowsBoolean(!1);if(a!=null||(a=this.checkRowsBoolean(!0),a!=null))return a}throw new se},e.prototype.checkRowsBoolean=function(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(i){console.log(i)}return r&&(this.rows=this.rows.reverse()),n},e.prototype.checkRows=function(r,n){for(var i,s,a=n;a<this.rows.length;a++){var l=this.rows[a];this.pairs.length=0;try{for(var c=(i=void 0,No(r)),d=c.next();!d.done;d=c.next()){var h=d.value;this.pairs.push(h.getPairs())}}catch(m){i={error:m}}finally{try{d&&!d.done&&(s=c.return)&&s.call(c)}finally{if(i)throw i.error}}if(this.pairs.push(l.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var f=new Array(r);f.push(l);try{return this.checkRows(f,a+1)}catch(m){console.log(m)}}}throw new se},e.isValidSequence=function(r){var n,i;try{for(var s=No(e.FINDER_PATTERN_SEQUENCES),a=s.next();!a.done;a=s.next()){var l=a.value;if(!(r.length>l.length)){for(var c=!0,d=0;d<r.length;d++)if(r[d].getFinderPattern().getValue()!==l[d]){c=!1;break}if(c)return!0}}}catch(h){n={error:h}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(r,n){for(var i=0,s=!1,a=!1;i<this.rows.length;){var l=this.rows[i];if(l.getRowNumber()>r){a=l.isEquivalent(this.pairs);break}s=l.isEquivalent(this.pairs),i++}a||s||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new bue(this.pairs,r,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(r,n){var i,s,a,l,c,d;try{for(var h=No(n),f=h.next();!f.done;f=h.next()){var m=f.value;if(m.getPairs().length!==r.length){var g=!0;try{for(var y=(a=void 0,No(m.getPairs())),x=y.next();!x.done;x=y.next()){var N=x.value,_=!1;try{for(var w=(c=void 0,No(r)),S=w.next();!S.done;S=w.next()){var E=S.value;if(oA.equals(N,E)){_=!0;break}}}catch(j){c={error:j}}finally{try{S&&!S.done&&(d=w.return)&&d.call(w)}finally{if(c)throw c.error}}_||(g=!1)}}catch(j){a={error:j}}finally{try{x&&!x.done&&(l=y.return)&&l.call(y)}finally{if(a)throw a.error}}}}}catch(j){i={error:j}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}},e.isPartialRow=function(r,n){var i,s,a,l,c,d;try{for(var h=No(n),f=h.next();!f.done;f=h.next()){var m=f.value,g=!0;try{for(var y=(a=void 0,No(r)),x=y.next();!x.done;x=y.next()){var N=x.value,_=!1;try{for(var w=(c=void 0,No(m.getPairs())),S=w.next();!S.done;S=w.next()){var E=S.value;if(N.equals(E)){_=!0;break}}}catch(j){c={error:j}}finally{try{S&&!S.done&&(d=w.return)&&d.call(w)}finally{if(c)throw c.error}}if(!_){g=!1;break}}}catch(j){a={error:j}}finally{try{x&&!x.done&&(l=y.return)&&l.call(y)}finally{if(a)throw a.error}}if(g)return!0}}catch(j){i={error:j}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(r){var n=Jce.buildBitArray(r),i=wue(n),s=i.parseInformation(),a=r[0].getFinderPattern().getResultPoints(),l=r[r.length-1].getFinderPattern().getResultPoints(),c=[a[0],a[1],l[0],l[1]];return new Fn(s,null,null,c,Ge.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var r=this.pairs.get(0),n=r.getLeftChar(),i=r.getRightChar();if(i===null)return!1;for(var s=i.getChecksumPortion(),a=2,l=1;l<this.pairs.size();++l){var c=this.pairs.get(l);s+=c.getLeftChar().getChecksumPortion(),a++;var d=c.getRightChar();d!=null&&(s+=d.getChecksumPortion(),a++)}s%=211;var h=211*(a-4)+s;return h===n.getValue()},e.getNextSecondBar=function(r,n){var i;return r.get(n)?(i=r.getNextUnset(n),i=r.getNextSet(i)):(i=r.getNextSet(n),i=r.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(r,n,i){var s=n.length%2===0;this.startFromEven&&(s=!s);var a,l=!0,c=-1;do this.findNextPair(r,n,c),a=this.parseFoundFinderPattern(r,i,s),a===null?c=e.getNextSecondBar(r,this.startEnd[0]):l=!1;while(l);var d=this.decodeDataCharacter(r,a,s,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new se;var h;try{h=this.decodeDataCharacter(r,a,s,!1)}catch(f){h=null,console.log(f)}return new oA(d,h,a,!0)},e.prototype.isEmptyPair=function(r){return r.length===0},e.prototype.findNextPair=function(r,n,i){var s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;var a=r.getSize(),l;if(i>=0)l=i;else if(this.isEmptyPair(n))l=0;else{var c=n[n.length-1];l=c.getFinderPattern().getStartEnd()[1]}var d=n.length%2!==0;this.startFromEven&&(d=!d);for(var h=!1;l<a&&(h=!r.get(l),!!h);)l++;for(var f=0,m=l,g=l;g<a;g++)if(r.get(g)!==h)s[f]++;else{if(f===3){if(d&&e.reverseCounters(s),e.isFinderPattern(s)){this.startEnd[0]=m,this.startEnd[1]=g;return}d&&e.reverseCounters(s),m+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,f--}else f++;s[f]=1,h=!h}throw new se},e.reverseCounters=function(r){for(var n=r.length,i=0;i<n/2;++i){var s=r[i];r[i]=r[n-i-1],r[n-i-1]=s}},e.prototype.parseFoundFinderPattern=function(r,n,i){var s,a,l;if(i){for(var c=this.startEnd[0]-1;c>=0&&!r.get(c);)c--;c++,s=this.startEnd[0]-c,a=c,l=this.startEnd[1]}else a=this.startEnd[0],l=r.getNextUnset(this.startEnd[1]+1),s=l-this.startEnd[1];var d=this.getDecodeFinderCounters();rr.arraycopy(d,0,d,1,d.length-1),d[0]=s;var h;try{h=this.parseFinderValue(d,e.FINDER_PATTERNS)}catch{return null}return new EF(h,[a,l],a,l,n)},e.prototype.decodeDataCharacter=function(r,n,i,s){for(var a=this.getDataCharacterCounters(),l=0;l<a.length;l++)a[l]=0;if(s)e.recordPatternInReverse(r,n.getStartEnd()[0],a);else{e.recordPattern(r,n.getStartEnd()[1],a);for(var c=0,d=a.length-1;c<d;c++,d--){var h=a[c];a[c]=a[d],a[d]=h}}var f=17,m=Bt.sum(new Int32Array(a))/f,g=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(m-g)/g>.3)throw new se;for(var y=this.getOddCounts(),x=this.getEvenCounts(),N=this.getOddRoundingErrors(),_=this.getEvenRoundingErrors(),c=0;c<a.length;c++){var w=1*a[c]/m,S=w+.5;if(S<1){if(w<.3)throw new se;S=1}else if(S>8){if(w>8.7)throw new se;S=8}var E=c/2;c&1?(x[E]=S,_[E]=w-S):(y[E]=S,N[E]=w-S)}this.adjustOddEvenCounts(f);for(var j=4*n.getValue()+(i?0:2)+(s?0:1)-1,D=0,T=0,c=y.length-1;c>=0;c--){if(e.isNotA1left(n,i,s)){var O=e.WEIGHTS[j][2*c];T+=y[c]*O}D+=y[c]}for(var B=0,c=x.length-1;c>=0;c--)if(e.isNotA1left(n,i,s)){var O=e.WEIGHTS[j][2*c+1];B+=x[c]*O}var P=T+B;if(D&1||D>13||D<4)throw new se;var V=(13-D)/2,F=e.SYMBOL_WIDEST[V],q=9-F,H=ku.getRSSvalue(y,F,!0),le=ku.getRSSvalue(x,q,!1),ae=e.EVEN_TOTAL_SUBSET[V],me=e.GSUM[V],R=H*ae+le+me;return new g1(R,P)},e.isNotA1left=function(r,n,i){return!(r.getValue()===0&&n&&i)},e.prototype.adjustOddEvenCounts=function(r){var n=Bt.sum(new Int32Array(this.getOddCounts())),i=Bt.sum(new Int32Array(this.getEvenCounts())),s=!1,a=!1;n>13?a=!0:n<4&&(s=!0);var l=!1,c=!1;i>13?c=!0:i<4&&(l=!0);var d=n+i-r,h=(n&1)===1,f=(i&1)===0;if(d===1)if(h){if(f)throw new se;a=!0}else{if(!f)throw new se;c=!0}else if(d===-1)if(h){if(f)throw new se;s=!0}else{if(!f)throw new se;l=!0}else if(d===0){if(h){if(!f)throw new se;n<i?(s=!0,c=!0):(a=!0,l=!0)}else if(f)throw new se}else throw new se;if(s){if(a)throw new se;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(a&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(c)throw new se;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(Vl),Cue=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Sue=function(t){Cue(e,t);function e(r,n,i){var s=t.call(this,r,n)||this;return s.count=0,s.finderPattern=i,s}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(g1),Eue=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Sy=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lA=function(t){Eue(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.possibleLeftPairs=[],r.possibleRightPairs=[],r}return e.prototype.decodeRow=function(r,n,i){var s,a,l,c,d=this.decodePair(n,!1,r,i);e.addOrTally(this.possibleLeftPairs,d),n.reverse();var h=this.decodePair(n,!0,r,i);e.addOrTally(this.possibleRightPairs,h),n.reverse();try{for(var f=Sy(this.possibleLeftPairs),m=f.next();!m.done;m=f.next()){var g=m.value;if(g.getCount()>1)try{for(var y=(l=void 0,Sy(this.possibleRightPairs)),x=y.next();!x.done;x=y.next()){var N=x.value;if(N.getCount()>1&&e.checkChecksum(g,N))return e.constructResult(g,N)}}catch(_){l={error:_}}finally{try{x&&!x.done&&(c=y.return)&&c.call(y)}finally{if(l)throw l.error}}}}catch(_){s={error:_}}finally{try{m&&!m.done&&(a=f.return)&&a.call(f)}finally{if(s)throw s.error}}throw new se},e.addOrTally=function(r,n){var i,s;if(n!=null){var a=!1;try{for(var l=Sy(r),c=l.next();!c.done;c=l.next()){var d=c.value;if(d.getValue()===n.getValue()){d.incrementCount(),a=!0;break}}}catch(h){i={error:h}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(i)throw i.error}}a||r.push(n)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(r,n){for(var i=4537077*r.getValue()+n.getValue(),s=new String(i).toString(),a=new vt,l=13-s.length;l>0;l--)a.append("0");a.append(s);for(var c=0,l=0;l<13;l++){var d=a.charAt(l).charCodeAt(0)-48;c+=l&1?d:3*d}c=10-c%10,c===10&&(c=0),a.append(c.toString());var h=r.getFinderPattern().getResultPoints(),f=n.getFinderPattern().getResultPoints();return new Fn(a.toString(),null,0,[h[0],h[1],f[0],f[1]],Ge.RSS_14,new Date().getTime())},e.checkChecksum=function(r,n){var i=(r.getChecksumPortion()+16*n.getChecksumPortion())%79,s=9*r.getFinderPattern().getValue()+n.getFinderPattern().getValue();return s>72&&s--,s>8&&s--,i===s},e.prototype.decodePair=function(r,n,i,s){try{var a=this.findFinderPattern(r,n),l=this.parseFoundFinderPattern(r,i,n,a),c=s==null?null:s.get(nr.NEED_RESULT_POINT_CALLBACK);if(c!=null){var d=(a[0]+a[1])/2;n&&(d=r.getSize()-1-d),c.foundPossibleResultPoint(new Re(d,i))}var h=this.decodeDataCharacter(r,l,!0),f=this.decodeDataCharacter(r,l,!1);return new Sue(1597*h.getValue()+f.getValue(),h.getChecksumPortion()+4*f.getChecksumPortion(),l)}catch{return null}},e.prototype.decodeDataCharacter=function(r,n,i){for(var s=this.getDataCharacterCounters(),a=0;a<s.length;a++)s[a]=0;if(i)Qr.recordPatternInReverse(r,n.getStartEnd()[0],s);else{Qr.recordPattern(r,n.getStartEnd()[1]+1,s);for(var l=0,c=s.length-1;l<c;l++,c--){var d=s[l];s[l]=s[c],s[c]=d}}for(var h=i?16:15,f=Bt.sum(new Int32Array(s))/h,m=this.getOddCounts(),g=this.getEvenCounts(),y=this.getOddRoundingErrors(),x=this.getEvenRoundingErrors(),l=0;l<s.length;l++){var N=s[l]/f,_=Math.floor(N+.5);_<1?_=1:_>8&&(_=8);var w=Math.floor(l/2);l&1?(g[w]=_,x[w]=N-_):(m[w]=_,y[w]=N-_)}this.adjustOddEvenCounts(i,h);for(var S=0,E=0,l=m.length-1;l>=0;l--)E*=9,E+=m[l],S+=m[l];for(var j=0,D=0,l=g.length-1;l>=0;l--)j*=9,j+=g[l],D+=g[l];var T=E+3*j;if(i){if(S&1||S>12||S<4)throw new se;var O=(12-S)/2,B=e.OUTSIDE_ODD_WIDEST[O],P=9-B,V=ku.getRSSvalue(m,B,!1),F=ku.getRSSvalue(g,P,!0),q=e.OUTSIDE_EVEN_TOTAL_SUBSET[O],H=e.OUTSIDE_GSUM[O];return new g1(V*q+F+H,T)}else{if(D&1||D>10||D<4)throw new se;var O=(10-D)/2,B=e.INSIDE_ODD_WIDEST[O],P=9-B,V=ku.getRSSvalue(m,B,!0),F=ku.getRSSvalue(g,P,!1),le=e.INSIDE_ODD_TOTAL_SUBSET[O],H=e.INSIDE_GSUM[O];return new g1(F*le+V+H,T)}},e.prototype.findFinderPattern=function(r,n){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var s=r.getSize(),a=!1,l=0;l<s&&(a=!r.get(l),n!==a);)l++;for(var c=0,d=l,h=l;h<s;h++)if(r.get(h)!==a)i[c]++;else{if(c===3){if(Vl.isFinderPattern(i))return[d,h];d+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,c--}else c++;i[c]=1,a=!a}throw new se},e.prototype.parseFoundFinderPattern=function(r,n,i,s){for(var a=r.get(s[0]),l=s[0]-1;l>=0&&a!==r.get(l);)l--;l++;var c=s[0]-l,d=this.getDecodeFinderCounters(),h=new Int32Array(d.length);rr.arraycopy(d,0,h,1,d.length-1),h[0]=c;var f=this.parseFinderValue(h,e.FINDER_PATTERNS),m=l,g=s[1];return i&&(m=r.getSize()-1-m,g=r.getSize()-1-g),new EF(f,[l,s[1]],m,g,n)},e.prototype.adjustOddEvenCounts=function(r,n){var i=Bt.sum(new Int32Array(this.getOddCounts())),s=Bt.sum(new Int32Array(this.getEvenCounts())),a=!1,l=!1,c=!1,d=!1;r?(i>12?l=!0:i<4&&(a=!0),s>12?d=!0:s<4&&(c=!0)):(i>11?l=!0:i<5&&(a=!0),s>10?d=!0:s<4&&(c=!0));var h=i+s-n,f=(i&1)===(r?1:0),m=(s&1)===1;if(h===1)if(f){if(m)throw new se;l=!0}else{if(!m)throw new se;d=!0}else if(h===-1)if(f){if(m)throw new se;a=!0}else{if(!m)throw new se;c=!0}else if(h===0){if(f){if(!m)throw new se;i<s?(a=!0,d=!0):(l=!0,c=!0)}else if(m)throw new se}else throw new se;if(a){if(l)throw new se;Vl.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&Vl.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(d)throw new se;Vl.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&Vl.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(Vl),Aue=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ju=function(t){Aue(e,t);function e(r){var n=t.call(this)||this;n.readers=[];var i=r?r.get(nr.POSSIBLE_FORMATS):null,s=r&&r.get(nr.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,a=r&&r.get(nr.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return i&&((i.includes(Ge.EAN_13)||i.includes(Ge.UPC_A)||i.includes(Ge.EAN_8)||i.includes(Ge.UPC_E))&&n.readers.push(new Cy(r)),i.includes(Ge.CODE_39)&&n.readers.push(new QE(s,a)),i.includes(Ge.CODE_93)&&n.readers.push(new JE),i.includes(Ge.CODE_128)&&n.readers.push(new XE),i.includes(Ge.ITF)&&n.readers.push(new eA),i.includes(Ge.CODABAR)&&n.readers.push(new Kce),i.includes(Ge.RSS_14)&&n.readers.push(new lA),i.includes(Ge.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new Nue))),n.readers.length===0&&(n.readers.push(new Cy(r)),n.readers.push(new QE),n.readers.push(new JE),n.readers.push(new Cy(r)),n.readers.push(new XE),n.readers.push(new eA),n.readers.push(new lA)),n}return e.prototype.decodeRow=function(r,n,i){for(var s=0;s<this.readers.length;s++)try{return this.readers[s].decodeRow(r,n,i)}catch{}throw new se},e.prototype.reset=function(){this.readers.forEach(function(r){return r.reset()})},e}(Qr),kue=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){kue(e,t);function e(r,n){return r===void 0&&(r=500),t.call(this,new ju(n),r,n)||this}return e})(sh);var cA=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Vt=function(){function t(e,r,n){this.ecCodewords=e,this.ecBlocks=[r],n&&this.ecBlocks.push(n)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),zt=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),jue=function(){function t(e,r,n,i,s,a){var l,c;this.versionNumber=e,this.symbolSizeRows=r,this.symbolSizeColumns=n,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=s,this.ecBlocks=a;var d=0,h=a.getECCodewords(),f=a.getECBlocks();try{for(var m=cA(f),g=m.next();!g.done;g=m.next()){var y=g.value;d+=y.getCount()*(y.getDataCodewords()+h)}}catch(x){l={error:x}}finally{try{g&&!g.done&&(c=m.return)&&c.call(m)}finally{if(l)throw l.error}}this.totalCodewords=d}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,r){var n,i;if(e&1||r&1)throw new we;try{for(var s=cA(t.VERSIONS),a=s.next();!a.done;a=s.next()){var l=a.value;if(l.symbolSizeRows===e&&l.symbolSizeColumns===r)return l}}catch(c){n={error:c}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}throw new we},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new Vt(5,new zt(1,3))),new t(2,12,12,10,10,new Vt(7,new zt(1,5))),new t(3,14,14,12,12,new Vt(10,new zt(1,8))),new t(4,16,16,14,14,new Vt(12,new zt(1,12))),new t(5,18,18,16,16,new Vt(14,new zt(1,18))),new t(6,20,20,18,18,new Vt(18,new zt(1,22))),new t(7,22,22,20,20,new Vt(20,new zt(1,30))),new t(8,24,24,22,22,new Vt(24,new zt(1,36))),new t(9,26,26,24,24,new Vt(28,new zt(1,44))),new t(10,32,32,14,14,new Vt(36,new zt(1,62))),new t(11,36,36,16,16,new Vt(42,new zt(1,86))),new t(12,40,40,18,18,new Vt(48,new zt(1,114))),new t(13,44,44,20,20,new Vt(56,new zt(1,144))),new t(14,48,48,22,22,new Vt(68,new zt(1,174))),new t(15,52,52,24,24,new Vt(42,new zt(2,102))),new t(16,64,64,14,14,new Vt(56,new zt(2,140))),new t(17,72,72,16,16,new Vt(36,new zt(4,92))),new t(18,80,80,18,18,new Vt(48,new zt(4,114))),new t(19,88,88,20,20,new Vt(56,new zt(4,144))),new t(20,96,96,22,22,new Vt(68,new zt(4,174))),new t(21,104,104,24,24,new Vt(56,new zt(6,136))),new t(22,120,120,18,18,new Vt(68,new zt(6,175))),new t(23,132,132,20,20,new Vt(62,new zt(8,163))),new t(24,144,144,22,22,new Vt(62,new zt(8,156),new zt(2,155))),new t(25,8,18,6,16,new Vt(7,new zt(1,5))),new t(26,8,32,6,14,new Vt(11,new zt(1,10))),new t(27,12,26,10,24,new Vt(14,new zt(1,16))),new t(28,12,36,10,16,new Vt(18,new zt(1,22))),new t(29,16,36,14,16,new Vt(24,new zt(1,32))),new t(30,16,48,14,22,new Vt(28,new zt(1,49)))]},t.VERSIONS=t.buildVersions(),t}(),Pue=function(){function t(e){var r=e.getHeight();if(r<8||r>144||r&1)throw new we;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new Aa(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(e){var r=e.getHeight(),n=e.getWidth();return jue.getVersionForDimensions(r,n)},t.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),r=0,n=4,i=0,s=this.mappingBitMatrix.getHeight(),a=this.mappingBitMatrix.getWidth(),l=!1,c=!1,d=!1,h=!1;do if(n===s&&i===0&&!l)e[r++]=this.readCorner1(s,a)&255,n-=2,i+=2,l=!0;else if(n===s-2&&i===0&&a&3&&!c)e[r++]=this.readCorner2(s,a)&255,n-=2,i+=2,c=!0;else if(n===s+4&&i===2&&!(a&7)&&!d)e[r++]=this.readCorner3(s,a)&255,n-=2,i+=2,d=!0;else if(n===s-2&&i===0&&(a&7)===4&&!h)e[r++]=this.readCorner4(s,a)&255,n-=2,i+=2,h=!0;else{do n<s&&i>=0&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,s,a)&255),n-=2,i+=2;while(n>=0&&i<a);n+=1,i+=3;do n>=0&&i<a&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,s,a)&255),n+=2,i-=2;while(n<s&&i>=0);n+=3,i+=1}while(n<s||i<a);if(r!==this.version.getTotalCodewords())throw new we;return e},t.prototype.readModule=function(e,r,n,i){return e<0&&(e+=n,r+=4-(n+4&7)),r<0&&(r+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(r,e),this.mappingBitMatrix.get(r,e)},t.prototype.readUtah=function(e,r,n,i){var s=0;return this.readModule(e-2,r-2,n,i)&&(s|=1),s<<=1,this.readModule(e-2,r-1,n,i)&&(s|=1),s<<=1,this.readModule(e-1,r-2,n,i)&&(s|=1),s<<=1,this.readModule(e-1,r-1,n,i)&&(s|=1),s<<=1,this.readModule(e-1,r,n,i)&&(s|=1),s<<=1,this.readModule(e,r-2,n,i)&&(s|=1),s<<=1,this.readModule(e,r-1,n,i)&&(s|=1),s<<=1,this.readModule(e,r,n,i)&&(s|=1),s},t.prototype.readCorner1=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,1,e,r)&&(n|=1),n<<=1,this.readModule(e-1,2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.readCorner2=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-4,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner3=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-3,e,r)&&(n|=1),n<<=1,this.readModule(1,r-2,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner4=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.extractDataRegion=function(e){var r=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==r)throw new qe("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),s=this.version.getDataRegionSizeColumns(),a=r/i|0,l=n/s|0,c=a*i,d=l*s,h=new Aa(d,c),f=0;f<a;++f)for(var m=f*i,g=0;g<l;++g)for(var y=g*s,x=0;x<i;++x)for(var N=f*(i+2)+1+x,_=m+x,w=0;w<s;++w){var S=g*(s+2)+1+w;if(e.get(S,N)){var E=y+w;h.set(E,_)}}return h},t}(),uA=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Tue=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r){var n,i,s,a,l=r.getECBlocks(),c=0,d=l.getECBlocks();try{for(var h=uA(d),f=h.next();!f.done;f=h.next()){var m=f.value;c+=m.getCount()}}catch(H){n={error:H}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}var g=new Array(c),y=0;try{for(var x=uA(d),N=x.next();!N.done;N=x.next())for(var m=N.value,_=0;_<m.getCount();_++){var w=m.getDataCodewords(),S=l.getECCodewords()+w;g[y++]=new t(w,new Uint8Array(S))}}catch(H){s={error:H}}finally{try{N&&!N.done&&(a=x.return)&&a.call(x)}finally{if(s)throw s.error}}for(var E=g[0].codewords.length,j=E-l.getECCodewords(),D=j-1,T=0,_=0;_<D;_++)for(var O=0;O<y;O++)g[O].codewords[_]=e[T++];for(var B=r.getVersionNumber()===24,P=B?8:y,O=0;O<P;O++)g[O].codewords[j-1]=e[T++];for(var V=g[0].codewords.length,_=j;_<V;_++)for(var O=0;O<y;O++){var F=B?(O+8)%y:O,q=B&&F>7?_-1:_;g[F].codewords[q]=e[T++]}if(T!==e.length)throw new qe;return g},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),jF=function(){function t(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new qe(""+e);var r=0,n=this.bitOffset,i=this.byteOffset,s=this.bytes;if(n>0){var a=8-n,l=e<a?e:a,c=a-l,d=255>>8-l<<c;r=(s[i]&d)>>c,e-=l,n+=l,n===8&&(n=0,i++)}if(e>0){for(;e>=8;)r=r<<8|s[i]&255,i++,e-=8;if(e>0){var c=8-e,d=255>>c<<c;r=r<<e|(s[i]&d)>>c,n+=e}}return this.bitOffset=n,this.byteOffset=i,r},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t}(),zr;(function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"})(zr||(zr={}));var Iue=function(){function t(){}return t.decode=function(e){var r=new jF(e),n=new vt,i=new vt,s=new Array,a=zr.ASCII_ENCODE;do if(a===zr.ASCII_ENCODE)a=this.decodeAsciiSegment(r,n,i);else{switch(a){case zr.C40_ENCODE:this.decodeC40Segment(r,n);break;case zr.TEXT_ENCODE:this.decodeTextSegment(r,n);break;case zr.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,n);break;case zr.EDIFACT_ENCODE:this.decodeEdifactSegment(r,n);break;case zr.BASE256_ENCODE:this.decodeBase256Segment(r,n,s);break;default:throw new we}a=zr.ASCII_ENCODE}while(a!==zr.PAD_ENCODE&&r.available()>0);return i.length()>0&&n.append(i.toString()),new Mv(e,n.toString(),s.length===0?null:s,null)},t.decodeAsciiSegment=function(e,r,n){var i=!1;do{var s=e.readBits(8);if(s===0)throw new we;if(s<=128)return i&&(s+=128),r.append(String.fromCharCode(s-1)),zr.ASCII_ENCODE;if(s===129)return zr.PAD_ENCODE;if(s<=229){var a=s-130;a<10&&r.append("0"),r.append(""+a)}else switch(s){case 230:return zr.C40_ENCODE;case 231:return zr.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:r.append("[)>05"),n.insert(0,"");break;case 237:r.append("[)>06"),n.insert(0,"");break;case 238:return zr.ANSIX12_ENCODE;case 239:return zr.TEXT_ENCODE;case 240:return zr.EDIFACT_ENCODE;case 241:break;default:if(s!==254||e.available()!==0)throw new we;break}}while(e.available()>0);return zr.ASCII_ENCODE},t.decodeC40Segment=function(e,r){var n=!1,i=[],s=0;do{if(e.available()===8)return;var a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),i);for(var l=0;l<3;l++){var c=i[l];switch(s){case 0:if(c<3)s=c+1;else if(c<this.C40_BASIC_SET_CHARS.length){var d=this.C40_BASIC_SET_CHARS[c];n?(r.append(String.fromCharCode(d.charCodeAt(0)+128)),n=!1):r.append(d)}else throw new we;break;case 1:n?(r.append(String.fromCharCode(c+128)),n=!1):r.append(String.fromCharCode(c)),s=0;break;case 2:if(c<this.C40_SHIFT2_SET_CHARS.length){var d=this.C40_SHIFT2_SET_CHARS[c];n?(r.append(String.fromCharCode(d.charCodeAt(0)+128)),n=!1):r.append(d)}else switch(c){case 27:r.append("");break;case 30:n=!0;break;default:throw new we}s=0;break;case 3:n?(r.append(String.fromCharCode(c+224)),n=!1):r.append(String.fromCharCode(c+96)),s=0;break;default:throw new we}}}while(e.available()>0)},t.decodeTextSegment=function(e,r){var n=!1,i=[],s=0;do{if(e.available()===8)return;var a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),i);for(var l=0;l<3;l++){var c=i[l];switch(s){case 0:if(c<3)s=c+1;else if(c<this.TEXT_BASIC_SET_CHARS.length){var d=this.TEXT_BASIC_SET_CHARS[c];n?(r.append(String.fromCharCode(d.charCodeAt(0)+128)),n=!1):r.append(d)}else throw new we;break;case 1:n?(r.append(String.fromCharCode(c+128)),n=!1):r.append(String.fromCharCode(c)),s=0;break;case 2:if(c<this.TEXT_SHIFT2_SET_CHARS.length){var d=this.TEXT_SHIFT2_SET_CHARS[c];n?(r.append(String.fromCharCode(d.charCodeAt(0)+128)),n=!1):r.append(d)}else switch(c){case 27:r.append("");break;case 30:n=!0;break;default:throw new we}s=0;break;case 3:if(c<this.TEXT_SHIFT3_SET_CHARS.length){var d=this.TEXT_SHIFT3_SET_CHARS[c];n?(r.append(String.fromCharCode(d.charCodeAt(0)+128)),n=!1):r.append(d),s=0}else throw new we;break;default:throw new we}}}while(e.available()>0)},t.decodeAnsiX12Segment=function(e,r){var n=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),n);for(var s=0;s<3;s++){var a=n[s];switch(a){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(a<14)r.append(String.fromCharCode(a+44));else if(a<40)r.append(String.fromCharCode(a+51));else throw new we;break}}}while(e.available()>0)},t.parseTwoBytes=function(e,r,n){var i=(e<<8)+r-1,s=Math.floor(i/1600);n[0]=s,i-=s*1600,s=Math.floor(i/40),n[1]=s,n[2]=i-s*40},t.decodeEdifactSegment=function(e,r){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var i=e.readBits(6);if(i===31){var s=8-e.getBitOffset();s!==8&&e.readBits(s);return}i&32||(i|=64),r.append(String.fromCharCode(i))}}while(e.available()>0)},t.decodeBase256Segment=function(e,r,n){var i=1+e.getByteOffset(),s=this.unrandomize255State(e.readBits(8),i++),a;if(s===0?a=e.available()/8|0:s<250?a=s:a=250*(s-249)+this.unrandomize255State(e.readBits(8),i++),a<0)throw new we;for(var l=new Uint8Array(a),c=0;c<a;c++){if(e.available()<8)throw new we;l[c]=this.unrandomize255State(e.readBits(8),i++)}n.push(l);try{r.append(Qi.decode(l,Et.ISO88591))}catch(d){throw new xm("Platform does not support required encoding: "+d.message)}},t.unrandomize255State=function(e,r){var n=149*r%255+1,i=e-n;return i>=0?i:i+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],t}(),Due=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Oue=function(){function t(){this.rsDecoder=new Rv(hi.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(e){var r,n,i=new Pue(e),s=i.getVersion(),a=i.readCodewords(),l=Tue.getDataBlocks(a,s),c=0;try{for(var d=Due(l),h=d.next();!h.done;h=d.next()){var f=h.value;c+=f.getNumDataCodewords()}}catch(S){r={error:S}}finally{try{h&&!h.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}for(var m=new Uint8Array(c),g=l.length,y=0;y<g;y++){var x=l[y],N=x.getCodewords(),_=x.getNumDataCodewords();this.correctErrors(N,_);for(var w=0;w<_;w++)m[w*g+y]=N[w]}return Iue.decode(m)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new Lr}for(var i=0;i<r;i++)e[i]=n[i]},t}(),Mue=function(){function t(e){this.image=e,this.rectangleDetector=new s2(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),r=this.detectSolid1(e);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new se;r=this.shiftToModuleCenter(r);var n=r[0],i=r[1],s=r[2],a=r[3],l=this.transitionsBetween(n,a)+1,c=this.transitionsBetween(s,a)+1;(l&1)===1&&(l+=1),(c&1)===1&&(c+=1),4*l<7*c&&4*c<7*l&&(l=c=Math.max(l,c));var d=t.sampleGrid(this.image,n,i,s,a,l,c);return new WN(d,[n,i,s,a])},t.shiftPoint=function(e,r,n){var i=(r.getX()-e.getX())/(n+1),s=(r.getY()-e.getY())/(n+1);return new Re(e.getX()+i,e.getY()+s)},t.moveAway=function(e,r,n){var i=e.getX(),s=e.getY();return i<r?i-=1:i+=1,s<n?s-=1:s+=1,new Re(i,s)},t.prototype.detectSolid1=function(e){var r=e[0],n=e[1],i=e[3],s=e[2],a=this.transitionsBetween(r,n),l=this.transitionsBetween(n,i),c=this.transitionsBetween(i,s),d=this.transitionsBetween(s,r),h=a,f=[s,r,n,i];return h>l&&(h=l,f[0]=r,f[1]=n,f[2]=i,f[3]=s),h>c&&(h=c,f[0]=n,f[1]=i,f[2]=s,f[3]=r),h>d&&(f[0]=i,f[1]=s,f[2]=r,f[3]=n),f},t.prototype.detectSolid2=function(e){var r=e[0],n=e[1],i=e[2],s=e[3],a=this.transitionsBetween(r,s),l=t.shiftPoint(n,i,(a+1)*4),c=t.shiftPoint(i,n,(a+1)*4),d=this.transitionsBetween(l,r),h=this.transitionsBetween(c,s);return d<h?(e[0]=r,e[1]=n,e[2]=i,e[3]=s):(e[0]=n,e[1]=i,e[2]=s,e[3]=r),e},t.prototype.correctTopRight=function(e){var r=e[0],n=e[1],i=e[2],s=e[3],a=this.transitionsBetween(r,s),l=this.transitionsBetween(n,s),c=t.shiftPoint(r,n,(l+1)*4),d=t.shiftPoint(i,n,(a+1)*4);a=this.transitionsBetween(c,s),l=this.transitionsBetween(d,s);var h=new Re(s.getX()+(i.getX()-n.getX())/(a+1),s.getY()+(i.getY()-n.getY())/(a+1)),f=new Re(s.getX()+(r.getX()-n.getX())/(l+1),s.getY()+(r.getY()-n.getY())/(l+1));if(!this.isValid(h))return this.isValid(f)?f:null;if(!this.isValid(f))return h;var m=this.transitionsBetween(c,h)+this.transitionsBetween(d,h),g=this.transitionsBetween(c,f)+this.transitionsBetween(d,f);return m>g?h:f},t.prototype.shiftToModuleCenter=function(e){var r=e[0],n=e[1],i=e[2],s=e[3],a=this.transitionsBetween(r,s)+1,l=this.transitionsBetween(i,s)+1,c=t.shiftPoint(r,n,l*4),d=t.shiftPoint(i,n,a*4);a=this.transitionsBetween(c,s)+1,l=this.transitionsBetween(d,s)+1,(a&1)===1&&(a+=1),(l&1)===1&&(l+=1);var h=(r.getX()+n.getX()+i.getX()+s.getX())/4,f=(r.getY()+n.getY()+i.getY()+s.getY())/4;r=t.moveAway(r,h,f),n=t.moveAway(n,h,f),i=t.moveAway(i,h,f),s=t.moveAway(s,h,f);var m,g;return c=t.shiftPoint(r,n,l*4),c=t.shiftPoint(c,s,a*4),m=t.shiftPoint(n,r,l*4),m=t.shiftPoint(m,i,a*4),d=t.shiftPoint(i,s,l*4),d=t.shiftPoint(d,n,a*4),g=t.shiftPoint(s,i,l*4),g=t.shiftPoint(g,r,a*4),[c,m,d,g]},t.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},t.sampleGrid=function(e,r,n,i,s,a,l){var c=HN.getInstance();return c.sampleGrid(e,a,l,.5,.5,a-.5,.5,a-.5,l-.5,.5,l-.5,r.getX(),r.getY(),s.getX(),s.getY(),i.getX(),i.getY(),n.getX(),n.getY())},t.prototype.transitionsBetween=function(e,r){var n=Math.trunc(e.getX()),i=Math.trunc(e.getY()),s=Math.trunc(r.getX()),a=Math.trunc(r.getY()),l=Math.abs(a-i)>Math.abs(s-n);if(l){var c=n;n=i,i=c,c=s,s=a,a=c}for(var d=Math.abs(s-n),h=Math.abs(a-i),f=-d/2,m=i<a?1:-1,g=n<s?1:-1,y=0,x=this.image.get(l?i:n,l?n:i),N=n,_=i;N!==s;N+=g){var w=this.image.get(l?_:N,l?N:_);if(w!==x&&(y++,x=w),f+=h,f>0){if(_===a)break;_+=m,f-=d}}return y},t}(),v1=function(){function t(){this.decoder=new Oue}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n,i;if(r!=null&&r.has(nr.PURE_BARCODE)){var s=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(s),i=t.NO_POINTS}else{var a=new Mue(e.getBlackMatrix()).detect();n=this.decoder.decode(a.getBits()),i=a.getPoints()}var l=n.getRawBytes(),c=new Fn(n.getText(),l,8*l.length,i,Ge.DATA_MATRIX,rr.currentTimeMillis()),d=n.getByteSegments();d!=null&&c.putMetadata(bn.BYTE_SEGMENTS,d);var h=n.getECLevel();return h!=null&&c.putMetadata(bn.ERROR_CORRECTION_LEVEL,h),c},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r==null||n==null)throw new se;var i=this.moduleSize(r,e),s=r[1],a=n[1],l=r[0],c=n[0],d=(c-l+1)/i,h=(a-s+1)/i;if(d<=0||h<=0)throw new se;var f=i/2;s+=f,l+=f;for(var m=new Aa(d,h),g=0;g<h;g++)for(var y=s+g*i,x=0;x<d;x++)e.get(l+x*i,y)&&m.set(x,g);return m},t.moduleSize=function(e,r){for(var n=r.getWidth(),i=e[0],s=e[1];i<n&&r.get(i,s);)i++;if(i===n)throw new se;var a=i-e[0];if(a===0)throw new se;return a},t.NO_POINTS=[],t}(),Rue=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){Rue(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new v1,r)||this}return e})(sh);var Pu;(function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"})(Pu||(Pu={}));var Fue=function(){function t(e,r,n){this.value=e,this.stringValue=r,this.bits=n,t.FOR_BITS.set(n,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new Ar(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new qe;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(Pu.L,"L",1),t.M=new t(Pu.M,"M",0),t.Q=new t(Pu.Q,"Q",3),t.H=new t(Pu.H,"H",2),t}(),Lue=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},PF=function(){function t(e){this.errorCorrectionLevel=Fue.forBits(e>>3&3),this.dataMask=e&7}return t.numBitsDiffering=function(e,r){return wt.bitCount(e^r)},t.decodeFormatInformation=function(e,r){var n=t.doDecodeFormatInformation(e,r);return n!==null?n:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,r^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,r){var n,i,s=Number.MAX_SAFE_INTEGER,a=0;try{for(var l=Lue(t.FORMAT_INFO_DECODE_LOOKUP),c=l.next();!c.done;c=l.next()){var d=c.value,h=d[0];if(h===e||h===r)return new t(d[1]);var f=t.numBitsDiffering(e,h);f<s&&(a=d[1],s=f),e!==r&&(f=t.numBitsDiffering(r,h),f<s&&(a=d[1],s=f))}}catch(m){n={error:m}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}return s<=3?new t(a):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t}(),Bue=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Q=function(){function t(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=r}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var e,r,n=0,i=this.ecBlocks;try{for(var s=Bue(i),a=s.next();!a.done;a=s.next()){var l=a.value;n+=l.getCount()}}catch(c){e={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return n},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),U=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),Uue=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_c=function(){function t(e,r){for(var n,i,s=[],a=2;a<arguments.length;a++)s[a-2]=arguments[a];this.versionNumber=e,this.alignmentPatternCenters=r,this.ecBlocks=s;var l=0,c=s[0].getECCodewordsPerBlock(),d=s[0].getECBlocks();try{for(var h=Uue(d),f=h.next();!f.done;f=h.next()){var m=f.value;l+=m.getCount()*(m.getDataCodewords()+c)}}catch(g){n={error:g}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}this.totalCodewords=l}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},t.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new we;try{return this.getVersionForNumber((e-17)/4)}catch{throw new we}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new qe;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var r=Number.MAX_SAFE_INTEGER,n=0,i=0;i<t.VERSION_DECODE_INFO.length;i++){var s=t.VERSION_DECODE_INFO[i];if(s===e)return t.getVersionForNumber(i+7);var a=PF.numBitsDiffering(e,s);a<r&&(n=i+7,r=a)}return r<=3?t.getVersionForNumber(n):null},t.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),r=new Aa(e);r.setRegion(0,0,9,9),r.setRegion(e-8,0,8,9),r.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,i=0;i<n;i++)for(var s=this.alignmentPatternCenters[i]-2,a=0;a<n;a++)i===0&&(a===0||a===n-1)||i===n-1&&a===0||r.setRegion(this.alignmentPatternCenters[a]-2,s,5,5);return r.setRegion(6,9,1,e-17),r.setRegion(9,6,e-17,1),this.versionNumber>6&&(r.setRegion(e-11,0,3,6),r.setRegion(0,e-11,6,3)),r},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new Q(7,new U(1,19)),new Q(10,new U(1,16)),new Q(13,new U(1,13)),new Q(17,new U(1,9))),new t(2,Int32Array.from([6,18]),new Q(10,new U(1,34)),new Q(16,new U(1,28)),new Q(22,new U(1,22)),new Q(28,new U(1,16))),new t(3,Int32Array.from([6,22]),new Q(15,new U(1,55)),new Q(26,new U(1,44)),new Q(18,new U(2,17)),new Q(22,new U(2,13))),new t(4,Int32Array.from([6,26]),new Q(20,new U(1,80)),new Q(18,new U(2,32)),new Q(26,new U(2,24)),new Q(16,new U(4,9))),new t(5,Int32Array.from([6,30]),new Q(26,new U(1,108)),new Q(24,new U(2,43)),new Q(18,new U(2,15),new U(2,16)),new Q(22,new U(2,11),new U(2,12))),new t(6,Int32Array.from([6,34]),new Q(18,new U(2,68)),new Q(16,new U(4,27)),new Q(24,new U(4,19)),new Q(28,new U(4,15))),new t(7,Int32Array.from([6,22,38]),new Q(20,new U(2,78)),new Q(18,new U(4,31)),new Q(18,new U(2,14),new U(4,15)),new Q(26,new U(4,13),new U(1,14))),new t(8,Int32Array.from([6,24,42]),new Q(24,new U(2,97)),new Q(22,new U(2,38),new U(2,39)),new Q(22,new U(4,18),new U(2,19)),new Q(26,new U(4,14),new U(2,15))),new t(9,Int32Array.from([6,26,46]),new Q(30,new U(2,116)),new Q(22,new U(3,36),new U(2,37)),new Q(20,new U(4,16),new U(4,17)),new Q(24,new U(4,12),new U(4,13))),new t(10,Int32Array.from([6,28,50]),new Q(18,new U(2,68),new U(2,69)),new Q(26,new U(4,43),new U(1,44)),new Q(24,new U(6,19),new U(2,20)),new Q(28,new U(6,15),new U(2,16))),new t(11,Int32Array.from([6,30,54]),new Q(20,new U(4,81)),new Q(30,new U(1,50),new U(4,51)),new Q(28,new U(4,22),new U(4,23)),new Q(24,new U(3,12),new U(8,13))),new t(12,Int32Array.from([6,32,58]),new Q(24,new U(2,92),new U(2,93)),new Q(22,new U(6,36),new U(2,37)),new Q(26,new U(4,20),new U(6,21)),new Q(28,new U(7,14),new U(4,15))),new t(13,Int32Array.from([6,34,62]),new Q(26,new U(4,107)),new Q(22,new U(8,37),new U(1,38)),new Q(24,new U(8,20),new U(4,21)),new Q(22,new U(12,11),new U(4,12))),new t(14,Int32Array.from([6,26,46,66]),new Q(30,new U(3,115),new U(1,116)),new Q(24,new U(4,40),new U(5,41)),new Q(20,new U(11,16),new U(5,17)),new Q(24,new U(11,12),new U(5,13))),new t(15,Int32Array.from([6,26,48,70]),new Q(22,new U(5,87),new U(1,88)),new Q(24,new U(5,41),new U(5,42)),new Q(30,new U(5,24),new U(7,25)),new Q(24,new U(11,12),new U(7,13))),new t(16,Int32Array.from([6,26,50,74]),new Q(24,new U(5,98),new U(1,99)),new Q(28,new U(7,45),new U(3,46)),new Q(24,new U(15,19),new U(2,20)),new Q(30,new U(3,15),new U(13,16))),new t(17,Int32Array.from([6,30,54,78]),new Q(28,new U(1,107),new U(5,108)),new Q(28,new U(10,46),new U(1,47)),new Q(28,new U(1,22),new U(15,23)),new Q(28,new U(2,14),new U(17,15))),new t(18,Int32Array.from([6,30,56,82]),new Q(30,new U(5,120),new U(1,121)),new Q(26,new U(9,43),new U(4,44)),new Q(28,new U(17,22),new U(1,23)),new Q(28,new U(2,14),new U(19,15))),new t(19,Int32Array.from([6,30,58,86]),new Q(28,new U(3,113),new U(4,114)),new Q(26,new U(3,44),new U(11,45)),new Q(26,new U(17,21),new U(4,22)),new Q(26,new U(9,13),new U(16,14))),new t(20,Int32Array.from([6,34,62,90]),new Q(28,new U(3,107),new U(5,108)),new Q(26,new U(3,41),new U(13,42)),new Q(30,new U(15,24),new U(5,25)),new Q(28,new U(15,15),new U(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new Q(28,new U(4,116),new U(4,117)),new Q(26,new U(17,42)),new Q(28,new U(17,22),new U(6,23)),new Q(30,new U(19,16),new U(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new Q(28,new U(2,111),new U(7,112)),new Q(28,new U(17,46)),new Q(30,new U(7,24),new U(16,25)),new Q(24,new U(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new Q(30,new U(4,121),new U(5,122)),new Q(28,new U(4,47),new U(14,48)),new Q(30,new U(11,24),new U(14,25)),new Q(30,new U(16,15),new U(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new Q(30,new U(6,117),new U(4,118)),new Q(28,new U(6,45),new U(14,46)),new Q(30,new U(11,24),new U(16,25)),new Q(30,new U(30,16),new U(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new Q(26,new U(8,106),new U(4,107)),new Q(28,new U(8,47),new U(13,48)),new Q(30,new U(7,24),new U(22,25)),new Q(30,new U(22,15),new U(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new Q(28,new U(10,114),new U(2,115)),new Q(28,new U(19,46),new U(4,47)),new Q(28,new U(28,22),new U(6,23)),new Q(30,new U(33,16),new U(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new Q(30,new U(8,122),new U(4,123)),new Q(28,new U(22,45),new U(3,46)),new Q(30,new U(8,23),new U(26,24)),new Q(30,new U(12,15),new U(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new Q(30,new U(3,117),new U(10,118)),new Q(28,new U(3,45),new U(23,46)),new Q(30,new U(4,24),new U(31,25)),new Q(30,new U(11,15),new U(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new Q(30,new U(7,116),new U(7,117)),new Q(28,new U(21,45),new U(7,46)),new Q(30,new U(1,23),new U(37,24)),new Q(30,new U(19,15),new U(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new Q(30,new U(5,115),new U(10,116)),new Q(28,new U(19,47),new U(10,48)),new Q(30,new U(15,24),new U(25,25)),new Q(30,new U(23,15),new U(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new Q(30,new U(13,115),new U(3,116)),new Q(28,new U(2,46),new U(29,47)),new Q(30,new U(42,24),new U(1,25)),new Q(30,new U(23,15),new U(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new Q(30,new U(17,115)),new Q(28,new U(10,46),new U(23,47)),new Q(30,new U(10,24),new U(35,25)),new Q(30,new U(19,15),new U(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new Q(30,new U(17,115),new U(1,116)),new Q(28,new U(14,46),new U(21,47)),new Q(30,new U(29,24),new U(19,25)),new Q(30,new U(11,15),new U(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new Q(30,new U(13,115),new U(6,116)),new Q(28,new U(14,46),new U(23,47)),new Q(30,new U(44,24),new U(7,25)),new Q(30,new U(59,16),new U(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new Q(30,new U(12,121),new U(7,122)),new Q(28,new U(12,47),new U(26,48)),new Q(30,new U(39,24),new U(14,25)),new Q(30,new U(22,15),new U(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new Q(30,new U(6,121),new U(14,122)),new Q(28,new U(6,47),new U(34,48)),new Q(30,new U(46,24),new U(10,25)),new Q(30,new U(2,15),new U(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new Q(30,new U(17,122),new U(4,123)),new Q(28,new U(29,46),new U(14,47)),new Q(30,new U(49,24),new U(10,25)),new Q(30,new U(24,15),new U(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new Q(30,new U(4,122),new U(18,123)),new Q(28,new U(13,46),new U(32,47)),new Q(30,new U(48,24),new U(14,25)),new Q(30,new U(42,15),new U(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new Q(30,new U(20,117),new U(4,118)),new Q(28,new U(40,47),new U(7,48)),new Q(30,new U(43,24),new U(22,25)),new Q(30,new U(10,15),new U(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new Q(30,new U(19,118),new U(6,119)),new Q(28,new U(18,47),new U(31,48)),new Q(30,new U(34,24),new U(34,25)),new Q(30,new U(20,15),new U(61,16)))],t}(),nn;(function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"})(nn||(nn={}));var dA=function(){function t(e,r){this.value=e,this.isMasked=r}return t.prototype.unmaskBitMatrix=function(e,r){for(var n=0;n<r;n++)for(var i=0;i<r;i++)this.isMasked(n,i)&&e.flip(i,n)},t.values=new Map([[nn.DATA_MASK_000,new t(nn.DATA_MASK_000,function(e,r){return(e+r&1)===0})],[nn.DATA_MASK_001,new t(nn.DATA_MASK_001,function(e,r){return(e&1)===0})],[nn.DATA_MASK_010,new t(nn.DATA_MASK_010,function(e,r){return r%3===0})],[nn.DATA_MASK_011,new t(nn.DATA_MASK_011,function(e,r){return(e+r)%3===0})],[nn.DATA_MASK_100,new t(nn.DATA_MASK_100,function(e,r){return(Math.floor(e/2)+Math.floor(r/3)&1)===0})],[nn.DATA_MASK_101,new t(nn.DATA_MASK_101,function(e,r){return e*r%6===0})],[nn.DATA_MASK_110,new t(nn.DATA_MASK_110,function(e,r){return e*r%6<3})],[nn.DATA_MASK_111,new t(nn.DATA_MASK_111,function(e,r){return(e+r+e*r%3&1)===0})]]),t}(),zue=function(){function t(e){var r=e.getHeight();if(r<21||(r&3)!==1)throw new we;this.bitMatrix=e}return t.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,r=0;r<6;r++)e=this.copyBit(r,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);for(var i=this.bitMatrix.getHeight(),s=0,a=i-7,n=i-1;n>=a;n--)s=this.copyBit(8,n,s);for(var r=i-8;r<i;r++)s=this.copyBit(r,8,s);if(this.parsedFormatInfo=PF.decodeFormatInformation(e,s),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new we},t.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),r=Math.floor((e-17)/4);if(r<=6)return _c.getVersionForNumber(r);for(var n=0,i=e-11,s=5;s>=0;s--)for(var a=e-9;a>=i;a--)n=this.copyBit(a,s,n);var l=_c.decodeVersionInformation(n);if(l!==null&&l.getDimensionForVersion()===e)return this.parsedVersion=l,l;n=0;for(var a=5;a>=0;a--)for(var s=e-9;s>=i;s--)n=this.copyBit(a,s,n);if(l=_c.decodeVersionInformation(n),l!==null&&l.getDimensionForVersion()===e)return this.parsedVersion=l,l;throw new we},t.prototype.copyBit=function(e,r,n){var i=this.isMirror?this.bitMatrix.get(r,e):this.bitMatrix.get(e,r);return i?n<<1|1:n<<1},t.prototype.readCodewords=function(){var e=this.readFormatInformation(),r=this.readVersion(),n=dA.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i);for(var s=r.buildFunctionPattern(),a=!0,l=new Uint8Array(r.getTotalCodewords()),c=0,d=0,h=0,f=i-1;f>0;f-=2){f===6&&f--;for(var m=0;m<i;m++)for(var g=a?i-1-m:m,y=0;y<2;y++)s.get(f-y,g)||(h++,d<<=1,this.bitMatrix.get(f-y,g)&&(d|=1),h===8&&(l[c++]=d,h=0,d=0));a=!a}if(c!==r.getTotalCodewords())throw new we;return l},t.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=dA.values.get(this.parsedFormatInfo.getDataMask()),r=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,r)}},t.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},t.prototype.mirror=function(){for(var e=this.bitMatrix,r=0,n=e.getWidth();r<n;r++)for(var i=r+1,s=e.getHeight();i<s;i++)e.get(r,i)!==e.get(i,r)&&(e.flip(i,r),e.flip(r,i))},t}(),hA=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$ue=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r,n){var i,s,a,l;if(e.length!==r.getTotalCodewords())throw new qe;var c=r.getECBlocksForLevel(n),d=0,h=c.getECBlocks();try{for(var f=hA(h),m=f.next();!m.done;m=f.next()){var g=m.value;d+=g.getCount()}}catch(q){i={error:q}}finally{try{m&&!m.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}var y=new Array(d),x=0;try{for(var N=hA(h),_=N.next();!_.done;_=N.next())for(var g=_.value,w=0;w<g.getCount();w++){var S=g.getDataCodewords(),E=c.getECCodewordsPerBlock()+S;y[x++]=new t(S,new Uint8Array(E))}}catch(q){a={error:q}}finally{try{_&&!_.done&&(l=N.return)&&l.call(N)}finally{if(a)throw a.error}}for(var j=y[0].codewords.length,D=y.length-1;D>=0;){var T=y[D].codewords.length;if(T===j)break;D--}D++;for(var O=j-c.getECCodewordsPerBlock(),B=0,w=0;w<O;w++)for(var P=0;P<x;P++)y[P].codewords[w]=e[B++];for(var P=D;P<x;P++)y[P].codewords[O]=e[B++];for(var V=y[0].codewords.length,w=O;w<V;w++)for(var P=0;P<x;P++){var F=P<D?w:w+1;y[P].codewords[F]=e[B++]}return y},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),Li;(function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"})(Li||(Li={}));var cr=function(){function t(e,r,n,i){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=n,this.bits=i,t.FOR_BITS.set(i,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var r=t.FOR_BITS.get(e);if(r===void 0)throw new qe;return r},t.prototype.getCharacterCountBits=function(e){var r=e.getVersionNumber(),n;return r<=9?n=0:r<=26?n=1:n=2,this.characterCountBitsForVersions[n]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(Li.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(Li.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(Li.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(Li.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(Li.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(Li.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(Li.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(Li.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(Li.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(Li.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t}(),Vue=function(){function t(){}return t.decode=function(e,r,n,i){var s=new jF(e),a=new vt,l=new Array,c=-1,d=-1;try{var h=null,f=!1,m=void 0;do{if(s.available()<4)m=cr.TERMINATOR;else{var g=s.readBits(4);m=cr.forBits(g)}switch(m){case cr.TERMINATOR:break;case cr.FNC1_FIRST_POSITION:case cr.FNC1_SECOND_POSITION:f=!0;break;case cr.STRUCTURED_APPEND:if(s.available()<16)throw new we;c=s.readBits(8),d=s.readBits(8);break;case cr.ECI:var y=t.parseECIValue(s);if(h=Zr.getCharacterSetECIByValue(y),h===null)throw new we;break;case cr.HANZI:var x=s.readBits(4),N=s.readBits(m.getCharacterCountBits(r));x===t.GB2312_SUBSET&&t.decodeHanziSegment(s,a,N);break;default:var _=s.readBits(m.getCharacterCountBits(r));switch(m){case cr.NUMERIC:t.decodeNumericSegment(s,a,_);break;case cr.ALPHANUMERIC:t.decodeAlphanumericSegment(s,a,_,f);break;case cr.BYTE:t.decodeByteSegment(s,a,_,h,l,i);break;case cr.KANJI:t.decodeKanjiSegment(s,a,_);break;default:throw new we}break}}while(m!==cr.TERMINATOR)}catch{throw new we}return new Mv(e,a.toString(),l.length===0?null:l,n===null?null:n.toString(),c,d)},t.decodeHanziSegment=function(e,r,n){if(n*13>e.available())throw new we;for(var i=new Uint8Array(2*n),s=0;n>0;){var a=e.readBits(13),l=a/96<<8&4294967295|a%96;l<959?l+=41377:l+=42657,i[s]=l>>8&255,i[s+1]=l&255,s+=2,n--}try{r.append(Qi.decode(i,Et.GB2312))}catch(c){throw new we(c)}},t.decodeKanjiSegment=function(e,r,n){if(n*13>e.available())throw new we;for(var i=new Uint8Array(2*n),s=0;n>0;){var a=e.readBits(13),l=a/192<<8&4294967295|a%192;l<7936?l+=33088:l+=49472,i[s]=l>>8,i[s+1]=l,s+=2,n--}try{r.append(Qi.decode(i,Et.SHIFT_JIS))}catch(c){throw new we(c)}},t.decodeByteSegment=function(e,r,n,i,s,a){if(8*n>e.available())throw new we;for(var l=new Uint8Array(n),c=0;c<n;c++)l[c]=e.readBits(8);var d;i===null?d=Et.guessEncoding(l,a):d=i.getName();try{r.append(Qi.decode(l,d))}catch(h){throw new we(h)}s.push(l)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new we;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,r,n,i){for(var s=r.length();n>1;){if(e.available()<11)throw new we;var a=e.readBits(11);r.append(t.toAlphaNumericChar(Math.floor(a/45))),r.append(t.toAlphaNumericChar(a%45)),n-=2}if(n===1){if(e.available()<6)throw new we;r.append(t.toAlphaNumericChar(e.readBits(6)))}if(i)for(var l=s;l<r.length();l++)r.charAt(l)==="%"&&(l<r.length()-1&&r.charAt(l+1)==="%"?r.deleteCharAt(l+1):r.setCharAt(l,""))},t.decodeNumericSegment=function(e,r,n){for(;n>=3;){if(e.available()<10)throw new we;var i=e.readBits(10);if(i>=1e3)throw new we;r.append(t.toAlphaNumericChar(Math.floor(i/100))),r.append(t.toAlphaNumericChar(Math.floor(i/10)%10)),r.append(t.toAlphaNumericChar(i%10)),n-=3}if(n===2){if(e.available()<7)throw new we;var s=e.readBits(7);if(s>=100)throw new we;r.append(t.toAlphaNumericChar(Math.floor(s/10))),r.append(t.toAlphaNumericChar(s%10))}else if(n===1){if(e.available()<4)throw new we;var a=e.readBits(4);if(a>=10)throw new we;r.append(t.toAlphaNumericChar(a))}},t.parseECIValue=function(e){var r=e.readBits(8);if(!(r&128))return r&127;if((r&192)===128){var n=e.readBits(8);return(r&63)<<8&4294967295|n}if((r&224)===192){var i=e.readBits(16);return(r&31)<<16&4294967295|i}throw new we},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t}(),TF=function(){function t(e){this.mirrored=e}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var r=e[0];e[0]=e[2],e[2]=r}},t}(),fA=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Wue=function(){function t(){this.rsDecoder=new Rv(hi.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(e,r){return this.decodeBitMatrix(Aa.parseFromBooleanArray(e),r)},t.prototype.decodeBitMatrix=function(e,r){var n=new zue(e),i=null;try{return this.decodeBitMatrixParser(n,r)}catch(a){i=a}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var s=this.decodeBitMatrixParser(n,r);return s.setOther(new TF(!0)),s}catch(a){throw i!==null?i:a}},t.prototype.decodeBitMatrixParser=function(e,r){var n,i,s,a,l=e.readVersion(),c=e.readFormatInformation().getErrorCorrectionLevel(),d=e.readCodewords(),h=$ue.getDataBlocks(d,l,c),f=0;try{for(var m=fA(h),g=m.next();!g.done;g=m.next()){var y=g.value;f+=y.getNumDataCodewords()}}catch(D){n={error:D}}finally{try{g&&!g.done&&(i=m.return)&&i.call(m)}finally{if(n)throw n.error}}var x=new Uint8Array(f),N=0;try{for(var _=fA(h),w=_.next();!w.done;w=_.next()){var y=w.value,S=y.getCodewords(),E=y.getNumDataCodewords();this.correctErrors(S,E);for(var j=0;j<E;j++)x[N++]=S[j]}}catch(D){s={error:D}}finally{try{w&&!w.done&&(a=_.return)&&a.call(_)}finally{if(s)throw s.error}}return Vue.decode(x,l,c,r)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new Lr}for(var i=0;i<r;i++)e[i]=n[i]},t}(),Hue=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Gue=function(t){Hue(e,t);function e(r,n,i){var s=t.call(this,r,n)||this;return s.estimatedModuleSize=i,s}return e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var s=Math.abs(r-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var s=(this.getX()+n)/2,a=(this.getY()+r)/2,l=(this.estimatedModuleSize+i)/2;return new e(s,a,l)},e}(Re),que=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Zue=function(){function t(e,r,n,i,s,a,l){this.image=e,this.startX=r,this.startY=n,this.width=i,this.height=s,this.moduleSize=a,this.resultPointCallback=l,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var e=this.startX,r=this.height,n=this.width,i=e+n,s=this.startY+r/2,a=new Int32Array(3),l=this.image,c=0;c<r;c++){var d=s+(c&1?-Math.floor((c+1)/2):Math.floor((c+1)/2));a[0]=0,a[1]=0,a[2]=0;for(var h=e;h<i&&!l.get(h,d);)h++;for(var f=0;h<i;){if(l.get(h,d))if(f===1)a[1]++;else if(f===2){if(this.foundPatternCross(a)){var m=this.handlePossibleCenter(a,d,h);if(m!==null)return m}a[0]=a[2],a[1]=1,a[2]=0,f=1}else a[++f]++;else f===1&&f++,a[f]++;h++}if(this.foundPatternCross(a)){var m=this.handlePossibleCenter(a,d,i);if(m!==null)return m}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new se},t.centerFromEnd=function(e,r){return r-e[2]-e[1]/2},t.prototype.foundPatternCross=function(e){for(var r=this.moduleSize,n=r/2,i=0;i<3;i++)if(Math.abs(r-e[i])>=n)return!1;return!0},t.prototype.crossCheckVertical=function(e,r,n,i){var s=this.image,a=s.getHeight(),l=this.crossCheckStateCount;l[0]=0,l[1]=0,l[2]=0;for(var c=e;c>=0&&s.get(r,c)&&l[1]<=n;)l[1]++,c--;if(c<0||l[1]>n)return NaN;for(;c>=0&&!s.get(r,c)&&l[0]<=n;)l[0]++,c--;if(l[0]>n)return NaN;for(c=e+1;c<a&&s.get(r,c)&&l[1]<=n;)l[1]++,c++;if(c===a||l[1]>n)return NaN;for(;c<a&&!s.get(r,c)&&l[2]<=n;)l[2]++,c++;if(l[2]>n)return NaN;var d=l[0]+l[1]+l[2];return 5*Math.abs(d-i)>=2*i?NaN:this.foundPatternCross(l)?t.centerFromEnd(l,c):NaN},t.prototype.handlePossibleCenter=function(e,r,n){var i,s,a=e[0]+e[1]+e[2],l=t.centerFromEnd(e,n),c=this.crossCheckVertical(r,l,2*e[1],a);if(!isNaN(c)){var d=(e[0]+e[1]+e[2])/3;try{for(var h=que(this.possibleCenters),f=h.next();!f.done;f=h.next()){var m=f.value;if(m.aboutEquals(d,c,l))return m.combineEstimate(c,l,d)}}catch(y){i={error:y}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}var g=new Gue(l,c,d);this.possibleCenters.push(g),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(g)}return null},t}(),Kue=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Yue=function(t){Kue(e,t);function e(r,n,i,s){var a=t.call(this,r,n)||this;return a.estimatedModuleSize=i,a.count=s,s===void 0&&(a.count=1),a}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var s=Math.abs(r-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var s=this.count+1,a=(this.count*this.getX()+n)/s,l=(this.count*this.getY()+r)/s,c=(this.count*this.estimatedModuleSize+i)/s;return new e(a,l,c,s)},e}(Re),Xue=function(){function t(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t}(),Uh=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Que=function(){function t(e,r){this.image=e,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var r=e!=null&&e.get(nr.TRY_HARDER)!==void 0,n=e!=null&&e.get(nr.PURE_BARCODE)!==void 0,i=this.image,s=i.getHeight(),a=i.getWidth(),l=Math.floor(3*s/(4*t.MAX_MODULES));(l<t.MIN_SKIP||r)&&(l=t.MIN_SKIP);for(var c=!1,d=new Int32Array(5),h=l-1;h<s&&!c;h+=l){d[0]=0,d[1]=0,d[2]=0,d[3]=0,d[4]=0;for(var f=0,m=0;m<a;m++)if(i.get(m,h))(f&1)===1&&f++,d[f]++;else if(f&1)d[f]++;else if(f===4)if(t.foundPatternCross(d)){var g=this.handlePossibleCenter(d,h,m,n);if(g===!0)if(l=2,this.hasSkipped===!0)c=this.haveMultiplyConfirmedCenters();else{var y=this.findRowSkip();y>d[2]&&(h+=y-d[2]-l,m=a-1)}else{d[0]=d[2],d[1]=d[3],d[2]=d[4],d[3]=1,d[4]=0,f=3;continue}f=0,d[0]=0,d[1]=0,d[2]=0,d[3]=0,d[4]=0}else d[0]=d[2],d[1]=d[3],d[2]=d[4],d[3]=1,d[4]=0,f=3;else d[++f]++;if(t.foundPatternCross(d)){var g=this.handlePossibleCenter(d,h,a,n);g===!0&&(l=d[0],this.hasSkipped&&(c=this.haveMultiplyConfirmedCenters()))}}var x=this.selectBestPatterns();return Re.orderBestPatterns(x),new Xue(x)},t.centerFromEnd=function(e,r){return r-e[4]-e[3]-e[2]/2},t.foundPatternCross=function(e){for(var r=0,n=0;n<5;n++){var i=e[n];if(i===0)return!1;r+=i}if(r<7)return!1;var s=r/7,a=s/2;return Math.abs(s-e[0])<a&&Math.abs(s-e[1])<a&&Math.abs(3*s-e[2])<3*a&&Math.abs(s-e[3])<a&&Math.abs(s-e[4])<a},t.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},t.prototype.crossCheckDiagonal=function(e,r,n,i){for(var s=this.getCrossCheckStateCount(),a=0,l=this.image;e>=a&&r>=a&&l.get(r-a,e-a);)s[2]++,a++;if(e<a||r<a)return!1;for(;e>=a&&r>=a&&!l.get(r-a,e-a)&&s[1]<=n;)s[1]++,a++;if(e<a||r<a||s[1]>n)return!1;for(;e>=a&&r>=a&&l.get(r-a,e-a)&&s[0]<=n;)s[0]++,a++;if(s[0]>n)return!1;var c=l.getHeight(),d=l.getWidth();for(a=1;e+a<c&&r+a<d&&l.get(r+a,e+a);)s[2]++,a++;if(e+a>=c||r+a>=d)return!1;for(;e+a<c&&r+a<d&&!l.get(r+a,e+a)&&s[3]<n;)s[3]++,a++;if(e+a>=c||r+a>=d||s[3]>=n)return!1;for(;e+a<c&&r+a<d&&l.get(r+a,e+a)&&s[4]<n;)s[4]++,a++;if(s[4]>=n)return!1;var h=s[0]+s[1]+s[2]+s[3]+s[4];return Math.abs(h-i)<2*i&&t.foundPatternCross(s)},t.prototype.crossCheckVertical=function(e,r,n,i){for(var s=this.image,a=s.getHeight(),l=this.getCrossCheckStateCount(),c=e;c>=0&&s.get(r,c);)l[2]++,c--;if(c<0)return NaN;for(;c>=0&&!s.get(r,c)&&l[1]<=n;)l[1]++,c--;if(c<0||l[1]>n)return NaN;for(;c>=0&&s.get(r,c)&&l[0]<=n;)l[0]++,c--;if(l[0]>n)return NaN;for(c=e+1;c<a&&s.get(r,c);)l[2]++,c++;if(c===a)return NaN;for(;c<a&&!s.get(r,c)&&l[3]<n;)l[3]++,c++;if(c===a||l[3]>=n)return NaN;for(;c<a&&s.get(r,c)&&l[4]<n;)l[4]++,c++;if(l[4]>=n)return NaN;var d=l[0]+l[1]+l[2]+l[3]+l[4];return 5*Math.abs(d-i)>=2*i?NaN:t.foundPatternCross(l)?t.centerFromEnd(l,c):NaN},t.prototype.crossCheckHorizontal=function(e,r,n,i){for(var s=this.image,a=s.getWidth(),l=this.getCrossCheckStateCount(),c=e;c>=0&&s.get(c,r);)l[2]++,c--;if(c<0)return NaN;for(;c>=0&&!s.get(c,r)&&l[1]<=n;)l[1]++,c--;if(c<0||l[1]>n)return NaN;for(;c>=0&&s.get(c,r)&&l[0]<=n;)l[0]++,c--;if(l[0]>n)return NaN;for(c=e+1;c<a&&s.get(c,r);)l[2]++,c++;if(c===a)return NaN;for(;c<a&&!s.get(c,r)&&l[3]<n;)l[3]++,c++;if(c===a||l[3]>=n)return NaN;for(;c<a&&s.get(c,r)&&l[4]<n;)l[4]++,c++;if(l[4]>=n)return NaN;var d=l[0]+l[1]+l[2]+l[3]+l[4];return 5*Math.abs(d-i)>=i?NaN:t.foundPatternCross(l)?t.centerFromEnd(l,c):NaN},t.prototype.handlePossibleCenter=function(e,r,n,i){var s=e[0]+e[1]+e[2]+e[3]+e[4],a=t.centerFromEnd(e,n),l=this.crossCheckVertical(r,Math.floor(a),e[2],s);if(!isNaN(l)&&(a=this.crossCheckHorizontal(Math.floor(a),Math.floor(l),e[2],s),!isNaN(a)&&(!i||this.crossCheckDiagonal(Math.floor(l),Math.floor(a),e[2],s)))){for(var c=s/7,d=!1,h=this.possibleCenters,f=0,m=h.length;f<m;f++){var g=h[f];if(g.aboutEquals(c,l,a)){h[f]=g.combineEstimate(l,a,c),d=!0;break}}if(!d){var y=new Yue(a,l,c);h.push(y),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(y)}return!0}return!1},t.prototype.findRowSkip=function(){var e,r,n=this.possibleCenters.length;if(n<=1)return 0;var i=null;try{for(var s=Uh(this.possibleCenters),a=s.next();!a.done;a=s.next()){var l=a.value;if(l.getCount()>=t.CENTER_QUORUM)if(i==null)i=l;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-l.getX())-Math.abs(i.getY()-l.getY()))/2)}}catch(c){e={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,r,n,i,s=0,a=0,l=this.possibleCenters.length;try{for(var c=Uh(this.possibleCenters),d=c.next();!d.done;d=c.next()){var h=d.value;h.getCount()>=t.CENTER_QUORUM&&(s++,a+=h.getEstimatedModuleSize())}}catch(x){e={error:x}}finally{try{d&&!d.done&&(r=c.return)&&r.call(c)}finally{if(e)throw e.error}}if(s<3)return!1;var f=a/l,m=0;try{for(var g=Uh(this.possibleCenters),y=g.next();!y.done;y=g.next()){var h=y.value;m+=Math.abs(h.getEstimatedModuleSize()-f)}}catch(x){n={error:x}}finally{try{y&&!y.done&&(i=g.return)&&i.call(g)}finally{if(n)throw n.error}}return m<=.05*a},t.prototype.selectBestPatterns=function(){var e,r,n,i,s=this.possibleCenters.length;if(s<3)throw new se;var a=this.possibleCenters,l;if(s>3){var c=0,d=0;try{for(var h=Uh(this.possibleCenters),f=h.next();!f.done;f=h.next()){var m=f.value,g=m.getEstimatedModuleSize();c+=g,d+=g*g}}catch(j){e={error:j}}finally{try{f&&!f.done&&(r=h.return)&&r.call(h)}finally{if(e)throw e.error}}l=c/s;var y=Math.sqrt(d/s-l*l);a.sort(function(j,D){var T=Math.abs(D.getEstimatedModuleSize()-l),O=Math.abs(j.getEstimatedModuleSize()-l);return T<O?-1:T>O?1:0});for(var x=Math.max(.2*l,y),N=0;N<a.length&&a.length>3;N++){var _=a[N];Math.abs(_.getEstimatedModuleSize()-l)>x&&(a.splice(N,1),N--)}}if(a.length>3){var c=0;try{for(var w=Uh(a),S=w.next();!S.done;S=w.next()){var E=S.value;c+=E.getEstimatedModuleSize()}}catch(D){n={error:D}}finally{try{S&&!S.done&&(i=w.return)&&i.call(w)}finally{if(n)throw n.error}}l=c/a.length,a.sort(function(D,T){if(T.getCount()===D.getCount()){var O=Math.abs(T.getEstimatedModuleSize()-l),B=Math.abs(D.getEstimatedModuleSize()-l);return O<B?1:O>B?-1:0}else return T.getCount()-D.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t}(),Jue=function(){function t(e){this.image=e}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(nr.NEED_RESULT_POINT_CALLBACK);var r=new Que(this.image,this.resultPointCallback),n=r.find(e);return this.processFinderPatternInfo(n)},t.prototype.processFinderPatternInfo=function(e){var r=e.getTopLeft(),n=e.getTopRight(),i=e.getBottomLeft(),s=this.calculateModuleSize(r,n,i);if(s<1)throw new se("No pattern found in proccess finder.");var a=t.computeDimension(r,n,i,s),l=_c.getProvisionalVersionForDimension(a),c=l.getDimensionForVersion()-7,d=null;if(l.getAlignmentPatternCenters().length>0)for(var h=n.getX()-r.getX()+i.getX(),f=n.getY()-r.getY()+i.getY(),m=1-3/c,g=Math.floor(r.getX()+m*(h-r.getX())),y=Math.floor(r.getY()+m*(f-r.getY())),x=4;x<=16;x<<=1)try{d=this.findAlignmentInRegion(s,g,y,x);break}catch(S){if(!(S instanceof se))throw S}var N=t.createTransform(r,n,i,d,a),_=t.sampleGrid(this.image,N,a),w;return d===null?w=[i,r,n]:w=[i,r,n,d],new WN(_,w)},t.createTransform=function(e,r,n,i,s){var a=s-3.5,l,c,d,h;return i!==null?(l=i.getX(),c=i.getY(),d=a-3,h=d):(l=r.getX()-e.getX()+n.getX(),c=r.getY()-e.getY()+n.getY(),d=a,h=a),SF.quadrilateralToQuadrilateral(3.5,3.5,a,3.5,d,h,3.5,a,e.getX(),e.getY(),r.getX(),r.getY(),l,c,n.getX(),n.getY())},t.sampleGrid=function(e,r,n){var i=HN.getInstance();return i.sampleGridWithTransform(e,n,n,r)},t.computeDimension=function(e,r,n,i){var s=Bt.round(Re.distance(e,r)/i),a=Bt.round(Re.distance(e,n)/i),l=Math.floor((s+a)/2)+7;switch(l&3){case 0:l++;break;case 2:l--;break;case 3:throw new se("Dimensions could be not found.")}return l},t.prototype.calculateModuleSize=function(e,r,n){return(this.calculateModuleSizeOneWay(e,r)+this.calculateModuleSizeOneWay(e,n))/2},t.prototype.calculateModuleSizeOneWay=function(e,r){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(r.getX()),Math.floor(r.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?i/7:isNaN(i)?n/7:(n+i)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,r,n,i){var s=this.sizeOfBlackWhiteBlackRun(e,r,n,i),a=1,l=e-(n-e);l<0?(a=e/(e-l),l=0):l>=this.image.getWidth()&&(a=(this.image.getWidth()-1-e)/(l-e),l=this.image.getWidth()-1);var c=Math.floor(r-(i-r)*a);return a=1,c<0?(a=r/(r-c),c=0):c>=this.image.getHeight()&&(a=(this.image.getHeight()-1-r)/(c-r),c=this.image.getHeight()-1),l=Math.floor(e+(l-e)*a),s+=this.sizeOfBlackWhiteBlackRun(e,r,l,c),s-1},t.prototype.sizeOfBlackWhiteBlackRun=function(e,r,n,i){var s=Math.abs(i-r)>Math.abs(n-e);if(s){var a=e;e=r,r=a,a=n,n=i,i=a}for(var l=Math.abs(n-e),c=Math.abs(i-r),d=-l/2,h=e<n?1:-1,f=r<i?1:-1,m=0,g=n+h,y=e,x=r;y!==g;y+=h){var N=s?x:y,_=s?y:x;if(m===1===this.image.get(N,_)){if(m===2)return Bt.distance(y,x,e,r);m++}if(d+=c,d>0){if(x===i)break;x+=f,d-=l}}return m===2?Bt.distance(n+h,i,e,r):NaN},t.prototype.findAlignmentInRegion=function(e,r,n,i){var s=Math.floor(i*e),a=Math.max(0,r-s),l=Math.min(this.image.getWidth()-1,r+s);if(l-a<e*3)throw new se("Alignment top exceeds estimated module size.");var c=Math.max(0,n-s),d=Math.min(this.image.getHeight()-1,n+s);if(d-c<e*3)throw new se("Alignment bottom exceeds estimated module size.");var h=new Zue(this.image,a,c,l-a,d-c,e,this.resultPointCallback);return h.find()},t}(),x1=function(){function t(){this.decoder=new Wue}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,r){var n,i;if(r!=null&&r.get(nr.PURE_BARCODE)!==void 0){var s=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(s,r),i=t.NO_POINTS}else{var a=new Jue(e.getBlackMatrix()).detect(r);n=this.decoder.decodeBitMatrix(a.getBits(),r),i=a.getPoints()}n.getOther()instanceof TF&&n.getOther().applyMirroredCorrection(i);var l=new Fn(n.getText(),n.getRawBytes(),void 0,i,Ge.QR_CODE,void 0),c=n.getByteSegments();c!==null&&l.putMetadata(bn.BYTE_SEGMENTS,c);var d=n.getECLevel();return d!==null&&l.putMetadata(bn.ERROR_CORRECTION_LEVEL,d),n.hasStructuredAppend()&&(l.putMetadata(bn.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),l.putMetadata(bn.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),l},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r===null||n===null)throw new se;var i=this.moduleSize(r,e),s=r[1],a=n[1],l=r[0],c=n[0];if(l>=c||s>=a)throw new se;if(a-s!==c-l&&(c=l+(a-s),c>=e.getWidth()))throw new se;var d=Math.round((c-l+1)/i),h=Math.round((a-s+1)/i);if(d<=0||h<=0)throw new se;if(h!==d)throw new se;var f=Math.floor(i/2);s+=f,l+=f;var m=l+Math.floor((d-1)*i)-c;if(m>0){if(m>f)throw new se;l-=m}var g=s+Math.floor((h-1)*i)-a;if(g>0){if(g>f)throw new se;s-=g}for(var y=new Aa(d,h),x=0;x<h;x++)for(var N=s+Math.floor(x*i),_=0;_<d;_++)e.get(l+Math.floor(_*i),N)&&y.set(_,x);return y},t.moduleSize=function(e,r){for(var n=r.getHeight(),i=r.getWidth(),s=e[0],a=e[1],l=!0,c=0;s<i&&a<n;){if(l!==r.get(s,a)){if(++c===5)break;l=!l}s++,a++}if(s===i||a===n)throw new se;return(s-e[0])/7},t.NO_POINTS=new Array,t}(),ede=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Dt=function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(e){return Bt.sum(e)},t.toIntArray=function(e){var r,n;if(e==null||!e.length)return t.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),s=0;try{for(var a=ede(e),l=a.next();!l.done;l=a.next()){var c=l.value;i[s++]=c}}catch(d){r={error:d}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},t.getCodeword=function(e){var r=Kr.binarySearch(t.SYMBOL_TABLE,e&262143);return r<0?-1:(t.CODEWORD_TABLE[r]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t}(),tde=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),rde=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nde=function(){function t(){}return t.detectMultiple=function(e,r,n){var i=e.getBlackMatrix(),s=t.detect(n,i);return s.length||(i=i.clone(),i.rotate180(),s=t.detect(n,i)),new tde(i,s)},t.detect=function(e,r){for(var n,i,s=new Array,a=0,l=0,c=!1;a<r.getHeight();){var d=t.findVertices(r,a,l);if(d[0]==null&&d[3]==null){if(!c)break;c=!1,l=0;try{for(var h=(n=void 0,rde(s)),f=h.next();!f.done;f=h.next()){var m=f.value;m[1]!=null&&(a=Math.trunc(Math.max(a,m[1].getY()))),m[3]!=null&&(a=Math.max(a,Math.trunc(m[3].getY())))}}catch(g){n={error:g}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}a+=t.ROW_STEP;continue}if(c=!0,s.push(d),!e)break;d[2]!=null?(l=Math.trunc(d[2].getX()),a=Math.trunc(d[2].getY())):(l=Math.trunc(d[4].getX()),a=Math.trunc(d[4].getY()))}return s},t.findVertices=function(e,r,n){var i=e.getHeight(),s=e.getWidth(),a=new Array(8);return t.copyToResult(a,t.findRowsWithPattern(e,i,s,r,n,t.START_PATTERN),t.INDEXES_START_PATTERN),a[4]!=null&&(n=Math.trunc(a[4].getX()),r=Math.trunc(a[4].getY())),t.copyToResult(a,t.findRowsWithPattern(e,i,s,r,n,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),a},t.copyToResult=function(e,r,n){for(var i=0;i<n.length;i++)e[n[i]]=r[i]},t.findRowsWithPattern=function(e,r,n,i,s,a){for(var l=new Array(4),c=!1,d=new Int32Array(a.length);i<r;i+=t.ROW_STEP){var h=t.findGuardPattern(e,s,i,n,!1,a,d);if(h!=null){for(;i>0;){var f=t.findGuardPattern(e,s,--i,n,!1,a,d);if(f!=null)h=f;else{i++;break}}l[0]=new Re(h[0],i),l[1]=new Re(h[1],i),c=!0;break}}var m=i+1;if(c){for(var g=0,f=Int32Array.from([Math.trunc(l[0].getX()),Math.trunc(l[1].getX())]);m<r;m++){var h=t.findGuardPattern(e,f[0],m,n,!1,a,d);if(h!=null&&Math.abs(f[0]-h[0])<t.MAX_PATTERN_DRIFT&&Math.abs(f[1]-h[1])<t.MAX_PATTERN_DRIFT)f=h,g=0;else{if(g>t.SKIPPED_ROW_COUNT_MAX)break;g++}}m-=g+1,l[2]=new Re(f[0],m),l[3]=new Re(f[1],m)}return m-i<t.BARCODE_MIN_HEIGHT&&Kr.fill(l,null),l},t.findGuardPattern=function(e,r,n,i,s,a,l){Kr.fillWithin(l,0,l.length,0);for(var c=r,d=0;e.get(c,n)&&c>0&&d++<t.MAX_PIXEL_DRIFT;)c--;for(var h=c,f=0,m=a.length,g=s;h<i;h++){var y=e.get(h,n);if(y!==g)l[f]++;else{if(f===m-1){if(t.patternMatchVariance(l,a,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([c,h]);c+=l[0]+l[1],rr.arraycopy(l,2,l,0,f-1),l[f-1]=0,l[f]=0,f--}else f++;l[f]=1,g=!g}}return f===m-1&&t.patternMatchVariance(l,a,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([c,h-1]):null},t.patternMatchVariance=function(e,r,n){for(var i=e.length,s=0,a=0,l=0;l<i;l++)s+=e[l],a+=r[l];if(s<a)return 1/0;var c=s/a;n*=c;for(var d=0,h=0;h<i;h++){var f=e[h],m=r[h]*c,g=f>m?f-m:m-f;if(g>n)return 1/0;d+=g}return d/s},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t}(),ide=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ql=function(){function t(e,r){if(r.length===0)throw new qe;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-i),rr.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){var r,n;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var s=ide(this.coefficients),a=s.next();!a.done;a=s.next()){var l=a.value;i=this.field.add(i,l)}}catch(f){r={error:f}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return i}for(var c=this.coefficients[0],d=this.coefficients.length,h=1;h<d;h++)c=this.field.add(this.field.multiply(e,c),this.coefficients[h]);return c},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new qe("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var s=new Int32Array(n.length),a=n.length-r.length;rr.arraycopy(n,0,s,0,a);for(var l=a;l<n.length;l++)s[l]=this.field.add(r[l-a],n[l]);return new t(this.field,s)},t.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new qe("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new qe("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var r=this.coefficients,n=r.length,i=e.coefficients,s=i.length,a=new Int32Array(n+s-1),l=0;l<n;l++)for(var c=r[l],d=0;d<s;d++)a[l+d]=this.field.add(a[l+d],this.field.multiply(c,i[d]));return new t(this.field,a)},t.prototype.negative=function(){for(var e=this.coefficients.length,r=new Int32Array(e),n=0;n<e;n++)r[n]=this.field.subtract(0,this.coefficients[n]);return new t(this.field,r)},t.prototype.multiplyScalar=function(e){if(e===0)return new t(this.field,new Int32Array([0]));if(e===1)return this;for(var r=this.coefficients.length,n=new Int32Array(r),i=0;i<r;i++)n[i]=this.field.multiply(this.coefficients[i],e);return new t(this.field,n)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new qe;if(r===0)return new t(this.field,new Int32Array([0]));for(var n=this.coefficients.length,i=new Int32Array(n+e),s=0;s<n;s++)i[s]=this.field.multiply(this.coefficients[s],r);return new t(this.field,i)},t.prototype.toString=function(){for(var e=new vt,r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(r===0||n!==1)&&e.append(n),r!==0&&(r===1?e.append("x"):(e.append("x^"),e.append(r))))}return e.toString()},t}(),sde=function(){function t(){}return t.prototype.add=function(e,r){return(e+r)%this.modulus},t.prototype.subtract=function(e,r){return(this.modulus+e-r)%this.modulus},t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new qe;return this.logTable[e]},t.prototype.inverse=function(e){if(e===0)throw new CF;return this.expTable[this.modulus-this.logTable[e]-1]},t.prototype.multiply=function(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(e){return e===this},t}(),ade=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ode=function(t){ade(e,t);function e(r,n){var i=t.call(this)||this;i.modulus=r,i.expTable=new Int32Array(r),i.logTable=new Int32Array(r);for(var s=1,a=0;a<r;a++)i.expTable[a]=s,s=s*n%r;for(var a=0;a<r-1;a++)i.logTable[i.expTable[a]]=a;return i.zero=new Ql(i,new Int32Array([0])),i.one=new Ql(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new qe;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new Ql(this,i)},e.PDF417_GF=new e(Dt.NUMBER_OF_CODEWORDS,3),e}(sde),lde=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},cde=function(){function t(){this.field=ode.PDF417_GF}return t.prototype.decode=function(e,r,n){for(var i,s,a=new Ql(this.field,e),l=new Int32Array(r),c=!1,d=r;d>0;d--){var h=a.evaluateAt(this.field.exp(d));l[r-d]=h,h!==0&&(c=!0)}if(!c)return 0;var f=this.field.getOne();if(n!=null)try{for(var m=lde(n),g=m.next();!g.done;g=m.next()){var y=g.value,x=this.field.exp(e.length-1-y),N=new Ql(this.field,new Int32Array([this.field.subtract(0,x),1]));f=f.multiply(N)}}catch(O){i={error:O}}finally{try{g&&!g.done&&(s=m.return)&&s.call(m)}finally{if(i)throw i.error}}for(var _=new Ql(this.field,l),w=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),_,r),S=w[0],E=w[1],j=this.findErrorLocations(S),D=this.findErrorMagnitudes(E,S,j),d=0;d<j.length;d++){var T=e.length-1-this.field.log(j[d]);if(T<0)throw Lr.getChecksumInstance();e[T]=this.field.subtract(e[T],D[d])}return j.length},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var s=e,a=r,l=this.field.getZero(),c=this.field.getOne();a.getDegree()>=Math.round(n/2);){var d=s,h=l;if(s=a,l=c,s.isZero())throw Lr.getChecksumInstance();a=d;for(var f=this.field.getZero(),m=s.getCoefficient(s.getDegree()),g=this.field.inverse(m);a.getDegree()>=s.getDegree()&&!a.isZero();){var y=a.getDegree()-s.getDegree(),x=this.field.multiply(a.getCoefficient(a.getDegree()),g);f=f.add(this.field.buildMonomial(y,x)),a=a.subtract(s.multiplyByMonomial(y,x))}c=f.multiply(l).subtract(h).negative()}var N=c.getCoefficient(0);if(N===0)throw Lr.getChecksumInstance();var _=this.field.inverse(N),w=c.multiply(_),S=a.multiply(_);return[w,S]},t.prototype.findErrorLocations=function(e){for(var r=e.getDegree(),n=new Int32Array(r),i=0,s=1;s<this.field.getSize()&&i<r;s++)e.evaluateAt(s)===0&&(n[i]=this.field.inverse(s),i++);if(i!==r)throw Lr.getChecksumInstance();return n},t.prototype.findErrorMagnitudes=function(e,r,n){for(var i=r.getDegree(),s=new Int32Array(i),a=1;a<=i;a++)s[i-a]=this.field.multiply(a,r.getCoefficient(a));for(var l=new Ql(this.field,s),c=n.length,d=new Int32Array(c),a=0;a<c;a++){var h=this.field.inverse(n[a]),f=this.field.subtract(0,e.evaluateAt(h)),m=this.field.inverse(l.evaluateAt(h));d[a]=this.field.multiply(f,m)}return d},t}(),o2=function(){function t(e,r,n,i,s){e instanceof t?this.constructor_2(e):this.constructor_1(e,r,n,i,s)}return t.prototype.constructor_1=function(e,r,n,i,s){var a=r==null||n==null,l=i==null||s==null;if(a&&l)throw new se;a?(r=new Re(0,i.getY()),n=new Re(0,s.getY())):l&&(i=new Re(e.getWidth()-1,r.getY()),s=new Re(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=r,this.bottomLeft=n,this.topRight=i,this.bottomRight=s,this.minX=Math.trunc(Math.min(r.getX(),n.getX())),this.maxX=Math.trunc(Math.max(i.getX(),s.getX())),this.minY=Math.trunc(Math.min(r.getY(),i.getY())),this.maxY=Math.trunc(Math.max(n.getY(),s.getY()))},t.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},t.merge=function(e,r){return e==null?r:r==null?e:new t(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)},t.prototype.addMissingRows=function(e,r,n){var i=this.topLeft,s=this.bottomLeft,a=this.topRight,l=this.bottomRight;if(e>0){var c=n?this.topLeft:this.topRight,d=Math.trunc(c.getY()-e);d<0&&(d=0);var h=new Re(c.getX(),d);n?i=h:a=h}if(r>0){var f=n?this.bottomLeft:this.bottomRight,m=Math.trunc(f.getY()+r);m>=this.image.getHeight()&&(m=this.image.getHeight()-1);var g=new Re(f.getX(),m);n?s=g:l=g}return new t(this.image,i,s,a,l)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t}(),ude=function(){function t(e,r,n,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=r,this.rowCountLowerPart=n,this.rowCount=r+n}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t}(),qN=function(){function t(){this.buffer=""}return t.form=function(e,r){var n=-1;function i(a,l,c,d,h,f){if(a==="%%")return"%";if(r[++n]!==void 0){a=d?parseInt(d.substr(1)):void 0;var m=h?parseInt(h.substr(1)):void 0,g;switch(f){case"s":g=r[n];break;case"c":g=r[n][0];break;case"f":g=parseFloat(r[n]).toFixed(a);break;case"p":g=parseFloat(r[n]).toPrecision(a);break;case"e":g=parseFloat(r[n]).toExponential(a);break;case"x":g=parseInt(r[n]).toString(m||16);break;case"d":g=parseFloat(parseInt(r[n],m||10).toPrecision(a)).toFixed(0);break}g=typeof g=="object"?JSON.stringify(g):(+g).toString(m);for(var y=parseInt(c),x=c&&c[0]+""=="0"?"0":" ";g.length<y;)g=l!==void 0?g+x:x+g;return g}}var s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(s,i)},t.prototype.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.buffer+=t.form(e,r)},t.prototype.toString=function(){return this.buffer},t}(),dde=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},IF=function(){function t(e){this.boundingBox=new o2(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var r=this.getCodeword(e);if(r!=null)return r;for(var n=1;n<t.MAX_NEARBY_DISTANCE;n++){var i=this.imageRowToCodewordIndex(e)-n;if(i>=0&&(r=this.codewords[i],r!=null)||(i=this.imageRowToCodewordIndex(e)+n,i<this.codewords.length&&(r=this.codewords[i],r!=null)))return r}return null},t.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},t.prototype.setCodeword=function(e,r){this.codewords[this.imageRowToCodewordIndex(e)]=r},t.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var e,r,n=new qN,i=0;try{for(var s=dde(this.codewords),a=s.next();!a.done;a=s.next()){var l=a.value;if(l==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,l.getRowNumber(),l.getValue())}}catch(c){e={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return n.toString()},t.MAX_NEARBY_DISTANCE=5,t}(),hde=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fde=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return s},of=function(){function t(){this.values=new Map}return t.prototype.setValue=function(e){e=Math.trunc(e);var r=this.values.get(e);r==null&&(r=0),r++,this.values.set(e,r)},t.prototype.getValue=function(){var e,r,n=-1,i=new Array,s=function(f,m){var g={getKey:function(){return f},getValue:function(){return m}};g.getValue()>n?(n=g.getValue(),i=[],i.push(g.getKey())):g.getValue()===n&&i.push(g.getKey())};try{for(var a=hde(this.values.entries()),l=a.next();!l.done;l=a.next()){var c=fde(l.value,2),d=c[0],h=c[1];s(d,h)}}catch(f){e={error:f}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return Dt.toIntArray(i)},t.prototype.getConfidence=function(e){return this.values.get(e)},t}(),pde=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ey=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},pA=function(t){pde(e,t);function e(r,n){var i=t.call(this,r)||this;return i._isLeft=n,i}return e.prototype.setRowNumbers=function(){var r,n;try{for(var i=Ey(this.getCodewords()),s=i.next();!s.done;s=i.next()){var a=s.value;a!=null&&a.setRowNumberAsRowIndicatorColumn()}}catch(l){r={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(r){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,r);for(var i=this.getBoundingBox(),s=this._isLeft?i.getTopLeft():i.getTopRight(),a=this._isLeft?i.getBottomLeft():i.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(s.getY())),c=this.imageRowToCodewordIndex(Math.trunc(a.getY())),d=-1,h=1,f=0,m=l;m<c;m++)if(n[m]!=null){var g=n[m],y=g.getRowNumber()-d;if(y===0)f++;else if(y===1)h=Math.max(h,f),f=1,d=g.getRowNumber();else if(y<0||g.getRowNumber()>=r.getRowCount()||y>m)n[m]=null;else{var x=void 0;h>2?x=(h-2)*y:x=y;for(var N=x>=m,_=1;_<=x&&!N;_++)N=n[m-_]!=null;N?n[m]=null:(d=g.getRowNumber(),f=1)}}},e.prototype.getRowHeights=function(){var r,n,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var s=new Int32Array(i.getRowCount());try{for(var a=Ey(this.getCodewords()),l=a.next();!l.done;l=a.next()){var c=l.value;if(c!=null){var d=c.getRowNumber();if(d>=s.length)continue;s[d]++}}}catch(h){r={error:h}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return s},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(r){for(var n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),s=this._isLeft?n.getBottomLeft():n.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(i.getY())),l=this.imageRowToCodewordIndex(Math.trunc(s.getY())),c=this.getCodewords(),d=-1,h=a;h<l;h++)if(c[h]!=null){var f=c[h];f.setRowNumberAsRowIndicatorColumn();var m=f.getRowNumber()-d;m===0||(m===1?d=f.getRowNumber():f.getRowNumber()>=r.getRowCount()?c[h]=null:d=f.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var r,n,i=this.getCodewords(),s=new of,a=new of,l=new of,c=new of;try{for(var d=Ey(i),h=d.next();!h.done;h=d.next()){var f=h.value;if(f!=null){f.setRowNumberAsRowIndicatorColumn();var m=f.getValue()%30,g=f.getRowNumber();switch(this._isLeft||(g+=2),g%3){case 0:a.setValue(m*3+1);break;case 1:c.setValue(m/3),l.setValue(m%3);break;case 2:s.setValue(m+1);break}}}}catch(x){r={error:x}}finally{try{h&&!h.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}if(s.getValue().length===0||a.getValue().length===0||l.getValue().length===0||c.getValue().length===0||s.getValue()[0]<1||a.getValue()[0]+l.getValue()[0]<Dt.MIN_ROWS_IN_BARCODE||a.getValue()[0]+l.getValue()[0]>Dt.MAX_ROWS_IN_BARCODE)return null;var y=new ude(s.getValue()[0],a.getValue()[0],l.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(i,y),y},e.prototype.removeIncorrectCodewords=function(r,n){for(var i=0;i<r.length;i++){var s=r[i];if(r[i]!=null){var a=s.getValue()%30,l=s.getRowNumber();if(l>n.getRowCount()){r[i]=null;continue}switch(this._isLeft||(l+=2),l%3){case 0:a*3+1!==n.getRowCountUpperPart()&&(r[i]=null);break;case 1:(Math.trunc(a/3)!==n.getErrorCorrectionLevel()||a%3!==n.getRowCountLowerPart())&&(r[i]=null);break;case 2:a+1!==n.getColumnCount()&&(r[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+t.prototype.toString.call(this)},e}(IF),mde=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gde=function(){function t(e,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=Dt.MAX_CODEWORDS_IN_BARCODE,r;do r=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<r);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var r=1;r<this.barcodeColumnCount+1;r++)for(var n=this.detectionResultColumns[r].getCodewords(),i=0;i<n.length;i++)n[i]!=null&&(n[i].hasValidRowNumber()||this.adjustRowNumbers(r,i,n));return e},t.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(e[n]!=null&&r[n]!=null&&e[n].getRowNumber()===r[n].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var s=this.detectionResultColumns[i].getCodewords()[n];s!=null&&(s.setRowNumber(e[n].getRowNumber()),s.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[n]=null))}}},t.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),s=0,a=this.barcodeColumnCount+1;a>0&&s<this.ADJUST_ROW_NUMBER_SKIP;a--){var l=this.detectionResultColumns[a].getCodewords()[n];l!=null&&(s=t.adjustRowNumberIfValid(i,s,l),l.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,r=this.detectionResultColumns[0].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),s=0,a=1;a<this.barcodeColumnCount+1&&s<this.ADJUST_ROW_NUMBER_SKIP;a++){var l=this.detectionResultColumns[a].getCodewords()[n];l!=null&&(s=t.adjustRowNumberIfValid(i,s,l),l.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(e,r,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),r=0):++r),r},t.prototype.adjustRowNumbers=function(e,r,n){var i,s;if(this.detectionResultColumns[e-1]!=null){var a=n[r],l=this.detectionResultColumns[e-1].getCodewords(),c=l;this.detectionResultColumns[e+1]!=null&&(c=this.detectionResultColumns[e+1].getCodewords());var d=new Array(14);d[2]=l[r],d[3]=c[r],r>0&&(d[0]=n[r-1],d[4]=l[r-1],d[5]=c[r-1]),r>1&&(d[8]=n[r-2],d[10]=l[r-2],d[11]=c[r-2]),r<n.length-1&&(d[1]=n[r+1],d[6]=l[r+1],d[7]=c[r+1]),r<n.length-2&&(d[9]=n[r+2],d[12]=l[r+2],d[13]=c[r+2]);try{for(var h=mde(d),f=h.next();!f.done;f=h.next()){var m=f.value;if(t.adjustRowNumber(a,m))return}}catch(g){i={error:g}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}}},t.adjustRowNumber=function(e,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===e.getBucket()?(e.setRowNumber(r.getRowNumber()),!0):!1},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(e){this.boundingBox=e},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(e,r){this.detectionResultColumns[e]=r},t.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},t.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var r=new qN,n=0;n<e.getCodewords().length;n++){r.format("CW %3d:",n);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){r.format("    |   ");continue}var s=this.detectionResultColumns[i].getCodewords()[n];if(s==null){r.format("    |   ");continue}r.format(" %3d|%3d",s.getRowNumber(),s.getValue())}r.format("%n")}return r.toString()},t}(),vde=function(){function t(e,r,n,i){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(r),this.bucket=Math.trunc(n),this.value=Math.trunc(i)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(e){this.rowNumber=e},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t}(),xde=function(){function t(){}return t.initialize=function(){for(var e=0;e<Dt.SYMBOL_TABLE.length;e++)for(var r=Dt.SYMBOL_TABLE[e],n=r&1,i=0;i<Dt.BARS_IN_MODULE;i++){for(var s=0;(r&1)===n;)s+=1,r>>=1;n=r&1,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(Dt.BARS_IN_MODULE)),t.RATIOS_TABLE[e][Dt.BARS_IN_MODULE-i-1]=Math.fround(s/Dt.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var r=t.getDecodedCodewordValue(t.sampleBitCounts(e));return r!==-1?r:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(e){for(var r=Bt.sum(e),n=new Int32Array(Dt.BARS_IN_MODULE),i=0,s=0,a=0;a<Dt.MODULES_IN_CODEWORD;a++){var l=r/(2*Dt.MODULES_IN_CODEWORD)+a*r/Dt.MODULES_IN_CODEWORD;s+e[i]<=l&&(s+=e[i],i++),n[i]++}return n},t.getDecodedCodewordValue=function(e){var r=t.getBitValue(e);return Dt.getCodeword(r)===-1?-1:r},t.getBitValue=function(e){for(var r=0,n=0;n<e.length;n++)for(var i=0;i<e[n];i++)r=r<<1|(n%2===0?1:0);return Math.trunc(r)},t.getClosestDecodedValue=function(e){var r=Bt.sum(e),n=new Array(Dt.BARS_IN_MODULE);if(r>1)for(var i=0;i<n.length;i++)n[i]=Math.fround(e[i]/r);var s=i2.MAX_VALUE,a=-1;this.bSymbolTableReady||t.initialize();for(var l=0;l<t.RATIOS_TABLE.length;l++){for(var c=0,d=t.RATIOS_TABLE[l],h=0;h<Dt.BARS_IN_MODULE;h++){var f=Math.fround(d[h]-n[h]);if(c+=Math.fround(f*f),c>=s)break}c<s&&(s=c,a=Dt.SYMBOL_TABLE[l])}return a},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(Dt.SYMBOL_TABLE.length).map(function(e){return new Array(Dt.BARS_IN_MODULE)}),t}(),yde=function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(e){this.segmentIndex=e},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(e){this.fileId=e},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(e){this.optionalData=e},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(e){this.lastSegment=e},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(e){this.segmentCount=e},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(e){this.sender=e},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(e){this.addressee=e},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(e){this.fileName=e},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(e){this.fileSize=e},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(e){this.checksum=e},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(e){this.timestamp=e},t}(),mA=function(){function t(){}return t.parseLong=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t}(),wde=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),bde=function(t){wde(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="NullPointerException",e}(yi),_de=function(){function t(){}return t.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},t.prototype.writeBytesOffset=function(e,r,n){if(e==null)throw new bde;if(r<0||r>e.length||n<0||r+n>e.length||r+n<0)throw new VN;if(n===0)return;for(var i=0;i<n;i++)this.write(e[r+i])},t.prototype.flush=function(){},t.prototype.close=function(){},t}(),Nde=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Cde=function(t){Nde(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(yi),Sde=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ede=function(t){Sde(e,t);function e(r){r===void 0&&(r=32);var n=t.call(this)||this;if(n.count=0,r<0)throw new qe("Negative initial size: "+r);return n.buf=new Uint8Array(r),n}return e.prototype.ensureCapacity=function(r){r-this.buf.length>0&&this.grow(r)},e.prototype.grow=function(r){var n=this.buf.length,i=n<<1;if(i-r<0&&(i=r),i<0){if(r<0)throw new Cde;i=wt.MAX_VALUE}this.buf=Kr.copyOfUint8Array(this.buf,i)},e.prototype.write=function(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1},e.prototype.writeBytesOffset=function(r,n,i){if(n<0||n>r.length||i<0||n+i-r.length>0)throw new VN;this.ensureCapacity(this.count+i),rr.arraycopy(r,n,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(r){r.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return Kr.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(r){return new String(this.buf).toString()},e.prototype.toString_number=function(r){return new String(this.buf).toString()},e.prototype.close=function(){},e}(_de),Jt;(function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Jt||(Jt={}));function DF(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var k0;function To(t){if(typeof k0>"u"&&(k0=DF()),k0===null)throw new Error("BigInt is not supported!");return k0(t)}function Ade(){var t=[];t[0]=To(1);var e=To(900);t[1]=e;for(var r=2;r<16;r++)t[r]=t[r-1]*e;return t}var kde=function(){function t(){}return t.decode=function(e,r){var n=new vt(""),i=Zr.ISO8859_1;n.enableDecoding(i);for(var s=1,a=e[s++],l=new yde;s<e[0];){switch(a){case t.TEXT_COMPACTION_MODE_LATCH:s=t.textCompaction(e,s,n);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:s=t.byteCompaction(a,e,i,s,n);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[s++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:s=t.numericCompaction(e,s,n);break;case t.ECI_CHARSET:Zr.getCharacterSetECIByValue(e[s++]);break;case t.ECI_GENERAL_PURPOSE:s+=2;break;case t.ECI_USER_DEFINED:s++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:s=t.decodeMacroBlock(e,s,l);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new we;default:s--,s=t.textCompaction(e,s,n);break}if(s<e.length)a=e[s++];else throw we.getFormatInstance()}if(n.length()===0)throw we.getFormatInstance();var c=new Mv(null,n.toString(),null,r);return c.setOther(l),c},t.decodeMacroBlock=function(e,r,n){if(r+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw we.getFormatInstance();for(var i=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),s=0;s<t.NUMBER_OF_SEQUENCE_CODEWORDS;s++,r++)i[s]=e[r];n.setSegmentIndex(wt.parseInt(t.decodeBase900toBase10(i,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var a=new vt;r=t.textCompaction(e,r,a),n.setFileId(a.toString());var l=-1;for(e[r]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(l=r+1);r<e[0];)switch(e[r]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,e[r]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var c=new vt;r=t.textCompaction(e,r+1,c),n.setFileName(c.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var d=new vt;r=t.textCompaction(e,r+1,d),n.setSender(d.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var h=new vt;r=t.textCompaction(e,r+1,h),n.setAddressee(h.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var f=new vt;r=t.numericCompaction(e,r+1,f),n.setSegmentCount(wt.parseInt(f.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var m=new vt;r=t.numericCompaction(e,r+1,m),n.setTimestamp(mA.parseLong(m.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var g=new vt;r=t.numericCompaction(e,r+1,g),n.setChecksum(wt.parseInt(g.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var y=new vt;r=t.numericCompaction(e,r+1,y),n.setFileSize(mA.parseLong(y.toString()));break;default:throw we.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:r++,n.setLastSegment(!0);break;default:throw we.getFormatInstance()}if(l!==-1){var x=r-l;n.isLastSegment()&&x--,n.setOptionalData(Kr.copyOfRange(e,l,l+x))}return r},t.textCompaction=function(e,r,n){for(var i=new Int32Array((e[0]-r)*2),s=new Int32Array((e[0]-r)*2),a=0,l=!1;r<e[0]&&!l;){var c=e[r++];if(c<t.TEXT_COMPACTION_MODE_LATCH)i[a]=c/30,i[a+1]=c%30,a+=2;else switch(c){case t.TEXT_COMPACTION_MODE_LATCH:i[a++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,l=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[a]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,c=e[r++],s[a]=c,a++;break}}return t.decodeTextCompaction(i,s,a,n),r},t.decodeTextCompaction=function(e,r,n,i){for(var s=Jt.ALPHA,a=Jt.ALPHA,l=0;l<n;){var c=e[l],d="";switch(s){case Jt.ALPHA:if(c<26)d=String.fromCharCode(65+c);else switch(c){case 26:d=" ";break;case t.LL:s=Jt.LOWER;break;case t.ML:s=Jt.MIXED;break;case t.PS:a=s,s=Jt.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:s=Jt.ALPHA;break}break;case Jt.LOWER:if(c<26)d=String.fromCharCode(97+c);else switch(c){case 26:d=" ";break;case t.AS:a=s,s=Jt.ALPHA_SHIFT;break;case t.ML:s=Jt.MIXED;break;case t.PS:a=s,s=Jt.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:s=Jt.ALPHA;break}break;case Jt.MIXED:if(c<t.PL)d=t.MIXED_CHARS[c];else switch(c){case t.PL:s=Jt.PUNCT;break;case 26:d=" ";break;case t.LL:s=Jt.LOWER;break;case t.AL:s=Jt.ALPHA;break;case t.PS:a=s,s=Jt.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:s=Jt.ALPHA;break}break;case Jt.PUNCT:if(c<t.PAL)d=t.PUNCT_CHARS[c];else switch(c){case t.PAL:s=Jt.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:s=Jt.ALPHA;break}break;case Jt.ALPHA_SHIFT:if(s=a,c<26)d=String.fromCharCode(65+c);else switch(c){case 26:d=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:s=Jt.ALPHA;break}break;case Jt.PUNCT_SHIFT:if(s=a,c<t.PAL)d=t.PUNCT_CHARS[c];else switch(c){case t.PAL:s=Jt.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:s=Jt.ALPHA;break}break}d!==""&&i.append(d),l++}},t.byteCompaction=function(e,r,n,i,s){var a=new Ede,l=0,c=0,d=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var h=new Int32Array(6),f=r[i++];i<r[0]&&!d;)switch(h[l++]=f,c=900*c+f,f=r[i++],f){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,d=!0;break;default:if(l%5===0&&l>0){for(var m=0;m<6;++m)a.write(Number(To(c)>>To(8*(5-m))));c=0,l=0}break}i===r[0]&&f<t.TEXT_COMPACTION_MODE_LATCH&&(h[l++]=f);for(var g=0;g<l;g++)a.write(h[g]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;i<r[0]&&!d;){var y=r[i++];if(y<t.TEXT_COMPACTION_MODE_LATCH)l++,c=900*c+y;else switch(y){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,d=!0;break}if(l%5===0&&l>0){for(var m=0;m<6;++m)a.write(Number(To(c)>>To(8*(5-m))));c=0,l=0}}break}return s.append(Qi.decode(a.toByteArray(),n)),i},t.numericCompaction=function(e,r,n){for(var i=0,s=!1,a=new Int32Array(t.MAX_NUMERIC_CODEWORDS);r<e[0]&&!s;){var l=e[r++];if(r===e[0]&&(s=!0),l<t.TEXT_COMPACTION_MODE_LATCH)a[i]=l,i++;else switch(l){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,s=!0;break}(i%t.MAX_NUMERIC_CODEWORDS===0||l===t.NUMERIC_COMPACTION_MODE_LATCH||s)&&i>0&&(n.append(t.decodeBase900toBase10(a,i)),i=0)}return r},t.decodeBase900toBase10=function(e,r){for(var n=To(0),i=0;i<r;i++)n+=t.EXP900[r-i-1]*To(e[i]);var s=n.toString();if(s.charAt(0)!=="1")throw new we;return s.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",t.EXP900=DF()?Ade():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t}(),zh=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jde=function(){function t(){}return t.decode=function(e,r,n,i,s,a,l){for(var c=new o2(e,r,n,i,s),d=null,h=null,f,m=!0;;m=!1){if(r!=null&&(d=t.getRowIndicatorColumn(e,c,r,!0,a,l)),i!=null&&(h=t.getRowIndicatorColumn(e,c,i,!1,a,l)),f=t.merge(d,h),f==null)throw se.getNotFoundInstance();var g=f.getBoundingBox();if(m&&g!=null&&(g.getMinY()<c.getMinY()||g.getMaxY()>c.getMaxY()))c=g;else break}f.setBoundingBox(c);var y=f.getBarcodeColumnCount()+1;f.setDetectionResultColumn(0,d),f.setDetectionResultColumn(y,h);for(var x=d!=null,N=1;N<=y;N++){var _=x?N:y-N;if(f.getDetectionResultColumn(_)===void 0){var w=void 0;_===0||_===y?w=new pA(c,_===0):w=new IF(c),f.setDetectionResultColumn(_,w);for(var S=-1,E=S,j=c.getMinY();j<=c.getMaxY();j++){if(S=t.getStartColumn(f,_,j,x),S<0||S>c.getMaxX()){if(E===-1)continue;S=E}var D=t.detectCodeword(e,c.getMinX(),c.getMaxX(),x,S,j,a,l);D!=null&&(w.setCodeword(j,D),E=S,a=Math.min(a,D.getWidth()),l=Math.max(l,D.getWidth()))}}}return t.createDecoderResult(f)},t.merge=function(e,r){if(e==null&&r==null)return null;var n=t.getBarcodeMetadata(e,r);if(n==null)return null;var i=o2.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(r));return new gde(n,i)},t.adjustBoundingBox=function(e){var r,n;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var s=t.getMax(i),a=0;try{for(var l=zh(i),c=l.next();!c.done;c=l.next()){var d=c.value;if(a+=s-d,d>0)break}}catch(g){r={error:g}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}for(var h=e.getCodewords(),f=0;a>0&&h[f]==null;f++)a--;for(var m=0,f=i.length-1;f>=0&&(m+=s-i[f],!(i[f]>0));f--);for(var f=h.length-1;m>0&&h[f]==null;f--)m--;return e.getBoundingBox().addMissingRows(a,m,e.isLeft())},t.getMax=function(e){var r,n,i=-1;try{for(var s=zh(e),a=s.next();!a.done;a=s.next()){var l=a.value;i=Math.max(i,l)}}catch(c){r={error:c}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return i},t.getBarcodeMetadata=function(e,r){var n;if(e==null||(n=e.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();var i;return r==null||(i=r.getBarcodeMetadata())==null?n:n.getColumnCount()!==i.getColumnCount()&&n.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&n.getRowCount()!==i.getRowCount()?null:n},t.getRowIndicatorColumn=function(e,r,n,i,s,a){for(var l=new pA(r,i),c=0;c<2;c++)for(var d=c===0?1:-1,h=Math.trunc(Math.trunc(n.getX())),f=Math.trunc(Math.trunc(n.getY()));f<=r.getMaxY()&&f>=r.getMinY();f+=d){var m=t.detectCodeword(e,0,e.getWidth(),i,h,f,s,a);m!=null&&(l.setCodeword(f,m),i?h=m.getStartX():h=m.getEndX())}return l},t.adjustCodewordCount=function(e,r){var n=r[0][1],i=n.getValue(),s=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(s<1||s>Dt.MAX_CODEWORDS_IN_BARCODE)throw se.getNotFoundInstance();n.setValue(s)}else i[0]!==s&&n.setValue(s)},t.createDecoderResult=function(e){var r=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,r);for(var n=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),s=[],a=new Array,l=0;l<e.getBarcodeRowCount();l++)for(var c=0;c<e.getBarcodeColumnCount();c++){var d=r[l][c+1].getValue(),h=l*e.getBarcodeColumnCount()+c;d.length===0?n.push(h):d.length===1?i[h]=d[0]:(a.push(h),s.push(d))}for(var f=new Array(s.length),m=0;m<f.length;m++)f[m]=s[m];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,Dt.toIntArray(n),Dt.toIntArray(a),f)},t.createDecoderResultFromAmbiguousValues=function(e,r,n,i,s){for(var a=new Int32Array(i.length),l=100;l-- >0;){for(var c=0;c<a.length;c++)r[i[c]]=s[c][a[c]];try{return t.decodeCodewords(r,e,n)}catch(h){var d=h instanceof Lr;if(!d)throw h}if(a.length===0)throw Lr.getChecksumInstance();for(var c=0;c<a.length;c++)if(a[c]<s[c].length-1){a[c]++;break}else if(a[c]=0,c===a.length-1)throw Lr.getChecksumInstance()}throw Lr.getChecksumInstance()},t.createBarcodeMatrix=function(e){for(var r,n,i,s,a=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),l=0;l<a.length;l++)for(var c=0;c<a[l].length;c++)a[l][c]=new of;var d=0;try{for(var h=zh(e.getDetectionResultColumns()),f=h.next();!f.done;f=h.next()){var m=f.value;if(m!=null)try{for(var g=(i=void 0,zh(m.getCodewords())),y=g.next();!y.done;y=g.next()){var x=y.value;if(x!=null){var N=x.getRowNumber();if(N>=0){if(N>=a.length)continue;a[N][d].setValue(x.getValue())}}}}catch(_){i={error:_}}finally{try{y&&!y.done&&(s=g.return)&&s.call(g)}finally{if(i)throw i.error}}d++}}catch(_){r={error:_}}finally{try{f&&!f.done&&(n=h.return)&&n.call(h)}finally{if(r)throw r.error}}return a},t.isValidBarcodeColumn=function(e,r){return r>=0&&r<=e.getBarcodeColumnCount()+1},t.getStartColumn=function(e,r,n,i){var s,a,l=i?1:-1,c=null;if(t.isValidBarcodeColumn(e,r-l)&&(c=e.getDetectionResultColumn(r-l).getCodeword(n)),c!=null)return i?c.getEndX():c.getStartX();if(c=e.getDetectionResultColumn(r).getCodewordNearby(n),c!=null)return i?c.getStartX():c.getEndX();if(t.isValidBarcodeColumn(e,r-l)&&(c=e.getDetectionResultColumn(r-l).getCodewordNearby(n)),c!=null)return i?c.getEndX():c.getStartX();for(var d=0;t.isValidBarcodeColumn(e,r-l);){r-=l;try{for(var h=(s=void 0,zh(e.getDetectionResultColumn(r).getCodewords())),f=h.next();!f.done;f=h.next()){var m=f.value;if(m!=null)return(i?m.getEndX():m.getStartX())+l*d*(m.getEndX()-m.getStartX())}}catch(g){s={error:g}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(s)throw s.error}}d++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,r,n,i,s,a,l,c){s=t.adjustCodewordStartColumn(e,r,n,i,s,a);var d=t.getModuleBitCount(e,r,n,i,s,a);if(d==null)return null;var h,f=Bt.sum(d);if(i)h=s+f;else{for(var m=0;m<d.length/2;m++){var g=d[m];d[m]=d[d.length-1-m],d[d.length-1-m]=g}h=s,s=h-f}if(!t.checkCodewordSkew(f,l,c))return null;var y=xde.getDecodedValue(d),x=Dt.getCodeword(y);return x===-1?null:new vde(s,h,t.getCodewordBucketNumber(y),x)},t.getModuleBitCount=function(e,r,n,i,s,a){for(var l=s,c=new Int32Array(8),d=0,h=i?1:-1,f=i;(i?l<n:l>=r)&&d<c.length;)e.get(l,a)===f?(c[d]++,l+=h):(d++,f=!f);return d===c.length||l===(i?n:r)&&d===c.length-1?c:null},t.getNumberOfECCodeWords=function(e){return 2<<e},t.adjustCodewordStartColumn=function(e,r,n,i,s,a){for(var l=s,c=i?-1:1,d=0;d<2;d++){for(;(i?l>=r:l<n)&&i===e.get(l,a);){if(Math.abs(s-l)>t.CODEWORD_SKEW_SIZE)return s;l+=c}c=-c,i=!i}return l},t.checkCodewordSkew=function(e,r,n){return r-t.CODEWORD_SKEW_SIZE<=e&&e<=n+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,r,n){if(e.length===0)throw we.getFormatInstance();var i=1<<r+1,s=t.correctErrors(e,n,i);t.verifyCodewordCount(e,i);var a=kde.decode(e,""+r);return a.setErrorsCorrected(s),a.setErasures(n.length),a},t.correctErrors=function(e,r,n){if(r!=null&&r.length>n/2+t.MAX_ERRORS||n<0||n>t.MAX_EC_CODEWORDS)throw Lr.getChecksumInstance();return t.errorCorrection.decode(e,n,r)},t.verifyCodewordCount=function(e,r){if(e.length<4)throw we.getFormatInstance();var n=e[0];if(n>e.length)throw we.getFormatInstance();if(n===0)if(r<e.length)e[0]=e.length-r;else throw we.getFormatInstance()},t.getBitCountForCodeword=function(e){for(var r=new Int32Array(8),n=0,i=r.length-1;!((e&1)!==n&&(n=e&1,i--,i<0));)r[i]++,e>>=1;return r},t.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},t.toString=function(e){for(var r=new qN,n=0;n<e.length;n++){r.format("Row %2d: ",n);for(var i=0;i<e[n].length;i++){var s=e[n][i];s.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",s.getValue()[0],s.getConfidence(s.getValue()[0]))}r.format("%n")}return r.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new cde,t}(),Pde=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},y1=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=t.decode(e,r,!1);if(n==null||n.length===0||n[0]==null)throw se.getNotFoundInstance();return n[0]},t.prototype.decodeMultiple=function(e,r){r===void 0&&(r=null);try{return t.decode(e,r,!0)}catch(n){throw n instanceof we||n instanceof Lr?se.getNotFoundInstance():n}},t.decode=function(e,r,n){var i,s,a=new Array,l=nde.detectMultiple(e,r,n);try{for(var c=Pde(l.getPoints()),d=c.next();!d.done;d=c.next()){var h=d.value,f=jde.decode(l.getBits(),h[4],h[5],h[6],h[7],t.getMinCodewordWidth(h),t.getMaxCodewordWidth(h)),m=new Fn(f.getText(),f.getRawBytes(),void 0,h,Ge.PDF_417);m.putMetadata(bn.ERROR_CORRECTION_LEVEL,f.getECLevel());var g=f.getOther();g!=null&&m.putMetadata(bn.PDF417_EXTRA_METADATA,g),a.push(m)}}catch(y){i={error:y}}finally{try{d&&!d.done&&(s=c.return)&&s.call(c)}finally{if(i)throw i.error}}return a.map(function(y){return y})},t.getMaxWidth=function(e,r){return e==null||r==null?0:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMinWidth=function(e,r){return e==null||r==null?wt.MAX_VALUE:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*Dt.MODULES_IN_CODEWORD/Dt.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*Dt.MODULES_IN_CODEWORD/Dt.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*Dt.MODULES_IN_CODEWORD/Dt.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*Dt.MODULES_IN_CODEWORD/Dt.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t}(),Tde=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),gA=function(t){Tde(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReaderException",e}(yi),vA=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},OF=function(){function t(){}return t.prototype.decode=function(e,r){return this.setHints(r),this.decodeInternal(e)},t.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},t.prototype.setHints=function(e){this.hints=e;var r=e!=null&&e.get(nr.TRY_HARDER)!==void 0,n=e==null?null:e.get(nr.POSSIBLE_FORMATS),i=new Array;if(n!=null){var s=n.some(function(a){return a===Ge.UPC_A||a===Ge.UPC_E||a===Ge.EAN_13||a===Ge.EAN_8||a===Ge.CODABAR||a===Ge.CODE_39||a===Ge.CODE_93||a===Ge.CODE_128||a===Ge.ITF||a===Ge.RSS_14||a===Ge.RSS_EXPANDED});s&&!r&&i.push(new ju(e)),n.includes(Ge.QR_CODE)&&i.push(new x1),n.includes(Ge.DATA_MATRIX)&&i.push(new v1),n.includes(Ge.AZTEC)&&i.push(new m1),n.includes(Ge.PDF_417)&&i.push(new y1),s&&r&&i.push(new ju(e))}i.length===0&&(r||i.push(new ju(e)),i.push(new x1),i.push(new v1),i.push(new m1),i.push(new y1),r&&i.push(new ju(e))),this.readers=i},t.prototype.reset=function(){var e,r;if(this.readers!==null)try{for(var n=vA(this.readers),i=n.next();!i.done;i=n.next()){var s=i.value;s.reset()}}catch(a){e={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.decodeInternal=function(e){var r,n;if(this.readers===null)throw new gA("No readers where selected, nothing can be read.");try{for(var i=vA(this.readers),s=i.next();!s.done;s=i.next()){var a=s.value;try{return a.decode(e,this.hints)}catch(l){if(l instanceof gA)continue}}}catch(l){r={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}throw new se("No MultiFormat Readers were able to detect the code.")},t}(),Ide=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){Ide(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=500);var i=this,s=new OF;return s.setHints(r),i=t.call(this,s,n)||this,i}return e.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},e})(sh);var Dde=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){Dde(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new y1,r)||this}return e})(sh);var Ode=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){Ode(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new x1,r)||this}return e})(sh);var l2;(function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",t[t.MIN_SIZE=4]="MIN_SIZE",t[t.MAX_SIZE=5]="MAX_SIZE",t[t.MARGIN=6]="MARGIN",t[t.PDF417_COMPACT=7]="PDF417_COMPACT",t[t.PDF417_COMPACTION=8]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=10]="AZTEC_LAYERS",t[t.QR_VERSION=11]="QR_VERSION",t[t.GS1_FORMAT=12]="GS1_FORMAT",t[t.FORCE_C40=13]="FORCE_C40"})(l2||(l2={}));const j0=l2;var MF=function(){function t(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new al(e,Int32Array.from([1])))}return t.prototype.buildGenerator=function(e){var r=this.cachedGenerators;if(e>=r.length)for(var n=r[r.length-1],i=this.field,s=r.length;s<=e;s++){var a=n.multiply(new al(i,Int32Array.from([1,i.exp(s-1+i.getGeneratorBase())])));r.push(a),n=a}return r[e]},t.prototype.encode=function(e,r){if(r===0)throw new qe("No error correction bytes");var n=e.length-r;if(n<=0)throw new qe("No data bytes provided");var i=this.buildGenerator(r),s=new Int32Array(n);rr.arraycopy(e,0,s,0,n);var a=new al(this.field,s);a=a.multiplyByMonomial(r,1);for(var l=a.divide(i)[1],c=l.getCoefficients(),d=r-c.length,h=0;h<d;h++)e[n+h]=0;rr.arraycopy(c,0,e,n+d,c.length)},t}(),lf=function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),s=e.getHeight(),a=0;a<s-1;a++)for(var l=n[a],c=0;c<i-1;c++){var d=l[c];d===l[c+1]&&d===n[a+1][c]&&d===n[a+1][c+1]&&r++}return t.N2*r},t.applyMaskPenaltyRule3=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),s=e.getHeight(),a=0;a<s;a++)for(var l=0;l<i;l++){var c=n[a];l+6<i&&c[l]===1&&c[l+1]===0&&c[l+2]===1&&c[l+3]===1&&c[l+4]===1&&c[l+5]===0&&c[l+6]===1&&(t.isWhiteHorizontal(c,l-4,l)||t.isWhiteHorizontal(c,l+7,l+11))&&r++,a+6<s&&n[a][l]===1&&n[a+1][l]===0&&n[a+2][l]===1&&n[a+3][l]===1&&n[a+4][l]===1&&n[a+5][l]===0&&n[a+6][l]===1&&(t.isWhiteVertical(n,l,a-4,a)||t.isWhiteVertical(n,l,a+7,a+11))&&r++}return r*t.N3},t.isWhiteHorizontal=function(e,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(var i=r;i<n;i++)if(e[i]===1)return!1;return!0},t.isWhiteVertical=function(e,r,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(var s=n;s<i;s++)if(e[s][r]===1)return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),s=e.getHeight(),a=0;a<s;a++)for(var l=n[a],c=0;c<i;c++)l[c]===1&&r++;var d=e.getHeight()*e.getWidth(),h=Math.floor(Math.abs(r*2-d)*10/d);return h*t.N4},t.getDataMaskBit=function(e,r,n){var i,s;switch(e){case 0:i=n+r&1;break;case 1:i=n&1;break;case 2:i=r%3;break;case 3:i=(n+r)%3;break;case 4:i=Math.floor(n/2)+Math.floor(r/3)&1;break;case 5:s=n*r,i=(s&1)+s%3;break;case 6:s=n*r,i=(s&1)+s%3&1;break;case 7:s=n*r,i=s%3+(n+r&1)&1;break;default:throw new qe("Invalid mask pattern: "+e)}return i===0},t.applyMaskPenaltyRule1Internal=function(e,r){for(var n=0,i=r?e.getHeight():e.getWidth(),s=r?e.getWidth():e.getHeight(),a=e.getArray(),l=0;l<i;l++){for(var c=0,d=-1,h=0;h<s;h++){var f=r?a[l][h]:a[h][l];f===d?c++:(c>=5&&(n+=t.N1+(c-5)),c=1,d=f)}c>=5&&(n+=t.N1+(c-5))}return n},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t}(),Mde=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Rde=function(){function t(e,r){this.width=e,this.height=r;for(var n=new Array(r),i=0;i!==r;i++)n[i]=new Uint8Array(e);this.bytes=n}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(e,r){return this.bytes[r][e]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(e,r,n){this.bytes[r][e]=n},t.prototype.setBoolean=function(e,r,n){this.bytes[r][e]=n?1:0},t.prototype.clear=function(e){var r,n;try{for(var i=Mde(this.bytes),s=i.next();!s.done;s=i.next()){var a=s.value;Kr.fill(a,e)}}catch(l){r={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;if(this.width!==r.width||this.height!==r.height)return!1;for(var n=0,i=this.height;n<i;++n)for(var s=this.bytes[n],a=r.bytes[n],l=0,c=this.width;l<c;++l)if(s[l]!==a[l])return!1;return!0},t.prototype.toString=function(){for(var e=new vt,r=0,n=this.height;r<n;++r){for(var i=this.bytes[r],s=0,a=this.width;s<a;++s)switch(i[s]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},t}(),c2=function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var e=new vt;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},t.prototype.setMode=function(e){this.mode=e},t.prototype.setECLevel=function(e){this.ecLevel=e},t.prototype.setVersion=function(e){this.version=e},t.prototype.setMaskPattern=function(e){this.maskPattern=e},t.prototype.setMatrix=function(e){this.matrix=e},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t}(),Fde=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),lr=function(t){Fde(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="WriterException",e}(yi),xA=function(){function t(){}return t.clearMatrix=function(e){e.clear(255)},t.buildMatrix=function(e,r,n,i,s){t.clearMatrix(s),t.embedBasicPatterns(n,s),t.embedTypeInfo(r,i,s),t.maybeEmbedVersionInfo(n,s),t.embedDataBits(e,i,s)},t.embedBasicPatterns=function(e,r){t.embedPositionDetectionPatternsAndSeparators(r),t.embedDarkDotAtLeftBottomCorner(r),t.maybeEmbedPositionAdjustmentPatterns(e,r),t.embedTimingPatterns(r)},t.embedTypeInfo=function(e,r,n){var i=new ln;t.makeTypeInfoBits(e,r,i);for(var s=0,a=i.getSize();s<a;++s){var l=i.get(i.getSize()-1-s),c=t.TYPE_INFO_COORDINATES[s],d=c[0],h=c[1];if(n.setBoolean(d,h,l),s<8){var f=n.getWidth()-s-1,m=8;n.setBoolean(f,m,l)}else{var f=8,m=n.getHeight()-7+(s-8);n.setBoolean(f,m,l)}}},t.maybeEmbedVersionInfo=function(e,r){if(!(e.getVersionNumber()<7)){var n=new ln;t.makeVersionInfoBits(e,n);for(var i=6*3-1,s=0;s<6;++s)for(var a=0;a<3;++a){var l=n.get(i);i--,r.setBoolean(s,r.getHeight()-11+a,l),r.setBoolean(r.getHeight()-11+a,s,l)}}},t.embedDataBits=function(e,r,n){for(var i=0,s=-1,a=n.getWidth()-1,l=n.getHeight()-1;a>0;){for(a===6&&(a-=1);l>=0&&l<n.getHeight();){for(var c=0;c<2;++c){var d=a-c;if(t.isEmpty(n.get(d,l))){var h=void 0;i<e.getSize()?(h=e.get(i),++i):h=!1,r!==255&&lf.getDataMaskBit(r,d,l)&&(h=!h),n.setBoolean(d,l,h)}}l+=s}s=-s,l+=s,a-=2}if(i!==e.getSize())throw new lr("Not all bits consumed: "+i+"/"+e.getSize())},t.findMSBSet=function(e){return 32-wt.numberOfLeadingZeros(e)},t.calculateBCHCode=function(e,r){if(r===0)throw new qe("0 polynomial");var n=t.findMSBSet(r);for(e<<=n-1;t.findMSBSet(e)>=n;)e^=r<<t.findMSBSet(e)-n;return e},t.makeTypeInfoBits=function(e,r,n){if(!c2.isValidMaskPattern(r))throw new lr("Invalid mask pattern");var i=e.getBits()<<3|r;n.appendBits(i,5);var s=t.calculateBCHCode(i,t.TYPE_INFO_POLY);n.appendBits(s,10);var a=new ln;if(a.appendBits(t.TYPE_INFO_MASK_PATTERN,15),n.xor(a),n.getSize()!==15)throw new lr("should not happen but we got: "+n.getSize())},t.makeVersionInfoBits=function(e,r){r.appendBits(e.getVersionNumber(),6);var n=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(r.appendBits(n,12),r.getSize()!==18)throw new lr("should not happen but we got: "+r.getSize())},t.isEmpty=function(e){return e===255},t.embedTimingPatterns=function(e){for(var r=8;r<e.getWidth()-8;++r){var n=(r+1)%2;t.isEmpty(e.get(r,6))&&e.setNumber(r,6,n),t.isEmpty(e.get(6,r))&&e.setNumber(6,r,n)}},t.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new lr;e.setNumber(8,e.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,r,n){for(var i=0;i<8;++i){if(!t.isEmpty(n.get(e+i,r)))throw new lr;n.setNumber(e+i,r,0)}},t.embedVerticalSeparationPattern=function(e,r,n){for(var i=0;i<7;++i){if(!t.isEmpty(n.get(e,r+i)))throw new lr;n.setNumber(e,r+i,0)}},t.embedPositionAdjustmentPattern=function(e,r,n){for(var i=0;i<5;++i)for(var s=t.POSITION_ADJUSTMENT_PATTERN[i],a=0;a<5;++a)n.setNumber(e+a,r+i,s[a])},t.embedPositionDetectionPattern=function(e,r,n){for(var i=0;i<7;++i)for(var s=t.POSITION_DETECTION_PATTERN[i],a=0;a<7;++a)n.setNumber(e+a,r+i,s[a])},t.embedPositionDetectionPatternsAndSeparators=function(e){var r=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-r,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-r,e);var n=8;t.embedHorizontalSeparationPattern(0,n-1,e),t.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);var i=7;t.embedVerticalSeparationPattern(i,0,e),t.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),t.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,r){if(!(e.getVersionNumber()<2))for(var n=e.getVersionNumber()-1,i=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],s=0,a=i.length;s!==a;s++){var l=i[s];if(l>=0)for(var c=0;c!==a;c++){var d=i[c];d>=0&&t.isEmpty(r.get(d,l))&&t.embedPositionAdjustmentPattern(d-2,l-2,r)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t}(),Lde=function(){function t(e,r){this.dataBytes=e,this.errorCorrectionBytes=r}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t}(),yA=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.calculateMaskPenalty=function(e){return lf.applyMaskPenaltyRule1(e)+lf.applyMaskPenaltyRule2(e)+lf.applyMaskPenaltyRule3(e)+lf.applyMaskPenaltyRule4(e)},t.encode=function(e,r,n){n===void 0&&(n=null);var i=t.DEFAULT_BYTE_MODE_ENCODING,s=n!==null&&n.get(j0.CHARACTER_SET)!==void 0;s&&(i=n.get(j0.CHARACTER_SET).toString());var a=this.chooseMode(e,i),l=new ln;if(a===cr.BYTE&&(s||t.DEFAULT_BYTE_MODE_ENCODING!==i)){var c=Zr.getCharacterSetECIByName(i);c!==void 0&&this.appendECI(c,l)}this.appendModeInfo(a,l);var d=new ln;this.appendBytes(e,a,d,i);var h;if(n!==null&&n.get(j0.QR_VERSION)!==void 0){var f=Number.parseInt(n.get(j0.QR_VERSION).toString(),10);h=_c.getVersionForNumber(f);var m=this.calculateBitsNeeded(a,l,d,h);if(!this.willFit(m,h,r))throw new lr("Data too big for requested version")}else h=this.recommendVersion(r,a,l,d);var g=new ln;g.appendBitArray(l);var y=a===cr.BYTE?d.getSizeInBytes():e.length;this.appendLengthInfo(y,h,a,g),g.appendBitArray(d);var x=h.getECBlocksForLevel(r),N=h.getTotalCodewords()-x.getTotalECCodewords();this.terminateBits(N,g);var _=this.interleaveWithECBytes(g,h.getTotalCodewords(),N,x.getNumBlocks()),w=new c2;w.setECLevel(r),w.setMode(a),w.setVersion(h);var S=h.getDimensionForVersion(),E=new Rde(S,S),j=this.chooseMaskPattern(_,r,h,E);return w.setMaskPattern(j),xA.buildMatrix(_,r,h,j,E),w.setMatrix(E),w},t.recommendVersion=function(e,r,n,i){var s=this.calculateBitsNeeded(r,n,i,_c.getVersionForNumber(1)),a=this.chooseVersion(s,e),l=this.calculateBitsNeeded(r,n,i,a);return this.chooseVersion(l,e)},t.calculateBitsNeeded=function(e,r,n,i){return r.getSize()+e.getCharacterCountBits(i)+n.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,r){if(r===void 0&&(r=null),Zr.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return cr.KANJI;for(var n=!1,i=!1,s=0,a=e.length;s<a;++s){var l=e.charAt(s);if(t.isDigit(l))n=!0;else if(this.getAlphanumericCode(l.charCodeAt(0))!==-1)i=!0;else return cr.BYTE}return i?cr.ALPHANUMERIC:n?cr.NUMERIC:cr.BYTE},t.isOnlyDoubleByteKanji=function(e){var r;try{r=Qi.encode(e,Zr.SJIS)}catch{return!1}var n=r.length;if(n%2!==0)return!1;for(var i=0;i<n;i+=2){var s=r[i]&255;if((s<129||s>159)&&(s<224||s>235))return!1}return!0},t.chooseMaskPattern=function(e,r,n,i){for(var s=Number.MAX_SAFE_INTEGER,a=-1,l=0;l<c2.NUM_MASK_PATTERNS;l++){xA.buildMatrix(e,r,n,l,i);var c=this.calculateMaskPenalty(i);c<s&&(s=c,a=l)}return a},t.chooseVersion=function(e,r){for(var n=1;n<=40;n++){var i=_c.getVersionForNumber(n);if(t.willFit(e,i,r))return i}throw new lr("Data too big")},t.willFit=function(e,r,n){var i=r.getTotalCodewords(),s=r.getECBlocksForLevel(n),a=s.getTotalECCodewords(),l=i-a,c=(e+7)/8;return l>=c},t.terminateBits=function(e,r){var n=e*8;if(r.getSize()>n)throw new lr("data bits cannot fit in the QR Code"+r.getSize()+" > "+n);for(var i=0;i<4&&r.getSize()<n;++i)r.appendBit(!1);var s=r.getSize()&7;if(s>0)for(var i=s;i<8;i++)r.appendBit(!1);for(var a=e-r.getSizeInBytes(),i=0;i<a;++i)r.appendBits(i&1?17:236,8);if(r.getSize()!==n)throw new lr("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(e,r,n,i,s,a){if(i>=n)throw new lr("Block ID too large");var l=e%n,c=n-l,d=Math.floor(e/n),h=d+1,f=Math.floor(r/n),m=f+1,g=d-f,y=h-m;if(g!==y)throw new lr("EC bytes mismatch");if(n!==c+l)throw new lr("RS blocks mismatch");if(e!==(f+g)*c+(m+y)*l)throw new lr("Total bytes mismatch");i<c?(s[0]=f,a[0]=g):(s[0]=m,a[0]=y)},t.interleaveWithECBytes=function(e,r,n,i){var s,a,l,c;if(e.getSizeInBytes()!==n)throw new lr("Number of bits and data bytes does not match");for(var d=0,h=0,f=0,m=new Array,g=0;g<i;++g){var y=new Int32Array(1),x=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(r,n,i,g,y,x);var N=y[0],_=new Uint8Array(N);e.toBytes(8*d,_,0,N);var w=t.generateECBytes(_,x[0]);m.push(new Lde(_,w)),h=Math.max(h,N),f=Math.max(f,w.length),d+=y[0]}if(n!==d)throw new lr("Data bytes does not match offset");for(var S=new ln,g=0;g<h;++g)try{for(var E=(s=void 0,yA(m)),j=E.next();!j.done;j=E.next()){var D=j.value,_=D.getDataBytes();g<_.length&&S.appendBits(_[g],8)}}catch(P){s={error:P}}finally{try{j&&!j.done&&(a=E.return)&&a.call(E)}finally{if(s)throw s.error}}for(var g=0;g<f;++g)try{for(var T=(l=void 0,yA(m)),O=T.next();!O.done;O=T.next()){var D=O.value,w=D.getErrorCorrectionBytes();g<w.length&&S.appendBits(w[g],8)}}catch(P){l={error:P}}finally{try{O&&!O.done&&(c=T.return)&&c.call(T)}finally{if(l)throw l.error}}if(r!==S.getSizeInBytes())throw new lr("Interleaving error: "+r+" and "+S.getSizeInBytes()+" differ.");return S},t.generateECBytes=function(e,r){for(var n=e.length,i=new Int32Array(n+r),s=0;s<n;s++)i[s]=e[s]&255;new MF(hi.QR_CODE_FIELD_256).encode(i,r);for(var a=new Uint8Array(r),s=0;s<r;s++)a[s]=i[n+s];return a},t.appendModeInfo=function(e,r){r.appendBits(e.getBits(),4)},t.appendLengthInfo=function(e,r,n,i){var s=n.getCharacterCountBits(r);if(e>=1<<s)throw new lr(e+" is bigger than "+((1<<s)-1));i.appendBits(e,s)},t.appendBytes=function(e,r,n,i){switch(r){case cr.NUMERIC:t.appendNumericBytes(e,n);break;case cr.ALPHANUMERIC:t.appendAlphanumericBytes(e,n);break;case cr.BYTE:t.append8BitBytes(e,n,i);break;case cr.KANJI:t.appendKanjiBytes(e,n);break;default:throw new lr("Invalid mode: "+r)}},t.getDigit=function(e){return e.charCodeAt(0)-48},t.isDigit=function(e){var r=t.getDigit(e);return r>=0&&r<=9},t.appendNumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var s=t.getDigit(e.charAt(i));if(i+2<n){var a=t.getDigit(e.charAt(i+1)),l=t.getDigit(e.charAt(i+2));r.appendBits(s*100+a*10+l,10),i+=3}else if(i+1<n){var a=t.getDigit(e.charAt(i+1));r.appendBits(s*10+a,7),i+=2}else r.appendBits(s,4),i++}},t.appendAlphanumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var s=t.getAlphanumericCode(e.charCodeAt(i));if(s===-1)throw new lr;if(i+1<n){var a=t.getAlphanumericCode(e.charCodeAt(i+1));if(a===-1)throw new lr;r.appendBits(s*45+a,11),i+=2}else r.appendBits(s,6),i++}},t.append8BitBytes=function(e,r,n){var i;try{i=Qi.encode(e,n)}catch(c){throw new lr(c)}for(var s=0,a=i.length;s!==a;s++){var l=i[s];r.appendBits(l,8)}},t.appendKanjiBytes=function(e,r){var n;try{n=Qi.encode(e,Zr.SJIS)}catch(f){throw new lr(f)}for(var i=n.length,s=0;s<i;s+=2){var a=n[s]&255,l=n[s+1]&255,c=a<<8&4294967295|l,d=-1;if(c>=33088&&c<=40956?d=c-33088:c>=57408&&c<=60351&&(d=c-49472),d===-1)throw new lr("Invalid byte sequence");var h=(d>>8)*192+(d&255);r.appendBits(h,13)}},t.appendECI=function(e,r){r.appendBits(cr.ECI.getBits(),4),r.appendBits(e.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=Zr.UTF8.getName(),t})();var Bde=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){Bde(e,t);function e(r,n,i,s,a,l,c,d){var h=t.call(this,l,c)||this;if(h.yuvData=r,h.dataWidth=n,h.dataHeight=i,h.left=s,h.top=a,s+l>n||a+c>i)throw new qe("Crop rectangle does not fit within image data.");return d&&h.reverseHorizontal(l,c),h}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new qe("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var s=(r+this.top)*this.dataWidth+this.left;return rr.arraycopy(this.yuvData,s,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.yuvData;var i=r*n,s=new Uint8ClampedArray(i),a=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return rr.arraycopy(this.yuvData,a,s,0,i),s;for(var l=0;l<n;l++){var c=l*r;rr.arraycopy(this.yuvData,a,s,c,r),a+=this.dataWidth}return s},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,s){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+n,i,s,!1)},e.prototype.renderThumbnail=function(){for(var r=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(r*n),s=this.yuvData,a=this.top*this.dataWidth+this.left,l=0;l<n;l++){for(var c=l*r,d=0;d<r;d++){var h=s[a+d*e.THUMBNAIL_SCALE_FACTOR]&255;i[c+d]=4278190080|h*65793}a+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(r,n){for(var i=this.yuvData,s=0,a=this.top*this.dataWidth+this.left;s<n;s++,a+=this.dataWidth)for(var l=a+r/2,c=a,d=a+r-1;c<l;c++,d--){var h=i[c];i[c]=i[d],i[d]=h}},e.prototype.invert=function(){return new Ov(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(vm);var Ude=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){Ude(e,t);function e(r,n,i,s,a,l,c){var d=t.call(this,n,i)||this;if(d.dataWidth=s,d.dataHeight=a,d.left=l,d.top=c,r.BYTES_PER_ELEMENT===4){for(var h=n*i,f=new Uint8ClampedArray(h),m=0;m<h;m++){var g=r[m],y=g>>16&255,x=g>>7&510,N=g&255;f[m]=(y+x+N)/4&255}d.luminances=f}else d.luminances=r;if(s===void 0&&(d.dataWidth=n),a===void 0&&(d.dataHeight=i),l===void 0&&(d.left=0),c===void 0&&(d.top=0),d.left+n>d.dataWidth||d.top+i>d.dataHeight)throw new qe("Crop rectangle does not fit within image data.");return d}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new qe("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var s=(r+this.top)*this.dataWidth+this.left;return rr.arraycopy(this.luminances,s,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.luminances;var i=r*n,s=new Uint8ClampedArray(i),a=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return rr.arraycopy(this.luminances,a,s,0,i),s;for(var l=0;l<n;l++){var c=l*r;rr.arraycopy(this.luminances,a,s,c,r),a+=this.dataWidth}return s},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,s){return new e(this.luminances,i,s,this.dataWidth,this.dataHeight,this.left+r,this.top+n)},e.prototype.invert=function(){return new Ov(this)},e})(vm);var zde=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),$de=function(t){zde(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.forName=function(r){return this.getCharacterSetECIByName(r)},e}(Zr),Vde=function(){function t(){}return t.ISO_8859_1=Zr.ISO8859_1,t}(),u2,Wde=301,Hde=function(t,e){for(var r=1,n=0;n<255;n++)e[n]=r,t[r]=n,r*=2,r>=256&&(r^=Wde);return{LOG:t,ALOG:e}};u2=Hde([],[]),u2.LOG;u2.ALOG;var wA;(function(t){t[t.FORCE_NONE=0]="FORCE_NONE",t[t.FORCE_SQUARE=1]="FORCE_SQUARE",t[t.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(wA||(wA={}));var bA=129,RF=230,Gde=231,qde=235,Zde=236,Kde=237,Yde=238,Xde=239,Qde=240,Ay=254,Jde=254,_A="[)>05",NA="[)>06",CA="",Zt=0,xn=1,Vn=2,$r=3,an=4,kn=5,ehe=function(){function t(){}return t.prototype.getEncodingMode=function(){return Zt},t.prototype.encode=function(e){var r=js.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(r>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var n=e.getCurrentChar(),i=js.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case kn:e.writeCodeword(Gde),e.signalEncoderChange(kn);return;case xn:e.writeCodeword(RF),e.signalEncoderChange(xn);return;case $r:e.writeCodeword(Yde),e.signalEncoderChange($r);break;case Vn:e.writeCodeword(Xde),e.signalEncoderChange(Vn);break;case an:e.writeCodeword(Qde),e.signalEncoderChange(an);break;default:throw new Error("Illegal mode: "+i)}else js.isExtendedASCII(n)?(e.writeCodeword(qde),e.writeCodeword(n-128+1),e.pos++):(e.writeCodeword(n+1),e.pos++)}},t.prototype.encodeASCIIDigits=function(e,r){if(js.isDigit(e)&&js.isDigit(r)){var n=(e-48)*10+(r-48);return n+130}throw new Error("not digits: "+e+r)},t}(),the=function(){function t(){}return t.prototype.getEncodingMode=function(){return kn},t.prototype.encode=function(e){var r=new vt;for(r.append(0);e.hasMoreCharacters();){var n=e.getCurrentChar();r.append(n),e.pos++;var i=js.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange(Zt);break}}var s=r.length()-1,a=1,l=e.getCodewordCount()+s+a;e.updateSymbolInfo(l);var c=e.getSymbolInfo().getDataCapacity()-l>0;if(e.hasMoreCharacters()||c)if(s<=249)r.setCharAt(0,Et.getCharAt(s));else if(s<=1555)r.setCharAt(0,Et.getCharAt(Math.floor(s/250)+249)),r.insert(1,Et.getCharAt(s%250));else throw new Error("Message length not in valid ranges: "+s);for(var d=0,n=r.length();d<n;d++)e.writeCodeword(this.randomize255State(r.charAt(d).charCodeAt(0),e.getCodewordCount()+1))},t.prototype.randomize255State=function(e,r){var n=149*r%255+1,i=e+n;return i<=255?i:i-256},t}(),ZN=function(){function t(){}return t.prototype.getEncodingMode=function(){return xn},t.prototype.encodeMaximal=function(e){for(var r=new vt,n=0,i=e.pos,s=0;e.hasMoreCharacters();){var a=e.getCurrentChar();e.pos++,n=this.encodeChar(a,r),r.length()%3===0&&(i=e.pos,s=r.length())}if(s!==r.length()){var l=Math.floor(r.length()/3*2),c=Math.floor(e.getCodewordCount()+l+1);e.updateSymbolInfo(c);var d=e.getSymbolInfo().getDataCapacity()-c,h=Math.floor(r.length()%3);(h===2&&d!==2||h===1&&(n>3||d!==1))&&(e.pos=i)}r.length()>0&&e.writeCodeword(RF),this.handleEOD(e,r)},t.prototype.encode=function(e){for(var r=new vt;e.hasMoreCharacters();){var n=e.getCurrentChar();e.pos++;var i=this.encodeChar(n,r),s=Math.floor(r.length()/3)*2,a=e.getCodewordCount()+s;e.updateSymbolInfo(a);var l=e.getSymbolInfo().getDataCapacity()-a;if(!e.hasMoreCharacters()){var c=new vt;for(r.length()%3===2&&l!==2&&(i=this.backtrackOneCharacter(e,r,c,i));r.length()%3===1&&(i>3||l!==1);)i=this.backtrackOneCharacter(e,r,c,i);break}var d=r.length();if(d%3===0){var h=js.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(h!==this.getEncodingMode()){e.signalEncoderChange(Zt);break}}}this.handleEOD(e,r)},t.prototype.backtrackOneCharacter=function(e,r,n,i){var s=r.length(),a=r.toString().substring(0,s-i);r.setLengthToZero(),r.append(a),e.pos--;var l=e.getCurrentChar();return i=this.encodeChar(l,n),e.resetSymbolInfo(),i},t.prototype.writeNextTriplet=function(e,r){e.writeCodewords(this.encodeToCodewords(r.toString()));var n=r.toString().substring(3);r.setLengthToZero(),r.append(n)},t.prototype.handleEOD=function(e,r){var n=Math.floor(r.length()/3*2),i=r.length()%3,s=e.getCodewordCount()+n;e.updateSymbolInfo(s);var a=e.getSymbolInfo().getDataCapacity()-s;if(i===2){for(r.append("\0");r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(Ay)}else if(a===1&&i===1){for(;r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(Ay),e.pos--}else if(i===0){for(;r.length()>=3;)this.writeNextTriplet(e,r);(a>0||e.hasMoreCharacters())&&e.writeCodeword(Ay)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(Zt)},t.prototype.encodeChar=function(e,r){if(e===32)return r.append(3),1;if(e>=48&&e<=57)return r.append(e-48+4),1;if(e>=65&&e<=90)return r.append(e-65+14),1;if(e<32)return r.append(0),r.append(e),2;if(e<=47)return r.append(1),r.append(e-33),2;if(e<=64)return r.append(1),r.append(e-58+15),2;if(e<=95)return r.append(1),r.append(e-91+22),2;if(e<=127)return r.append(2),r.append(e-96),2;r.append("1");var n=2;return n+=this.encodeChar(e-128,r),n},t.prototype.encodeToCodewords=function(e){var r=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,n=r/256,i=r%256,s=new vt;return s.append(n),s.append(i),s.toString()},t}(),rhe=function(){function t(){}return t.prototype.getEncodingMode=function(){return an},t.prototype.encode=function(e){for(var r=new vt;e.hasMoreCharacters();){var n=e.getCurrentChar();this.encodeChar(n,r),e.pos++;var i=r.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(r.toString()));var s=r.toString().substring(4);r.setLengthToZero(),r.append(s);var a=js.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(a!==this.getEncodingMode()){e.signalEncoderChange(Zt);break}}}r.append(Et.getCharAt(31)),this.handleEOD(e,r)},t.prototype.handleEOD=function(e,r){try{var n=r.length();if(n===0)return;if(n===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),s=e.getRemainingCharacters();if(s>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),s<=i&&i<=2)return}if(n>4)throw new Error("Count must not exceed 4");var a=n-1,l=this.encodeToCodewords(r.toString()),c=!e.hasMoreCharacters(),d=c&&a<=2;if(a<=2){e.updateSymbolInfo(e.getCodewordCount()+a);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(d=!1,e.updateSymbolInfo(e.getCodewordCount()+l.length))}d?(e.resetSymbolInfo(),e.pos-=a):e.writeCodewords(l)}finally{e.signalEncoderChange(Zt)}},t.prototype.encodeChar=function(e,r){e>=32&&e<=63?r.append(e):e>=64&&e<=94?r.append(Et.getCharAt(e-64)):js.illegalCharacter(Et.getCharAt(e))},t.prototype.encodeToCodewords=function(e){var r=e.length;if(r===0)throw new Error("StringBuilder must not be empty");var n=e.charAt(0).charCodeAt(0),i=r>=2?e.charAt(1).charCodeAt(0):0,s=r>=3?e.charAt(2).charCodeAt(0):0,a=r>=4?e.charAt(3).charCodeAt(0):0,l=(n<<18)+(i<<12)+(s<<6)+a,c=l>>16&255,d=l>>8&255,h=l&255,f=new vt;return f.append(c),r>=2&&f.append(d),r>=3&&f.append(h),f.toString()},t}(),nhe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ihe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$t=function(){function t(e,r,n,i,s,a,l,c){l===void 0&&(l=0),c===void 0&&(c=0),this.rectangular=e,this.dataCapacity=r,this.errorCodewords=n,this.matrixWidth=i,this.matrixHeight=s,this.dataRegions=a,this.rsBlockData=l,this.rsBlockError=c}return t.lookup=function(e,r,n,i,s){var a,l;r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),s===void 0&&(s=!0);try{for(var c=ihe(ahe),d=c.next();!d.done;d=c.next()){var h=d.value;if(!(r===1&&h.rectangular)&&!(r===2&&!h.rectangular)&&!(n!=null&&(h.getSymbolWidth()<n.getWidth()||h.getSymbolHeight()<n.getHeight()))&&!(i!=null&&(h.getSymbolWidth()>i.getWidth()||h.getSymbolHeight()>i.getHeight()))&&e<=h.dataCapacity)return h}}catch(f){a={error:f}}finally{try{d&&!d.done&&(l=c.return)&&l.call(c)}finally{if(a)throw a.error}}if(s)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},t.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},t.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},t.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},t.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},t.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},t.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},t.prototype.getDataCapacity=function(){return this.dataCapacity},t.prototype.getErrorCodewords=function(){return this.errorCodewords},t.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},t.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},t}(),she=function(t){nhe(e,t);function e(){return t.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(r){return r<=8?156:155},e}($t),ahe=[new $t(!1,3,5,8,8,1),new $t(!1,5,7,10,10,1),new $t(!0,5,7,16,6,1),new $t(!1,8,10,12,12,1),new $t(!0,10,11,14,6,2),new $t(!1,12,12,14,14,1),new $t(!0,16,14,24,10,1),new $t(!1,18,14,16,16,1),new $t(!1,22,18,18,18,1),new $t(!0,22,18,16,10,2),new $t(!1,30,20,20,20,1),new $t(!0,32,24,16,14,2),new $t(!1,36,24,22,22,1),new $t(!1,44,28,24,24,1),new $t(!0,49,28,22,14,2),new $t(!1,62,36,14,14,4),new $t(!1,86,42,16,16,4),new $t(!1,114,48,18,18,4),new $t(!1,144,56,20,20,4),new $t(!1,174,68,22,22,4),new $t(!1,204,84,24,24,4,102,42),new $t(!1,280,112,14,14,16,140,56),new $t(!1,368,144,16,16,16,92,36),new $t(!1,456,192,18,18,16,114,48),new $t(!1,576,224,20,20,16,144,56),new $t(!1,696,272,22,22,16,174,68),new $t(!1,816,336,24,24,16,136,56),new $t(!1,1050,408,18,18,36,175,68),new $t(!1,1304,496,20,20,36,163,62),new she],ohe=function(){function t(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var r=e.split("").map(function(l){return l.charCodeAt(0)}),n=new vt,i=0,s=r.length;i<s;i++){var a=String.fromCharCode(r[i]&255);if(a==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");n.append(a)}this.msg=n.toString(),this.shape=0,this.codewords=new vt,this.newEncoding=-1}return t.prototype.setSymbolShape=function(e){this.shape=e},t.prototype.setSizeConstraints=function(e,r){this.minSize=e,this.maxSize=r},t.prototype.getMessage=function(){return this.msg},t.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},t.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCodewords=function(){return this.codewords},t.prototype.writeCodewords=function(e){this.codewords.append(e)},t.prototype.writeCodeword=function(e){this.codewords.append(e)},t.prototype.getCodewordCount=function(){return this.codewords.length()},t.prototype.getNewEncoding=function(){return this.newEncoding},t.prototype.signalEncoderChange=function(e){this.newEncoding=e},t.prototype.resetEncoderSignal=function(){this.newEncoding=-1},t.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},t.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},t.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},t.prototype.getSymbolInfo=function(){return this.symbolInfo},t.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=$t.lookup(e,this.shape,this.minSize,this.maxSize,!0))},t.prototype.resetSymbolInfo=function(){this.symbolInfo=null},t}(),lhe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),che=function(t){lhe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return $r},e.prototype.encode=function(r){for(var n=new vt;r.hasMoreCharacters();){var i=r.getCurrentChar();r.pos++,this.encodeChar(i,n);var s=n.length();if(s%3===0){this.writeNextTriplet(r,n);var a=js.lookAheadTest(r.getMessage(),r.pos,this.getEncodingMode());if(a!==this.getEncodingMode()){r.signalEncoderChange(Zt);break}}}this.handleEOD(r,n)},e.prototype.encodeChar=function(r,n){switch(r){case 13:n.append(0);break;case 42:n.append(1);break;case 62:n.append(2);break;case 32:n.append(3);break;default:r>=48&&r<=57?n.append(r-48+4):r>=65&&r<=90?n.append(r-65+14):js.illegalCharacter(Et.getCharAt(r));break}return 1},e.prototype.handleEOD=function(r,n){r.updateSymbolInfo();var i=r.getSymbolInfo().getDataCapacity()-r.getCodewordCount(),s=n.length();r.pos-=s,(r.getRemainingCharacters()>1||i>1||r.getRemainingCharacters()!==i)&&r.writeCodeword(Jde),r.getNewEncoding()<0&&r.signalEncoderChange(Zt)},e}(ZN),uhe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),dhe=function(t){uhe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return Vn},e.prototype.encodeChar=function(r,n){if(r===32)return n.append(3),1;if(r>=48&&r<=57)return n.append(r-48+4),1;if(r>=97&&r<=122)return n.append(r-97+14),1;if(r<32)return n.append(0),n.append(r),2;if(r<=47)return n.append(1),n.append(r-33),2;if(r<=64)return n.append(1),n.append(r-58+15),2;if(r>=91&&r<=95)return n.append(1),n.append(r-91+22),2;if(r===96)return n.append(2),n.append(0),2;if(r<=90)return n.append(2),n.append(r-65+1),2;if(r<=127)return n.append(2),n.append(r-123+27),2;n.append("1");var i=2;return i+=this.encodeChar(r-128,n),i},e}(ZN),js=function(){function t(){}return t.randomize253State=function(e){var r=149*e%253+1,n=bA+r;return n<=254?n:n-254},t.encodeHighLevel=function(e,r,n,i,s){r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),s===void 0&&(s=!1);var a=new ZN,l=[new ehe,a,new dhe,new che,new rhe,new the],c=new ohe(e);c.setSymbolShape(r),c.setSizeConstraints(n,i),e.startsWith(_A)&&e.endsWith(CA)?(c.writeCodeword(Zde),c.setSkipAtEnd(2),c.pos+=_A.length):e.startsWith(NA)&&e.endsWith(CA)&&(c.writeCodeword(Kde),c.setSkipAtEnd(2),c.pos+=NA.length);var d=Zt;for(s&&(a.encodeMaximal(c),d=c.getNewEncoding(),c.resetEncoderSignal());c.hasMoreCharacters();)l[d].encode(c),c.getNewEncoding()>=0&&(d=c.getNewEncoding(),c.resetEncoderSignal());var h=c.getCodewordCount();c.updateSymbolInfo();var f=c.getSymbolInfo().getDataCapacity();h<f&&d!==Zt&&d!==kn&&d!==an&&c.writeCodeword("");var m=c.getCodewords();for(m.length()<f&&m.append(bA);m.length()<f;)m.append(this.randomize253State(m.length()+1));return c.getCodewords().toString()},t.lookAheadTest=function(e,r,n){var i=this.lookAheadTestIntern(e,r,n);if(n===$r&&i===$r){for(var s=Math.min(r+3,e.length),a=r;a<s;a++)if(!this.isNativeX12(e.charCodeAt(a)))return Zt}else if(n===an&&i===an){for(var s=Math.min(r+4,e.length),a=r;a<s;a++)if(!this.isNativeEDIFACT(e.charCodeAt(a)))return Zt}return i},t.lookAheadTestIntern=function(e,r,n){if(r>=e.length)return n;var i;n===Zt?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[n]=0);for(var s=0,a=new Uint8Array(6),l=[];;){if(r+s===e.length){Kr.fill(a,0),Kr.fill(l,0);var c=this.findMinimums(i,l,wt.MAX_VALUE,a),d=this.getMinimumCount(a);if(l[Zt]===c)return Zt;if(d===1){if(a[kn]>0)return kn;if(a[an]>0)return an;if(a[Vn]>0)return Vn;if(a[$r]>0)return $r}return xn}var h=e.charCodeAt(r+s);if(s++,this.isDigit(h)?i[Zt]+=.5:this.isExtendedASCII(h)?(i[Zt]=Math.ceil(i[Zt]),i[Zt]+=2):(i[Zt]=Math.ceil(i[Zt]),i[Zt]++),this.isNativeC40(h)?i[xn]+=2/3:this.isExtendedASCII(h)?i[xn]+=8/3:i[xn]+=4/3,this.isNativeText(h)?i[Vn]+=2/3:this.isExtendedASCII(h)?i[Vn]+=8/3:i[Vn]+=4/3,this.isNativeX12(h)?i[$r]+=2/3:this.isExtendedASCII(h)?i[$r]+=13/3:i[$r]+=10/3,this.isNativeEDIFACT(h)?i[an]+=3/4:this.isExtendedASCII(h)?i[an]+=17/4:i[an]+=13/4,this.isSpecialB256(h)?i[kn]+=4:i[kn]++,s>=4){if(Kr.fill(a,0),Kr.fill(l,0),this.findMinimums(i,l,wt.MAX_VALUE,a),l[Zt]<this.min(l[kn],l[xn],l[Vn],l[$r],l[an]))return Zt;if(l[kn]<l[Zt]||l[kn]+1<this.min(l[xn],l[Vn],l[$r],l[an]))return kn;if(l[an]+1<this.min(l[kn],l[xn],l[Vn],l[$r],l[Zt]))return an;if(l[Vn]+1<this.min(l[kn],l[xn],l[an],l[$r],l[Zt]))return Vn;if(l[$r]+1<this.min(l[kn],l[xn],l[an],l[Vn],l[Zt]))return $r;if(l[xn]+1<this.min(l[Zt],l[kn],l[an],l[Vn])){if(l[xn]<l[$r])return xn;if(l[xn]===l[$r]){for(var f=r+s+1;f<e.length;){var m=e.charCodeAt(f);if(this.isX12TermSep(m))return $r;if(!this.isNativeX12(m))break;f++}return xn}}}}},t.min=function(e,r,n,i,s){var a=Math.min(e,Math.min(r,Math.min(n,i)));return s===void 0?a:Math.min(a,s)},t.findMinimums=function(e,r,n,i){for(var s=0;s<6;s++){var a=r[s]=Math.ceil(e[s]);n>a&&(n=a,Kr.fill(i,0)),n===a&&(i[s]=i[s]+1)}return n},t.getMinimumCount=function(e){for(var r=0,n=0;n<6;n++)r+=e[n];return r||0},t.isDigit=function(e){return e>=48&&e<=57},t.isExtendedASCII=function(e){return e>=128&&e<=255},t.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},t.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},t.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},t.isX12TermSep=function(e){return e===13||e===42||e===62},t.isNativeEDIFACT=function(e){return e>=32&&e<=94},t.isSpecialB256=function(e){return!1},t.determineConsecutiveDigitCount=function(e,r){r===void 0&&(r=0);for(var n=e.length,i=r;i<n&&this.isDigit(e.charCodeAt(i));)i++;return i-r},t.illegalCharacter=function(e){var r=wt.toHexString(e.charCodeAt(0));throw r="0000".substring(0,4-r.length)+r,new Error("Illegal character: "+e+" (0x"+r+")")},t}(),ky=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},SA=function(){function t(e){this.charset=e,this.name=e.name}return t.prototype.canEncode=function(e){try{return Qi.encode(e,this.charset)!=null}catch{return!1}},t}(),hhe=function(){function t(e,r,n){var i,s,a,l,c,d;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(B){return new SA($de.forName(B))}),this.encoders=[];var h=[];h.push(new SA(Vde.ISO_8859_1));for(var f=r!=null&&r.name.startsWith("UTF"),m=0;m<e.length;m++){var g=!1;try{for(var y=(i=void 0,ky(h)),x=y.next();!x.done;x=y.next()){var N=x.value,_=e.charAt(m),w=_.charCodeAt(0);if(w===n||N.canEncode(_)){g=!0;break}}}catch(B){i={error:B}}finally{try{x&&!x.done&&(s=y.return)&&s.call(y)}finally{if(i)throw i.error}}if(!g)try{for(var S=(a=void 0,ky(this.ENCODERS)),E=S.next();!E.done;E=S.next()){var N=E.value;if(N.canEncode(e.charAt(m))){h.push(N),g=!0;break}}}catch(B){a={error:B}}finally{try{E&&!E.done&&(l=S.return)&&l.call(S)}finally{if(a)throw a.error}}g||(f=!0)}if(h.length===1&&!f)this.encoders=[h[0]];else{this.encoders=[];var j=0;try{for(var D=ky(h),T=D.next();!T.done;T=D.next()){var N=T.value;this.encoders[j++]=N}}catch(B){c={error:B}}finally{try{T&&!T.done&&(d=D.return)&&d.call(D)}finally{if(c)throw c.error}}}var O=-1;if(r!=null){for(var m=0;m<this.encoders.length;m++)if(this.encoders[m]!=null&&r.name===this.encoders[m].name){O=m;break}}this.priorityEncoderIndex=O}return t.prototype.length=function(){return this.encoders.length},t.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},t.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},t.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},t.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},t.prototype.canEncode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return!0},t.prototype.encode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return Qi.encode(Et.getCharAt(e),this.encoders[r].name)},t}(),fhe=3,phe=function(){function t(e,r,n){this.fnc1=n;var i=new hhe(e,r,n);if(i.length()===1)for(var s=0;s<this.bytes.length;s++){var a=e.charAt(s).charCodeAt(0);this.bytes[s]=a===n?1e3:a}else this.bytes=this.encodeMinimally(e,i,n)}return t.prototype.getFNC1Character=function(){return this.fnc1},t.prototype.length=function(){return this.bytes.length},t.prototype.haveNCharacters=function(e,r){if(e+r-1>=this.bytes.length)return!1;for(var n=0;n<r;n++)if(this.isECI(e+n))return!1;return!0},t.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},t.prototype.subSequence=function(e,r){if(e<0||e>r||r>this.length())throw new Error(""+e);for(var n=new vt,i=e;i<r;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");n.append(this.charAt(i))}return n.toString()},t.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},t.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},t.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},t.prototype.addEdge=function(e,r,n){(e[r][n.encoderIndex]==null||e[r][n.encoderIndex].cachedTotalSize>n.cachedTotalSize)&&(e[r][n.encoderIndex]=n)},t.prototype.addEdges=function(e,r,n,i,s,a){var l=e.charAt(i).charCodeAt(0),c=0,d=r.length();r.getPriorityEncoderIndex()>=0&&(l===a||r.canEncode(l,r.getPriorityEncoderIndex()))&&(c=r.getPriorityEncoderIndex(),d=c+1);for(var h=c;h<d;h++)(l===a||r.canEncode(l,h))&&this.addEdge(n,i+1,new EA(l,r,h,s,a))},t.prototype.encodeMinimally=function(e,r,n){var i=e.length,s=new EA[i+1][r.length()];this.addEdges(e,r,s,0,null,n);for(var a=1;a<=i;a++){for(var l=0;l<r.length();l++)s[a][l]!=null&&a<i&&this.addEdges(e,r,s,a,s[a][l],n);for(var l=0;l<r.length();l++)s[a-1][l]=null}for(var c=-1,d=wt.MAX_VALUE,l=0;l<r.length();l++)if(s[i][l]!=null){var h=s[i][l];h.cachedTotalSize<d&&(d=h.cachedTotalSize,c=l)}if(c<0)throw new Error('Failed to encode "'+e+'"');for(var f=[],m=s[i][c];m!=null;){if(m.isFNC1())f.unshift(1e3);else for(var g=r.encode(m.c,m.encoderIndex),a=g.length-1;a>=0;a--)f.unshift(g[a]&255);var y=m.previous===null?0:m.previous.encoderIndex;y!==m.encoderIndex&&f.unshift(256+r.getECIValue(m.encoderIndex)),m=m.previous}for(var x=[],a=0;a<x.length;a++)x[a]=f[a];return x},t}(),EA=function(){function t(e,r,n,i,s){this.c=e,this.encoderSet=r,this.encoderIndex=n,this.previous=i,this.fnc1=s,this.c=e===s?1e3:e;var a=this.isFNC1()?1:r.encode(e,n).length,l=i===null?0:i.encoderIndex;l!==n&&(a+=fhe),i!=null&&(a+=i.cachedTotalSize),this.cachedTotalSize=a}return t.prototype.isFNC1=function(){return this.c===1e3},t}(),mhe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var AA;(function(t){t[t.ASCII=0]="ASCII",t[t.C40=1]="C40",t[t.TEXT=2]="TEXT",t[t.X12=3]="X12",t[t.EDF=4]="EDF",t[t.B256=5]="B256"})(AA||(AA={}));(function(t){mhe(e,t);function e(r,n,i,s,a){var l=t.call(this,r,n,i)||this;return l.shape=s,l.macroId=a,l}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(phe);var ghe=function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(e){this.compact=e},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(e){this.size=e},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(e){this.layers=e},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(e){this.codeWords=e},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(e){this.matrix=e},t}(),kA=function(){function t(){}return t.singletonList=function(e){return[e]},t.min=function(e,r){return e.sort(r)[0]},t}(),vhe=function(){function t(e){this.previous=e}return t.prototype.getPrevious=function(){return this.previous},t}(),xhe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),KN=function(t){xhe(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.value=n,s.bitCount=i,s}return e.prototype.appendTo=function(r,n){r.appendBits(this.value,this.bitCount)},e.prototype.add=function(r,n){return new e(this,r,n)},e.prototype.addBinaryShift=function(r,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,r,n)},e.prototype.toString=function(){var r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+wt.toBinaryString(r|1<<this.bitCount).substring(1)+">"},e}(vhe),yhe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),whe=function(t){yhe(e,t);function e(r,n,i){var s=t.call(this,r,0,0)||this;return s.binaryShiftStart=n,s.binaryShiftByteCount=i,s}return e.prototype.appendTo=function(r,n){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):i===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(n[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(r,n){return new e(this,r,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(KN);function bhe(t,e,r){return new whe(t,e,r)}function $h(t,e,r){return new KN(t,e,r)}var _he=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ol=0,w1=1,qi=2,FF=3,va=4,Nhe=new KN(null,0,0),jy=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],Che=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function She(t){var e,r;try{for(var n=Che(t),i=n.next();!i.done;i=n.next()){var s=i.value;Kr.fill(s,-1)}}catch(a){e={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return t[ol][va]=0,t[w1][va]=0,t[w1][ol]=28,t[FF][va]=0,t[qi][va]=0,t[qi][ol]=15,t}var LF=She(Kr.createInt32Array(6,6)),Ehe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ahe=function(){function t(e,r,n,i){this.token=e,this.mode=r,this.binaryShiftByteCount=n,this.bitCount=i}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(e,r){var n=this.bitCount,i=this.token;if(e!==this.mode){var s=jy[this.mode][e];i=$h(i,s&65535,s>>16),n+=s>>16}var a=e===qi?4:5;return i=$h(i,r,a),new t(i,e,0,n+a)},t.prototype.shiftAndAppend=function(e,r){var n=this.token,i=this.mode===qi?4:5;return n=$h(n,LF[this.mode][e],i),n=$h(n,r,5),new t(n,this.mode,0,this.bitCount+i+5)},t.prototype.addBinaryShiftChar=function(e){var r=this.token,n=this.mode,i=this.bitCount;if(this.mode===va||this.mode===qi){var s=jy[n][ol];r=$h(r,s&65535,s>>16),i+=s>>16,n=ol}var a=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,l=new t(r,n,this.binaryShiftByteCount+1,i+a);return l.binaryShiftByteCount===2078&&(l=l.endBinaryShift(e+1)),l},t.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var r=this.token;return r=bhe(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new t(r,this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(e){var r=this.bitCount+(jy[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount},t.prototype.toBitArray=function(e){for(var r,n,i=[],s=this.endBinaryShift(e.length).token;s!==null;s=s.getPrevious())i.unshift(s);var a=new ln;try{for(var l=Ehe(i),c=l.next();!c.done;c=l.next()){var d=c.value;d.appendTo(a,e)}}catch(h){r={error:h}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}return a},t.prototype.toString=function(){return Et.format("%s bits=%d bytes=%d",_he[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t(Nhe,ol,0,0),t}();function khe(t){var e=Et.getCharCode(" "),r=Et.getCharCode("."),n=Et.getCharCode(",");t[ol][e]=1;for(var i=Et.getCharCode("Z"),s=Et.getCharCode("A"),a=s;a<=i;a++)t[ol][a]=a-s+2;t[w1][e]=1;for(var l=Et.getCharCode("z"),c=Et.getCharCode("a"),a=c;a<=l;a++)t[w1][a]=a-c+2;t[qi][e]=1;for(var d=Et.getCharCode("9"),h=Et.getCharCode("0"),a=h;a<=d;a++)t[qi][a]=a-h+2;t[qi][n]=12,t[qi][r]=13;for(var f=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],m=0;m<f.length;m++)t[FF][Et.getCharCode(f[m])]=m;for(var g=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],m=0;m<g.length;m++)Et.getCharCode(g[m])>0&&(t[va][Et.getCharCode(g[m])]=m);return t}var Py=khe(Kr.createInt32Array(5,256)),P0=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jhe=function(){function t(e){this.text=e}return t.prototype.encode=function(){for(var e=Et.getCharCode(" "),r=Et.getCharCode(`
`),n=kA.singletonList(Ahe.INITIAL_STATE),i=0;i<this.text.length;i++){var s=void 0,a=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case Et.getCharCode("\r"):s=a===r?2:0;break;case Et.getCharCode("."):s=a===e?3:0;break;case Et.getCharCode(","):s=a===e?4:0;break;case Et.getCharCode(":"):s=a===e?5:0;break;default:s=0}s>0?(n=t.updateStateListForPair(n,i,s),i++):n=this.updateStateListForChar(n,i)}var l=kA.min(n,function(c,d){return c.getBitCount()-d.getBitCount()});return l.toBitArray(this.text)},t.prototype.updateStateListForChar=function(e,r){var n,i,s=[];try{for(var a=P0(e),l=a.next();!l.done;l=a.next()){var c=l.value;this.updateStateForChar(c,r,s)}}catch(d){n={error:d}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return t.simplifyStates(s)},t.prototype.updateStateForChar=function(e,r,n){for(var i=this.text[r]&255,s=Py[e.getMode()][i]>0,a=null,l=0;l<=va;l++){var c=Py[l][i];if(c>0){if(a==null&&(a=e.endBinaryShift(r)),!s||l===e.getMode()||l===qi){var d=a.latchAndAppend(l,c);n.push(d)}if(!s&&LF[e.getMode()][l]>=0){var h=a.shiftAndAppend(l,c);n.push(h)}}}if(e.getBinaryShiftByteCount()>0||Py[e.getMode()][i]===0){var f=e.addBinaryShiftChar(r);n.push(f)}},t.updateStateListForPair=function(e,r,n){var i,s,a=[];try{for(var l=P0(e),c=l.next();!c.done;c=l.next()){var d=c.value;this.updateStateForPair(d,r,n,a)}}catch(h){i={error:h}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(i)throw i.error}}return this.simplifyStates(a)},t.updateStateForPair=function(e,r,n,i){var s=e.endBinaryShift(r);if(i.push(s.latchAndAppend(va,n)),e.getMode()!==va&&i.push(s.shiftAndAppend(va,n)),n===3||n===4){var a=s.latchAndAppend(qi,16-n).latchAndAppend(qi,1);i.push(a)}if(e.getBinaryShiftByteCount()>0){var l=e.addBinaryShiftChar(r).addBinaryShiftChar(r+1);i.push(l)}},t.simplifyStates=function(e){var r,n,i,s,a=[];try{for(var l=P0(e),c=l.next();!c.done;c=l.next()){var d=c.value,h=!0,f=function(N){if(N.isBetterThanOrEqualTo(d))return h=!1,"break";d.isBetterThanOrEqualTo(N)&&(a=a.filter(function(_){return _!==N}))};try{for(var m=(i=void 0,P0(a)),g=m.next();!g.done;g=m.next()){var y=g.value,x=f(y);if(x==="break")break}}catch(N){i={error:N}}finally{try{g&&!g.done&&(s=m.return)&&s.call(m)}finally{if(i)throw i.error}}h&&a.push(d)}}catch(N){r={error:N}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}return a},t}(),Phe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.encodeBytes=function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(e,r,n){var i=new jhe(e).encode(),s=wt.truncDivision(i.getSize()*r,100)+11,a=i.getSize()+s,l,c,d,h,f;if(n!==t.DEFAULT_AZTEC_LAYERS){if(l=n<0,c=Math.abs(n),c>(l?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new qe(Et.format("Illegal value %s for layers",n));d=t.totalBitsInLayer(c,l),h=t.WORD_SIZE[c];var m=d-d%h;if(f=t.stuffBits(i,h),f.getSize()+s>m)throw new qe("Data to large for user specified layer");if(l&&f.getSize()>h*64)throw new qe("Data to large for user specified layer")}else{h=0,f=null;for(var g=0;;g++){if(g>t.MAX_NB_BITS)throw new qe("Data too large for an Aztec code");if(l=g<=3,c=l?g+1:g,d=t.totalBitsInLayer(c,l),!(a>d)){(f==null||h!==t.WORD_SIZE[c])&&(h=t.WORD_SIZE[c],f=t.stuffBits(i,h));var m=d-d%h;if(!(l&&f.getSize()>h*64)&&f.getSize()+s<=m)break}}}var y=t.generateCheckWords(f,d,h),x=f.getSize()/h,N=t.generateModeMessage(l,c,x),_=(l?11:14)+c*4,w=new Int32Array(_),S;if(l){S=_;for(var g=0;g<w.length;g++)w[g]=g}else{S=_+1+2*wt.truncDivision(wt.truncDivision(_,2)-1,15);for(var E=wt.truncDivision(_,2),j=wt.truncDivision(S,2),g=0;g<E;g++){var D=g+wt.truncDivision(g,15);w[E-g-1]=j-D-1,w[E+g]=j+D+1}}for(var T=new Aa(S),g=0,O=0;g<c;g++){for(var B=(c-g)*4+(l?9:12),P=0;P<B;P++)for(var V=P*2,F=0;F<2;F++)y.get(O+V+F)&&T.set(w[g*2+F],w[g*2+P]),y.get(O+B*2+V+F)&&T.set(w[g*2+P],w[_-1-g*2-F]),y.get(O+B*4+V+F)&&T.set(w[_-1-g*2-F],w[_-1-g*2-P]),y.get(O+B*6+V+F)&&T.set(w[_-1-g*2-P],w[g*2+F]);O+=B*8}if(t.drawModeMessage(T,l,S,N),l)t.drawBullsEye(T,wt.truncDivision(S,2),5);else{t.drawBullsEye(T,wt.truncDivision(S,2),7);for(var g=0,P=0;g<wt.truncDivision(_,2)-1;g+=15,P+=16)for(var F=wt.truncDivision(S,2)&1;F<S;F+=2)T.set(wt.truncDivision(S,2)-P,F),T.set(wt.truncDivision(S,2)+P,F),T.set(F,wt.truncDivision(S,2)-P),T.set(F,wt.truncDivision(S,2)+P)}var q=new ghe;return q.setCompact(l),q.setSize(S),q.setLayers(c),q.setCodeWords(x),q.setMatrix(T),q},t.drawBullsEye=function(e,r,n){for(var i=0;i<n;i+=2)for(var s=r-i;s<=r+i;s++)e.set(s,r-i),e.set(s,r+i),e.set(r-i,s),e.set(r+i,s);e.set(r-n,r-n),e.set(r-n+1,r-n),e.set(r-n,r-n+1),e.set(r+n,r-n),e.set(r+n,r-n+1),e.set(r+n,r+n-1)},t.generateModeMessage=function(e,r,n){var i=new ln;return e?(i.appendBits(r-1,2),i.appendBits(n-1,6),i=t.generateCheckWords(i,28,4)):(i.appendBits(r-1,5),i.appendBits(n-1,11),i=t.generateCheckWords(i,40,4)),i},t.drawModeMessage=function(e,r,n,i){var s=wt.truncDivision(n,2);if(r)for(var a=0;a<7;a++){var l=s-3+a;i.get(a)&&e.set(l,s-5),i.get(a+7)&&e.set(s+5,l),i.get(20-a)&&e.set(l,s+5),i.get(27-a)&&e.set(s-5,l)}else for(var a=0;a<10;a++){var l=s-5+a+wt.truncDivision(a,5);i.get(a)&&e.set(l,s-7),i.get(a+10)&&e.set(s+7,l),i.get(29-a)&&e.set(l,s+7),i.get(39-a)&&e.set(s-7,l)}},t.generateCheckWords=function(e,r,n){var i,s,a=e.getSize()/n,l=new MF(t.getGF(n)),c=wt.truncDivision(r,n),d=t.bitsToWords(e,n,c);l.encode(d,c-a);var h=r%n,f=new ln;f.appendBits(0,h);try{for(var m=Phe(Array.from(d)),g=m.next();!g.done;g=m.next()){var y=g.value;f.appendBits(y,n)}}catch(x){i={error:x}}finally{try{g&&!g.done&&(s=m.return)&&s.call(m)}finally{if(i)throw i.error}}return f},t.bitsToWords=function(e,r,n){var i=new Int32Array(n),s,a;for(s=0,a=e.getSize()/r;s<a;s++){for(var l=0,c=0;c<r;c++)l|=e.get(s*r+c)?1<<r-c-1:0;i[s]=l}return i},t.getGF=function(e){switch(e){case 4:return hi.AZTEC_PARAM;case 6:return hi.AZTEC_DATA_6;case 8:return hi.AZTEC_DATA_8;case 10:return hi.AZTEC_DATA_10;case 12:return hi.AZTEC_DATA_12;default:throw new qe("Unsupported word size "+e)}},t.stuffBits=function(e,r){for(var n=new ln,i=e.getSize(),s=(1<<r)-2,a=0;a<i;a+=r){for(var l=0,c=0;c<r;c++)(a+c>=i||e.get(a+c))&&(l|=1<<r-1-c);(l&s)===s?(n.appendBits(l&s,r),a--):l&s?n.appendBits(l,r):(n.appendBits(l|1,r),a--)}return n},t.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),t})();var The=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ihe=function(t){The(e,t);function e(r){var n=t.call(this,r.width,r.height)||this;return n.canvas=r,n.tempCanvasElement=null,n.buffer=e.makeBufferFromCanvasImageData(r),n}return e.makeBufferFromCanvasImageData=function(r){var n;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}if(!n)throw new Error("Couldn't get canvas context.");var i=n.getImageData(0,0,r.width,r.height);return e.toGrayscaleBuffer(i.data,r.width,r.height)},e.toGrayscaleBuffer=function(r,n,i){for(var s=new Uint8ClampedArray(n*i),a=0,l=0,c=r.length;a<c;a+=4,l++){var d=void 0,h=r[a+3];if(h===0)d=255;else{var f=r[a],m=r[a+1],g=r[a+2];d=306*f+601*m+117*g+512>>10}s[l]=d}return s},e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new qe("Requested row is outside the image: "+r);var i=this.getWidth(),s=r*i;return n===null?n=this.buffer.slice(s,s+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(s,s+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,s){return t.prototype.crop.call(this,r,n,i,s),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.invert=function(){return new Ov(this)},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},e.prototype.rotate=function(r){var n=this.getTempCanvasElement();if(!n)throw new Error("Could not create a Canvas element.");var i=r*e.DEGREE_TO_RADIANS,s=this.canvas.width,a=this.canvas.height,l=Math.ceil(Math.abs(Math.cos(i))*s+Math.abs(Math.sin(i))*a),c=Math.ceil(Math.abs(Math.sin(i))*s+Math.abs(Math.cos(i))*a);n.width=l,n.height=c;var d=n.getContext("2d");if(!d)throw new Error("Could not create a Canvas Context element.");return d.translate(l/2,c/2),d.rotate(i),d.drawImage(this.canvas,s/-2,a/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.DEGREE_TO_RADIANS=Math.PI/180,e}(vm);function BF(){return typeof navigator<"u"}function Dhe(){return BF()&&!!navigator.mediaDevices}function Ohe(){return!!(Dhe()&&navigator.mediaDevices.enumerateDevices)}var Tu=function(){return Tu=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Tu.apply(this,arguments)},mr=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(h){try{d(n.next(h))}catch(f){a(f)}}function c(h){try{d(n.throw(h))}catch(f){a(f)}}function d(h){h.done?s(h.value):i(h.value).then(l,c)}d((n=n.apply(t,e||[])).next())})},gr=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(d){return function(h){return c([d,h])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,i=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){r.label=d[1];break}if(d[0]===6&&r.label<s[1]){r.label=s[1],s=d;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(d);break}s[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(h){d=[6,h],i=0}finally{n=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},Ty=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Mhe={delayBetweenScanAttempts:500,delayBetweenScanSuccess:500,tryPlayVideoTimeout:5e3},ah=function(){function t(e,r,n){r===void 0&&(r=new Map),n===void 0&&(n={}),this.reader=e,this.hints=r,this.options=Tu(Tu({},Mhe),n)}return Object.defineProperty(t.prototype,"possibleFormats",{set:function(e){this.hints.set(nr.POSSIBLE_FORMATS,e)},enumerable:!1,configurable:!0}),t.addVideoSource=function(e,r){try{e.srcObject=r}catch{console.error("got interrupted by new loading request")}},t.mediaStreamSetTorch=function(e,r){return mr(this,void 0,void 0,function(){return gr(this,function(n){switch(n.label){case 0:return[4,e.applyConstraints({advanced:[{fillLightMode:r?"flash":"off",torch:!!r}]})];case 1:return n.sent(),[2]}})})},t.mediaStreamIsTorchCompatible=function(e){var r,n,i=e.getVideoTracks();try{for(var s=Ty(i),a=s.next();!a.done;a=s.next()){var l=a.value;if(t.mediaStreamIsTorchCompatibleTrack(l))return!0}}catch(c){r={error:c}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return!1},t.mediaStreamIsTorchCompatibleTrack=function(e){try{var r=e.getCapabilities();return"torch"in r}catch(n){return console.error(n),console.warn("Your browser may be not fully compatible with WebRTC and/or ImageCapture specs. Torch will not be available."),!1}},t.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&e.readyState>2},t.getMediaElement=function(e,r){var n=document.getElementById(e);if(!n)throw new Ar("element with id '".concat(e,"' not found"));if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new Ar("element with id '".concat(e,"' must be an ").concat(r," element"));return n},t.createVideoElement=function(e){if(e instanceof HTMLVideoElement)return e;if(typeof e=="string")return t.getMediaElement(e,"video");if(!e&&typeof document<"u"){var r=document.createElement("video");return r.width=200,r.height=200,r}throw new Error("Couldn't get videoElement from videoSource!")},t.prepareImageElement=function(e){if(e instanceof HTMLImageElement)return e;if(typeof e=="string")return t.getMediaElement(e,"img");if(typeof e>"u"){var r=document.createElement("img");return r.width=200,r.height=200,r}throw new Error("Couldn't get imageElement from imageSource!")},t.prepareVideoElement=function(e){var r=t.createVideoElement(e);return r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.createBinaryBitmapFromCanvas=function(e){var r=new Ihe(e),n=new NF(r);return new _F(n)},t.drawImageOnCanvas=function(e,r){e.drawImage(r,0,0)},t.getMediaElementDimensions=function(e){if(e instanceof HTMLVideoElement)return{height:e.videoHeight,width:e.videoWidth};if(e instanceof HTMLImageElement)return{height:e.naturalHeight||e.height,width:e.naturalWidth||e.width};throw new Error("Couldn't find the Source's dimensions!")},t.createCaptureCanvas=function(e){if(!e)throw new Ar("Cannot create a capture canvas without a media element.");if(typeof document>"u")throw new Error(`The page "Document" is undefined, make sure you're running in a browser.`);var r=document.createElement("canvas"),n=t.getMediaElementDimensions(e),i=n.width,s=n.height;return r.style.width=i+"px",r.style.height=s+"px",r.width=i,r.height=s,r},t.tryPlayVideo=function(e){return mr(this,void 0,void 0,function(){var r;return gr(this,function(n){switch(n.label){case 0:if(e!=null&&e.ended)return console.error("Trying to play video that has ended."),[2,!1];if(t.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2,!0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.play()];case 2:return n.sent(),[2,!0];case 3:return r=n.sent(),console.warn("It was not possible to play the video.",r),[2,!1];case 4:return[2]}})})},t.createCanvasFromMediaElement=function(e){var r=t.createCaptureCanvas(e),n=r.getContext("2d");if(!n)throw new Error("Couldn't find Canvas 2D Context.");return t.drawImageOnCanvas(n,e),r},t.createBinaryBitmapFromMediaElem=function(e){var r=t.createCanvasFromMediaElement(e);return t.createBinaryBitmapFromCanvas(r)},t.destroyImageElement=function(e){e.src="",e.removeAttribute("src"),e=void 0},t.listVideoInputDevices=function(){return mr(this,void 0,void 0,function(){var e,r,n,i,s,a,l,c,d,h,f,m;return gr(this,function(g){switch(g.label){case 0:if(!BF())throw new Error("Can't enumerate devices, navigator is not present.");if(!Ohe())throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=g.sent(),r=[];try{for(n=Ty(e),i=n.next();!i.done;i=n.next())s=i.value,a=s.kind==="video"?"videoinput":s.kind,a==="videoinput"&&(l=s.deviceId||s.id,c=s.label||"Video device ".concat(r.length+1),d=s.groupId,h={deviceId:l,label:c,kind:a,groupId:d},r.push(h))}catch(y){f={error:y}}finally{try{i&&!i.done&&(m=n.return)&&m.call(n)}finally{if(f)throw f.error}}return[2,r]}})})},t.findDeviceById=function(e){return mr(this,void 0,void 0,function(){var r;return gr(this,function(n){switch(n.label){case 0:return[4,t.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(i){return i.deviceId===e})]:[2]}})})},t.cleanVideoSource=function(e){if(e){try{e.srcObject=null}catch{e.src=""}e&&e.removeAttribute("src")}},t.releaseAllStreams=function(){t.streamTracker.length!==0&&t.streamTracker.forEach(function(e){e.getTracks().forEach(function(r){return r.stop()})}),t.streamTracker=[]},t.playVideoOnLoadAsync=function(e,r){return mr(this,void 0,void 0,function(){var n;return gr(this,function(i){switch(i.label){case 0:return[4,t.tryPlayVideo(e)];case 1:return n=i.sent(),n?[2,!0]:[2,new Promise(function(s,a){var l=setTimeout(function(){t.isVideoPlaying(e)||(a(!1),e.removeEventListener("canplay",c))},r),c=function(){t.tryPlayVideo(e).then(function(d){clearTimeout(l),e.removeEventListener("canplay",c),s(d)})};e.addEventListener("canplay",c)})]}})})},t.attachStreamToVideo=function(e,r,n){return n===void 0&&(n=5e3),mr(this,void 0,void 0,function(){var i;return gr(this,function(s){switch(s.label){case 0:return i=t.prepareVideoElement(r),t.addVideoSource(i,e),[4,t.playVideoOnLoadAsync(i,n)];case 1:return s.sent(),[2,i]}})})},t._waitImageLoad=function(e){return new Promise(function(r,n){var i=1e4,s=setTimeout(function(){t.isImageLoaded(e)||(e.removeEventListener("load",a),n())},i),a=function(){clearTimeout(s),e.removeEventListener("load",a),r()};e.addEventListener("load",a)})},t.checkCallbackFnOrThrow=function(e){if(!e)throw new Ar("`callbackFn` is a required parameter, you cannot capture results without it.")},t.disposeMediaStream=function(e){e.getVideoTracks().forEach(function(r){return r.stop()}),e=void 0},t.prototype.decode=function(e){var r=t.createCanvasFromMediaElement(e);return this.decodeFromCanvas(r)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this.hints)},t.prototype.decodeFromCanvas=function(e){var r=t.createBinaryBitmapFromCanvas(e);return this.decodeBitmap(r)},t.prototype.decodeFromImageElement=function(e){return mr(this,void 0,void 0,function(){var r;return gr(this,function(n){switch(n.label){case 0:if(!e)throw new Ar("An image element must be provided.");return r=t.prepareImageElement(e),[4,this._decodeOnLoadImage(r)];case 1:return[2,n.sent()]}})})},t.prototype.decodeFromImageUrl=function(e){return mr(this,void 0,void 0,function(){var r;return gr(this,function(n){switch(n.label){case 0:if(!e)throw new Ar("An URL must be provided.");r=t.prepareImageElement(),r.src=e,n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.decodeFromImageElement(r)];case 2:return[2,n.sent()];case 3:return t.destroyImageElement(r),[7];case 4:return[2]}})})},t.prototype.decodeFromConstraints=function(e,r,n){return mr(this,void 0,void 0,function(){var i,s;return gr(this,function(a){switch(a.label){case 0:return t.checkCallbackFnOrThrow(n),[4,this.getUserMedia(e)];case 1:i=a.sent(),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.decodeFromStream(i,r,n)];case 3:return[2,a.sent()];case 4:throw s=a.sent(),t.disposeMediaStream(i),s;case 5:return[2]}})})},t.prototype.decodeFromStream=function(e,r,n){return mr(this,void 0,void 0,function(){var i,s,a,l,c,d,h,f,m,g=this;return gr(this,function(y){switch(y.label){case 0:return t.checkCallbackFnOrThrow(n),i=this.options.tryPlayVideoTimeout,[4,t.attachStreamToVideo(e,r,i)];case 1:return s=y.sent(),a=function(){t.disposeMediaStream(e),t.cleanVideoSource(s)},l=this.scan(s,n,a),c=e.getVideoTracks(),d=Tu(Tu({},l),{stop:function(){l.stop()},streamVideoConstraintsApply:function(x,N){return mr(this,void 0,void 0,function(){var _,w,S,E,j,D,T;return gr(this,function(O){switch(O.label){case 0:_=N?c.filter(N):c,O.label=1;case 1:O.trys.push([1,6,7,8]),w=Ty(_),S=w.next(),O.label=2;case 2:return S.done?[3,5]:(E=S.value,[4,E.applyConstraints(x)]);case 3:O.sent(),O.label=4;case 4:return S=w.next(),[3,2];case 5:return[3,8];case 6:return j=O.sent(),D={error:j},[3,8];case 7:try{S&&!S.done&&(T=w.return)&&T.call(w)}finally{if(D)throw D.error}return[7];case 8:return[2]}})})},streamVideoConstraintsGet:function(x){return c.find(x).getConstraints()},streamVideoSettingsGet:function(x){return c.find(x).getSettings()},streamVideoCapabilitiesGet:function(x){return c.find(x).getCapabilities()}}),h=t.mediaStreamIsTorchCompatible(e),h&&(f=c==null?void 0:c.find(function(x){return t.mediaStreamIsTorchCompatibleTrack(x)}),m=function(x){return mr(g,void 0,void 0,function(){return gr(this,function(N){switch(N.label){case 0:return[4,t.mediaStreamSetTorch(f,x)];case 1:return N.sent(),[2]}})})},d.switchTorch=m,d.stop=function(){return mr(g,void 0,void 0,function(){return gr(this,function(x){switch(x.label){case 0:return l.stop(),[4,m(!1)];case 1:return x.sent(),[2]}})})}),[2,d]}})})},t.prototype.decodeFromVideoDevice=function(e,r,n){return mr(this,void 0,void 0,function(){var i,s;return gr(this,function(a){switch(a.label){case 0:return t.checkCallbackFnOrThrow(n),e?i={deviceId:{exact:e}}:i={facingMode:"environment"},s={video:i},[4,this.decodeFromConstraints(s,r,n)];case 1:return[2,a.sent()]}})})},t.prototype.decodeFromVideoElement=function(e,r){return mr(this,void 0,void 0,function(){var n,i;return gr(this,function(s){switch(s.label){case 0:if(t.checkCallbackFnOrThrow(r),!e)throw new Ar("A video element must be provided.");return n=t.prepareVideoElement(e),i=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(n,i)];case 1:return s.sent(),[2,this.scan(n,r)]}})})},t.prototype.decodeFromVideoUrl=function(e,r){return mr(this,void 0,void 0,function(){var n,i,s,a;return gr(this,function(l){switch(l.label){case 0:if(t.checkCallbackFnOrThrow(r),!e)throw new Ar("An URL must be provided.");return n=t.prepareVideoElement(),n.src=e,i=function(){t.cleanVideoSource(n)},s=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(n,s)];case 1:return l.sent(),a=this.scan(n,r,i),[2,a]}})})},t.prototype.decodeOnceFromConstraints=function(e,r){return mr(this,void 0,void 0,function(){var n;return gr(this,function(i){switch(i.label){case 0:return[4,this.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return mr(this,void 0,void 0,function(){var n,i,s;return gr(this,function(a){switch(a.label){case 0:return n=!!r,[4,t.attachStreamToVideo(e,r)];case 1:i=a.sent(),a.label=2;case 2:return a.trys.push([2,,4,5]),[4,this.scanOneResult(i)];case 3:return s=a.sent(),[2,s];case 4:return n||t.cleanVideoSource(i),[7];case 5:return[2]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,r){return mr(this,void 0,void 0,function(){var n,i;return gr(this,function(s){switch(s.label){case 0:return e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,r)];case 1:return[2,s.sent()]}})})},t.prototype.decodeOnceFromVideoElement=function(e){return mr(this,void 0,void 0,function(){var r,n;return gr(this,function(i){switch(i.label){case 0:if(!e)throw new Ar("A video element must be provided.");return r=t.prepareVideoElement(e),n=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(r,n)];case 1:return i.sent(),[4,this.scanOneResult(r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromVideoUrl=function(e){return mr(this,void 0,void 0,function(){var r,n;return gr(this,function(i){switch(i.label){case 0:if(!e)throw new Ar("An URL must be provided.");r=t.prepareVideoElement(),r.src=e,n=this.decodeOnceFromVideoElement(r),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,n];case 2:return[2,i.sent()];case 3:return t.cleanVideoSource(r),[7];case 4:return[2]}})})},t.prototype.scanOneResult=function(e,r,n,i){var s=this;return r===void 0&&(r=!0),n===void 0&&(n=!0),i===void 0&&(i=!0),new Promise(function(a,l){s.scan(e,function(c,d,h){if(c){a(c),h.stop();return}if(d){if(d instanceof se&&r||d instanceof Lr&&n||d instanceof we&&i)return;h.stop(),l(d)}})})},t.prototype.scan=function(e,r,n){var i=this;t.checkCallbackFnOrThrow(r);var s=t.createCaptureCanvas(e),a;try{a=s.getContext("2d",{willReadFrequently:!0})}catch{a=s.getContext("2d")}if(!a)throw new Error("Couldn't create canvas for visual element scan.");var l=function(){a=void 0,s=void 0},c=!1,d,h=function(){c=!0,clearTimeout(d),l(),n&&n()},f={stop:h},m=function(){if(!c)try{t.drawImageOnCanvas(a,e);var g=i.decodeFromCanvas(s);r(g,void 0,f),d=setTimeout(m,i.options.delayBetweenScanSuccess)}catch(_){r(void 0,_,f);var y=_ instanceof Lr,x=_ instanceof we,N=_ instanceof se;if(y||x||N){d=setTimeout(m,i.options.delayBetweenScanAttempts);return}l(),n&&n(_)}};return m(),f},t.prototype._decodeOnLoadImage=function(e){return mr(this,void 0,void 0,function(){var r;return gr(this,function(n){switch(n.label){case 0:return r=t.isImageLoaded(e),r?[3,2]:[4,t._waitImageLoad(e)];case 1:n.sent(),n.label=2;case 2:return[2,this.decode(e)]}})})},t.prototype.getUserMedia=function(e){return mr(this,void 0,void 0,function(){var r;return gr(this,function(n){switch(n.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return r=n.sent(),t.streamTracker.push(r),[2,r]}})})},t.streamTracker=[],t}(),Rhe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){Rhe(e,t);function e(r,n){return t.call(this,new m1,r,n)||this}return e})(ah);var Fhe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){Fhe(e,t);function e(r,n){return t.call(this,new ju(r),r,n)||this}return e})(ah);var Lhe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){Lhe(e,t);function e(r,n){return t.call(this,new v1,r,n)||this}return e})(ah);var Bhe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),jA=function(t){Bhe(e,t);function e(r,n){var i=this,s=new OF;return s.setHints(r),i=t.call(this,s,r,n)||this,i.reader=s,i}return Object.defineProperty(e.prototype,"possibleFormats",{set:function(r){this.hints.set(nr.POSSIBLE_FORMATS,r),this.reader.setHints(this.hints)},enumerable:!1,configurable:!0}),e.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},e.prototype.setHints=function(r){this.hints=r,this.reader.setHints(this.hints)},e}(ah),Uhe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){Uhe(e,t);function e(r,n){return t.call(this,new y1,r,n)||this}return e})(ah);var zhe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){zhe(e,t);function e(r,n){return t.call(this,new x1,r,n)||this}return e})(ah);function $he({onScan:t,onClose:e,isOpen:r}){const n=b.useRef(null),i=b.useRef(null),[s,a]=b.useState(!1),[l,c]=b.useState(null),d=b.useRef(null),h=b.useRef(!1);b.useEffect(()=>(r&&!i.current&&(i.current=new jA),r&&n.current&&i.current&&!s&&f(),()=>{m()}),[r]);const f=async()=>{if(!(!n.current||!i.current))try{a(!0),c(null);const y=await jA.listVideoInputDevices();if(y.length===0)throw new Error("No camera devices found");const x=y.find(N=>N.label.toLowerCase().includes("back")||N.label.toLowerCase().includes("rear"))||y[0];await i.current.decodeFromVideoDevice(x.deviceId,n.current,(N,_)=>{if(N&&!h.current){const w=N.getText();if(d.current===w)return;console.log("Barcode detected:",w),d.current=w,h.current=!0,a(!1),m(),t(w)}_&&!_.message.includes("No MultiFormat Readers were able to detect the code")&&console.log("Scanning error:",_)})}catch(y){console.error("Scanner error:",y),c(y instanceof Error?y.message:"Failed to start camera"),a(!1)}},m=()=>{if(i.current)try{const y=n.current;y&&y.srcObject&&(y.srcObject.getTracks().forEach(N=>N.stop()),y.srcObject=null)}catch{}a(!1)},g=()=>{m(),d.current=null,h.current=!1,e()};return r?o.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:o.jsxs(Le,{className:"w-full max-w-lg bg-black/95 border-red-600/50 shadow-2xl",children:[o.jsxs(kt,{className:"flex flex-row items-center justify-between space-y-0 pb-4 border-b border-red-800/30",children:[o.jsxs(Ot,{className:"flex items-center gap-3 text-white",children:[o.jsx("div",{className:"p-2 bg-gradient-to-r from-red-600 to-red-800 rounded-lg shadow-lg",children:o.jsx(Po,{className:"w-5 h-5 text-white"})}),o.jsx("span",{className:"font-bold",children:"Professional Scanner"})]}),o.jsx(ue,{variant:"ghost",size:"sm",onClick:g,"data-testid":"button-close-scanner",className:"text-gray-300 hover:text-white hover:bg-red-600/20 border border-red-800/30 hover:border-red-600",children:o.jsx(Pi,{className:"w-4 h-4"})})]}),o.jsx(Ve,{className:"space-y-6 p-6",children:l?o.jsxs("div",{className:"text-center space-y-6",children:[o.jsxs("div",{className:"bg-red-950/50 border border-red-800/50 rounded-lg p-6",children:[o.jsx("div",{className:"w-16 h-16 bg-red-900/50 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Hi,{className:"w-8 h-8 text-red-400"})}),o.jsx("p",{className:"text-red-300 font-medium",children:l}),o.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Please check camera permissions and try again"})]}),o.jsxs(ue,{onClick:f,className:"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white font-semibold px-6 py-3 rounded-lg shadow-lg transform hover:scale-105 transition-all duration-200","data-testid":"button-retry-scanner",children:[o.jsx(Hi,{className:"w-4 h-4 mr-2"}),"Retry Scanner"]})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"relative bg-black rounded-xl overflow-hidden border-2 border-red-600/30 shadow-2xl",style:{aspectRatio:"4/3"},children:[o.jsx("video",{ref:n,className:"w-full h-full object-cover",playsInline:!0,"data-testid":"video-scanner"}),s&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"w-56 h-36 border-2 border-red-500 rounded-lg relative shadow-lg",children:[o.jsx("div",{className:"absolute -top-1 -left-1 w-6 h-6 border-t-4 border-l-4 border-red-400 rounded-tl-lg"}),o.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 border-t-4 border-r-4 border-red-400 rounded-tr-lg"}),o.jsx("div",{className:"absolute -bottom-1 -left-1 w-6 h-6 border-b-4 border-l-4 border-red-400 rounded-bl-lg"}),o.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 border-b-4 border-r-4 border-red-400 rounded-br-lg"}),o.jsx("div",{className:"absolute inset-x-0 top-1/2 h-0.5 bg-gradient-to-r from-transparent via-red-400 to-transparent animate-pulse shadow-lg"}),o.jsx("div",{className:"absolute inset-0 border-2 border-red-400/50 rounded-lg animate-ping"})]}),o.jsx("div",{className:"absolute -top-12 left-1/2 transform -translate-x-1/2",children:o.jsx("div",{className:"bg-black/80 backdrop-blur-sm px-4 py-2 rounded-lg border border-red-600/30",children:o.jsx("p",{className:"text-white text-sm font-medium whitespace-nowrap",children:"Position barcode within frame"})})})]})}),o.jsx("div",{className:"absolute top-4 right-4",children:o.jsxs("div",{className:"flex items-center gap-2 bg-black/80 backdrop-blur-sm px-3 py-2 rounded-lg border border-red-600/30",children:[o.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),o.jsx("span",{className:"text-white text-xs font-medium",children:"SCANNING"})]})})]}),o.jsxs("div",{className:"text-center bg-gray-900/50 rounded-lg p-4 border border-red-800/20",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[o.jsx(Po,{className:"w-4 h-4 text-red-400"}),o.jsx("span",{className:"text-white font-semibold text-sm",children:"Professional Barcode Scanner"})]}),o.jsx("p",{className:"text-gray-300 text-sm mb-1",children:"Hold device steady and ensure good lighting"}),o.jsx("p",{className:"text-gray-400 text-xs",children:"Automatic detection  High precision scanning"})]})]})})]})}):null}function Vhe(){const[t,e]=b.useState({mealType:"",customDescription:""}),[r,n]=b.useState(new Date().toISOString().split("T")[0]),[i,s]=b.useState(null),[a,l]=b.useState(!1),[c,d]=b.useState(""),h=b.useRef(null),f=b.useRef(null),{toast:m}=xi(),g=Rn(),{data:y=[],isLoading:x}=Rt({queryKey:["/api/meal-entries",r],queryFn:async()=>(await dt("GET",`/api/meal-entries?date=${r}`)).json()}),_=(()=>{const P=[];for(let V=6;V>=0;V--){const F=new Date;F.setDate(F.getDate()-V),P.push(F.toISOString().split("T")[0])}return P})(),{data:w=[]}=Rt({queryKey:["/api/meal-entries","weekly",_[0]],queryFn:async()=>{const P=[];for(const V of _){const q=await(await dt("GET",`/api/meal-entries?date=${V}`)).json();P.push(...q)}return P}}),S=Ut({mutationFn:async P=>(await dt("POST","/api/meal-entries/barcode-lookup",{barcode:P})).json(),onSuccess:P=>{if(P.success&&P.product){const V={mealName:P.product.name,description:`${P.product.brand} - ${P.product.servingSize}`,totalCalories:P.product.calories,protein:P.product.protein,carbs:P.product.carbs,fat:P.product.fat,fiber:P.product.fiber,sugar:P.product.sugar,sodium:P.product.sodium,confidence:.95};s(V),d(V.mealName),m({title:"Barcode Found! ",description:`${P.product.name} - ${P.product.calories} calories`})}else m({title:"Barcode Not Found",description:"This barcode is not in our database. Try manual entry instead.",variant:"destructive"})},onError:P=>{(P==null?void 0:P.status)===401?m({title:"Authentication Required",description:"Please log in to use the barcode scanner.",variant:"destructive"}):m({title:"Scanner Error",description:"Could not lookup barcode. Please try again.",variant:"destructive"})}}),E=Ut({mutationFn:async P=>(await dt("POST","/api/meal-entries",P)).json(),onSuccess:()=>{g.invalidateQueries({queryKey:["/api/meal-entries"]}),s(null),e({mealType:"",customDescription:""}),m({title:"Meal Saved! ",description:"Your meal has been added to your diary."})}}),j=Ut({mutationFn:async P=>(await dt("DELETE",`/api/meal-entries/${P}`)).json(),onSuccess:()=>{g.invalidateQueries({queryKey:["/api/meal-entries"]}),m({title:"Meal Deleted! ",description:"The meal entry has been removed from your diary."})},onError:()=>{m({title:"Error",description:"Failed to delete meal entry. Please try again.",variant:"destructive"})}}),D=P=>{l(!1),h.current!==P&&(f.current&&clearTimeout(f.current),h.current=P,f.current=setTimeout(()=>{h.current=null},3e3),S.mutate(P))},T=()=>{if(!i)return;const P={userId:"current-user",mealType:t.mealType,mealName:c||i.mealName,description:i.description||t.customDescription,imageUrl:null,totalCalories:i.totalCalories,protein:i.protein.toString(),carbs:i.carbs.toString(),fat:i.fat.toString(),fiber:i.fiber.toString(),sugar:i.sugar.toString(),sodium:i.sodium.toString(),confidence:i.confidence.toString(),analysisRaw:JSON.stringify(i),loggedAt:new Date};E.mutate(P)},O=()=>y.reduce((P,V)=>({calories:P.calories+V.totalCalories,protein:P.protein+parseFloat(V.protein),carbs:P.carbs+parseFloat(V.carbs),fat:P.fat+parseFloat(V.fat)}),{calories:0,protein:0,carbs:0,fat:0}),B=P=>y.filter(V=>V.mealType===P);return o.jsx(Rd,{feature:"meal_tracker",children:o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950",children:o.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-8",children:[o.jsxs("div",{className:"text-center space-y-4",children:[o.jsxs("h1",{className:"text-4xl font-bold text-white flex items-center justify-center gap-3",children:[o.jsx("div",{className:"p-2 bg-gradient-to-r from-red-600 to-red-800 rounded-lg shadow-lg",children:o.jsx(Po,{className:"w-8 h-8 text-white"})}),"Professional Barcode Scanner"]}),o.jsx("p",{className:"text-gray-300 max-w-2xl mx-auto text-lg",children:"Advanced barcode scanning technology for precise nutritional tracking and professional meal management."})]}),o.jsx(h1,{type:"nutrition"}),o.jsx(f1,{}),o.jsxs(jv,{defaultValue:"scan",className:"w-full",children:[o.jsxs(pm,{className:"grid w-full grid-cols-3 bg-black/50 border border-red-800/30",children:[o.jsxs(Fs,{value:"scan",className:"data-[state=active]:bg-red-600 data-[state=active]:text-white text-gray-300 hover:text-white transition-colors",children:[o.jsx(Po,{className:"w-4 h-4 mr-2"}),"Scan Barcode"]}),o.jsxs(Fs,{value:"history",className:"data-[state=active]:bg-red-600 data-[state=active]:text-white text-gray-300 hover:text-white transition-colors",children:[o.jsx(ei,{className:"w-4 h-4 mr-2"}),"Daily View"]}),o.jsxs(Fs,{value:"weekly",className:"data-[state=active]:bg-red-600 data-[state=active]:text-white text-gray-300 hover:text-white transition-colors",children:[o.jsx(Xr,{className:"w-4 h-4 mr-2"}),"Weekly View"]})]}),o.jsxs(Ls,{value:"scan",className:"space-y-6",children:[o.jsxs(Le,{className:"bg-black/80 border-red-800/30 shadow-2xl",children:[o.jsxs(kt,{className:"border-b border-red-800/20",children:[o.jsxs(Ot,{className:"flex items-center gap-2 text-white",children:[o.jsx("div",{className:"p-1 bg-red-600 rounded",children:o.jsx(Po,{className:"w-5 h-5 text-white"})}),"Professional Barcode Scanner"]}),o.jsx(qr,{className:"text-gray-300",children:"Advanced scanning technology for instant, accurate nutritional analysis"})]}),o.jsxs(Ve,{className:"space-y-6 p-6",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx(it,{htmlFor:"meal-type",className:"text-white font-semibold",children:"Meal Category"}),o.jsxs(ba,{value:t.mealType,onValueChange:P=>e(V=>({...V,mealType:P})),children:[o.jsx(Ms,{"data-testid":"select-meal-type",className:"bg-gray-900 border-red-800/30 text-white hover:border-red-600 focus:border-red-500",children:o.jsx(_a,{placeholder:"Select meal category",className:"text-gray-400"})}),o.jsxs(Rs,{className:"bg-gray-900 border-red-800/30",children:[o.jsx(ur,{value:"breakfast",className:"text-white hover:bg-red-900/50",children:" Breakfast"}),o.jsx(ur,{value:"lunch",className:"text-white hover:bg-red-900/50",children:" Lunch"}),o.jsx(ur,{value:"dinner",className:"text-white hover:bg-red-900/50",children:" Dinner"}),o.jsx(ur,{value:"snack",className:"text-white hover:bg-red-900/50",children:" Snack"})]})]})]}),o.jsx("div",{className:"border-2 border-dashed rounded-xl p-8 text-center border-red-600/40 bg-gradient-to-br from-red-950/20 to-black/20",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"mx-auto h-16 w-16 bg-gradient-to-r from-red-600 to-red-800 rounded-full flex items-center justify-center shadow-lg",children:o.jsx(Po,{className:"h-8 w-8 text-white animate-pulse"})}),o.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 rounded-full animate-ping opacity-75"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xl font-bold text-white mb-2",children:"Professional Barcode Scanner"}),o.jsx("p",{className:"text-gray-300",children:"Advanced camera technology for instant product identification"})]}),o.jsxs(ue,{onClick:()=>l(!0),"data-testid":"button-scan-barcode",className:"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white font-semibold px-8 py-3 rounded-lg shadow-lg transform hover:scale-105 transition-all duration-200 flex items-center gap-3",disabled:!t.mealType,children:[o.jsx(Po,{className:"w-5 h-5"}),t.mealType?"Launch Scanner":"Select meal category first"]})]})}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(it,{htmlFor:"description",className:"text-white font-semibold",children:"Additional Notes (Optional)"}),o.jsx(Yt,{id:"description",placeholder:"Add preparation details, portion adjustments, or special notes...",value:t.customDescription,onChange:P=>e(V=>({...V,customDescription:P.target.value})),"data-testid":"input-meal-description",className:"bg-gray-900 border-red-800/30 text-white placeholder:text-gray-500 hover:border-red-600 focus:border-red-500"})]})]})]}),i&&o.jsxs(Le,{"data-testid":"card-analysis-results",className:"bg-black/90 border-red-600/50 shadow-2xl",children:[o.jsxs(kt,{className:"border-b border-red-800/30",children:[o.jsxs(Ot,{className:"flex items-center justify-between text-white",children:[o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"p-1 bg-green-600 rounded",children:o.jsx(Xr,{className:"w-4 h-4 text-white"})}),"Nutritional Analysis"]}),o.jsxs(Xe,{className:"bg-red-600 text-white hover:bg-red-700",children:[Math.round(i.confidence*100),"% confidence"]})]}),o.jsx(qr,{className:"text-gray-300",children:i.description})]}),o.jsxs(Ve,{className:"space-y-6 p-6",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx(it,{htmlFor:"meal-name-edit",className:"text-white font-semibold",children:"Product Name"}),o.jsx(Yt,{id:"meal-name-edit",value:c,onChange:P=>d(P.target.value),placeholder:"Enter product name","data-testid":"input-meal-name-edit",className:"font-medium bg-gray-900 border-red-800/30 text-white hover:border-red-600 focus:border-red-500"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Customize the product name before saving to your diary"})]}),o.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[o.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-4 border border-red-800/20",children:[o.jsxs("h3",{className:"font-semibold mb-4 text-white flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),"Macronutrients"]}),o.jsxs(Qb,{children:[o.jsx(bF,{children:o.jsxs(Ba,{className:"border-red-800/20",children:[o.jsx(e2,{className:"text-gray-300",children:"Nutrient"}),o.jsx(e2,{className:"text-gray-300",children:"Amount"})]})}),o.jsxs(Jb,{children:[o.jsxs(Ba,{className:"border-red-800/10",children:[o.jsx($n,{className:"text-gray-300",children:"Calories"}),o.jsxs($n,{className:"font-medium text-red-400",children:[i.totalCalories," kcal"]})]}),o.jsxs(Ba,{className:"border-red-800/10",children:[o.jsx($n,{className:"text-gray-300",children:"Protein"}),o.jsxs($n,{className:"text-white",children:[i.protein,"g"]})]}),o.jsxs(Ba,{className:"border-red-800/10",children:[o.jsx($n,{className:"text-gray-300",children:"Carbohydrates"}),o.jsxs($n,{className:"text-white",children:[i.carbs,"g"]})]}),o.jsxs(Ba,{className:"border-red-800/10",children:[o.jsx($n,{className:"text-gray-300",children:"Fat"}),o.jsxs($n,{className:"text-white",children:[i.fat,"g"]})]})]})]})]}),o.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-4 border border-red-800/20",children:[o.jsxs("h3",{className:"font-semibold mb-4 text-white flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),"Additional Details"]}),o.jsx(Qb,{children:o.jsxs(Jb,{children:[o.jsxs(Ba,{className:"border-red-800/10",children:[o.jsx($n,{className:"text-gray-300",children:"Fiber"}),o.jsxs($n,{className:"text-white",children:[i.fiber,"g"]})]}),o.jsxs(Ba,{className:"border-red-800/10",children:[o.jsx($n,{className:"text-gray-300",children:"Sugar"}),o.jsxs($n,{className:"text-white",children:[i.sugar,"g"]})]}),o.jsxs(Ba,{className:"border-red-800/10",children:[o.jsx($n,{className:"text-gray-300",children:"Sodium"}),o.jsxs($n,{className:"text-white",children:[i.sodium,"mg"]})]})]})})]})]}),o.jsx(ue,{onClick:T,disabled:E.isPending,className:"w-full bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white font-semibold py-3 rounded-lg shadow-lg transform hover:scale-105 transition-all duration-200","data-testid":"button-save-meal",children:E.isPending?o.jsxs(o.Fragment,{children:[o.jsx(iI,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving to Diary..."]}):o.jsxs(o.Fragment,{children:[o.jsx(__,{className:"mr-2 h-4 w-4"}),"Save to Diary"]})})]})]})]}),o.jsxs(Ls,{value:"history",className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4 p-4 bg-black/60 rounded-lg border border-red-800/30",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-1 bg-red-600 rounded",children:o.jsx(ei,{className:"w-5 h-5 text-white"})}),o.jsx(it,{htmlFor:"date-select",className:"text-white font-semibold",children:"Select Date:"})]}),o.jsx(Yt,{id:"date-select",type:"date",value:r,onChange:P=>n(P.target.value),className:"w-auto bg-gray-900 border-red-800/30 text-white hover:border-red-600 focus:border-red-500","data-testid":"input-date-select"})]}),y.length>0&&o.jsxs(Le,{"data-testid":"card-daily-summary",className:"bg-black/90 border-red-600/50 shadow-2xl",children:[o.jsx(kt,{className:"border-b border-red-800/30",children:o.jsxs(Ot,{className:"flex items-center gap-2 text-white",children:[o.jsx("div",{className:"p-1 bg-red-600 rounded",children:o.jsx(Xr,{className:"w-5 h-5 text-white"})}),"Daily Nutrition Summary"]})}),o.jsx(Ve,{className:"p-6",children:o.jsx("div",{className:"grid gap-6 md:grid-cols-4",children:(()=>{const P=O();return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"text-center bg-gray-900/50 p-4 rounded-lg border border-red-800/20",children:[o.jsx("p",{className:"text-3xl font-bold text-red-400 mb-1",children:P.calories}),o.jsx("p",{className:"text-sm text-gray-300 font-medium",children:"Calories"})]}),o.jsxs("div",{className:"text-center bg-gray-900/50 p-4 rounded-lg border border-red-800/20",children:[o.jsxs("p",{className:"text-3xl font-bold text-blue-400 mb-1",children:[Math.round(P.protein),"g"]}),o.jsx("p",{className:"text-sm text-gray-300 font-medium",children:"Protein"})]}),o.jsxs("div",{className:"text-center bg-gray-900/50 p-4 rounded-lg border border-red-800/20",children:[o.jsxs("p",{className:"text-3xl font-bold text-green-400 mb-1",children:[Math.round(P.carbs),"g"]}),o.jsx("p",{className:"text-sm text-gray-300 font-medium",children:"Carbs"})]}),o.jsxs("div",{className:"text-center bg-gray-900/50 p-4 rounded-lg border border-red-800/20",children:[o.jsxs("p",{className:"text-3xl font-bold text-orange-400 mb-1",children:[Math.round(P.fat),"g"]}),o.jsx("p",{className:"text-sm text-gray-300 font-medium",children:"Fat"})]})]})})()})})]}),o.jsx("div",{className:"grid gap-6",children:["breakfast","lunch","dinner","snack"].map(P=>{const V=B(P);return o.jsxs(Le,{"data-testid":`card-${P}-meals`,className:"bg-black/80 border-red-800/30 shadow-xl",children:[o.jsx(kt,{className:"border-b border-red-800/20",children:o.jsxs(Ot,{className:"capitalize text-white flex items-center gap-2",children:[o.jsxs("span",{className:"text-xl",children:[P==="breakfast"&&"",P==="lunch"&&"",P==="dinner"&&"",P==="snack"&&""]}),o.jsx("span",{className:"font-semibold",children:P})]})}),o.jsx(Ve,{className:"p-6",children:V.length>0?o.jsx("div",{className:"space-y-4",children:V.map(F=>o.jsxs("div",{className:"flex justify-between items-start p-4 bg-gray-900/50 border border-red-800/20 rounded-lg hover:border-red-600/40 transition-colors",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium text-white",children:F.mealName}),F.description&&o.jsx("p",{className:"text-sm text-gray-400 mt-1",children:F.description})]}),o.jsxs("div",{className:"text-right flex items-start gap-3",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"font-semibold text-red-400",children:[F.totalCalories," cal"]}),o.jsxs("p",{className:"text-xs text-gray-400",children:["P: ",F.protein,"g | C: ",F.carbs,"g | F: ",F.fat,"g"]})]}),o.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>j.mutate(F.id),disabled:j.isPending,className:"text-red-400 hover:text-red-300 hover:bg-red-900/20","data-testid":`button-delete-meal-${F.id}`,children:o.jsx(ul,{className:"h-4 w-4"})})]})]},F.id))}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"w-12 h-12 bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-3",children:o.jsxs("span",{className:"text-2xl opacity-50",children:[P==="breakfast"&&"",P==="lunch"&&"",P==="dinner"&&"",P==="snack"&&""]})}),o.jsxs("p",{className:"text-gray-400 text-center",children:["No ",P," logged yet"]})]})})]},P)})})]}),o.jsxs(Ls,{value:"weekly",className:"space-y-6",children:[w.length>0&&o.jsxs(Le,{"data-testid":"card-weekly-summary",className:"bg-black/90 border-red-600/50 shadow-2xl",children:[o.jsx(kt,{className:"border-b border-red-800/30",children:o.jsxs(Ot,{className:"flex items-center gap-2 text-white",children:[o.jsx("div",{className:"p-1 bg-red-600 rounded",children:o.jsx(Xr,{className:"w-5 h-5 text-white"})}),"Weekly Nutrition Summary (Last 7 Days)"]})}),o.jsx(Ve,{className:"p-6",children:o.jsx("div",{className:"grid gap-6 md:grid-cols-4",children:(()=>{const P=w.reduce((F,q)=>({calories:F.calories+q.totalCalories,protein:F.protein+parseFloat(q.protein),carbs:F.carbs+parseFloat(q.carbs),fat:F.fat+parseFloat(q.fat)}),{calories:0,protein:0,carbs:0,fat:0}),V=Math.round(P.calories/7);return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"text-center bg-gray-900/50 p-4 rounded-lg border border-red-800/20",children:[o.jsx("p",{className:"text-3xl font-bold text-red-400 mb-1",children:P.calories}),o.jsx("p",{className:"text-sm text-gray-300 font-medium",children:"Total Calories"}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["~",V,"/day avg"]})]}),o.jsxs("div",{className:"text-center bg-gray-900/50 p-4 rounded-lg border border-red-800/20",children:[o.jsxs("p",{className:"text-3xl font-bold text-blue-400 mb-1",children:[Math.round(P.protein),"g"]}),o.jsx("p",{className:"text-sm text-gray-300 font-medium",children:"Total Protein"}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["~",Math.round(P.protein/7),"g/day avg"]})]}),o.jsxs("div",{className:"text-center bg-gray-900/50 p-4 rounded-lg border border-red-800/20",children:[o.jsxs("p",{className:"text-3xl font-bold text-green-400 mb-1",children:[Math.round(P.carbs),"g"]}),o.jsx("p",{className:"text-sm text-gray-300 font-medium",children:"Total Carbs"}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["~",Math.round(P.carbs/7),"g/day avg"]})]}),o.jsxs("div",{className:"text-center bg-gray-900/50 p-4 rounded-lg border border-red-800/20",children:[o.jsxs("p",{className:"text-3xl font-bold text-orange-400 mb-1",children:[Math.round(P.fat),"g"]}),o.jsx("p",{className:"text-sm text-gray-300 font-medium",children:"Total Fat"}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["~",Math.round(P.fat/7),"g/day avg"]})]})]})})()})})]}),o.jsxs(Le,{className:"bg-black/80 border-red-800/30 shadow-xl",children:[o.jsx(kt,{className:"border-b border-red-800/20",children:o.jsxs(Ot,{className:"text-white flex items-center gap-2",children:[o.jsx(ei,{className:"w-5 h-5"}),o.jsx("span",{className:"font-semibold",children:"All Scanned Items This Week"}),o.jsxs(Xe,{variant:"outline",className:"ml-auto",children:[w.length," items"]})]})}),o.jsx(Ve,{className:"p-6",children:w.length>0?o.jsx("div",{className:"space-y-4",children:_.map(P=>{const V=w.filter(le=>new Date(le.loggedAt).toISOString().split("T")[0]===P);if(V.length===0)return null;const F=V.reduce((le,ae)=>le+ae.totalCalories,0),q=new Date(P).toLocaleDateString("en-US",{weekday:"short"}),H=new Date(P).toLocaleDateString("en-US",{month:"short",day:"numeric"});return o.jsxs("div",{className:"border border-red-800/20 rounded-lg p-4 bg-gray-900/30",children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsxs("h4",{className:"font-semibold text-white",children:[q,", ",H]}),o.jsxs(Xe,{className:"bg-red-600 text-white",children:[F," cal"]})]}),o.jsx("div",{className:"space-y-2",children:V.map(le=>o.jsxs("div",{className:"flex justify-between items-start p-3 bg-black/40 border border-red-800/10 rounded-lg",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h5",{className:"font-medium text-white text-sm",children:le.mealName}),o.jsx("p",{className:"text-xs text-gray-400 capitalize",children:le.mealType})]}),o.jsxs("div",{className:"text-right flex items-start gap-3",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"font-semibold text-red-400 text-sm",children:[le.totalCalories," cal"]}),o.jsxs("p",{className:"text-xs text-gray-400",children:["P: ",le.protein,"g | C: ",le.carbs,"g | F: ",le.fat,"g"]})]}),o.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>j.mutate(le.id),disabled:j.isPending,className:"text-red-400 hover:text-red-300 hover:bg-red-900/20 h-8 w-8","data-testid":`button-delete-weekly-meal-${le.id}`,children:o.jsx(ul,{className:"h-3 w-3"})})]})]},le.id))})]},P)}).filter(Boolean)}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Po,{className:"w-8 h-8 text-gray-600"})}),o.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"No Items Scanned This Week"}),o.jsx("p",{className:"text-gray-400",children:"Start scanning barcodes to track your nutrition throughout the week"})]})})]})]})]}),o.jsx(mp,{}),o.jsx($he,{isOpen:a,onScan:D,onClose:()=>l(!1)})]})})})}function Whe(){return o.jsxs("div",{className:"relative min-h-screen bg-black hexagon-bg hexagon-pattern overflow-hidden",children:[o.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0",children:[o.jsx("div",{className:"absolute top-20 left-10 w-32 h-28 opacity-20 animate-pulse",style:{animationDuration:"6s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"#dc2626",stroke:"#dc2626",strokeWidth:"2",opacity:"0.3"})})}),o.jsx("div",{className:"absolute top-40 right-16 w-24 h-21 opacity-15 animate-bounce",style:{animationDuration:"8s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"none",stroke:"#dc2626",strokeWidth:"1",opacity:"0.4"})})}),o.jsx("div",{className:"absolute top-96 left-1/4 w-28 h-24 opacity-25 animate-ping",style:{animationDuration:"10s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"#000000",stroke:"#dc2626",strokeWidth:"2",opacity:"0.6"})})}),o.jsx("div",{className:"absolute bottom-80 right-1/3 w-20 h-17 opacity-30 animate-bounce",style:{animationDuration:"7s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"#dc2626",stroke:"#000000",strokeWidth:"1",opacity:"0.5"})})}),o.jsx("div",{className:"absolute bottom-40 left-20 w-36 h-31 opacity-20 animate-pulse",style:{animationDuration:"9s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"none",stroke:"#dc2626",strokeWidth:"2",opacity:"0.3"})})}),o.jsx("div",{className:"absolute top-1/3 right-1/4 w-26 h-22 opacity-15 animate-ping",style:{animationDuration:"12s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"#000000",stroke:"#dc2626",strokeWidth:"1",opacity:"0.4"})})})]}),o.jsxs("header",{className:"relative z-10 px-4 lg:px-6 h-14 flex items-center border-b bg-black/90 border-red-600/30 backdrop-blur",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(mt,{className:"text-red-600",size:32}),o.jsx("h1",{className:"text-xl font-bold text-white",children:"FlexFlow"})]}),o.jsx("div",{className:"ml-auto",children:o.jsx(ue,{asChild:!0,children:o.jsx("a",{href:"/auth-selection",children:"Sign In"})})})]}),o.jsxs("main",{className:"relative z-10 container mx-auto px-4 py-16",children:[o.jsxs("div",{className:"text-center space-y-8 max-w-4xl mx-auto",children:[o.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-white",children:["Your Complete",o.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-red-600 to-red-400 block",children:"Fitness Journey"}),"Starts Here"]}),o.jsx("p",{className:"text-2xl font-bold text-black mb-4",children:"Eat Clean, Think Smart, Train HARD!"}),o.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto leading-relaxed",children:"FlexFlow is your all-in-one fitness companion featuring AI-powered workout recommendations, personalized meal planning, progress tracking, and a supportive community to help you reach your health and fitness goals faster than ever before."}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(ue,{size:"lg",className:"text-lg px-8 py-4",asChild:!0,children:o.jsxs("a",{href:"/onboarding",children:[o.jsx(Tc,{className:"mr-2",size:20}),"Get Started Free"]})}),o.jsx("p",{className:"text-sm text-gray-400",children:"7-day free trial"})]})]}),o.jsxs("div",{className:"relative z-10 mt-20",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Complete Fitness Ecosystem"}),o.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Everything you need to transform your health and fitness journey in one powerful application"})]}),o.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16",children:[o.jsxs("div",{className:"text-center p-6 rounded-2xl bg-black border border-red-600/30 shadow-lg shadow-red-600/20",children:[o.jsx("div",{className:"w-16 h-16 bg-red-600/20 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(hr,{className:"text-red-600",size:24})}),o.jsx("h3",{className:"font-semibold text-lg mb-2 text-white",children:"Smart Workout Tracking"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"Log exercises with sets, reps, and weights. AI automatically adjusts workout difficulty based on your performance and progress patterns."})]}),o.jsxs("div",{className:"text-center p-6 rounded-2xl bg-black border border-red-600/30 shadow-lg shadow-red-600/20",children:[o.jsx("div",{className:"w-16 h-16 bg-red-600/20 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(tI,{className:"text-red-600",size:24})}),o.jsx("h3",{className:"font-semibold text-lg mb-2 text-white",children:"AI-Powered Plans"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"Get personalized workout and nutrition plans based on your age, goals, fitness level, and preferences. Plans adapt as you progress."})]}),o.jsxs("div",{className:"text-center p-6 rounded-2xl bg-black border border-red-600/30 shadow-lg shadow-red-600/20",children:[o.jsx("div",{className:"w-16 h-16 bg-red-600/20 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Wf,{className:"text-red-600",size:24})}),o.jsx("h3",{className:"font-semibold text-lg mb-2 text-white",children:"Advanced Analytics"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"Track strength gains, endurance improvements, and body composition changes with detailed charts and performance insights."})]}),o.jsxs("div",{className:"text-center p-6 rounded-2xl bg-black border border-red-600/30 shadow-lg shadow-red-600/20",children:[o.jsx("div",{className:"w-16 h-16 bg-red-600/20 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(cI,{className:"text-red-600",size:24})}),o.jsx("h3",{className:"font-semibold text-lg mb-2 text-white",children:"Personalized Nutrition"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"Custom meal plans with calorie and macro tracking. Barcode scanner for easy food logging and recipe recommendations based on your dietary goals."})]}),o.jsxs("div",{className:"text-center p-6 rounded-2xl bg-black border border-red-600/30 shadow-lg shadow-red-600/20",children:[o.jsx("div",{className:"w-16 h-16 bg-red-600/20 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Vc,{className:"text-red-600",size:24})}),o.jsx("h3",{className:"font-semibold text-lg mb-2 text-white",children:"Activity Tracking"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"Built-in mile tracker with GPS integration, workout timers, and comprehensive activity monitoring for running, walking, and cardio sessions."})]}),o.jsxs("div",{className:"text-center p-6 rounded-2xl bg-black border border-red-600/30 shadow-lg shadow-red-600/20",children:[o.jsx("div",{className:"w-16 h-16 bg-red-600/20 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Xd,{className:"text-red-600",size:24})}),o.jsx("h3",{className:"font-semibold text-lg mb-2 text-white",children:"Social Community"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"Connect with fitness enthusiasts, compete on leaderboards, share achievements, and get motivated by a supportive community."})]})]}),o.jsxs("div",{className:"bg-gradient-to-r from-red-600/10 to-red-800/10 rounded-2xl p-8 border border-red-600/20",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-red-600/20 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Lg,{className:"text-red-600",size:32})}),o.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Premium Features"}),o.jsx("p",{className:"text-gray-300",children:"Unlock the full potential of your fitness journey"})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(eo,{className:"text-yellow-500 flex-shrink-0 mt-1",size:20}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-white",children:"Advanced Meal Planning"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"Custom recipes, shopping lists, and nutrition coaching"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(Wf,{className:"text-blue-500 flex-shrink-0 mt-1",size:20}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-white",children:"Deep Analytics"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"Detailed body composition tracking and trend analysis"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(Lg,{className:"text-purple-500 flex-shrink-0 mt-1",size:20}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-white",children:"Priority Support"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"24/7 customer support and exclusive features access"})]})]})]})]})]}),o.jsxs("div",{className:"relative z-10 text-center mt-20 p-8 rounded-2xl bg-gradient-to-r from-primary to-secondary text-white",children:[o.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Transform Your Fitness?"}),o.jsx("p",{className:"text-xl mb-6 opacity-90",children:"Join thousands of users already achieving their goals with FlexFlow"}),o.jsx(ue,{size:"lg",variant:"secondary",className:"text-lg px-8 py-4",asChild:!0,children:o.jsxs("a",{href:"/api/login",children:[o.jsx(Tc,{className:"mr-2",size:20}),"Start Your Journey"]})})]})]}),o.jsx("footer",{className:"relative z-10 border-t bg-black/90 backdrop-blur py-8",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(mt,{className:"text-red-600",size:24}),o.jsx("span",{className:"text-white font-semibold",children:"FlexFlow"})]}),o.jsxs("div",{className:"flex flex-col md:flex-row items-center space-y-2 md:space-y-0 md:space-x-6",children:[o.jsx("a",{href:"/terms-of-service",className:"text-gray-300 hover:text-white transition-colors text-sm","data-testid":"terms-link",children:"Terms of Service"}),o.jsx("a",{href:"/privacy-policy",className:"text-gray-300 hover:text-white transition-colors text-sm","data-testid":"privacy-link",children:"Privacy Policy"})]}),o.jsxs("div",{className:"text-center md:text-right",children:[o.jsx("p",{className:"text-gray-400 text-sm",children:" 2024 FlexFlow. All rights reserved."}),o.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"CEO Steven Bates Jr"})]})]})})})]})}var Hhe="Separator",PA="horizontal",Ghe=["horizontal","vertical"],UF=b.forwardRef((t,e)=>{const{decorative:r,orientation:n=PA,...i}=t,s=qhe(n)?n:PA,l=r?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return o.jsx(Fe.div,{"data-orientation":s,...l,...i,ref:e})});UF.displayName=Hhe;function qhe(t){return Ghe.includes(t)}var zF=UF;const lg=b.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},i)=>o.jsx(zF,{ref:i,decorative:r,orientation:e,className:be("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));lg.displayName=zF.displayName;var $F="AlertDialog",[Zhe,k0e]=hn($F,[oD]),po=oD(),VF=t=>{const{__scopeAlertDialog:e,...r}=t,n=po(e);return o.jsx(Z_,{...n,...r,modal:!0})};VF.displayName=$F;var Khe="AlertDialogTrigger",WF=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=po(r);return o.jsx(K_,{...i,...n,ref:e})});WF.displayName=Khe;var Yhe="AlertDialogPortal",HF=t=>{const{__scopeAlertDialog:e,...r}=t,n=po(e);return o.jsx(Y_,{...n,...r})};HF.displayName=Yhe;var Xhe="AlertDialogOverlay",GF=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=po(r);return o.jsx(Jp,{...i,...n,ref:e})});GF.displayName=Xhe;var Vu="AlertDialogContent",[Qhe,Jhe]=Zhe(Vu),efe=k6("AlertDialogContent"),qF=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...i}=t,s=po(r),a=b.useRef(null),l=lt(e,a),c=b.useRef(null);return o.jsx(bK,{contentName:Vu,titleName:ZF,docsSlug:"alert-dialog",children:o.jsx(Qhe,{scope:r,cancelRef:c,children:o.jsxs(em,{role:"alertdialog",...s,...i,ref:l,onOpenAutoFocus:xe(i.onOpenAutoFocus,d=>{var h;d.preventDefault(),(h=c.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[o.jsx(efe,{children:n}),o.jsx(rfe,{contentRef:a})]})})})});qF.displayName=Vu;var ZF="AlertDialogTitle",KF=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=po(r);return o.jsx(tm,{...i,...n,ref:e})});KF.displayName=ZF;var YF="AlertDialogDescription",XF=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=po(r);return o.jsx(rm,{...i,...n,ref:e})});XF.displayName=YF;var tfe="AlertDialogAction",QF=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=po(r);return o.jsx(xv,{...i,...n,ref:e})});QF.displayName=tfe;var JF="AlertDialogCancel",eL=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:i}=Jhe(JF,r),s=po(r),a=lt(e,i);return o.jsx(xv,{...s,...n,ref:a})});eL.displayName=JF;var rfe=({contentRef:t})=>{const e=`\`${Vu}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Vu}\` by passing a \`${YF}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Vu}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return b.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},nfe=VF,ife=WF,sfe=HF,tL=GF,rL=qF,nL=QF,iL=eL,sL=KF,aL=XF;const afe=nfe,ofe=ife,lfe=sfe,oL=b.forwardRef(({className:t,...e},r)=>o.jsx(tL,{className:be("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));oL.displayName=tL.displayName;const lL=b.forwardRef(({className:t,...e},r)=>o.jsxs(lfe,{children:[o.jsx(oL,{}),o.jsx(rL,{ref:r,className:be("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));lL.displayName=rL.displayName;const cL=({className:t,...e})=>o.jsx("div",{className:be("flex flex-col space-y-2 text-center sm:text-left",t),...e});cL.displayName="AlertDialogHeader";const uL=({className:t,...e})=>o.jsx("div",{className:be("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});uL.displayName="AlertDialogFooter";const dL=b.forwardRef(({className:t,...e},r)=>o.jsx(sL,{ref:r,className:be("text-lg font-semibold",t),...e}));dL.displayName=sL.displayName;const hL=b.forwardRef(({className:t,...e},r)=>o.jsx(aL,{ref:r,className:be("text-sm text-muted-foreground",t),...e}));hL.displayName=aL.displayName;const fL=b.forwardRef(({className:t,...e},r)=>o.jsx(nL,{ref:r,className:be(z_(),t),...e}));fL.displayName=nL.displayName;const pL=b.forwardRef(({className:t,...e},r)=>o.jsx(iL,{ref:r,className:be(z_({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));pL.displayName=iL.displayName;var YN="Switch",[cfe,j0e]=hn(YN),[ufe,dfe]=cfe(YN),mL=b.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:s,required:a,disabled:l,value:c="on",onCheckedChange:d,form:h,...f}=t,[m,g]=b.useState(null),y=lt(e,S=>g(S)),x=b.useRef(!1),N=m?h||!!m.closest("form"):!0,[_=!1,w]=ts({prop:i,defaultProp:s,onChange:d});return o.jsxs(ufe,{scope:r,checked:_,disabled:l,children:[o.jsx(Fe.button,{type:"button",role:"switch","aria-checked":_,"aria-required":a,"data-state":xL(_),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onClick:xe(t.onClick,S=>{w(E=>!E),N&&(x.current=S.isPropagationStopped(),x.current||S.stopPropagation())})}),N&&o.jsx(hfe,{control:m,bubbles:!x.current,name:n,value:c,checked:_,required:a,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});mL.displayName=YN;var gL="SwitchThumb",vL=b.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=dfe(gL,r);return o.jsx(Fe.span,{"data-state":xL(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});vL.displayName=gL;var hfe=t=>{const{control:e,checked:r,bubbles:n=!0,...i}=t,s=b.useRef(null),a=lm(r),l=Qp(e);return b.useEffect(()=>{const c=s.current,d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(a!==r&&f){const m=new Event("click",{bubbles:n});f.call(c,r),c.dispatchEvent(m)}},[a,r,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:s,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function xL(t){return t?"checked":"unchecked"}var yL=mL,ffe=vL;const d2=b.forwardRef(({className:t,...e},r)=>o.jsx(yL,{className:be("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:r,children:o.jsx(ffe,{className:be("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));d2.displayName=yL.displayName;function pfe(){const{user:t}=ns(),{toast:e}=xi(),r=Rn(),[n,i]=b.useState(!1),{data:s,isLoading:a}=Rt({queryKey:["/api/notification-preferences"],enabled:!!t}),{data:l,isLoading:c}=Rt({queryKey:["/api/user/badges"],enabled:!!t}),d=Ut({mutationFn:async x=>(await dt("PUT","/api/notification-preferences",x)).json(),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/notification-preferences"]}),e({title:"Preferences Updated",description:"Your notification preferences have been saved."})},onError:()=>{e({title:"Error",description:"Failed to update notification preferences.",variant:"destructive"})}}),h=Ut({mutationFn:async()=>(await dt("DELETE","/api/user/account",{})).json(),onSuccess:()=>{e({title:"Account Deleted",description:"Your account and all associated data have been permanently deleted."}),setTimeout(()=>{window.location.href="/"},2e3)},onError:()=>{e({title:"Error",description:"Failed to delete account. Please try again or contact support.",variant:"destructive"})}}),f=x=>x?new Date(x).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",m=x=>{switch(x){case"active":return o.jsxs(Xe,{className:"bg-green-100 text-green-800 border-green-200",children:[o.jsx(qn,{className:"w-3 h-3 mr-1"}),"Active"]});case"free_trial":return o.jsxs(Xe,{className:"bg-blue-100 text-blue-800 border-blue-200",children:[o.jsx(Ki,{className:"w-3 h-3 mr-1"}),"Free Trial"]});case"expired":return o.jsxs(Xe,{className:"bg-red-100 text-red-800 border-red-200",children:[o.jsx(Pi,{className:"w-3 h-3 mr-1"}),"Expired"]});case"inactive":return o.jsx(Xe,{className:"bg-gray-100 text-gray-800 border-gray-200",children:"Inactive"});default:return o.jsx(Xe,{variant:"secondary",children:x})}},g=x=>{switch(x){case"active":return"You have full access to all premium features including advanced analytics, unlimited workout logging, and priority support.";case"free_trial":return"You're currently enjoying your free trial with access to all premium features. Upgrade to continue after your trial ends.";case"expired":return"Your subscription has expired. Upgrade to regain access to premium features and continue your fitness journey.";case"inactive":return"Your subscription is currently inactive. Reactivate to access premium features.";default:return"Manage your subscription to access premium features."}},y=x=>{const N={className:"w-12 h-12"};switch(x.toLowerCase()){case"flame":return o.jsx(Xa,{...N,className:"w-12 h-12 text-orange-500"});case"zap":return o.jsx(dl,{...N,className:"w-12 h-12 text-yellow-500"});case"trophy":return o.jsx(Yi,{...N,className:"w-12 h-12 text-amber-500"});case"award":return o.jsx(Kl,{...N,className:"w-12 h-12 text-blue-500"});default:return o.jsx(Kl,{...N,className:"w-12 h-12 text-purple-500"})}};return o.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[o.jsx(yf,{className:"w-8 h-8 text-primary"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900","data-testid":"settings-title",children:"Settings"}),o.jsx("p",{className:"text-gray-600",children:"Manage your account and subscription preferences"})]})]}),o.jsxs(Le,{"data-testid":"profile-settings-card",children:[o.jsxs(kt,{children:[o.jsxs(Ot,{className:"flex items-center gap-2",children:[o.jsx(yf,{className:"w-5 h-5"}),"Profile Settings"]}),o.jsx(qr,{children:"Update your personal information and profile picture"})]}),o.jsx(Ve,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",children:"Personal Information"}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Name: ",t!=null&&t.firstName||t!=null&&t.lastName?`${t.firstName||""} ${t.lastName||""}`.trim():"Not set"]}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Email: ",(t==null?void 0:t.email)||"Not available"]})]}),o.jsx(_v,{trigger:o.jsx(ue,{variant:"outline","data-testid":"edit-profile-settings",children:"Edit Profile"})})]})})]}),o.jsxs(Le,{"data-testid":"notification-settings-card",children:[o.jsxs(kt,{children:[o.jsxs(Ot,{className:"flex items-center gap-2",children:[o.jsx(O3,{className:"w-5 h-5"}),"Notification Preferences"]}),o.jsx(qr,{children:"Manage workout reminders and meal time notifications"})]}),o.jsx(Ve,{className:"space-y-6",children:a?o.jsx("p",{className:"text-sm text-gray-500",children:"Loading preferences..."}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(it,{htmlFor:"workout-reminders",className:"text-base",children:"Workout Reminders"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Get notified if you haven't logged a workout in 24 hours"})]}),o.jsx(d2,{id:"workout-reminders",checked:(s==null?void 0:s.workoutRemindersEnabled)??!0,onCheckedChange:x=>{d.mutate({workoutRemindersEnabled:x})},"data-testid":"switch-workout-reminders"})]}),o.jsx(lg,{}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(it,{htmlFor:"meal-notifications",className:"text-base",children:"Meal Time Notifications"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Receive reminders for breakfast, lunch, and dinner times"})]}),o.jsx(d2,{id:"meal-notifications",checked:(s==null?void 0:s.mealNotificationsEnabled)??!0,onCheckedChange:x=>{d.mutate({mealNotificationsEnabled:x})},"data-testid":"switch-meal-notifications"})]}),(s==null?void 0:s.mealNotificationsEnabled)&&o.jsx("div",{className:"ml-4 space-y-4 pl-4 border-l-2 border-gray-200",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(it,{htmlFor:"breakfast-time",children:"Breakfast Time"}),o.jsx(Yt,{id:"breakfast-time",type:"time",value:(s==null?void 0:s.breakfastTime)||"08:00",onChange:x=>{d.mutate({breakfastTime:x.target.value})},"data-testid":"input-breakfast-time"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(it,{htmlFor:"lunch-time",children:"Lunch Time"}),o.jsx(Yt,{id:"lunch-time",type:"time",value:(s==null?void 0:s.lunchTime)||"12:00",onChange:x=>{d.mutate({lunchTime:x.target.value})},"data-testid":"input-lunch-time"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(it,{htmlFor:"dinner-time",children:"Dinner Time"}),o.jsx(Yt,{id:"dinner-time",type:"time",value:(s==null?void 0:s.dinnerTime)||"18:00",onChange:x=>{d.mutate({dinnerTime:x.target.value})},"data-testid":"input-dinner-time"})]})]})})]}),o.jsx(lg,{}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(O3,{className:"w-5 h-5 text-blue-600 mt-0.5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium text-blue-900",children:"Browser Notifications"}),o.jsx("p",{className:"text-sm text-blue-800 mt-1",children:s!=null&&s.notificationPermissionGranted?"Browser notifications are enabled. You'll receive reminders even when the app is closed.":"Enable browser notifications to receive reminders even when the app is not open."}),!(s!=null&&s.notificationPermissionGranted)&&o.jsx(ue,{className:"mt-3",size:"sm",variant:"outline",onClick:async()=>{"Notification"in window?await Notification.requestPermission()==="granted"&&(d.mutate({notificationPermissionGranted:!0}),e({title:"Notifications Enabled",description:"You'll now receive browser notifications for reminders."})):e({title:"Not Supported",description:"Your browser doesn't support notifications.",variant:"destructive"})},"data-testid":"button-enable-notifications",children:"Enable Browser Notifications"})]})]})})]})})]}),o.jsxs(Le,{"data-testid":"badges-card",children:[o.jsxs(kt,{children:[o.jsxs(Ot,{className:"flex items-center gap-2",children:[o.jsx(Kl,{className:"w-5 h-5 text-primary"}),"Achievements & Badges"]}),o.jsx(qr,{children:"Earn badges for consistency and dedication to your fitness journey"})]}),o.jsx(Ve,{children:c?o.jsx("p",{className:"text-sm text-gray-500",children:"Loading your achievements..."}):o.jsxs("div",{className:"space-y-6",children:[l&&l.length>0?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.map(x=>o.jsxs("div",{className:"flex items-start gap-4 p-4 border rounded-lg bg-gradient-to-br from-amber-50 to-orange-50 border-amber-200","data-testid":`badge-${x.badge.name.toLowerCase().replace(/\s+/g,"-")}`,children:[o.jsx("div",{className:"flex-shrink-0",children:y(x.badge.iconName)}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:x.badge.name}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:x.badge.description}),o.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Earned on ",new Date(x.earnedAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]})]},x.id))}):o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6 text-center",children:[o.jsx(Kl,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),o.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"No badges earned yet"}),o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Keep logging your workouts daily to earn consistency badges!"}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[o.jsxs("p",{className:"flex items-center justify-center gap-2",children:[o.jsx(Xa,{className:"w-4 h-4 text-orange-500"}),o.jsx("span",{children:"Week Warrior - 7 days streak"})]}),o.jsxs("p",{className:"flex items-center justify-center gap-2",children:[o.jsx(dl,{className:"w-4 h-4 text-yellow-500"}),o.jsx("span",{children:"Fortnight Champion - 14 days streak"})]}),o.jsxs("p",{className:"flex items-center justify-center gap-2",children:[o.jsx(Yi,{className:"w-4 h-4 text-amber-500"}),o.jsx("span",{children:"Monthly Master - 30 days streak"})]})]})]}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Xa,{className:"w-5 h-5 text-blue-600 mt-0.5"}),o.jsxs("div",{children:[o.jsxs("h4",{className:"font-medium text-blue-900",children:["Current Streak: ",(t==null?void 0:t.streak)||0," days"]}),o.jsx("p",{className:"text-sm text-blue-800 mt-1",children:t!=null&&t.streak&&t.streak>=7?"Great job! Keep up the consistent work to maintain your badges.":`Keep logging workouts daily! ${7-((t==null?void 0:t.streak)||0)} more days until your first badge.`})]})]})})]})})]}),o.jsxs(Le,{"data-testid":"subscription-card",children:[o.jsxs(kt,{children:[o.jsxs(Ot,{className:"flex items-center gap-2",children:[o.jsx(Ki,{className:"w-5 h-5 text-primary"}),"Subscription Details"]}),o.jsx(qr,{children:"View and manage your FlexFlow subscription"})]}),o.jsxs(Ve,{className:"space-y-4",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsxs("h3",{className:"font-medium flex items-center gap-2",children:["Current Plan",m((t==null?void 0:t.subscriptionStatus)||"inactive")]}),o.jsx("p",{className:"text-sm text-gray-600 mt-1 max-w-md",children:g((t==null?void 0:t.subscriptionStatus)||"inactive")})]})}),o.jsx(lg,{}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-sm text-gray-700 mb-2",children:"Subscription Details"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Status:"}),o.jsx("span",{className:"font-medium capitalize",children:(t==null?void 0:t.subscriptionStatus)||"N/A"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Started:"}),o.jsx("span",{className:"font-medium",children:f((t==null?void 0:t.subscriptionStartDate)||null)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:(t==null?void 0:t.subscriptionStatus)==="free_trial"?"Trial Ends:":"Next Billing:"}),o.jsx("span",{className:"font-medium",children:f((t==null?void 0:t.subscriptionExpiresAt)||null)})]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-sm text-gray-700 mb-2",children:"Account Information"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Member Since:"}),o.jsx("span",{className:"font-medium",children:f((t==null?void 0:t.createdAt)||null)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Last Updated:"}),o.jsx("span",{className:"font-medium",children:f((t==null?void 0:t.updatedAt)||null)})]}),(t==null?void 0:t.lastPaymentDate)&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Last Payment:"}),o.jsx("span",{className:"font-medium",children:f(t.lastPaymentDate)})]})]})]})]}),(t==null?void 0:t.subscriptionStatus)==="free_trial"&&o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Ki,{className:"w-5 h-5 text-blue-600 mt-0.5"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-blue-900",children:"Free Trial Active"}),o.jsxs("p",{className:"text-sm text-blue-800 mt-1",children:["You're currently enjoying full access to all premium features. Your trial expires on ",f(t==null?void 0:t.subscriptionExpiresAt),". Upgrade now to continue your fitness journey without interruption."]}),!Qn.isNativePlatform()&&o.jsxs(ue,{className:"mt-3",size:"sm",onClick:()=>window.location.href="#subscription","data-testid":"upgrade-trial-button",children:[o.jsx(M3,{className:"w-4 h-4 mr-2"}),"Upgrade Now"]})]})]})}),(t==null?void 0:t.subscriptionStatus)==="expired"&&o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mt-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Pi,{className:"w-5 h-5 text-red-600 mt-0.5"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-red-900",children:"Subscription Expired"}),o.jsxs("p",{className:"text-sm text-red-800 mt-1",children:["Your subscription expired on ",f(t==null?void 0:t.subscriptionExpiresAt),". Renew your subscription to regain access to premium features and continue tracking your progress."]}),!Qn.isNativePlatform()&&o.jsxs(ue,{className:"mt-3",size:"sm",onClick:()=>window.location.href="#subscription","data-testid":"renew-subscription-button",children:[o.jsx(M3,{className:"w-4 h-4 mr-2"}),"Renew Subscription"]})]})]})}),(t==null?void 0:t.subscriptionStatus)==="active"&&o.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mt-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(qn,{className:"w-5 h-5 text-green-600 mt-0.5"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-green-900",children:"Premium Active"}),o.jsxs("p",{className:"text-sm text-green-800 mt-1",children:["You have full access to all premium features. Your subscription will renew on ",f(t==null?void 0:t.subscriptionExpiresAt),"."]}),o.jsx("div",{className:"flex gap-2 mt-3",children:!Qn.isNativePlatform()&&o.jsxs(ue,{variant:"outline",size:"sm",onClick:()=>window.location.href="#subscription","data-testid":"manage-subscription-button",children:[o.jsx(yf,{className:"w-4 h-4 mr-2"}),"Manage Subscription"]})})]})]})})]})]}),o.jsxs(Le,{"data-testid":"features-card",children:[o.jsxs(kt,{children:[o.jsx(Ot,{children:"Premium Features"}),o.jsx(qr,{children:"See what's included with your FlexFlow subscription"})]}),o.jsx(Ve,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(qn,{className:"w-4 h-4 text-green-600"}),o.jsx("span",{className:"text-sm",children:"Unlimited workout logging"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(qn,{className:"w-4 h-4 text-green-600"}),o.jsx("span",{className:"text-sm",children:"Advanced progress analytics"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(qn,{className:"w-4 h-4 text-green-600"}),o.jsx("span",{className:"text-sm",children:"Personal trainer connections"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(qn,{className:"w-4 h-4 text-green-600"}),o.jsx("span",{className:"text-sm",children:"AI-powered workout recommendations"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(qn,{className:"w-4 h-4 text-green-600"}),o.jsx("span",{className:"text-sm",children:"Custom goal setting & tracking"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(qn,{className:"w-4 h-4 text-green-600"}),o.jsx("span",{className:"text-sm",children:"Detailed nutrition insights"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(qn,{className:"w-4 h-4 text-green-600"}),o.jsx("span",{className:"text-sm",children:"Export workout data"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(qn,{className:"w-4 h-4 text-green-600"}),o.jsx("span",{className:"text-sm",children:"Priority customer support"})]})]})]})})]}),o.jsxs(Le,{className:"border-red-200","data-testid":"account-deletion-card",children:[o.jsxs(kt,{children:[o.jsxs(Ot,{className:"flex items-center gap-2 text-red-600",children:[o.jsx(ul,{className:"w-5 h-5"}),"Delete Account"]}),o.jsx(qr,{children:"Permanently delete your account and all associated data"})]}),o.jsx(Ve,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(S_,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-red-900",children:"Warning: This action cannot be undone"}),o.jsx("p",{className:"text-sm text-red-800 mt-1",children:"Deleting your account will permanently remove:"}),o.jsxs("ul",{className:"text-sm text-red-800 mt-2 space-y-1 ml-4 list-disc",children:[o.jsx("li",{children:"All your workout history and progress photos"}),o.jsx("li",{children:"All your goals, meal plans, and food tracking data"}),o.jsx("li",{children:"Your community posts and trainer reviews"}),o.jsx("li",{children:"Your subscription and payment information"}),o.jsx("li",{children:"Your personal profile and preferences"})]})]})]})}),o.jsxs(afe,{open:n,onOpenChange:i,children:[o.jsx(ofe,{asChild:!0,children:o.jsxs(ue,{variant:"destructive","data-testid":"delete-account-button",className:"w-full sm:w-auto",children:[o.jsx(ul,{className:"w-4 h-4 mr-2"}),"Delete My Account"]})}),o.jsxs(lL,{children:[o.jsxs(cL,{children:[o.jsx(dL,{children:"Are you absolutely sure?"}),o.jsxs(hL,{children:["This action cannot be undone. This will permanently delete your account and remove all of your data from our servers, including:",o.jsxs("ul",{className:"mt-2 space-y-1 ml-4 list-disc",children:[o.jsx("li",{children:"All workout history and exercise logs"}),o.jsx("li",{children:"Progress photos and measurements"}),o.jsx("li",{children:"Meal plans and nutrition tracking data"}),o.jsx("li",{children:"Goals and achievements"}),o.jsx("li",{children:"Community posts and interactions"}),o.jsx("li",{children:"Subscription and billing information"})]})]})]}),o.jsxs(uL,{children:[o.jsx(pL,{"data-testid":"cancel-delete-button",children:"Cancel"}),o.jsx(fL,{onClick:()=>h.mutate(),disabled:h.isPending,className:"bg-red-600 hover:bg-red-700","data-testid":"confirm-delete-button",children:h.isPending?"Deleting...":"Yes, delete my account"})]})]})]})]})})]})]})}var wL=["PageUp","PageDown"],bL=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],_L={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},oh="Slider",[h2,mfe,gfe]=qp(oh),[NL,P0e]=hn(oh,[gfe]),[vfe,Fv]=NL(oh),CL=b.forwardRef((t,e)=>{const{name:r,min:n=0,max:i=100,step:s=1,orientation:a="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[n],value:h,onValueChange:f=()=>{},onValueCommit:m=()=>{},inverted:g=!1,form:y,...x}=t,N=b.useRef(new Set),_=b.useRef(0),S=a==="horizontal"?xfe:yfe,[E=[],j]=ts({prop:h,defaultProp:d,onChange:V=>{var q;(q=[...N.current][_.current])==null||q.focus(),f(V)}}),D=b.useRef(E);function T(V){const F=Cfe(E,V);P(V,F)}function O(V){P(V,_.current)}function B(){const V=D.current[_.current];E[_.current]!==V&&m(E)}function P(V,F,{commit:q}={commit:!1}){const H=kfe(s),le=jfe(Math.round((V-n)/s)*s+n,H),ae=Yg(le,[n,i]);j((me=[])=>{const R=_fe(me,ae,F);if(Afe(R,c*s)){_.current=R.indexOf(ae);const G=String(R)!==String(me);return G&&q&&m(R),G?R:me}else return me})}return o.jsx(vfe,{scope:t.__scopeSlider,name:r,disabled:l,min:n,max:i,valueIndexToChangeRef:_,thumbs:N.current,values:E,orientation:a,form:y,children:o.jsx(h2.Provider,{scope:t.__scopeSlider,children:o.jsx(h2.Slot,{scope:t.__scopeSlider,children:o.jsx(S,{"aria-disabled":l,"data-disabled":l?"":void 0,...x,ref:e,onPointerDown:xe(x.onPointerDown,()=>{l||(D.current=E)}),min:n,max:i,inverted:g,onSlideStart:l?void 0:T,onSlideMove:l?void 0:O,onSlideEnd:l?void 0:B,onHomeKeyDown:()=>!l&&P(n,0,{commit:!0}),onEndKeyDown:()=>!l&&P(i,E.length-1,{commit:!0}),onStepKeyDown:({event:V,direction:F})=>{if(!l){const le=wL.includes(V.key)||V.shiftKey&&bL.includes(V.key)?10:1,ae=_.current,me=E[ae],R=s*le*F;P(me+R,ae,{commit:!0})}}})})})})});CL.displayName=oh;var[SL,EL]=NL(oh,{startEdge:"left",endEdge:"right",size:"width",direction:1}),xfe=b.forwardRef((t,e)=>{const{min:r,max:n,dir:i,inverted:s,onSlideStart:a,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...h}=t,[f,m]=b.useState(null),g=lt(e,S=>m(S)),y=b.useRef(void 0),x=rh(i),N=x==="ltr",_=N&&!s||!N&&s;function w(S){const E=y.current||f.getBoundingClientRect(),j=[0,E.width],T=XN(j,_?[r,n]:[n,r]);return y.current=E,T(S-E.left)}return o.jsx(SL,{scope:t.__scopeSlider,startEdge:_?"left":"right",endEdge:_?"right":"left",direction:_?1:-1,size:"width",children:o.jsx(AL,{dir:x,"data-orientation":"horizontal",...h,ref:g,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:S=>{const E=w(S.clientX);a==null||a(E)},onSlideMove:S=>{const E=w(S.clientX);l==null||l(E)},onSlideEnd:()=>{y.current=void 0,c==null||c()},onStepKeyDown:S=>{const j=_L[_?"from-left":"from-right"].includes(S.key);d==null||d({event:S,direction:j?-1:1})}})})}),yfe=b.forwardRef((t,e)=>{const{min:r,max:n,inverted:i,onSlideStart:s,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...d}=t,h=b.useRef(null),f=lt(e,h),m=b.useRef(void 0),g=!i;function y(x){const N=m.current||h.current.getBoundingClientRect(),_=[0,N.height],S=XN(_,g?[n,r]:[r,n]);return m.current=N,S(x-N.top)}return o.jsx(SL,{scope:t.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:o.jsx(AL,{"data-orientation":"vertical",...d,ref:f,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const N=y(x.clientY);s==null||s(N)},onSlideMove:x=>{const N=y(x.clientY);a==null||a(N)},onSlideEnd:()=>{m.current=void 0,l==null||l()},onStepKeyDown:x=>{const _=_L[g?"from-bottom":"from-top"].includes(x.key);c==null||c({event:x,direction:_?-1:1})}})})}),AL=b.forwardRef((t,e)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:a,onEndKeyDown:l,onStepKeyDown:c,...d}=t,h=Fv(oh,r);return o.jsx(Fe.span,{...d,ref:e,onKeyDown:xe(t.onKeyDown,f=>{f.key==="Home"?(a(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):wL.concat(bL).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:xe(t.onPointerDown,f=>{const m=f.target;m.setPointerCapture(f.pointerId),f.preventDefault(),h.thumbs.has(m)?m.focus():n(f)}),onPointerMove:xe(t.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&i(f)}),onPointerUp:xe(t.onPointerUp,f=>{const m=f.target;m.hasPointerCapture(f.pointerId)&&(m.releasePointerCapture(f.pointerId),s(f))})})}),kL="SliderTrack",jL=b.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,i=Fv(kL,r);return o.jsx(Fe.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...n,ref:e})});jL.displayName=kL;var f2="SliderRange",PL=b.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,i=Fv(f2,r),s=EL(f2,r),a=b.useRef(null),l=lt(e,a),c=i.values.length,d=i.values.map(m=>IL(m,i.min,i.max)),h=c>1?Math.min(...d):0,f=100-Math.max(...d);return o.jsx(Fe.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...n,ref:l,style:{...t.style,[s.startEdge]:h+"%",[s.endEdge]:f+"%"}})});PL.displayName=f2;var p2="SliderThumb",TL=b.forwardRef((t,e)=>{const r=mfe(t.__scopeSlider),[n,i]=b.useState(null),s=lt(e,l=>i(l)),a=b.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return o.jsx(wfe,{...t,ref:s,index:a})}),wfe=b.forwardRef((t,e)=>{const{__scopeSlider:r,index:n,name:i,...s}=t,a=Fv(p2,r),l=EL(p2,r),[c,d]=b.useState(null),h=lt(e,w=>d(w)),f=c?a.form||!!c.closest("form"):!0,m=Qp(c),g=a.values[n],y=g===void 0?0:IL(g,a.min,a.max),x=Nfe(n,a.values.length),N=m==null?void 0:m[l.size],_=N?Sfe(N,y,l.direction):0;return b.useEffect(()=>{if(c)return a.thumbs.add(c),()=>{a.thumbs.delete(c)}},[c,a.thumbs]),o.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${y}% + ${_}px)`},children:[o.jsx(h2.ItemSlot,{scope:t.__scopeSlider,children:o.jsx(Fe.span,{role:"slider","aria-label":t["aria-label"]||x,"aria-valuemin":a.min,"aria-valuenow":g,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...s,ref:h,style:g===void 0?{display:"none"}:t.style,onFocus:xe(t.onFocus,()=>{a.valueIndexToChangeRef.current=n})})}),f&&o.jsx(bfe,{name:i??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:g},n)]})});TL.displayName=p2;var bfe=t=>{const{value:e,...r}=t,n=b.useRef(null),i=lm(e);return b.useEffect(()=>{const s=n.current,a=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(a,"value").set;if(i!==e&&c){const d=new Event("input",{bubbles:!0});c.call(s,e),s.dispatchEvent(d)}},[i,e]),o.jsx("input",{style:{display:"none"},...r,ref:n,defaultValue:e})};function _fe(t=[],e,r){const n=[...t];return n[r]=e,n.sort((i,s)=>i-s)}function IL(t,e,r){const s=100/(r-e)*(t-e);return Yg(s,[0,100])}function Nfe(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function Cfe(t,e){if(t.length===1)return 0;const r=t.map(i=>Math.abs(i-e)),n=Math.min(...r);return r.indexOf(n)}function Sfe(t,e,r){const n=t/2,s=XN([0,50],[0,n]);return(n-s(e)*r)*r}function Efe(t){return t.slice(0,-1).map((e,r)=>t[r+1]-e)}function Afe(t,e){if(e>0){const r=Efe(t);return Math.min(...r)>=e}return!0}function XN(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function kfe(t){return(String(t).split(".")[1]||"").length}function jfe(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}var DL=CL,Pfe=jL,Tfe=PL,Ife=TL;const OL=b.forwardRef(({className:t,...e},r)=>o.jsxs(DL,{ref:r,className:be("relative flex w-full touch-none select-none items-center",t),...e,children:[o.jsx(Pfe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:o.jsx(Tfe,{className:"absolute h-full bg-primary"})}),o.jsx(Ife,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));OL.displayName=DL.displayName;function Dfe(){const[t,e]=b.useState(!1),[r,n]=b.useState(""),[i,s]=b.useState(!1),a=b.useRef(null);b.useEffect(()=>{const h=window.SpeechRecognition||window.webkitSpeechRecognition;if(s(!!h),h){const f=new h;f.continuous=!1,f.interimResults=!1,f.lang="en-US",f.onresult=m=>{const y=m.results[m.results.length-1][0].transcript;n(y)},f.onerror=m=>{console.error("Speech recognition error:",m.error),e(!1)},f.onend=()=>{e(!1)},f.onstart=()=>{e(!0)},a.current=f}return()=>{a.current&&a.current.abort()}},[]);const l=b.useCallback(()=>{if(a.current&&!t){n("");try{a.current.start()}catch(h){console.error("Error starting speech recognition:",h)}}},[t]),c=b.useCallback(()=>{a.current&&t&&a.current.stop()},[t]),d=b.useCallback(()=>{n("")},[]);return{isListening:t,transcript:r,isSupported:i,startListening:l,stopListening:c,resetTranscript:d}}function Ofe({onTranscript:t,className:e}){const{isListening:r,transcript:n,isSupported:i,startListening:s,stopListening:a}=Dfe(),{toast:l}=xi();b.useEffect(()=>{n&&t(n)},[n,t]);const c=()=>{if(!i){l({title:"Not Supported",description:"Voice search is not supported in your browser. Try Chrome, Edge, or Safari.",variant:"destructive"});return}r?a():(s(),l({title:"Listening...",description:"Speak now to search"}))};return i?o.jsxs(gZ,{children:[o.jsx(vZ,{asChild:!0,children:o.jsx(ue,{type:"button",variant:r?"default":"ghost",size:"icon",onClick:c,className:e,"data-testid":r?"button-stop-voice":"button-start-voice",children:r?o.jsx(QH,{className:"h-4 w-4 animate-pulse"}):o.jsx(JH,{className:"h-4 w-4"})})}),o.jsx(ZI,{children:o.jsx("p",{children:r?"Stop listening":"Voice search"})})]}):null}const TA="/assets/IMG_6694_1758675702051-BQQyT5Bo.jpeg",Mfe="/assets/Man_performing_push-up_exercise_19b36844-D2rsfr2j.png",Rfe="/assets/Man_performing_bench_press_60a51258-VuiQsdz1.png",Ffe="/assets/Black_man_performing_pull-ups_3605874d-DiiCi3Ge.png",Lfe="/assets/Black_man_and_woman_chin-ups_7848bb87-mnLtYGpf.png",Bfe="/assets/Man_and_woman_dips_e6984611-Y9OsObsT.png",Ufe="/assets/Man_and_woman_dumbbell_shoulder_press_0adea308-BoGGYdbp.png",IA="/assets/Man_and_woman_dumbbell_curls_f43bb36e-CmU2yUSk.png",zfe="/assets/Man_and_woman_dumbbell_flyes_de771e8c-woh_4ohi.png",$fe="/assets/black_woman_performi_21123039-BG72uSlc.jpg",Vfe="/assets/Black_guy_and_lady_tricep_extensions_3cce0d7d-BSZCtSal.png",Wfe="/assets/Man_and_woman_lat_pulldown_dbce7bd1-BMAZpLRv.png",DA="/assets/Man_and_woman_dumbbell_squats_2743b80a-u3YyM7gv.png",Hfe="/assets/Black_guy_and_lady_deadlifts_3066fc1b-CZZf5ONG.png",OA="/assets/Man_and_woman_dumbbell_lunges_c5474eaf-J-EgUTIu.png",Gfe="/assets/Black_woman_leg_press_exercise_c612272f-CmejRKXg.png",qfe="/assets/Black_guy_and_lady_calf_raises_3cb5cf18-BnpfcjaY.png",Zfe="/assets/Black_guy_and_lady_Romanian_deadlifts_cba72218-CfH3qTF8.png",Kfe="/assets/Black_woman_performing_hip_thrusts_ebc9e75c-CzPSraWd.png",Yfe="/assets/Man_performing_plank_exercise_5bcbc71c-B-C1Thsu.png",Xfe="/assets/Woman_performing_crunches_exercise_2d16cfd0-DhyuFiMa.png",Qfe="/assets/Man_performing_Russian_twists_ca261386-LWff4PkB.png",Jfe="/assets/Woman_performing_mountain_climbers_35705bbe-ozhxjJuP.png",epe="/assets/Man_performing_dead_bug_7bdcdb1e-CUk9V5wb.png",tpe="/assets/Woman_performing_hanging_leg_raises_ef4d5db2-Dhn892eM.png",rpe="/assets/Man_and_woman_dumbbell_lateral_raises_a9e51d80-BzdERX1O.png",npe="/assets/Man_and_woman_dumbbell_front_raises_f19c02ce-Tcchdm7B.png",ipe="/assets/Woman_performing_dumbbell_shrugs_ac5db82c-mq6YxNfQ.png",spe="/assets/Man_performing_dumbbell_step-ups_da98f98d-DNajFalE.png",ape="/assets/Woman_performing_dumbbell_thrusters_e6b4460d-DUbXvjfa.png",ope="/assets/Chest_muscles_anatomical_diagram_f5a067d4-DCUjMIv1.png",lpe="/assets/Back_muscles_anatomical_diagram_018b0191-BktupVTE.png",cpe="/assets/Shoulder_muscles_anatomical_diagram_2d197462-CKV4aa5Z.png",upe="/assets/Arm_muscles_anatomical_diagram_678a9cd7-B_kiMQAS.png",dpe="/assets/Leg_muscles_anatomical_diagram_379a469f-Co7Pqfv_.png",hpe="/assets/Core_muscles_anatomical_diagram_d8154613-CRA-iyqA.png",fpe="/assets/Glute_muscles_anatomical_diagram_3fc6aa31-CABpDaXU.png",ppe="/assets/Cardio_system_anatomical_diagram_4d68f3f5-BFiOPHW_.png";function mpe(){var Ks,Sn,W,J,oe,ke,Ne;const[t,e]=b.useState(""),[r,n]=b.useState("strength"),[i,s]=b.useState("all"),[a,l]=b.useState(!1),[c,d]=b.useState(null),[h,f]=b.useState([3]),[m,g]=b.useState([5]),[y,x]=b.useState([30]),[N,_]=b.useState(!1),[w,S]=b.useState(!1),[E,j]=b.useState(null),[D,T]=b.useState(!1),[O,B]=b.useState(3),[P,V]=b.useState(10),[F,q]=b.useState(0),[H,le]=b.useState(0),[ae,me]=b.useState(""),[,R]=qs(),G=Rn(),{toast:ee}=xi(),ie=(Z,K,We,Ft,ir,is)=>{let Br=0;const Oi=Z.name.toLowerCase(),Pa=Z.category.toLowerCase();return Pa==="strength"?(Br=K*We*.5+Ft*.1+y[0]*6,(Oi.includes("squat")||Oi.includes("deadlift"))&&(Br*=1.3)):Pa==="cardio"?(Br=y[0]*(8+is*.8),ir>0&&(Br=ir/60*(8+is*.8))):Pa==="yoga"||Pa==="flexibility"?Br=y[0]*(3+is*.4):Br=y[0]*(5+is*.6),Br*=.8+is*.1,Math.round(Br)},Ee=Z=>{const K=Z.toLowerCase();return K.includes("push-up")||K.includes("pushup")?Mfe:K.includes("bench press")||K.includes("dumbbell press")?Rfe:K.includes("chin-up")||K.includes("chinup")?Lfe:K.includes("pull-up")||K.includes("pullup")?Ffe:K.includes("dip")&&!K.includes("dumbbell")?Bfe:K.includes("overhead press")||K.includes("military press")||K.includes("shoulder press")?Ufe:K.includes("lateral raise")||K.includes("lateral raises")?rpe:K.includes("front raise")||K.includes("front raises")?npe:K.includes("bicep")&&(K.includes("curl")||K.includes("curls"))||K.includes("dumbbell")&&(K.includes("curl")||K.includes("curls"))?IA:K.includes("dumbbell")&&(K.includes("fly")||K.includes("flyes")||K.includes("flys"))?zfe:K.includes("dumbbell")&&(K.includes("roll")||K.includes("rolls"))?$fe:K.includes("tricep")&&(K.includes("extension")||K.includes("extensions"))?Vfe:K.includes("lat pulldown")||K.includes("lat pull down")||K.includes("pulldown")?Wfe:K.includes("row")&&!K.includes("barrow")?TA:K.includes("squat")||K.includes("squats")||K.includes("dumbbell")&&(K.includes("squat")||K.includes("squats"))?DA:K.includes("deadlift")&&!K.includes("romanian")?Hfe:K.includes("romanian deadlift")?Zfe:K.includes("lunge")||K.includes("lunges")||K.includes("dumbbell")&&(K.includes("lunge")||K.includes("lunges"))?OA:K.includes("leg press")?Gfe:K.includes("calf raise")||K.includes("calf raises")?qfe:K.includes("hip thrust")||K.includes("hip thrusts")?Kfe:K.includes("plank")?Yfe:K.includes("crunch")||K.includes("crunches")?Xfe:K.includes("russian twist")||K.includes("russian twists")?Qfe:K.includes("mountain climber")||K.includes("mountain climbers")?Jfe:K.includes("dead bug")?epe:K.includes("hanging leg raise")||K.includes("hanging leg raises")?tpe:K.includes("dumbbell")&&(K.includes("shrug")||K.includes("shrugs"))?ipe:K.includes("dumbbell")&&(K.includes("step-up")||K.includes("step up")||K.includes("stepup"))?spe:K.includes("dumbbell")&&(K.includes("thruster")||K.includes("thrusters"))?ape:TA},{data:Ke,isLoading:Ue}=Rt({queryKey:["/api/exercises",{category:r,search:t}]}),ze=Ut({mutationFn:async Z=>(await dt("POST","/api/workouts",Z)).json(),onSuccess:Z=>{G.invalidateQueries({queryKey:["/api/workouts"]}),G.invalidateQueries({queryKey:["/api/stats"]}),G.invalidateQueries({queryKey:["/api/progress/metrics"]}),G.invalidateQueries({queryKey:["/api/goals"]}),G.invalidateQueries({queryKey:["/api/progress/weight"]}),G.invalidateQueries({queryKey:["/api/performance-analytics"]}),j(Z),S(!0),ee({title:"Workout Logged! ",description:"Your workout has been successfully recorded with AI difficulty tracking."})}}),De=[{id:"strength",name:"Strength",icon:hr},{id:"dumbbells",name:"Dumbbells",icon:St},{id:"cardio",name:"Cardio",icon:mt},{id:"yoga",name:"Yoga",icon:ui},{id:"swimming",name:"Swimming",icon:mt}],Y=[{id:"all",name:"All Muscles",icon:mt,color:"gray"},{id:"chest",name:"Chest",icon:xo,color:"blue"},{id:"back",name:"Back",icon:ls,color:"green"},{id:"shoulders",name:"Shoulders",icon:St,color:"yellow"},{id:"arms",name:"Arms",icon:St,color:"purple"},{id:"legs",name:"Legs",icon:ls,color:"red"},{id:"core",name:"Core/Abs",icon:xo,color:"orange"},{id:"glutes",name:"Glutes",icon:mt,color:"pink"},{id:"cardio",name:"Cardio",icon:mt,color:"cyan"}],_e={chest:ope,back:lpe,shoulders:cpe,arms:upe,legs:dpe,core:hpe,glutes:fpe,cardio:ppe},Ye=[{name:"Push-ups",category:"strength",icon:xo,color:"blue",description:"Upper body strength"},{name:"Bench Press",category:"strength",icon:St,color:"blue",description:"Chest strength"},{name:"Pull-ups",category:"strength",icon:ls,color:"green",description:"Back and arms"},{name:"Chin-ups",category:"strength",icon:ls,color:"green",description:"Biceps and back"},{name:"Dips",category:"strength",icon:xo,color:"blue",description:"Triceps and chest"},{name:"Overhead Press",category:"strength",icon:St,color:"purple",description:"Shoulder strength"},{name:"Bicep Curls",category:"strength",icon:St,color:"blue",description:"Arm muscle building"},{name:"Tricep Extensions",category:"strength",icon:St,color:"purple",description:"Tricep isolation"},{name:"Lat Pulldowns",category:"strength",icon:ls,color:"green",description:"Back width"},{name:"Rows",category:"strength",icon:St,color:"green",description:"Back thickness"},{name:"Squats",category:"strength",icon:ls,color:"purple",description:"Lower body power"},{name:"Deadlifts",category:"strength",icon:St,color:"red",description:"Full body strength"},{name:"Lunges",category:"strength",icon:ls,color:"purple",description:"Leg stability"},{name:"Leg Press",category:"strength",icon:St,color:"purple",description:"Quad development"},{name:"Calf Raises",category:"strength",icon:ls,color:"blue",description:"Calf muscle"},{name:"Romanian Deadlifts",category:"strength",icon:St,color:"red",description:"Hamstring focus"},{name:"Bulgarian Split Squats",category:"strength",icon:ls,color:"purple",description:"Single leg strength"},{name:"Hip Thrusts",category:"strength",icon:St,color:"pink",description:"Glute activation"},{name:"Plank",category:"strength",icon:xo,color:"purple",description:"Core strength"},{name:"Crunches",category:"strength",icon:xo,color:"purple",description:"Abdominal focus"},{name:"Russian Twists",category:"strength",icon:xo,color:"purple",description:"Oblique strength"},{name:"Mountain Climbers",category:"strength",icon:mt,color:"red",description:"Core cardio"},{name:"Dead Bug",category:"strength",icon:xo,color:"purple",description:"Core stability"},{name:"Hanging Leg Raises",category:"strength",icon:ls,color:"green",description:"Lower abs"},{name:"Running",category:"cardio",icon:mt,color:"green",description:"Cardio endurance"},{name:"Cycling",category:"cardio",icon:eI,color:"yellow",description:"Leg endurance"},{name:"Burpees",category:"cardio",icon:mt,color:"red",description:"Full body cardio"},{name:"Jumping Jacks",category:"cardio",icon:mt,color:"green",description:"Quick cardio burst"},{name:"High Knees",category:"cardio",icon:mt,color:"yellow",description:"Leg cardio"},{name:"Treadmill",category:"cardio",icon:mt,color:"green",description:"Indoor running"},{name:"Elliptical",category:"cardio",icon:mt,color:"blue",description:"Low impact cardio"},{name:"Rowing Machine",category:"cardio",icon:mt,color:"red",description:"Full body cardio"},{name:"Stair Climber",category:"cardio",icon:mt,color:"purple",description:"Leg cardio"},{name:"Battle Ropes",category:"cardio",icon:mt,color:"red",description:"Upper body cardio"},{name:"Box Jumps",category:"cardio",icon:ls,color:"yellow",description:"Explosive power"},{name:"Sprint Intervals",category:"cardio",icon:mt,color:"red",description:"High intensity"},{name:"Yoga",category:"yoga",icon:ui,color:"pink",description:"Flexibility & mind"},{name:"Meditation",category:"yoga",icon:ui,color:"pink",description:"Mental wellness"},{name:"Sun Salutation",category:"yoga",icon:ui,color:"pink",description:"Flow sequence"},{name:"Warrior Pose",category:"yoga",icon:ui,color:"pink",description:"Strength & balance"},{name:"Downward Dog",category:"yoga",icon:ui,color:"pink",description:"Full body stretch"},{name:"Child's Pose",category:"yoga",icon:ui,color:"pink",description:"Relaxation pose"},{name:"Pigeon Pose",category:"yoga",icon:ui,color:"pink",description:"Hip flexibility"},{name:"Stretching",category:"yoga",icon:ui,color:"pink",description:"Muscle recovery"},{name:"Swimming",category:"swimming",icon:mt,color:"blue",description:"Full body cardio"},{name:"Freestyle",category:"swimming",icon:mt,color:"blue",description:"Front crawl stroke"},{name:"Backstroke",category:"swimming",icon:mt,color:"blue",description:"Back swimming"},{name:"Breaststroke",category:"swimming",icon:mt,color:"blue",description:"Chest stroke"},{name:"Butterfly",category:"swimming",icon:mt,color:"blue",description:"Advanced stroke"},{name:"Water Aerobics",category:"swimming",icon:mt,color:"blue",description:"Low impact exercise"},{name:"Treading Water",category:"swimming",icon:mt,color:"blue",description:"Core & leg workout"},{name:"Dumbbell Press",category:"dumbbells",icon:St,color:"blue",description:"Chest development"},{name:"Dumbbell Rows",category:"dumbbells",icon:St,color:"green",description:"Back muscle building"},{name:"Dumbbell Curls",category:"dumbbells",icon:St,color:"blue",description:"Bicep isolation"},{name:"Dumbbell Flyes",category:"dumbbells",icon:St,color:"blue",description:"Chest isolation"},{name:"Dumbbell Squats",category:"dumbbells",icon:St,color:"purple",description:"Leg strength"},{name:"Dumbbell Lunges",category:"dumbbells",icon:St,color:"purple",description:"Single leg work"},{name:"Dumbbell Shoulder Press",category:"dumbbells",icon:St,color:"yellow",description:"Shoulder development"},{name:"Dumbbell Lateral Raises",category:"dumbbells",icon:St,color:"yellow",description:"Side deltoid focus"},{name:"Dumbbell Front Raises",category:"dumbbells",icon:St,color:"yellow",description:"Front deltoid work"},{name:"Dumbbell Shrugs",category:"dumbbells",icon:St,color:"green",description:"Trap muscle building"},{name:"Dumbbell Deadlifts",category:"dumbbells",icon:St,color:"red",description:"Posterior chain"},{name:"Dumbbell Step-ups",category:"dumbbells",icon:St,color:"purple",description:"Functional leg work"},{name:"Dumbbell Tricep Extensions",category:"dumbbells",icon:St,color:"blue",description:"Tricep isolation"},{name:"Dumbbell Hammer Curls",category:"dumbbells",icon:St,color:"blue",description:"Bicep variation"},{name:"Dumbbell Thrusters",category:"dumbbells",icon:St,color:"red",description:"Full body exercise"},{name:"Dumbbell Russian Twists",category:"dumbbells",icon:St,color:"purple",description:"Weighted core work"},{name:"Dumbbell Walking Lunges",category:"dumbbells",icon:St,color:"purple",description:"Dynamic leg exercise"},{name:"Dumbbell Goblet Squats",category:"dumbbells",icon:St,color:"purple",description:"Front-loaded squats"},{name:"Dumbbell Bulgarian Split Squats",category:"dumbbells",icon:St,color:"purple",description:"Single leg focus"}],Me={};Object.assign(Me,{"Push-ups":{steps:["Start in a plank position with hands shoulder-width apart","Lower your body until chest nearly touches the floor","Push back up to starting position","Keep your core tight throughout the movement"],tips:["Keep your body in a straight line","Don't let your hips sag","Control the movement"],muscles:["Chest","Triceps","Shoulders","Core"]},"Pull-ups":{steps:["Hang from bar with palms facing away","Pull body up until chin clears the bar","Lower with control to full arm extension","Repeat without swinging"],tips:["Engage lats","Don't use momentum","Full range of motion"],muscles:["Lats","Biceps","Back","Core"]},"Bench Press":{steps:["Lie on bench with eyes under the bar","Grip bar slightly wider than shoulder-width","Lower bar to chest with control","Press bar back up to starting position"],tips:["Keep feet flat on floor","Retract shoulder blades","Control the descent"],muscles:["Chest","Triceps","Shoulders"]},Squats:{steps:["Stand with feet shoulder-width apart","Lower body by bending knees and hips","Keep chest up and core tight","Push through heels to return to start"],tips:["Keep knees aligned with toes","Go as low as comfortable","Maintain neutral spine"],muscles:["Quadriceps","Glutes","Hamstrings","Core"]},Deadlifts:{steps:["Stand with feet hip-width apart, bar over mid-foot","Bend at hips and knees to grip the bar","Keep back straight, lift by extending hips and knees","Lower bar with control to starting position"],tips:["Keep bar close to body","Engage core throughout","Don't round your back"],muscles:["Hamstrings","Glutes","Back","Core"]},"Bicep Curls":{steps:["Stand with dumbbells at sides, palms facing forward","Curl weights up toward shoulders","Lower with control to starting position","Keep elbows stationary"],tips:["Don't swing the weights","Focus on bicep contraction","Control the movement"],muscles:["Biceps","Forearms"]},"Tricep Extensions":{steps:["Hold weight overhead with both hands","Lower weight behind head by bending elbows","Extend arms to lift weight back up","Keep upper arms stationary"],tips:["Keep elbows close to head","Control the descent","Full range of motion"],muscles:["Triceps"]},"Overhead Press":{steps:["Start with weights at shoulder height","Press weights overhead until arms are extended","Lower with control back to shoulders","Keep core tight throughout"],tips:["Don't arch back excessively","Press in straight line","Engage core"],muscles:["Shoulders","Triceps","Core"]},Lunges:{steps:["Step forward with one leg","Lower hips until both knees are bent at 90 degrees","Push back to starting position","Alternate legs"],tips:["Keep front knee over ankle","Maintain upright torso","Control the movement"],muscles:["Quadriceps","Glutes","Hamstrings"]},Plank:{steps:["Start in push-up position on forearms","Keep body in straight line from head to heels","Hold position while breathing steadily","Engage core throughout"],tips:["Don't let hips sag","Keep neck neutral","Breathe steadily"],muscles:["Core","Shoulders","Back"]},"Hip Thrusts":{steps:["Sit on ground with upper back against bench","Place weight across hips","Push through heels to lift hips up","Lower with control"],tips:["Squeeze glutes at top","Keep chin tucked","Full range of motion"],muscles:["Glutes","Hamstrings","Core"]},Rows:{steps:["Bend forward at waist with straight back","Pull weight toward lower chest/upper abs","Squeeze shoulder blades together","Lower with control"],tips:["Keep back straight","Pull with elbows","Don't jerk the weight"],muscles:["Back","Lats","Biceps"]},Running:{steps:["Maintain upright posture","Land mid-foot, not on heels","Swing arms naturally","Breathe rhythmically"],tips:["Start slow and build pace","Stay relaxed","Focus on form"],muscles:["Legs","Cardio","Core"]},Cycling:{steps:["Adjust seat to proper height","Maintain steady cadence","Keep upper body relaxed","Vary resistance for intervals"],tips:["Adjust resistance gradually","Stay hydrated","Maintain good posture"],muscles:["Legs","Cardio","Core"]}});const Ze=(Z,K)=>{if(K==="all")return!0;const We=Me[Z];if(!We||!We.muscles)return!1;const Ft=We.muscles.map(Br=>Br.toLowerCase()),is={chest:["chest","pecs","pectorals"],back:["back","lats","latissimus","rhomboids","traps","trapezius"],shoulders:["shoulders","deltoids","delts","front deltoids","rear deltoids","side deltoids"],arms:["biceps","triceps","forearms","arms"],legs:["quadriceps","hamstrings","quads","legs","calves"],core:["core","abs","abdominals","obliques","lower abs"],glutes:["glutes","gluteus","glute"],cardio:["cardiovascular","cardio","endurance"]}[K]||[K];return Ft.some(Br=>is.some(Oi=>Br.includes(Oi)))},ft=(()=>{let K=Ye.map(We=>{const Ft=(Ke||[]).find(ir=>ir.name===We.name);return{...We,...Ft||{},icon:We.icon,color:We.color,description:(Ft==null?void 0:Ft.description)||We.description}});return t.trim()?K=K.filter(We=>We.name.toLowerCase().includes(t.toLowerCase())||We.description&&We.description.toLowerCase().includes(t.toLowerCase())||We.category.toLowerCase().includes(t.toLowerCase())):K=K.filter(We=>We.category===r),i!=="all"&&(K=K.filter(We=>Ze(We.name,i))),K})(),rt=i==="all"?[]:Ye.filter(Z=>Ze(Z.name,i)).slice(0,6);Object.assign(Me,{"Chin-ups":{steps:["Grab bar with palms facing toward you, hands shoulder-width apart","Start from dead hang with arms fully extended","Pull yourself up until chin goes over the bar","Lower yourself slowly to starting position"],tips:["Palms toward you targets biceps more","Don't kip or swing","Squeeze shoulder blades"],muscles:["Biceps","Lats","Back"]},Dips:{steps:["Position hands on parallel bars or bench behind you","Start with arms extended, supporting your body weight","Lower body by bending elbows until shoulders are below elbows","Push back up to starting position"],tips:["Keep torso upright","Don't go too low if shoulders hurt","Control the descent"],muscles:["Triceps","Chest","Shoulders"]},"Lat Pulldowns":{steps:["Start in a plank position with hands shoulder-width apart","Lower your body until chest nearly touches the floor","Push back up to starting position","Keep your core tight throughout the movement"],tips:["Keep your body in a straight line","Don't let your hips sag","Control the movement"],muscles:["Chest","Triceps","Shoulders","Core"]},"Pull-ups":{steps:["Hang from bar with palms facing away","Pull body up until chin clears the bar","Lower with control to full arm extension","Repeat without swinging"],tips:["Engage lats","Don't use momentum","Full range of motion"],muscles:["Lats","Biceps","Rhomboids","Core"]},"Chin-ups":{steps:["Grab bar with palms facing toward you, hands shoulder-width apart","Start from dead hang with arms fully extended","Pull yourself up until chin goes over the bar","Lower yourself slowly to starting position"],tips:["Palms toward you targets biceps more","Don't kip or swing","Squeeze shoulder blades"],muscles:["Biceps","Lats","Middle Traps","Rear Deltoids"]},Dips:{steps:["Position hands on parallel bars or bench behind you","Start with arms extended, supporting your body weight","Lower body by bending elbows until shoulders are below elbows","Push back up to starting position"],tips:["Keep torso upright","Don't go too low if shoulders hurt","Control the descent"],muscles:["Triceps","Lower Chest","Front Deltoids"]},"Bench Press":{steps:["Lie on bench with eyes under the bar","Grip bar slightly wider than shoulder-width","Lower bar to chest with control","Press bar back up to starting position"],tips:["Keep feet on floor","Retract shoulder blades","Don't bounce off chest"],muscles:["Chest","Triceps","Front Deltoids"]},"Overhead Press":{steps:["Stand with feet shoulder-width apart, bar at shoulder level","Grip bar with hands slightly wider than shoulders","Press bar straight overhead until arms are locked out","Lower bar back to shoulder level with control"],tips:["Keep core tight","Don't arch back excessively","Press in straight line"],muscles:["Shoulders","Triceps","Upper Chest","Core"]},"Bicep Curls":{steps:["Stand holding barbell or dumbbells with underhand grip","Keep elbows close to your sides","Curl weight up by flexing biceps","Lower weight slowly to starting position"],tips:["Don't swing or use momentum","Squeeze at the top","Control the negative"],muscles:["Biceps","Forearms"]},"Tricep Extensions":{steps:["Lie on bench holding weight with both hands overhead","Lower weight behind head by bending only at elbows","Keep upper arms stationary throughout movement","Extend arms back to starting position"],tips:["Keep elbows pointing forward","Don't let elbows flare","Use controlled movement"],muscles:["Triceps"]},"Lat Pulldowns":{steps:["Sit at lat pulldown machine with thighs under pads","Grab bar with wide overhand grip","Pull bar down to upper chest while leaning slightly back","Slowly return bar to starting position"],tips:["Pull with your back, not arms","Squeeze shoulder blades","Don't lean too far back"],muscles:["Lats","Rhomboids","Middle Traps","Biceps"]},Rows:{steps:["Stand with feet hip-width apart, holding barbell","Hinge at hips and lean forward 45 degrees","Pull bar to lower chest/upper stomach","Lower bar with control to starting position"],tips:["Keep back straight","Pull elbows back, not out","Squeeze shoulder blades"],muscles:["Lats","Rhomboids","Middle Traps","Rear Deltoids"]},Squats:{steps:["Stand with feet shoulder-width apart, toes slightly out","Lower body by pushing hips back and bending knees","Descend until thighs are parallel to floor","Drive through heels to return to standing"],tips:["Keep chest up and core tight","Knees track over toes","Weight on heels"],muscles:["Quadriceps","Glutes","Hamstrings","Core"]},Deadlifts:{steps:["Stand with feet hip-width apart, bar over mid-foot","Bend at hips and knees to grip the bar","Keep chest up and back straight","Drive through heels to stand up, extending hips and knees"],tips:["Bar stays close to body","Don't round back","Push floor away with feet"],muscles:["Hamstrings","Glutes","Lower Back","Traps"]},Lunges:{steps:["Stand upright with feet hip-width apart","Step forward into a lunge position","Lower back knee toward ground while keeping front shin vertical","Push off front foot to return to starting position"],tips:["Keep torso upright","Don't let front knee drift forward","Step out far enough"],muscles:["Quadriceps","Glutes","Hamstrings","Calves"]},"Leg Press":{steps:["Sit in leg press machine with back flat against pad","Place feet on platform shoulder-width apart","Lower weight by bending knees to 90 degrees","Press through heels to extend legs back up"],tips:["Don't let knees cave inward","Keep core engaged","Full range of motion"],muscles:["Quadriceps","Glutes","Hamstrings"]},"Calf Raises":{steps:["Stand on balls of feet on raised platform or step","Let heels drop below the level of the platform","Rise up onto toes as high as possible","Lower heels back down slowly for a stretch"],tips:["Go for full range of motion","Pause at the top","Control the descent"],muscles:["Calves","Soleus"]},"Romanian Deadlifts":{steps:["Hold barbell with overhand grip, feet hip-width apart","Start with slight bend in knees throughout movement","Push hips back and lower bar while keeping it close to legs","Feel stretch in hamstrings, then drive hips forward to return"],tips:["This is a hip hinge, not a squat","Feel the stretch in hamstrings","Keep bar close"],muscles:["Hamstrings","Glutes","Lower Back"]},"Bulgarian Split Squats":{steps:["Stand 2-3 feet in front of bench or step","Place top of rear foot on bench behind you","Lower into lunge position by bending front knee","Push through front heel to return to starting position"],tips:["Most weight on front foot","Keep torso upright","Don't push off back foot"],muscles:["Quadriceps","Glutes","Hamstrings"]},"Hip Thrusts":{steps:["Sit with upper back against bench, barbell over hips","Plant feet firmly on ground, knees bent 90 degrees","Drive through heels to lift hips up","Squeeze glutes at top, then lower with control"],tips:["Focus on glute squeeze at top","Keep ribs down","Don't overarch back"],muscles:["Glutes","Hamstrings","Core"]},Plank:{steps:["Start in push-up position on forearms","Keep body in straight line from head to heels","Hold position while breathing normally","Don't let hips sag or pike up"],tips:["Engage core muscles","Keep neck neutral","Start with shorter holds"],muscles:["Core","Shoulders","Glutes"]},Crunches:{steps:["Lie on back with knees bent, feet flat on floor","Place hands behind head or across chest","Lift shoulder blades off ground by contracting abs","Lower back down slowly without fully relaxing"],tips:["Don't pull on neck","Focus on ab contraction","Small range of motion"],muscles:["Upper Abdominals"]},"Russian Twists":{steps:["Sit on floor with knees bent, lean back slightly","Lift feet off ground and balance on tailbone","Rotate torso side to side, touching ground beside hips","Keep chest up and core engaged throughout"],tips:["Move with control, not speed","Keep feet elevated","Look forward"],muscles:["Obliques","Core","Hip Flexors"]},"Mountain Climbers":{steps:["Start in plank position with arms extended","Bring one knee toward chest","Quickly switch legs, bringing other knee forward","Continue alternating legs at a quick pace"],tips:["Keep hips level","Don't let form break down","This is cardio and core combined"],muscles:["Core","Shoulders","Hip Flexors"]},"Dead Bug":{steps:["Lie on back with arms extended toward ceiling","Bring knees up to 90 degrees (tabletop position)","Lower opposite arm and leg slowly toward floor","Return to starting position and repeat other side"],tips:["Keep lower back pressed to floor","Move slowly and controlled","Don't let ribs flare"],muscles:["Deep Core","Hip Flexors"]},"Hanging Leg Raises":{steps:["Hang from pull-up bar with arms fully extended","Keep legs straight or slightly bent","Raise legs up until parallel to ground or higher","Lower legs slowly back to starting position"],tips:["Control the swing","Don't use momentum","Focus on ab contraction"],muscles:["Lower Abs","Hip Flexors"]},Running:{steps:["Start with 5-10 minute warm-up walk","Begin running at comfortable conversational pace","Land on midfoot with slight forward lean","Keep arms relaxed, swing naturally at 90-degree angle"],tips:["Build distance gradually","Breathe rhythmically","Good shoes are essential"],muscles:["Legs","Glutes","Core","Cardiovascular System"]},Cycling:{steps:["Adjust bike seat height so leg is slightly bent at bottom","Start pedaling at moderate resistance","Keep steady cadence between 80-100 RPM","Maintain upright posture with relaxed shoulders"],tips:["Start with shorter rides","Stay hydrated","Use gears appropriately"],muscles:["Quadriceps","Hamstrings","Glutes","Calves"]},Burpees:{steps:["Start standing, then squat down and place hands on floor","Jump feet back into plank position","Do a push-up (optional for beginners)","Jump feet back to squat, then jump up with arms overhead"],tips:["Modify by stepping instead of jumping","Keep core tight in plank","This is high intensity"],muscles:["Full Body","Cardiovascular System"]},"Jumping Jacks":{steps:["Stand with feet together, arms at sides","Jump feet apart while raising arms overhead","Jump feet back together while lowering arms","Continue at steady, quick pace"],tips:["Land softly on balls of feet","Keep core engaged","Great for warm-up"],muscles:["Calves","Shoulders","Core","Cardiovascular System"]},"High Knees":{steps:["Stand in place with feet hip-width apart","Lift one knee up toward chest","Quickly alternate legs, bringing knees as high as possible","Pump arms naturally as you run in place"],tips:["Stay on balls of feet","Keep torso upright","Drive knees up high"],muscles:["Hip Flexors","Calves","Core"]},Treadmill:{steps:["Start with 5-minute warm-up at walking pace","Gradually increase speed to jogging/running pace","Maintain good posture, look straight ahead","Cool down with 5-minute walk at end"],tips:["Don't hold handrails while running","Start with flat incline","Listen to your body"],muscles:["Legs","Glutes","Cardiovascular System"]},Elliptical:{steps:["Step onto machine and grab handles","Start moving legs in elliptical motion","Use arms to push and pull handles","Maintain steady rhythm throughout workout"],tips:["Keep feet flat on pedals","Stand upright","Low impact alternative to running"],muscles:["Legs","Arms","Core","Cardiovascular System"]},"Rowing Machine":{steps:["Sit on seat with feet secured in foot straps","Grab handle with both hands, arms extended","Push with legs first, then pull handle to lower ribs","Reverse the motion: extend arms, then bend legs"],tips:["Legs, core, then arms","Keep back straight","It's 60% legs, 40% upper body"],muscles:["Full Body","Lats","Legs","Core"]},"Stair Climber":{steps:["Step onto machine and grab handrails lightly","Start stepping at comfortable pace","Keep full foot on pedal, don't just use toes","Maintain upright posture throughout"],tips:["Don't lean heavily on rails","Take full steps","Great for glute activation"],muscles:["Glutes","Quadriceps","Calves"]},"Battle Ropes":{steps:["Stand with feet shoulder-width apart, hold rope ends","Create waves by alternating arms up and down","Keep core tight and knees slightly bent","Work in intervals: 30 seconds on, 30 seconds rest"],tips:["Use whole body, not just arms","Stay light on feet","High intensity workout"],muscles:["Arms","Shoulders","Core","Legs"]},"Box Jumps":{steps:["Stand arm's length from sturdy box or platform","Swing arms back and squat down slightly","Jump explosively onto box, landing softly","Step down carefully, don't jump down"],tips:["Start with lower box","Land softly with bent knees","Focus on safe landing"],muscles:["Glutes","Quadriceps","Calves","Core"]},"Sprint Intervals":{steps:["Warm up with 5-10 minutes of light jogging","Sprint at near-maximum effort for 30 seconds","Recover with light jogging or walking for 1-2 minutes","Repeat sprint-recovery cycle 6-8 times"],tips:["Build up gradually","Focus on form even when tired","Cool down properly"],muscles:["Full Body","Cardiovascular System"]},Yoga:{steps:["Begin in Mountain Pose with feet hip-width apart","Flow through Sun Salutation sequence","Hold each pose for 5-8 breaths","End in relaxation pose (Savasana)"],tips:["Focus on breath awareness","Don't force poses","Use props if needed"],muscles:["Full Body","Flexibility","Mind-Body Connection"]},Meditation:{steps:["Sit comfortably with spine straight","Close eyes and focus on your breath","When mind wanders, gently return to breath","Start with 5-10 minutes, gradually increase"],tips:["Find a quiet space","Be patient with wandering thoughts","Consistency matters more than duration"],muscles:["Mind","Stress Relief","Mental Focus"]},"Sun Salutation":{steps:["Mountain Pose  Forward Fold  Half Lift  Chaturanga","Upward Dog  Downward Dog (hold 5 breaths)","Forward Fold  Half Lift  Mountain Pose","Repeat sequence 3-5 times with breath coordination"],tips:["Coordinate movement with breath","Modify poses as needed","This is a complete flow sequence"],muscles:["Full Body","Flexibility","Core Strength"]},"Warrior Pose":{steps:["Step left foot back 3-4 feet, turn out 45 degrees","Bend right knee directly over ankle","Raise arms overhead, square hips forward","Hold for 30 seconds to 1 minute, switch sides"],tips:["Keep front knee over ankle","Ground through back foot","Engage core for stability"],muscles:["Legs","Core","Shoulders","Balance"]},"Downward Dog":{steps:["Start on hands and knees, tuck toes under","Lift hips up and back, straightening legs","Create inverted V shape with body","Hold for 5-10 breaths, pedal feet to stretch"],tips:["Press hands firmly into mat","Lengthen spine","Bend knees if hamstrings are tight"],muscles:["Shoulders","Arms","Hamstrings","Calves"]},"Child's Pose":{steps:["Kneel on mat with big toes touching","Sit back on heels, open knees wide","Fold forward, extending arms in front","Rest forehead on mat, breathe deeply"],tips:["Use bolster under torso if needed","This is a resting pose","Focus on releasing tension"],muscles:["Hip Flexors","Shoulders","Back","Relaxation"]},"Pigeon Pose":{steps:["From downward dog, bring right knee to right wrist","Lower right shin parallel to front of mat","Extend left leg straight back","Fold forward over front leg, hold 1-2 minutes each side"],tips:["Use props under hip if needed","This is an intense hip opener","Breathe through discomfort"],muscles:["Hip Flexors","Glutes","IT Band"]},Stretching:{steps:["Target major muscle groups systematically","Hold each stretch for 20-30 seconds","Breathe deeply and relax into the stretch","Don't bounce or force the stretch"],tips:["Stretch after workouts when muscles are warm","Focus on tight areas","Stretch both sides equally"],muscles:["Full Body","Flexibility","Recovery"]},Swimming:{steps:["Enter water and do 5-10 minutes easy warm-up","Alternate between different strokes","Focus on technique over speed","Cool down with easy swimming or walking"],tips:["Start with shorter distances","Focus on breathing technique","Great low-impact exercise"],muscles:["Full Body","Cardiovascular System","Core"]},Freestyle:{steps:["Float face-down, extend one arm forward while other pulls","Rotate body slightly with each stroke","Breathe by turning head to side every 2-3 strokes","Kick steadily with straight legs from hips"],tips:["High elbow catch","Rotate from core, not shoulders","Practice bilateral breathing"],muscles:["Shoulders","Lats","Core","Legs"]},Backstroke:{steps:["Float on back with arms at sides","Alternate arm strokes in windmill motion","Keep hips up and head still","Flutter kick with straight legs"],tips:["Keep ears underwater","Don't let hips sink","Imagine lying on a pillow"],muscles:["Shoulders","Lats","Core","Hip Flexors"]},Breaststroke:{steps:["Start face-down, arms extended forward","Pull arms out and back in heart shape","Lift head to breathe as arms finish pull","Bring knees to chest, kick legs out and together"],tips:["Coordinate arm pull with breathing","Kick with feet flexed","Glide between strokes"],muscles:["Chest","Arms","Inner Thighs","Glutes"]},Butterfly:{steps:["Start face-down with arms extended forward","Pull both arms simultaneously in circular motion","Use dolphin kick with both legs together","Breathe forward when arms exit water"],tips:["This is the most challenging stroke","Focus on rhythm","Use core for dolphin kick"],muscles:["Shoulders","Core","Chest","Legs"]},"Water Aerobics":{steps:["Stand in chest-deep water for resistance","Perform exercises like jumping jacks, leg lifts","Use water resistance for strength movements","Move continuously for 20-45 minutes"],tips:["Water provides natural resistance","Great for joint-friendly exercise","Stay hydrated even in water"],muscles:["Full Body","Low Impact","Cardiovascular System"]},"Treading Water":{steps:["Stay vertical in deep water","Use eggbeater kick to maintain position","Keep arms moving in sculling motion","Start with 30-second intervals"],tips:["Relax and stay calm","Use small, efficient movements","Great core and leg workout"],muscles:["Core","Legs","Arms","Endurance"]},"Dumbbell Press":{steps:["Lie on bench holding dumbbells at chest level","Position dumbbells with palms facing forward","Press weights straight up until arms are fully extended","Lower dumbbells slowly to starting position with control"],tips:["Keep wrists straight and stable","Don't let dumbbells drift inward","Use full range of motion"],muscles:["Chest","Front Deltoids","Triceps"]},"Dumbbell Rows":{steps:["Place one knee and hand on bench for support","Hold dumbbell in opposite hand with arm hanging straight","Pull dumbbell up to your ribcage by squeezing shoulder blade","Lower weight slowly while maintaining back position"],tips:["Keep back flat and parallel to floor","Pull with your back, not your arm","Don't rotate your torso"],muscles:["Lats","Rhomboids","Middle Traps","Rear Deltoids"]},"Dumbbell Flyes":{steps:["Lie on bench with dumbbells held above chest","Lower weights in wide arc with slight bend in elbows","Feel stretch in chest at bottom position","Bring dumbbells back together in same arc motion"],tips:["Keep slight bend in elbows throughout","Focus on chest squeeze at top","Control the weight on the way down"],muscles:["Chest","Front Deltoids"]},"Dumbbell Squats":{steps:["Hold dumbbells at shoulder height or at your sides","Stand with feet shoulder-width apart","Squat down by pushing hips back and bending knees","Drive through heels to return to standing position"],tips:["Keep chest up and core engaged","Don't let knees cave inward","Go as deep as mobility allows"],muscles:["Quadriceps","Glutes","Hamstrings","Core"]},"Dumbbell Lunges":{steps:["Hold dumbbells at your sides or shoulders","Step forward into a lunge position","Lower back knee toward ground while keeping front knee over ankle","Push off front foot to return to starting position"],tips:["Keep torso upright","Don't let front knee go past toes","Alternate legs or complete all reps on one side"],muscles:["Quadriceps","Glutes","Hamstrings","Calves"]},"Dumbbell Shoulder Press":{steps:["Sit or stand with dumbbells at shoulder level","Position palms facing forward with elbows at 90 degrees","Press weights straight overhead until arms are fully extended","Lower dumbbells back to shoulder level with control"],tips:["Keep core tight to avoid arching back","Don't press weights behind your head","Maintain neutral wrist position"],muscles:["Deltoids","Triceps","Upper Traps"]},"Dumbbell Lateral Raises":{steps:["Stand with dumbbells at your sides, palms facing body","Raise weights out to sides until arms are parallel to floor","Keep slight bend in elbows throughout movement","Lower weights slowly back to starting position"],tips:["Don't raise weights above shoulder height","Lead with your pinkies","Use lighter weight and focus on form"],muscles:["Middle Deltoids","Supraspinatus"]},"Dumbbell Front Raises":{steps:["Stand with dumbbells in front of thighs, palms facing back","Raise one or both dumbbells forward to shoulder height","Keep arms straight with slight bend in elbows","Lower weights slowly back to starting position"],tips:["Don't swing or use momentum","Keep shoulders down and back","Alternate arms for better control"],muscles:["Front Deltoids","Upper Chest"]},"Dumbbell Shrugs":{steps:["Stand with dumbbells at your sides, arms hanging straight","Shrug shoulders straight up toward your ears","Hold briefly at the top position","Lower shoulders back down slowly"],tips:["Don't roll shoulders forward or backward","Use heavy weight with slow, controlled movement","Keep arms straight throughout"],muscles:["Upper Traps","Levator Scapulae"]},"Dumbbell Deadlifts":{steps:["Stand with feet hip-width apart, dumbbells in front of thighs","Hinge at hips and push glutes back while lowering weights","Keep dumbbells close to legs as you lower them","Drive hips forward to return to standing position"],tips:["Keep back straight and chest up","Feel stretch in hamstrings at bottom","Lead with your hips, not your knees"],muscles:["Hamstrings","Glutes","Lower Back","Core"]},"Dumbbell Step-ups":{steps:["Stand facing a bench or box with dumbbells at your sides","Step up onto platform with one foot, placing entire foot on surface","Push through heel to lift your body up onto the platform","Step down with control and repeat on same leg or alternate"],tips:["Use a platform that puts your knee at 90 degrees","Don't push off back foot","Keep torso upright throughout"],muscles:["Quadriceps","Glutes","Hamstrings","Calves"]},"Dumbbell Tricep Extensions":{steps:["Hold one dumbbell with both hands overhead","Lower weight behind head by bending only at elbows","Keep upper arms stationary and elbows pointing forward","Extend arms back to starting position"],tips:["Keep elbows close together","Don't let elbows flare out","Use lighter weight to maintain form"],muscles:["Triceps"]},"Dumbbell Hammer Curls":{steps:["Stand with dumbbells at sides, palms facing each other","Curl weights up while keeping palms facing each other","Squeeze biceps at the top of the movement","Lower weights slowly back to starting position"],tips:["Keep elbows stationary at your sides","Don't swing or use momentum","Neutral grip targets different muscle fibers"],muscles:["Biceps","Brachialis","Forearms"]},"Dumbbell Thrusters":{steps:["Hold dumbbells at shoulder level in squat position","Squat down by pushing hips back and bending knees","Drive up explosively through heels while pressing weights overhead","Lower weights back to shoulders and repeat"],tips:["Use momentum from legs to help press","Keep core tight throughout","This is a compound power movement"],muscles:["Full Body","Shoulders","Legs","Core"]},"Dumbbell Russian Twists":{steps:["Sit on floor holding one dumbbell with both hands","Lean back slightly and lift feet off ground","Rotate torso to one side, touching weight to floor","Rotate to opposite side and repeat"],tips:["Keep feet elevated throughout","Move with control, not speed","Look forward, not at the weight"],muscles:["Obliques","Core","Hip Flexors"]},"Dumbbell Walking Lunges":{steps:["Hold dumbbells at your sides or shoulders","Step forward into lunge position","Instead of returning to start, step forward with back leg","Continue alternating legs while moving forward"],tips:["Take larger steps for better glute activation","Keep torso upright throughout","Ensure adequate space to walk"],muscles:["Quadriceps","Glutes","Hamstrings","Core"]},"Dumbbell Goblet Squats":{steps:["Hold one dumbbell vertically against your chest","Stand with feet slightly wider than shoulder-width","Squat down while keeping dumbbell close to body","Drive through heels to return to standing"],tips:["Elbows should point down toward floor","This position helps maintain upright torso","Great for learning squat form"],muscles:["Quadriceps","Glutes","Core"]},"Dumbbell Bulgarian Split Squats":{steps:["Hold dumbbells at sides with rear foot elevated on bench","Lower into lunge position by bending front knee","Keep most weight on front foot","Push through front heel to return to starting position"],tips:["Don't put too much weight on back foot","Keep torso upright","This targets one leg at a time"],muscles:["Quadriceps","Glutes","Hamstrings"]}});const xt=Z=>Me[Z]||{steps:["Position yourself in the starting stance","Perform the movement with controlled form","Focus on proper breathing throughout","Return to starting position with control"],tips:["Start with lighter weight","Focus on form over speed","Listen to your body"],muscles:["Target muscle groups","Stabilizing muscles"]},Qt=Z=>{d(Z)},pn=Z=>{_(!0)},tn=()=>{const Z=c?ie(c,O,P,F,H,h[0]):Math.round(y[0]*(2+h[0]*.8));ze.mutate({name:c.name,category:r,duration:y[0],caloriesBurned:Z,difficultyLevel:h[0],perceivedExertion:m[0],completionRate:100,exerciseData:{exerciseId:c.id,sets:O,reps:P,weight:F||null,duration:H>0?H*60:null,notes:ae||null}}),d(null),_(!1),f([3]),g([5]),x([30]),B(3),V(10),q(0),le(0),me("")};return o.jsxs("section",{id:"workout-logger",className:"relative bg-gradient-to-br from-black via-red-900/30 to-black rounded-3xl shadow-2xl border border-red-600/50 p-8 overflow-hidden hexagon-bg hexagon-pattern",children:[o.jsxs("div",{className:"absolute inset-0",children:[o.jsx("div",{className:"absolute top-0 left-0 w-32 h-28 opacity-30 animate-pulse",style:{animationDuration:"4s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"#dc2626",stroke:"#dc2626",strokeWidth:"2",opacity:"0.6"})})}),o.jsx("div",{className:"absolute top-1/4 right-0 w-24 h-21 opacity-20 animate-bounce",style:{animationDuration:"6s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"none",stroke:"#dc2626",strokeWidth:"2",opacity:"0.8"})})}),o.jsx("div",{className:"absolute bottom-0 left-1/3 w-28 h-24 opacity-25 animate-ping",style:{animationDuration:"8s",animationDelay:"1s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"#000000",stroke:"#dc2626",strokeWidth:"1",opacity:"0.7"})})}),o.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-20 h-17 opacity-15 animate-pulse",style:{animationDuration:"5s",animationDelay:"2s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"#dc2626",stroke:"#000000",strokeWidth:"1",opacity:"0.5"})})}),o.jsx("div",{className:"absolute top-1/2 left-10 w-22 h-19 opacity-20 animate-bounce",style:{animationDuration:"7s",animationDelay:"0.5s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"none",stroke:"#dc2626",strokeWidth:"2",opacity:"0.4"})})}),o.jsx("div",{className:"absolute top-1/3 right-1/3 w-40 h-40 bg-gradient-to-br from-red-600/20 to-black/40 rounded-full blur-3xl opacity-30 animate-pulse",style:{animationDuration:"6s"}}),o.jsx("div",{className:"absolute bottom-1/3 left-1/4 w-32 h-32 bg-gradient-to-br from-black/60 to-red-600/20 rounded-full blur-2xl opacity-20 animate-ping",style:{animationDuration:"10s"}}),o.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-transparent via-red-900/10 to-black/60 animate-pulse",style:{animationDuration:"8s"}})]}),o.jsxs("div",{className:"relative z-10",children:[o.jsxs("div",{className:"relative mb-6 rounded-2xl overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0",children:[o.jsx("img",{src:sb,alt:"Workout background",className:"w-full h-full object-cover opacity-30"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black via-black/80 to-transparent"})]}),o.jsxs("div",{className:"relative flex items-center justify-between p-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-3xl font-bold bg-gradient-to-r from-red-400 to-red-600 bg-clip-text text-transparent drop-shadow-lg",children:"Log Workout"}),o.jsx("p",{className:"text-gray-300 text-sm mt-1",children:"Track your exercises, sets, reps, and weight"})]}),o.jsx("button",{className:"p-2 bg-red-600/20 hover:bg-red-600/30 text-red-400 hover:text-red-300 rounded-lg transition-all border border-red-500/30",onClick:()=>R("/workouts"),"data-testid":"expand-workouts-button",title:"View all workouts",children:o.jsx(GH,{})})]})]}),o.jsx("div",{className:"mb-6",children:o.jsxs("div",{className:"relative",children:[o.jsx(z3,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-red-400",size:16}),o.jsx(Yt,{type:"text",placeholder:"Search exercises (e.g., push-ups, running, yoga)",className:"pl-10 pr-12 bg-black/50 border-red-500/30 text-white placeholder:text-gray-400 focus:border-red-500 focus:ring-red-500/50",value:t,onChange:Z=>e(Z.target.value),"data-testid":"input-search-exercises"}),o.jsx("div",{className:"absolute right-1 top-1/2 transform -translate-y-1/2",children:o.jsx(Ofe,{onTranscript:Z=>e(Z),className:"h-8 w-8"})})]})}),o.jsxs("div",{className:"mb-6",children:[o.jsx("p",{className:"text-sm font-medium text-red-400 mb-3",children:"Popular Categories"}),o.jsx("div",{className:"flex flex-wrap gap-3",children:De.map(Z=>o.jsxs(ue,{variant:r===Z.id?"default":"outline",size:"sm",onClick:()=>n(Z.id),className:r===Z.id?"bg-gradient-to-r from-red-600 to-red-700 text-white border-0 shadow-lg shadow-red-500/50":"border-red-500/30 text-gray-300 hover:bg-red-600/20 hover:text-red-400 hover:border-red-500/50","data-testid":`category-${Z.id}`,children:[o.jsx(Z.icon,{className:"mr-2",size:16}),Z.name]},Z.id))})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("p",{className:"text-sm font-medium text-red-400 mb-3",children:" Target Muscle Group"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:Y.map(Z=>o.jsxs(ue,{variant:i===Z.id?"default":"outline",size:"sm",onClick:()=>s(Z.id),className:i===Z.id?"bg-gradient-to-r from-orange-600 to-red-600 text-white border-0 shadow-lg shadow-orange-500/50":"border-orange-500/30 text-gray-300 hover:bg-orange-600/20 hover:text-orange-400 hover:border-orange-500/50","data-testid":`muscle-${Z.id}`,children:[o.jsx(Z.icon,{className:"mr-1.5",size:14}),o.jsx("span",{className:"text-xs",children:Z.name})]},Z.id))})]}),i!=="all"&&rt.length>0&&o.jsxs("div",{className:"mb-6 bg-gradient-to-r from-orange-900/30 to-red-900/30 border border-orange-500/40 rounded-xl p-5",children:[o.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[_e[i]&&o.jsxs("div",{className:"flex-shrink-0 w-32 h-32 md:w-40 md:h-40 rounded-lg overflow-hidden border-2 border-orange-500/50 shadow-lg shadow-orange-500/30 bg-white cursor-pointer hover:border-orange-500 transition-all group relative",onClick:()=>T(!0),"data-testid":`muscle-image-container-${i}`,children:[o.jsx("img",{src:_e[i],alt:`Anatomical diagram showing ${(Ks=Y.find(Z=>Z.id===i))==null?void 0:Ks.name} highlighted`,loading:"lazy",className:"w-full h-full object-contain","data-testid":`muscle-image-${i}`}),o.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsx(aG,{className:"text-white",size:32})})]}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(eo,{className:"text-orange-400",size:20}),o.jsxs("h4",{className:"text-lg font-bold text-white",children:["Suggested ",(Sn=Y.find(Z=>Z.id===i))==null?void 0:Sn.name," Exercises"]})]}),o.jsxs("p",{className:"text-sm text-gray-300 mb-3",children:[" Target your ",(W=Y.find(Z=>Z.id===i))==null?void 0:W.name.toLowerCase()," with these effective exercises"]})]})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:rt.map(Z=>{const K=Z.icon;return o.jsxs("button",{onClick:()=>d(Z),className:"bg-gradient-to-br from-gray-900/80 to-black border border-orange-500/40 rounded-lg p-3 hover:border-orange-500 hover:shadow-lg hover:shadow-orange-500/20 transition-all text-left group","data-testid":`suggested-${Z.name.toLowerCase().replace(/\s+/g,"-")}`,children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsx(K,{className:"text-orange-400 text-base group-hover:scale-110 transition-transform"}),o.jsx("span",{className:"font-medium text-white text-sm",children:Z.name})]}),o.jsx("p",{className:"text-xs text-gray-400 line-clamp-1",children:Z.description})]},Z.name)})}),o.jsxs("p",{className:"text-xs text-gray-400 mt-3 italic",children:[" Tip: These exercises specifically target your ",(J=Y.find(Z=>Z.id===i))==null?void 0:J.name.toLowerCase()]})]}),t||ft.length>6?o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsx("p",{className:"text-sm font-medium text-gray-300",children:t?ft.length>0?`Found ${ft.length} exercise${ft.length===1?"":"s"}`:"No exercises found":`Showing ${Math.min(ft.length,a?ft.length:6)} of ${ft.length} exercises`}),!t&&ft.length>6&&o.jsx("button",{onClick:()=>l(!a),className:"text-red-400 hover:text-red-300 text-sm font-medium transition-colors","data-testid":"view-all-exercises-button",children:a?"Show Less":"View All"})]}):null,o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:ft.length>0?(t||a?ft:ft.slice(0,6)).map(Z=>{const K=Z.icon;return o.jsxs("div",{className:`bg-gradient-to-br from-gray-900 to-black border border-red-500/30 rounded-xl p-4 hover:border-red-500/60 hover:shadow-lg hover:shadow-red-500/20 transition-all group ${ze.isPending?"opacity-50 pointer-events-none":"cursor-pointer"}`,"data-testid":`exercise-${Z.name.toLowerCase().replace(/\s+/g,"-")}`,children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx(K,{className:"text-red-500 text-lg group-hover:scale-110 transition-transform"}),o.jsx("span",{className:"font-medium text-white",children:Z.name})]}),o.jsx("p",{className:"text-xs text-gray-400",children:Z.description}),["strength","dumbbells"].includes(Z.category)&&o.jsx("div",{className:"mt-3 pt-3 border-t border-red-500/30",id:`demo-content-${Z.name.toLowerCase().replace(/\s+/g,"-")}`,children:o.jsx("div",{className:"bg-black/50 rounded-lg p-2",children:o.jsx("img",{src:Ee(Z.name),alt:`${Z.name} demonstration`,className:"w-auto max-w-full h-auto max-h-32 object-contain rounded-md mx-auto","data-testid":`demo-image-${Z.name.toLowerCase().replace(/\s+/g,"-")}`})})}),o.jsx("div",{className:"flex items-center justify-center mt-2 text-xs text-gray-400",children:o.jsxs("button",{onClick:()=>Qt(Z),disabled:ze.isPending,className:"flex items-center hover:text-red-400 transition-colors","data-testid":`instructions-${Z.name.toLowerCase().replace(/\s+/g,"-")}`,children:[o.jsx(Tc,{className:"w-3 h-3 mr-1"}),o.jsx("span",{children:"Start Workout"})]})})]},Z.name)}):o.jsxs("div",{className:"col-span-full text-center py-8",children:[o.jsx(z3,{className:"mx-auto h-12 w-12 text-red-500/50 mb-4"}),o.jsx("p",{className:"text-lg font-medium text-gray-400 mb-2",children:t?"No exercises found":"Try searching for an exercise"}),o.jsx("p",{className:"text-sm text-gray-500",children:t?`No exercises match "${t}"`:'Search for exercises like "push-ups", "running", or "yoga"'})]})}),ze.isPending&&o.jsx("p",{className:"text-center text-muted mt-4",children:"Creating workout..."}),c&&o.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50",onClick:()=>d(null),children:o.jsx("div",{className:"bg-gradient-to-br from-gray-900 to-black border-2 border-red-500/50 rounded-2xl max-w-md w-full max-h-[70vh] overflow-y-auto shadow-2xl shadow-red-500/20",onClick:Z=>Z.stopPropagation(),children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(c.icon,{className:"text-red-500 text-2xl"}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:c.name}),o.jsxs("p",{className:"text-gray-400 capitalize",children:[c.category,"  ",c.description]})]})]}),o.jsx("button",{onClick:()=>d(null),className:"text-gray-400 hover:text-red-400 transition-colors","data-testid":"close-exercise-modal",children:o.jsx(Pi,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-red-400 mb-3",children:"Target Muscles"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:xt(c.name).muscles.map((Z,K)=>o.jsx("span",{className:"bg-red-600/20 text-red-400 border border-red-500/30 px-3 py-1 rounded-full text-sm font-medium",children:Z},K))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-red-400 mb-3",children:"How to Perform"}),o.jsx("ol",{className:"space-y-3",children:xt(c.name).steps.map((Z,K)=>o.jsxs("li",{className:"flex items-start space-x-3",children:[o.jsx("span",{className:"bg-gradient-to-r from-red-600 to-red-700 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-medium flex-shrink-0 mt-0.5",children:K+1}),o.jsx("p",{className:"text-gray-300",children:Z})]},K))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-red-400 mb-3",children:"Pro Tips"}),o.jsx("ul",{className:"space-y-2",children:xt(c.name).tips.map((Z,K)=>o.jsxs("li",{className:"flex items-start space-x-2",children:[o.jsx("span",{className:"text-red-500 mt-1",children:""}),o.jsx("p",{className:"text-gray-300",children:Z})]},K))})]})]}),o.jsxs("div",{className:"flex space-x-3 mt-8",children:[o.jsx(ue,{onClick:()=>pn(c.name),disabled:ze.isPending,className:"flex-1 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white border-0 shadow-lg shadow-red-500/50","data-testid":"start-workout-button",children:ze.isPending?"Starting...":"Start Workout"}),o.jsx(ue,{variant:"outline",onClick:()=>d(null),className:"px-6 border-red-500/30 text-gray-300 hover:bg-red-600/20 hover:text-red-400 hover:border-red-500/50","data-testid":"close-modal-button",children:"Close"})]})]})})}),N&&c&&o.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50",children:o.jsx("div",{className:"bg-gradient-to-br from-gray-900 to-black border-2 border-red-500/50 rounded-3xl max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl shadow-red-500/20",children:o.jsxs("div",{className:"p-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:"Log Your Workout"}),o.jsx("p",{className:"text-gray-400 mt-1",children:c.name})]}),o.jsx("button",{onClick:()=>{_(!1),d(null)},className:"text-gray-400 hover:text-red-400 transition-colors","data-testid":"close-workout-form",children:o.jsx(Pi,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-gradient-to-r from-red-900/30 to-black/50 border border-red-500/30 rounded-lg p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-red-400 mb-4 flex items-center gap-2",children:[o.jsx(hr,{className:"w-5 h-5 text-red-500"}),"Exercise Details for ",c.name]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx(it,{className:"text-sm font-semibold text-gray-300",children:"Sets"}),o.jsx(Yt,{type:"number",min:"1",max:"10",value:O,onChange:Z=>B(parseInt(Z.target.value)||1),className:"mt-1 bg-black/50 border-red-500/30 text-white focus:border-red-500 focus:ring-red-500/50","data-testid":"input-sets"})]}),o.jsxs("div",{children:[o.jsx(it,{className:"text-sm font-semibold text-gray-300",children:"Reps per Set"}),o.jsx(Yt,{type:"number",min:"1",max:"100",value:P,onChange:Z=>V(parseInt(Z.target.value)||1),className:"mt-1 bg-black/50 border-red-500/30 text-white focus:border-red-500 focus:ring-red-500/50","data-testid":"input-reps"})]}),o.jsxs("div",{children:[o.jsx(it,{className:"text-sm font-semibold text-gray-300",children:"Weight (lbs)"}),o.jsx(Yt,{type:"number",min:"0",max:"1000",value:F,onChange:Z=>q(parseInt(Z.target.value)||0),placeholder:"0 for bodyweight",className:"mt-1 bg-black/50 border-red-500/30 text-white placeholder:text-gray-500 focus:border-red-500 focus:ring-red-500/50","data-testid":"input-weight"})]}),o.jsxs("div",{children:[o.jsx(it,{className:"text-sm font-semibold text-gray-300",children:"Duration (minutes)"}),o.jsx(Yt,{type:"number",min:"0",max:"60",value:H,onChange:Z=>le(parseInt(Z.target.value)||0),placeholder:"0 for rep-based",className:"mt-1 bg-black/50 border-red-500/30 text-white placeholder:text-gray-500 focus:border-red-500 focus:ring-red-500/50","data-testid":"input-exercise-duration"})]})]}),o.jsxs("div",{children:[o.jsx(it,{className:"text-sm font-semibold text-gray-300",children:"Exercise Notes (optional)"}),o.jsx(Yt,{type:"text",value:ae,onChange:Z=>me(Z.target.value),placeholder:"e.g., form notes, modifications, how it felt...",className:"mt-1 bg-black/50 border-red-500/30 text-white placeholder:text-gray-500 focus:border-red-500 focus:ring-red-500/50","data-testid":"input-exercise-notes"})]})]}),o.jsxs("div",{children:[o.jsxs(it,{className:"text-base font-semibold text-gray-300",children:["Workout Duration: ",y[0]," minutes"]}),o.jsx("div",{className:"mt-2",children:o.jsx(OL,{value:y,onValueChange:x,min:5,max:120,step:5,className:"w-full","data-testid":"duration-slider"})})]}),o.jsx("div",{className:"p-4 bg-gradient-to-r from-red-900/30 to-black/50 rounded-lg border border-red-500/30",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-300",children:"Estimated Calories"}),o.jsx("p",{className:"text-xs text-gray-400",children:"Based on your workout"})]}),o.jsxs("div",{className:"text-2xl font-bold text-red-500",children:[c?ie(c,O,P,F,H,h[0]):0," kcal"]})]})})]}),o.jsxs("div",{className:"flex space-x-3 mt-8",children:[o.jsx(ue,{onClick:tn,disabled:ze.isPending,className:"flex-1 bg-gradient-to-r from-red-600 to-orange-600 hover:from-red-700 hover:to-orange-700","data-testid":"submit-workout-button",children:ze.isPending?"Logging...":"Log Workout"}),o.jsx(ue,{variant:"outline",onClick:()=>{_(!1),d(null)},className:"px-6","data-testid":"cancel-workout-button",children:"Cancel"})]})]})})}),w&&E&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:o.jsx("div",{className:"bg-white rounded-2xl max-w-md w-full",onClick:Z=>Z.stopPropagation(),children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:o.jsx(pa,{className:"w-8 h-8 text-green-600"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Workout Complete! "}),o.jsxs("p",{className:"text-gray-600",children:['Great job on completing "',E.name,'"! Want to capture your progress with a photo?']})]}),o.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"font-semibold text-gray-800",children:[E.duration," min"]}),o.jsx("div",{className:"text-gray-600",children:"Duration"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"font-semibold text-gray-800",children:[E.caloriesBurned," kcal"]}),o.jsx("div",{className:"text-gray-600",children:"Calories"})]})]})}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs(ue,{onClick:()=>{S(!1),R("/progress-photos")},className:"w-full bg-red-600 hover:bg-red-700 text-white","data-testid":"button-add-progress-photo",children:[o.jsx(Hi,{className:"mr-2 h-4 w-4"}),"Take Progress Photo"]}),o.jsx(ue,{onClick:()=>S(!1),variant:"outline",className:"w-full","data-testid":"button-skip-photo",children:"Skip for Now"})]}),o.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:o.jsxs("p",{className:"text-sm text-blue-700",children:[" ",o.jsx("strong",{children:"Tip:"})," Regular progress photos help you see changes that the scale might not show!"]})})]})})}),o.jsx(ml,{open:D,onOpenChange:T,children:o.jsxs(lo,{className:"max-w-2xl bg-white dark:bg-gray-900",children:[o.jsx(co,{children:o.jsxs(uo,{className:"text-xl font-bold text-gray-900 dark:text-white",children:[(oe=Y.find(Z=>Z.id===i))==null?void 0:oe.name," Anatomy"]})}),o.jsx("div",{className:"flex items-center justify-center p-4 bg-white rounded-lg",children:o.jsx("img",{src:_e[i],alt:`Anatomical diagram showing ${(ke=Y.find(Z=>Z.id===i))==null?void 0:ke.name} highlighted`,className:"w-full h-auto max-h-[70vh] object-contain","data-testid":"modal-muscle-image"})}),o.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 text-center",children:["This diagram shows the primary muscles targeted when you select ",(Ne=Y.find(Z=>Z.id===i))==null?void 0:Ne.name," workouts"]})]})})]})]})}function gpe(){const[t,e]=b.useState(!1),{data:r,isLoading:n}=Rt({queryKey:["/api/workouts"]}),i=l=>{switch(l){case"strength":return hr;case"cardio":return mt;case"yoga":return ui;default:return mt}},s=l=>{switch(l){case"strength":return"primary";case"cardio":return"secondary";case"yoga":return"pink-500";default:return"primary"}},a=l=>wQ(l)?"Today":_Q(l)?"Yesterday":xQ(l,{addSuffix:!0});return n?o.jsxs("section",{className:"relative bg-gradient-to-br from-black via-red-900/30 to-black rounded-3xl shadow-2xl border border-red-600/50 p-8 overflow-hidden hexagon-bg hexagon-pattern",children:[o.jsxs("div",{className:"absolute inset-0",children:[o.jsx("div",{className:"absolute top-0 left-0 w-32 h-28 opacity-30 animate-pulse",style:{animationDuration:"4s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"#dc2626",stroke:"#dc2626",strokeWidth:"2",opacity:"0.6"})})}),o.jsx("div",{className:"absolute top-1/4 right-0 w-24 h-21 opacity-20 animate-bounce",style:{animationDuration:"6s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"none",stroke:"#dc2626",strokeWidth:"2",opacity:"0.8"})})}),o.jsx("div",{className:"absolute bottom-0 left-1/3 w-28 h-24 opacity-25 animate-ping",style:{animationDuration:"8s",animationDelay:"1s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"#000000",stroke:"#dc2626",strokeWidth:"1",opacity:"0.7"})})}),o.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-20 h-17 opacity-15 animate-pulse",style:{animationDuration:"5s",animationDelay:"2s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"#dc2626",stroke:"#000000",strokeWidth:"1",opacity:"0.5"})})}),o.jsx("div",{className:"absolute top-1/2 left-10 w-22 h-19 opacity-20 animate-bounce",style:{animationDuration:"7s",animationDelay:"0.5s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"none",stroke:"#dc2626",strokeWidth:"2",opacity:"0.4"})})}),o.jsx("div",{className:"absolute top-1/3 right-1/3 w-40 h-40 bg-gradient-to-br from-red-600/20 to-black/40 rounded-full blur-3xl opacity-30 animate-pulse",style:{animationDuration:"6s"}}),o.jsx("div",{className:"absolute bottom-1/3 left-1/4 w-32 h-32 bg-gradient-to-br from-black/60 to-red-600/20 rounded-full blur-2xl opacity-20 animate-ping",style:{animationDuration:"10s"}}),o.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-transparent via-red-900/10 to-black/60 animate-pulse",style:{animationDuration:"8s"}})]}),o.jsxs("div",{className:"relative z-10",children:[o.jsx("div",{className:"flex items-center justify-between mb-6",children:o.jsx("h3",{className:"text-2xl font-bold text-white drop-shadow-lg",children:"Recent Workouts"})}),o.jsx("div",{className:"space-y-4",children:[...Array(3)].map((l,c)=>o.jsx("div",{className:"animate-pulse",children:o.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-xl",children:[o.jsx("div",{className:"bg-gray-200 rounded-lg p-3 w-12 h-12"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),o.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"h-4 bg-gray-200 rounded w-16 mb-1"}),o.jsx("div",{className:"h-3 bg-gray-200 rounded w-12"})]})]})},c))})]})]}):!r||r.length===0?o.jsxs("section",{className:"relative bg-gradient-to-br from-black via-red-900/30 to-black rounded-3xl shadow-2xl border border-red-600/50 p-8 overflow-hidden hexagon-bg hexagon-pattern",children:[o.jsxs("div",{className:"absolute inset-0",children:[o.jsx("div",{className:"absolute top-0 left-0 w-32 h-28 opacity-30 animate-pulse",style:{animationDuration:"4s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"#dc2626",stroke:"#dc2626",strokeWidth:"2",opacity:"0.6"})})}),o.jsx("div",{className:"absolute top-1/4 right-0 w-24 h-21 opacity-20 animate-bounce",style:{animationDuration:"6s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"none",stroke:"#dc2626",strokeWidth:"2",opacity:"0.8"})})}),o.jsx("div",{className:"absolute bottom-0 left-1/3 w-28 h-24 opacity-25 animate-ping",style:{animationDuration:"8s",animationDelay:"1s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"#000000",stroke:"#dc2626",strokeWidth:"1",opacity:"0.7"})})}),o.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-20 h-17 opacity-15 animate-pulse",style:{animationDuration:"5s",animationDelay:"2s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"#dc2626",stroke:"#000000",strokeWidth:"1",opacity:"0.5"})})}),o.jsx("div",{className:"absolute top-1/2 left-10 w-22 h-19 opacity-20 animate-bounce",style:{animationDuration:"7s",animationDelay:"0.5s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"none",stroke:"#dc2626",strokeWidth:"2",opacity:"0.4"})})}),o.jsx("div",{className:"absolute top-1/3 right-1/3 w-40 h-40 bg-gradient-to-br from-red-600/20 to-black/40 rounded-full blur-3xl opacity-30 animate-pulse",style:{animationDuration:"6s"}}),o.jsx("div",{className:"absolute bottom-1/3 left-1/4 w-32 h-32 bg-gradient-to-br from-black/60 to-red-600/20 rounded-full blur-2xl opacity-20 animate-ping",style:{animationDuration:"10s"}}),o.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-transparent via-red-900/10 to-black/60 animate-pulse",style:{animationDuration:"8s"}})]}),o.jsxs("div",{className:"relative z-10",children:[o.jsx("div",{className:"flex items-center justify-between mb-6",children:o.jsx("h3",{className:"text-2xl font-bold text-white drop-shadow-lg",children:"Recent Workouts"})}),o.jsxs("div",{className:"text-center py-8",children:[o.jsx(hr,{className:"mx-auto text-gray-400 mb-4",size:48}),o.jsx("p",{className:"text-gray-300",children:"No workouts yet. Start your first workout!"})]})]})]}):o.jsxs("section",{className:"relative bg-gradient-to-br from-indigo-900 via-purple-900 to-blue-900 rounded-3xl shadow-2xl border border-indigo-700/50 p-8 overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0",children:[o.jsx("div",{className:"absolute top-0 left-0 w-40 h-40 bg-gradient-to-br from-cyan-400 to-blue-500 rounded-full blur-3xl opacity-20 animate-pulse"}),o.jsx("div",{className:"absolute bottom-0 right-0 w-32 h-32 bg-gradient-to-br from-purple-400 to-pink-500 rounded-full blur-2xl opacity-15 animate-bounce",style:{animationDuration:"3s"}}),o.jsx("div",{className:"absolute top-1/2 left-1/3 w-28 h-28 bg-gradient-to-br from-emerald-400 to-cyan-500 rounded-full blur-3xl opacity-10 animate-ping",style:{animationDuration:"4s"}})]}),o.jsxs("div",{className:"relative z-10",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-2xl font-bold text-white drop-shadow-lg",children:"Recent Workouts"}),o.jsxs("button",{onClick:()=>e(!t),className:"text-cyan-300 hover:text-cyan-200 text-sm font-medium transition-colors flex items-center gap-1","data-testid":"view-all-workouts-button",children:[t?"Show Less":"View All",t?o.jsx(C_,{size:16}):o.jsx(Yd,{size:16})]})]}),o.jsx("div",{className:"space-y-4",children:(t?r:r.slice(0,3)).map(l=>{const c=i(l.category),d=s(l.category);return o.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-white/10 backdrop-blur-sm rounded-xl hover:bg-white/15 transition-colors border border-white/20",children:[o.jsx("div",{className:`bg-${d} bg-opacity-10 rounded-lg p-3`,children:o.jsx(c,{className:`text-${d} text-lg`})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium text-white",children:l.name}),o.jsxs("p",{className:"text-sm text-gray-300",children:[l.duration," min  ",l.caloriesBurned," calories"]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm font-medium text-white",children:a(new Date(l.date))}),o.jsx("p",{className:"text-xs text-gray-300",children:Tn(new Date(l.date),"h:mm a")})]})]},l.id)})}),r.length>3&&o.jsx("div",{className:"mt-4 text-center",children:o.jsx("p",{className:"text-sm text-gray-300",children:t?`Showing all ${r.length} workouts`:`Showing 3 of ${r.length} workouts`})})]})]})}function vpe(){const[t,e]=b.useState([]),[r,n]=b.useState(!1),i=[{name:"Full Body HIIT",details:"30 min  High intensity",icon:hr,color:"primary",bgColor:"blue"},{name:"Cardio Blast",details:"20 min  Moderate intensity",icon:Ja,color:"secondary",bgColor:"green"},{name:"Recovery Yoga",details:"25 min  Low intensity",icon:ui,color:"purple-600",bgColor:"purple"},{name:"Strength Training",details:"45 min  High intensity",icon:St,color:"primary",bgColor:"red"},{name:"Morning Run",details:"25 min  Moderate intensity",icon:mt,color:"secondary",bgColor:"green"},{name:"Cycling Adventure",details:"40 min  Moderate intensity",icon:eI,color:"secondary",bgColor:"yellow"},{name:"Core Crusher",details:"15 min  High intensity",icon:hr,color:"primary",bgColor:"orange"},{name:"Flexibility Flow",details:"20 min  Low intensity",icon:ui,color:"purple-600",bgColor:"pink"},{name:"Upper Body Blast",details:"35 min  High intensity",icon:St,color:"primary",bgColor:"blue"},{name:"Dance Cardio",details:"30 min  Moderate intensity",icon:Ja,color:"secondary",bgColor:"purple"},{name:"Swimming Laps",details:"45 min  Low intensity",icon:mt,color:"secondary",bgColor:"blue"},{name:"Pilates Power",details:"30 min  Moderate intensity",icon:ui,color:"purple-600",bgColor:"green"},{name:"Kettlebell Circuit",details:"25 min  High intensity",icon:St,color:"primary",bgColor:"red"},{name:"Beach Body Bootcamp",details:"35 min  High intensity",icon:hr,color:"primary",bgColor:"orange"},{name:"Mindful Stretching",details:"15 min  Low intensity",icon:ui,color:"purple-600",bgColor:"pink"}],s=()=>{const d=new Date;return d.getFullYear()*1e4+(d.getMonth()+1)*100+d.getDate()},a=d=>{const h=Math.sin(d)*1e4;return h-Math.floor(h)},l=(d=!1)=>{const h=d?Date.now():s(),f=[...i];for(let m=f.length-1;m>0;m--){const g=Math.floor(a(h+m)*(m+1));[f[m],f[g]]=[f[g],f[m]]}return f.slice(0,3)},c=()=>{n(!0),setTimeout(()=>{const d=l(!0);e(d),n(!1)},500)};return b.useEffect(()=>{const d=l();e(d)},[]),o.jsxs("section",{className:"relative bg-gradient-to-br from-black via-red-900/30 to-black rounded-3xl shadow-2xl border border-red-600/50 p-8 overflow-hidden hexagon-bg hexagon-pattern",children:[o.jsxs("div",{className:"absolute inset-0",children:[o.jsx("div",{className:"absolute top-0 left-0 w-32 h-28 opacity-30 animate-pulse",style:{animationDuration:"4s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"#dc2626",stroke:"#dc2626",strokeWidth:"2",opacity:"0.6"})})}),o.jsx("div",{className:"absolute top-1/4 right-0 w-24 h-21 opacity-20 animate-bounce",style:{animationDuration:"6s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"none",stroke:"#dc2626",strokeWidth:"2",opacity:"0.8"})})}),o.jsx("div",{className:"absolute bottom-0 left-1/3 w-28 h-24 opacity-25 animate-ping",style:{animationDuration:"8s",animationDelay:"1s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"#000000",stroke:"#dc2626",strokeWidth:"1",opacity:"0.7"})})}),o.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-20 h-17 opacity-15 animate-pulse",style:{animationDuration:"5s",animationDelay:"2s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"#dc2626",stroke:"#000000",strokeWidth:"1",opacity:"0.5"})})}),o.jsx("div",{className:"absolute top-1/2 left-10 w-22 h-19 opacity-20 animate-bounce",style:{animationDuration:"7s",animationDelay:"0.5s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"none",stroke:"#dc2626",strokeWidth:"2",opacity:"0.4"})})}),o.jsx("div",{className:"absolute top-1/3 right-1/3 w-40 h-40 bg-gradient-to-br from-red-600/20 to-black/40 rounded-full blur-3xl opacity-30 animate-pulse",style:{animationDuration:"6s"}}),o.jsx("div",{className:"absolute bottom-1/3 left-1/4 w-32 h-32 bg-gradient-to-br from-black/60 to-red-600/20 rounded-full blur-2xl opacity-20 animate-ping",style:{animationDuration:"10s"}}),o.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-transparent via-red-900/10 to-black/60 animate-pulse",style:{animationDuration:"8s"}})]}),o.jsxs("div",{className:"relative z-10",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-2xl font-bold text-white drop-shadow-lg",children:"Recommended Workouts"}),o.jsxs("button",{onClick:c,disabled:r,className:"flex items-center space-x-1 text-gray-300 hover:text-cyan-300 text-sm font-medium transition-colors disabled:opacity-50","data-testid":"refresh-workouts-button",children:[o.jsx(aI,{className:`w-4 h-4 ${r?"animate-spin":""}`}),o.jsx("span",{children:r?"Refreshing...":"Refresh"})]})]}),o.jsx("div",{className:"space-y-3",children:t.map((d,h)=>{const f=d.icon;return o.jsxs("div",{className:"flex items-center space-x-4 p-3 bg-white/10 backdrop-blur-sm rounded-xl hover:bg-white/15 transition-all cursor-pointer border border-white/20","data-testid":`workout-recommendation-${h}`,children:[o.jsx("div",{className:"bg-white/20 rounded-lg p-2",children:o.jsx(f,{className:"text-cyan-300"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium text-white",children:d.name}),o.jsx("p",{className:"text-sm text-gray-300",children:d.details})]}),o.jsx(Yp,{className:"text-gray-300"})]},`${d.name}-${h}`)})})]})]})}function xpe(){return o.jsx("div",{className:"font-inter bg-black text-gray-200 min-h-screen",children:o.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-3 bg-gradient-to-br from-red-600 to-red-700 rounded-xl shadow-lg shadow-red-500/50",children:o.jsx(mt,{className:"w-8 h-8 text-white"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-red-500 to-red-700 bg-clip-text text-transparent","data-testid":"workouts-title",children:"Workouts"}),o.jsx("p",{className:"text-gray-400",children:"Track your fitness journey and log your workouts"})]})]}),o.jsxs(ue,{onClick:()=>{const t=document.getElementById("workout-logger");t&&t.scrollIntoView({behavior:"smooth",block:"start"})},className:"flex items-center gap-2 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white shadow-lg shadow-red-500/50 border-0","data-testid":"start-workout-button",children:[o.jsx(wc,{className:"w-4 h-4"}),"Start Workout"]})]}),o.jsx("div",{className:"mb-8",children:o.jsx(lN,{})}),o.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[o.jsx(mpe,{}),o.jsx(gpe,{})]}),o.jsx("div",{className:"space-y-8",children:o.jsx(vpe,{})})]})]})})}function T0({className:t,...e}){return o.jsx("div",{className:be("animate-pulse rounded-md bg-muted",t),...e})}function ype(){const{data:t,isLoading:e}=Rt({queryKey:["/api/news"]}),r=s=>{switch(s){case"feature":return o.jsx(Xr,{className:"w-4 h-4"});case"bug_fix":return o.jsx(zH,{className:"w-4 h-4"});case"announcement":return o.jsx(KH,{className:"w-4 h-4"});default:return o.jsx(Z0,{className:"w-4 h-4"})}},n=s=>{switch(s){case"feature":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"bug_fix":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"announcement":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},i=s=>{switch(s){case"feature":return"New Feature";case"bug_fix":return"Bug Fix";case"announcement":return"Announcement";default:return"Update"}};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-slate-950 dark:via-blue-950 dark:to-indigo-950",children:o.jsxs("div",{className:"container max-w-4xl mx-auto px-4 py-6 pb-24",children:[o.jsxs("div",{className:"mb-6 md:mb-8",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("div",{className:"p-2 md:p-3 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl shadow-lg",children:o.jsx(Z0,{className:"w-6 h-6 md:w-8 md:h-8 text-white"})}),o.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white",children:"What's New"})]}),o.jsx("p",{className:"text-base md:text-lg text-gray-600 dark:text-gray-400 ml-14 md:ml-16",children:"Latest updates and improvements to FlexFlow"})]}),e?o.jsx("div",{className:"space-y-4",children:[1,2,3].map(s=>o.jsxs(Le,{className:"p-4 md:p-6",children:[o.jsx(T0,{className:"h-6 w-3/4 mb-3"}),o.jsx(T0,{className:"h-4 w-full mb-2"}),o.jsx(T0,{className:"h-4 w-full mb-2"}),o.jsx(T0,{className:"h-4 w-2/3"})]},s))}):t&&t.length>0?o.jsx("div",{className:"space-y-4",children:t.map(s=>o.jsxs(Le,{className:"overflow-hidden hover:shadow-lg transition-all duration-300 bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800","data-testid":`news-item-${s.id}`,children:[s.imageUrl&&o.jsx("div",{className:"w-full h-48 md:h-56 overflow-hidden bg-gradient-to-br from-blue-100 to-indigo-100 dark:from-blue-900 dark:to-indigo-900",children:o.jsx("img",{src:s.imageUrl,alt:s.title,className:"w-full h-full object-cover","data-testid":`news-image-${s.id}`})}),o.jsxs("div",{className:"p-5 md:p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs(Xe,{className:`${n(s.category)} flex items-center gap-1.5 px-3 py-1 text-xs md:text-sm font-medium`,"data-testid":`news-category-${s.id}`,children:[r(s.category),i(s.category)]}),o.jsx("span",{className:"text-xs md:text-sm text-gray-500 dark:text-gray-400","data-testid":`news-date-${s.id}`,children:Tn(new Date(s.publishedAt),"MMM d, yyyy")})]}),o.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900 dark:text-white mb-3 leading-tight","data-testid":`news-title-${s.id}`,children:s.title}),o.jsx("div",{className:"text-base md:text-lg text-gray-700 dark:text-gray-300 leading-relaxed whitespace-pre-wrap","data-testid":`news-content-${s.id}`,children:s.content})]})]},s.id))}):o.jsx(Le,{className:"p-12 text-center",children:o.jsxs("div",{className:"flex flex-col items-center gap-4",children:[o.jsx("div",{className:"p-4 bg-gradient-to-br from-blue-100 to-indigo-100 dark:from-blue-900 dark:to-indigo-900 rounded-full",children:o.jsx(Z0,{className:"w-12 h-12 text-blue-600 dark:text-blue-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No news yet"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Check back soon for updates and announcements!"})]})]})})]})})}function wpe(){const{data:t,isLoading:e}=Rt({queryKey:["/api/progress/metrics"]});if(e)return o.jsxs("section",{className:"relative bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 rounded-2xl shadow-lg border border-slate-200 p-6 overflow-hidden",children:[o.jsx("div",{className:"flex items-center justify-between mb-6",children:o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Progress Overview"})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((l,c)=>o.jsx("div",{className:"animate-pulse",children:o.jsxs("div",{className:"bg-gray-100 rounded-xl p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("div",{className:"h-5 bg-gray-200 rounded w-24"}),o.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded"})]}),o.jsx("div",{className:"h-8 bg-gray-200 rounded w-16 mb-2"}),o.jsx("div",{className:"h-3 bg-gray-200 rounded w-full"})]})},c))})]});if(!t)return o.jsx("section",{className:"relative bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 rounded-2xl shadow-lg border border-slate-200 p-6 overflow-hidden",children:o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx(Wf,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),o.jsx("p",{className:"text-lg font-medium mb-2",children:"Unable to load progress data"}),o.jsx("p",{className:"text-sm",children:"Start working out to see your progress overview!"})]})});const r=l=>l>=80?{status:"Excellent",color:"text-green-600",bgColor:"bg-green-50"}:l>=60?{status:"Good",color:"text-blue-600",bgColor:"bg-blue-50"}:l>=40?{status:"Fair",color:"text-yellow-600",bgColor:"bg-yellow-50"}:{status:"Needs Work",color:"text-red-600",bgColor:"bg-red-50"},n=r(t.consistencyPercentage30Days),i=r(t.consistencyPercentage7Days),s=t.workoutFrequency.slice(-14),a=Math.max(...s.map(l=>l.count),1);return o.jsxs("section",{className:"relative bg-gradient-to-br from-black via-red-900/30 to-black rounded-3xl shadow-2xl border border-red-600/50 p-8 overflow-hidden hexagon-bg hexagon-pattern","data-testid":"progress-overview",children:[o.jsxs("div",{className:"absolute inset-0",children:[o.jsx("div",{className:"absolute top-0 left-0 w-32 h-28 opacity-30 animate-pulse",style:{animationDuration:"4s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"#dc2626",stroke:"#dc2626",strokeWidth:"2",opacity:"0.6"})})}),o.jsx("div",{className:"absolute top-1/4 right-0 w-24 h-21 opacity-20 animate-bounce",style:{animationDuration:"6s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"none",stroke:"#dc2626",strokeWidth:"2",opacity:"0.8"})})}),o.jsx("div",{className:"absolute bottom-0 left-1/3 w-28 h-24 opacity-25 animate-ping",style:{animationDuration:"8s",animationDelay:"1s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"#000000",stroke:"#dc2626",strokeWidth:"1",opacity:"0.7"})})}),o.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-20 h-17 opacity-15 animate-pulse",style:{animationDuration:"5s",animationDelay:"2s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"#dc2626",stroke:"#000000",strokeWidth:"1",opacity:"0.5"})})}),o.jsx("div",{className:"absolute top-1/2 left-10 w-22 h-19 opacity-20 animate-bounce",style:{animationDuration:"7s",animationDelay:"0.5s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"none",stroke:"#dc2626",strokeWidth:"2",opacity:"0.4"})})}),o.jsx("div",{className:"absolute top-1/3 right-1/3 w-40 h-40 bg-gradient-to-br from-red-600/20 to-black/40 rounded-full blur-3xl opacity-30 animate-pulse",style:{animationDuration:"6s"}}),o.jsx("div",{className:"absolute bottom-1/3 left-1/4 w-32 h-32 bg-gradient-to-br from-black/60 to-red-600/20 rounded-full blur-2xl opacity-20 animate-ping",style:{animationDuration:"10s"}}),o.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-transparent via-red-900/10 to-black/60 animate-pulse",style:{animationDuration:"8s"}})]}),o.jsxs("div",{className:"relative z-10",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsx("h3",{className:"text-3xl font-bold text-white drop-shadow-lg",children:"Progress Overview"}),o.jsx("div",{className:"p-3 bg-white/10 backdrop-blur-md rounded-xl shadow-lg border border-white/20",children:o.jsx(Xr,{className:"text-cyan-300 w-8 h-8"})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-gradient-to-br from-orange-500/20 to-red-500/20 rounded-2xl p-6 border border-orange-400/30 shadow-2xl backdrop-blur-md bg-white/10 hover:bg-white/15 transition-all duration-300 hover:scale-105",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h4",{className:"font-semibold text-white drop-shadow-sm",children:"Current Streak"}),o.jsx(Xa,{className:"text-orange-300 w-6 h-6 drop-shadow-sm"})]}),o.jsx("div",{className:"text-4xl font-bold text-orange-200 mb-2 drop-shadow-lg","data-testid":"current-streak",children:t.currentStreak===0?"Start today!":`${t.currentStreak} ${t.currentStreak===1?"day":"days"}`}),o.jsx("p",{className:"text-sm text-orange-100/80 drop-shadow-sm",children:"Keep the momentum going!"})]}),o.jsxs("div",{className:"bg-gradient-to-br from-green-500/20 to-emerald-500/20 rounded-2xl p-6 border border-green-400/30 shadow-2xl backdrop-blur-md bg-white/10 hover:bg-white/15 transition-all duration-300 hover:scale-105",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h4",{className:"font-semibold text-white drop-shadow-sm",children:"Personal Best"}),o.jsx(Kl,{className:"text-green-300 w-6 h-6 drop-shadow-sm"})]}),o.jsxs("div",{className:"text-4xl font-bold text-green-200 mb-2 drop-shadow-lg","data-testid":"longest-streak",children:[t.longestStreak," days"]}),o.jsx("p",{className:"text-sm text-green-100/80 drop-shadow-sm",children:"Your longest streak"})]}),o.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-indigo-500/20 rounded-2xl p-6 border border-blue-400/30 shadow-2xl backdrop-blur-md bg-white/10 hover:bg-white/15 transition-all duration-300 hover:scale-105",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h4",{className:"font-semibold text-white drop-shadow-sm",children:"Total Active Days"}),o.jsx(ei,{className:"text-blue-300 w-6 h-6 drop-shadow-sm"})]}),o.jsx("div",{className:"text-4xl font-bold text-blue-200 mb-2 drop-shadow-lg","data-testid":"total-workout-days",children:t.totalWorkoutDays}),o.jsx("p",{className:"text-sm text-blue-100/80 drop-shadow-sm",children:"Days you've exercised"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-gradient-to-br from-purple-500/20 to-pink-500/20 rounded-2xl p-6 border border-purple-400/30 shadow-2xl backdrop-blur-md bg-white/10 hover:bg-white/15 transition-all duration-300",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h4",{className:"font-semibold text-white drop-shadow-sm",children:"7-Day Consistency"}),o.jsx(ti,{className:"text-purple-300 w-6 h-6 drop-shadow-sm"})]}),o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("span",{className:"text-3xl font-bold text-purple-200 drop-shadow-lg","data-testid":"consistency-7-days",children:[t.consistencyPercentage7Days,"%"]}),o.jsx("span",{className:"text-sm font-medium text-purple-100/90 drop-shadow-sm",children:i.status})]}),o.jsx(Lc,{value:t.consistencyPercentage7Days,className:"h-2"}),o.jsx("p",{className:"text-sm text-purple-100/70 mt-2 drop-shadow-sm",children:"Last 7 days performance"})]}),o.jsxs("div",{className:"bg-gradient-to-br from-cyan-500/20 to-teal-500/20 rounded-2xl p-6 border border-cyan-400/30 shadow-2xl backdrop-blur-md bg-white/10 hover:bg-white/15 transition-all duration-300",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h4",{className:"font-semibold text-white drop-shadow-sm",children:"30-Day Consistency"}),o.jsx(ti,{className:"text-cyan-300 w-6 h-6 drop-shadow-sm"})]}),o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("span",{className:"text-3xl font-bold text-cyan-200 drop-shadow-lg","data-testid":"consistency-30-days",children:[t.consistencyPercentage30Days,"%"]}),o.jsx("span",{className:"text-sm font-medium text-cyan-100/90 drop-shadow-sm",children:n.status})]}),o.jsx(Lc,{value:t.consistencyPercentage30Days,className:"h-2"}),o.jsx("p",{className:"text-sm text-cyan-100/70 mt-2 drop-shadow-sm",children:"Last 30 days performance"})]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-slate-800/40 to-gray-800/40 rounded-2xl p-6 border border-slate-600/30 shadow-2xl backdrop-blur-md bg-black/20",children:[o.jsx("h4",{className:"font-semibold text-white drop-shadow-sm mb-6 text-lg",children:"Recent Activity (Last 14 Days)"}),o.jsx("div",{className:"flex items-end justify-between space-x-1",style:{height:"60px"},children:s.map((l,c)=>{const d=Math.max(l.count/a*100,l.count>0?20:8),f=new Date(l.date).getDate();return o.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[o.jsx("div",{className:`w-full rounded-md ${l.count>0?"bg-gradient-to-t from-cyan-500 to-blue-400 shadow-lg":"bg-slate-600/50"}`,style:{height:`${d}%`},"data-testid":`workout-bar-${c}`}),o.jsx("span",{className:"text-xs text-slate-300 mt-2 font-medium",children:f})]},c)})}),o.jsxs("div",{className:"flex justify-between items-center mt-4 text-xs text-slate-300",children:[o.jsx("span",{children:"2 weeks ago"}),o.jsx("span",{children:"Today"})]})]}),t.currentStreak>0&&t.longestStreak>0&&o.jsx("div",{className:"mt-8 p-6 bg-gradient-to-br from-emerald-500/20 to-cyan-500/20 border border-emerald-400/30 rounded-2xl shadow-2xl backdrop-blur-md bg-white/10",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Xr,{className:"text-emerald-300 w-6 h-6"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-white drop-shadow-sm",children:t.currentStreak===t.longestStreak?" You're on your best streak ever!":`${t.longestStreak-t.currentStreak} days away from your personal best!`}),o.jsx("p",{className:"text-sm text-emerald-100/80 drop-shadow-sm",children:"Keep up the amazing consistency to reach new milestones."})]})]})})]})]})}function bpe(){const{data:t}=Rt({queryKey:["/api/workouts"]}),{data:e}=Rt({queryKey:["/api/progress/weight"]}),r=b.useRef(null),n=b.useRef(null),i=b.useRef(null),s=b.useRef(null);b.useEffect(()=>{if(window.Chart)a();else{const l=document.createElement("script");l.src="https://cdn.jsdelivr.net/npm/chart.js",l.onload=()=>{a()},document.head.appendChild(l)}},[t,e]);const a=()=>{if(!(!t||!window.Chart)){if(r.current){const l=r.current.getContext("2d");if(l){i.current&&i.current.destroy();const c=Array.from({length:7},(f,m)=>{const g=new Date;return g.setDate(g.getDate()-(6-m)),g}),d=c.map(f=>t.filter(m=>new Date(m.date).toDateString()===f.toDateString()).length),h=c.map(f=>["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][f.getDay()]);i.current=new window.Chart(l,{type:"line",data:{labels:h,datasets:[{label:"Workouts",data:d,borderColor:"#1E40AF",backgroundColor:"rgba(30, 64, 175, 0.1)",tension:.4,fill:!0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}}}})}}if(n.current&&e){const l=n.current.getContext("2d");if(l&&(s.current&&s.current.destroy(),e.exerciseNames.length>0)){const c=["rgba(30, 64, 175, 0.8)","rgba(5, 150, 105, 0.8)","rgba(249, 115, 22, 0.8)","rgba(168, 85, 247, 0.8)","rgba(239, 68, 68, 0.8)","rgba(245, 158, 11, 0.8)","rgba(59, 130, 246, 0.8)","rgba(16, 185, 129, 0.8)"];s.current=new window.Chart(l,{type:"bar",data:{labels:e.exerciseNames,datasets:[{label:"Max Weight (lbs)",data:e.maxWeights,backgroundColor:e.exerciseNames.map((d,h)=>c[h%c.length]),borderRadius:6}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(d){return`Max Weight: ${d.parsed.y} lbs`}}}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Weight (lbs)"}},x:{ticks:{maxRotation:45,font:{size:10}}}}}})}}}};return o.jsxs("section",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Progress Overview"}),o.jsxs("select",{className:"text-sm border border-gray-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary focus:border-transparent outline-none",children:[o.jsx("option",{children:"Last 7 days"}),o.jsx("option",{children:"Last 30 days"}),o.jsx("option",{children:"Last 3 months"})]})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-800 mb-3",children:"Workout Frequency"}),o.jsx("div",{className:"h-48 bg-gray-50 rounded-xl flex items-center justify-center",children:o.jsx("canvas",{ref:r,className:"max-w-full max-h-full"})})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-800 mb-3",children:"Weight Progress"}),o.jsx("div",{className:"h-48 bg-gray-50 rounded-xl flex items-center justify-center",children:e?e.exerciseNames.length===0?o.jsxs("div",{className:"text-gray-500 text-sm text-center",children:[o.jsx("div",{className:"mb-2",children:" No weight data yet"}),o.jsx("div",{className:"text-xs",children:"Log workouts with weights to see your progress"})]}):o.jsx("canvas",{ref:n,className:"max-w-full max-h-full","data-testid":"weight-progress-chart"}):o.jsx("div",{className:"text-gray-500 text-sm text-center",children:o.jsx("div",{className:"animate-pulse mb-2",children:"Loading..."})})})]})]})]})}function _pe(){const[t,e]=b.useState(!1),[r,n]=b.useState(null),[i,s]=b.useState("workouts"),[a,l]=b.useState("5"),c=Rn(),{data:d,isLoading:h}=Rt({queryKey:["/api/goals"]}),{data:f}=Rt({queryKey:["/api/stats"]}),m=Ut({mutationFn:async O=>(await dt("POST","/api/goals",O)).json(),onSuccess:()=>{c.invalidateQueries({queryKey:["/api/goals"]}),e(!1),s("workouts"),l("5")}}),g=Ut({mutationFn:async({id:O,...B})=>(await dt("PATCH",`/api/goals/${O}`,B)).json(),onSuccess:()=>{c.invalidateQueries({queryKey:["/api/goals"]}),e(!1),n(null)}}),y=Ut({mutationFn:async O=>await dt("DELETE",`/api/goals/${O}`),onSuccess:()=>{c.invalidateQueries({queryKey:["/api/goals"]})}});if(h)return o.jsxs("section",{className:"relative bg-gradient-to-br from-black via-red-900/30 to-black rounded-3xl shadow-2xl border border-red-600/50 p-8 overflow-hidden hexagon-bg hexagon-pattern",children:[o.jsxs("div",{className:"absolute inset-0",children:[o.jsx("div",{className:"absolute top-0 left-0 w-32 h-28 opacity-30 animate-pulse",style:{animationDuration:"4s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"#dc2626",stroke:"#dc2626",strokeWidth:"2",opacity:"0.6"})})}),o.jsx("div",{className:"absolute top-1/4 right-0 w-24 h-21 opacity-20 animate-bounce",style:{animationDuration:"6s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"none",stroke:"#dc2626",strokeWidth:"2",opacity:"0.8"})})}),o.jsx("div",{className:"absolute bottom-0 left-1/3 w-28 h-24 opacity-25 animate-ping",style:{animationDuration:"8s",animationDelay:"1s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"#000000",stroke:"#dc2626",strokeWidth:"1",opacity:"0.7"})})}),o.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-20 h-17 opacity-15 animate-pulse",style:{animationDuration:"5s",animationDelay:"2s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"#dc2626",stroke:"#000000",strokeWidth:"1",opacity:"0.5"})})}),o.jsx("div",{className:"absolute top-1/2 left-10 w-22 h-19 opacity-20 animate-bounce",style:{animationDuration:"7s",animationDelay:"0.5s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"none",stroke:"#dc2626",strokeWidth:"2",opacity:"0.4"})})}),o.jsx("div",{className:"absolute top-1/3 right-1/3 w-40 h-40 bg-gradient-to-br from-red-600/20 to-black/40 rounded-full blur-3xl opacity-30 animate-pulse",style:{animationDuration:"6s"}}),o.jsx("div",{className:"absolute bottom-1/3 left-1/4 w-32 h-32 bg-gradient-to-br from-black/60 to-red-600/20 rounded-full blur-2xl opacity-20 animate-ping",style:{animationDuration:"10s"}}),o.jsx("div",{className:"absolute top-1/2 left-1/3 w-28 h-28 bg-gradient-to-br from-emerald-400 to-cyan-500 rounded-full blur-3xl opacity-10 animate-ping",style:{animationDuration:"4s"}})]}),o.jsxs("div",{className:"relative z-10",children:[o.jsx("div",{className:"flex items-center justify-between mb-6",children:o.jsx("h3",{className:"text-2xl font-bold text-white drop-shadow-lg",children:"Weekly Goals"})}),o.jsx("div",{className:"space-y-4",children:[...Array(3)].map((O,B)=>o.jsxs("div",{className:"animate-pulse",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded w-12"})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2"})]},B))})]})]});const x=O=>{if(!f)return 0;switch(O){case"workouts":return f.totalWorkouts||0;case"minutes":return(f.totalHours||0)*60;case"calories":return f.caloriesBurned||0;default:return 0}},N=d&&d.length>0?d.map(O=>({...O,current:x(O.type)})):[],_=async()=>{const O=[{type:"workouts",target:5},{type:"minutes",target:200},{type:"calories",target:1500}];for(const B of O)await m.mutateAsync({type:B.type,target:B.target,current:0,period:"weekly",isActive:!0})},w=O=>{switch(O){case"workouts":return"Workouts";case"minutes":return"Active Minutes";case"calories":return"Calories Burned";default:return O}},S=O=>{switch(O){case"workouts":return"primary";case"minutes":return"secondary";case"calories":return"accent";default:return"primary"}},E=(O,B)=>Math.min(Math.round(O/B*100),100),j=N.length>0&&N.some(O=>E(O.current,O.target)>=80),D=O=>{O?(n(O),s(O.type),l(O.target.toString())):(n(null),s("workouts"),l("5")),e(!0)},T=()=>{const O=parseInt(a);isNaN(O)||O<=0||(r?g.mutate({id:r.id,target:O,type:i}):m.mutate({type:i,target:O,current:0,period:"weekly",isActive:!0}))};return o.jsxs("section",{className:"relative bg-gradient-to-br from-black via-red-900/30 to-black rounded-3xl shadow-2xl border border-red-600/50 p-8 overflow-hidden hexagon-bg hexagon-pattern",children:[o.jsxs("div",{className:"absolute inset-0",children:[o.jsx("div",{className:"absolute top-0 left-0 w-32 h-28 opacity-30 animate-pulse",style:{animationDuration:"4s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"#dc2626",stroke:"#dc2626",strokeWidth:"2",opacity:"0.6"})})}),o.jsx("div",{className:"absolute top-1/4 right-0 w-24 h-21 opacity-20 animate-bounce",style:{animationDuration:"6s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"none",stroke:"#dc2626",strokeWidth:"2",opacity:"0.8"})})}),o.jsx("div",{className:"absolute bottom-0 left-1/3 w-28 h-24 opacity-25 animate-ping",style:{animationDuration:"8s",animationDelay:"1s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"#000000",stroke:"#dc2626",strokeWidth:"1",opacity:"0.7"})})}),o.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-20 h-17 opacity-15 animate-pulse",style:{animationDuration:"5s",animationDelay:"2s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"#dc2626",stroke:"#000000",strokeWidth:"1",opacity:"0.5"})})}),o.jsx("div",{className:"absolute top-1/2 left-10 w-22 h-19 opacity-20 animate-bounce",style:{animationDuration:"7s",animationDelay:"0.5s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"none",stroke:"#dc2626",strokeWidth:"2",opacity:"0.4"})})}),o.jsx("div",{className:"absolute top-1/3 right-1/3 w-40 h-40 bg-gradient-to-br from-red-600/20 to-black/40 rounded-full blur-3xl opacity-30 animate-pulse",style:{animationDuration:"6s"}}),o.jsx("div",{className:"absolute bottom-1/3 left-1/4 w-32 h-32 bg-gradient-to-br from-black/60 to-red-600/20 rounded-full blur-2xl opacity-20 animate-ping",style:{animationDuration:"10s"}}),o.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-transparent via-red-900/10 to-black/60 animate-pulse",style:{animationDuration:"8s"}})]}),o.jsxs("div",{className:"relative z-10",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-2xl font-bold text-white drop-shadow-lg",children:"Weekly Goals"}),o.jsxs("div",{className:"flex gap-2",children:[N.length===0&&o.jsxs(ue,{size:"sm",variant:"outline",onClick:_,disabled:m.isPending,children:[o.jsx(wc,{className:"w-4 h-4 mr-1"}),"Setup Goals"]}),o.jsxs(ml,{open:t,onOpenChange:e,children:[o.jsx(yv,{asChild:!0,children:o.jsxs(ue,{size:"sm",variant:"ghost",onClick:()=>D(),className:"text-primary hover:text-primary/80",children:[o.jsx(U3,{className:"w-4 h-4 mr-1"}),N.length>0?"Edit":"Add Goal"]})}),o.jsxs(lo,{className:"sm:max-w-[425px]",children:[o.jsxs(co,{children:[o.jsx(uo,{children:r?"Edit Goal":"Add New Goal"}),o.jsx(bv,{children:"Set your weekly fitness target to stay motivated and track progress."})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(it,{htmlFor:"goal-type",className:"text-right",children:"Type"}),o.jsxs(ba,{value:i,onValueChange:s,children:[o.jsx(Ms,{className:"col-span-3",children:o.jsx(_a,{placeholder:"Select goal type"})}),o.jsxs(Rs,{children:[o.jsx(ur,{value:"workouts",children:"Workouts"}),o.jsx(ur,{value:"minutes",children:"Active Minutes"}),o.jsx(ur,{value:"calories",children:"Calories Burned"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(it,{htmlFor:"goal-target",className:"text-right",children:"Target"}),o.jsx(Yt,{id:"goal-target",type:"number",value:a,onChange:O=>l(O.target.value),className:"col-span-3",placeholder:"e.g., 5 workouts"})]})]}),o.jsx(wv,{children:o.jsx(ue,{type:"submit",onClick:T,disabled:m.isPending||g.isPending,children:r?"Update Goal":"Create Goal"})})]})]})]})]}),N.length===0?o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx(Yi,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),o.jsx("p",{className:"text-lg font-medium mb-2",children:"No goals set yet"}),o.jsx("p",{className:"text-sm mb-4",children:"Set up your weekly fitness goals to track your progress!"})]}):o.jsx("div",{className:"space-y-4",children:N.map(O=>{const B=E(O.current,O.target);return S(O.type),o.jsxs("div",{className:"group",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm font-medium text-gray-800",children:w(O.type)}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-sm text-muted",children:[O.current,"/",O.target]}),o.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx(ue,{size:"sm",variant:"ghost",className:"p-1 h-6 w-6",onClick:()=>D(O),"data-testid":`edit-goal-${O.id}`,children:o.jsx(U3,{className:"w-3 h-3"})}),o.jsx(ue,{size:"sm",variant:"ghost",className:"p-1 h-6 w-6 text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>y.mutate(O.id),disabled:y.isPending,"data-testid":`delete-goal-${O.id}`,children:o.jsx(ul,{className:"w-3 h-3"})})]})]})]}),o.jsx(Lc,{value:B,className:"h-2"}),B>=100&&o.jsxs("div",{className:"flex items-center mt-2 text-green-600",children:[o.jsx(Yi,{className:"w-4 h-4 mr-1"}),o.jsx("span",{className:"text-xs font-medium",children:"Goal achieved!"})]})]},O.id)})}),j&&o.jsx("div",{className:"mt-6 p-4 bg-green-50 border border-green-200 rounded-xl",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Yi,{className:"text-green-500 text-lg"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-green-800",children:"Great progress!"}),o.jsx("p",{className:"text-sm text-green-600",children:"You're on track to exceed your weekly goals."})]})]})})]})]})}function Npe(){return o.jsx("div",{className:"font-inter bg-gradient-to-br from-black via-gray-900 to-black text-white min-h-screen",children:o.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-8 border-b border-red-500/30 pb-6",children:[o.jsx("div",{className:"p-3 bg-gradient-to-br from-red-600 to-red-700 rounded-lg shadow-lg shadow-red-500/30",children:o.jsx(Xr,{className:"w-8 h-8 text-white"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-white","data-testid":"progress-title",children:"Progress"}),o.jsx("p",{className:"text-gray-400",children:"Track your fitness achievements and analyze your performance"})]})]}),o.jsx("div",{className:"mb-8",children:o.jsx(lN,{})}),o.jsx("div",{className:"mb-8",children:o.jsx(wpe,{})}),o.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx(bpe,{})}),o.jsxs("div",{className:"space-y-8",children:[o.jsx(_pe,{}),o.jsxs("section",{className:"bg-gradient-to-br from-gray-900 to-black rounded-2xl shadow-2xl shadow-red-500/20 border-2 border-red-500/30 p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Kl,{className:"w-5 h-5 text-red-500"}),o.jsx("h3",{className:"text-lg font-bold text-white",children:"Progress Insights"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 bg-gradient-to-r from-red-900/40 to-black/60 border border-red-500/30 rounded-lg hover:border-red-500/50 transition-colors",children:[o.jsx("h4",{className:"font-medium text-red-400 mb-1",children:"Weekly Streak"}),o.jsx("p",{className:"text-sm text-gray-300",children:"Keep up the great work! Consistent workouts lead to better results."})]}),o.jsxs("div",{className:"p-4 bg-gradient-to-r from-red-900/30 to-black/60 border border-red-500/30 rounded-lg hover:border-red-500/50 transition-colors",children:[o.jsx("h4",{className:"font-medium text-red-400 mb-1",children:"Strength Progress"}),o.jsx("p",{className:"text-sm text-gray-300",children:"Your weight progress shows steady improvement in strength training."})]}),o.jsxs("div",{className:"p-4 bg-gradient-to-r from-red-900/40 to-black/60 border border-red-500/30 rounded-lg hover:border-red-500/50 transition-colors",children:[o.jsx("h4",{className:"font-medium text-red-400 mb-1",children:"Goal Achievement"}),o.jsx("p",{className:"text-sm text-gray-300",children:"You're making excellent progress toward your fitness goals!"})]})]})]})]})]})]})})}function Cpe(){const[t,e]=b.useState(!1),[r,n]=b.useState(!1),[i,s]=b.useState(null),[a,l]=b.useState(""),[c,d]=b.useState(),[h,f]=b.useState("before"),[m,g]=b.useState(null),[y,x]=b.useState("grid"),[N,_]=b.useState(0),[w,S]=b.useState(!1),[E,j]=b.useState(null),D=b.useRef(null),T=b.useRef(null),O=b.useRef(null),{toast:B}=xi(),P=Rn(),{data:V=[],isLoading:F}=Rt({queryKey:["/api/progress-photos"]}),{data:q=[]}=Rt({queryKey:["/api/workouts"]}),H=b.useMemo(()=>{const Y=V.filter(Me=>Me.photoType==="before"),_e=V.filter(Me=>Me.photoType==="after"),Ye=[];return Y.forEach(Me=>{let Ze=null;if(Me.workoutId&&(Ze=_e.find(Qe=>Qe.workoutId===Me.workoutId)),!Ze){const Qe=new Date(Me.createdAt);Ze=_e.filter(ft=>new Date(ft.createdAt)>Qe).sort((ft,ge)=>new Date(ft.createdAt).getTime()-new Date(ge.createdAt).getTime())[0]}if(Ze){const Qe=Math.abs(new Date(Ze.createdAt).getTime()-new Date(Me.createdAt).getTime()),ft=Math.floor(Qe/(1e3*60*60*24));Ye.push({before:Me,after:Ze,timeSpan:ft>0?`${ft} days`:"Same day"});const ge=_e.indexOf(Ze);ge>-1&&_e.splice(ge,1)}else Ye.push({before:Me,after:null})}),_e.forEach(Me=>{Ye.push({before:null,after:Me})}),Ye.filter(Me=>Me.before||Me.after)},[V]),le=Ut({mutationFn:async Y=>{await dt("POST","/api/progress-photos",Y)},onSuccess:()=>{P.invalidateQueries({queryKey:["/api/progress-photos"]}),e(!1),ee(),B({title:"Success!",description:"Progress photo saved successfully."})},onError:Y=>{B({title:"Error",description:Y.message||"Failed to save progress photo.",variant:"destructive"})}}),ae=Ut({mutationFn:async({id:Y,updates:_e})=>{await dt("PUT",`/api/progress-photos/${Y}`,_e)},onSuccess:()=>{P.invalidateQueries({queryKey:["/api/progress-photos"]}),g(null),B({title:"Success!",description:"Progress photo updated successfully."})},onError:Y=>{B({title:"Error",description:Y.message||"Failed to update progress photo.",variant:"destructive"})}}),me=Ut({mutationFn:async Y=>{await dt("DELETE",`/api/progress-photos/${Y}`)},onSuccess:()=>{P.invalidateQueries({queryKey:["/api/progress-photos"]}),B({title:"Success!",description:"Progress photo deleted successfully."})},onError:Y=>{B({title:"Error",description:Y.message||"Failed to delete progress photo.",variant:"destructive"})}});b.useCallback(async()=>{S(!0);try{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("Camera not supported on this device");const Y=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user",width:640,height:480}});D.current&&(D.current.srcObject=Y,n(!0),B({title:"Camera Ready",description:"Camera activated successfully!"}))}catch(Y){let _e="Unable to access camera.";Y.name==="NotAllowedError"||Y.name==="PermissionDeniedError"?_e="Camera access denied. Please allow camera permissions in your browser settings.":Y.name==="NotFoundError"?_e="No camera found on this device.":Y.name==="NotReadableError"?_e="Camera is already in use by another application.":Y.message&&(_e=Y.message),B({title:"Camera Error",description:_e,variant:"destructive"})}finally{S(!1)}},[B]);const R=b.useCallback(()=>{var Y;(Y=D.current)!=null&&Y.srcObject&&(D.current.srcObject.getTracks().forEach(Ye=>Ye.stop()),D.current.srcObject=null),n(!1)},[]);b.useCallback(()=>{if(D.current&&T.current){const Y=T.current,_e=D.current;Y.width=_e.videoWidth,Y.height=_e.videoHeight;const Ye=Y.getContext("2d");if(Ye){Ye.drawImage(_e,0,0);const Me=Y.toDataURL("image/jpeg",.8);s(Me),R()}}},[R]);const G=b.useCallback(Y=>{var Ye;const _e=(Ye=Y.target.files)==null?void 0:Ye[0];if(_e){const Me=new FileReader;Me.onload=Ze=>{var Qe;s((Qe=Ze.target)==null?void 0:Qe.result)},Me.readAsDataURL(_e)}},[]),ee=()=>{s(null),l(""),d(void 0),f("before"),R(),O.current&&(O.current.value="")},ie=async()=>{if(!i){B({title:"Error",description:"Please take a photo or upload an image first.",variant:"destructive"});return}if(!a.trim()){B({title:"Error",description:"Please add notes for your progress photo.",variant:"destructive"});return}try{le.mutate({notes:a,workoutId:c,photoType:h,imageUrl:i})}catch(Y){console.error("Error saving photo:",Y)}},Ee=Y=>{g(Y)},Ke=()=>{m&&ae.mutate({id:m.id,updates:{notes:m.notes,photoType:m.photoType}})},Ue=Y=>{confirm("Are you sure you want to delete this progress photo?")&&me.mutate(Y)};if(F)return o.jsx("div",{className:"container mx-auto p-6",children:o.jsx("div",{className:"flex items-center justify-center min-h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),o.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading progress photos..."})]})})});const ze=()=>o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:V.length===0?o.jsxs("div",{className:"col-span-full text-center py-12",children:[o.jsx(Hi,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No progress photos yet"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Start tracking your transformation by adding your first progress photo"}),o.jsxs(ue,{onClick:()=>e(!0),className:"bg-red-600 hover:bg-red-700","data-testid":"button-add-first-photo",children:[o.jsx(wc,{className:"mr-2 h-4 w-4"}),"Add Your First Photo"]})]}):V.map(Y=>o.jsxs(Le,{className:"overflow-hidden bg-gradient-to-br from-gray-900 to-black border border-red-600/30 shadow-xl shadow-red-500/10 cursor-pointer hover:border-red-500/50 transition-all","data-testid":`card-photo-${Y.id}`,children:[Y.imageUrl&&o.jsxs("div",{className:"aspect-square overflow-hidden relative group",onClick:()=>j(Y),children:[o.jsx("img",{src:Y.imageUrl,alt:Y.notes||"Progress photo",className:"w-full h-full object-cover transition-transform group-hover:scale-105","data-testid":`img-photo-${Y.id}`}),o.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsx(Cu,{className:"w-8 h-8 text-white"})})]}),o.jsx(kt,{className:"pb-2",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsx("div",{className:"flex-1",children:o.jsx(Xe,{variant:Y.photoType==="before"?"secondary":"default",className:Y.photoType==="before"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800","data-testid":`badge-type-${Y.id}`,children:Y.photoType==="before"?"Before":"After"})}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>Ee(Y),"data-testid":`button-edit-${Y.id}`,children:o.jsx(Zw,{className:"h-4 w-4"})}),o.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>Ue(Y.id),className:"text-red-600 hover:text-red-700","data-testid":`button-delete-${Y.id}`,children:o.jsx(ul,{className:"h-4 w-4"})})]})]})}),o.jsx(Ve,{className:"pt-0",children:(m==null?void 0:m.id)===Y.id?o.jsxs("div",{className:"space-y-3",children:[o.jsx(il,{value:m.notes||"",onChange:_e=>g({...m,notes:_e.target.value}),className:"text-sm","data-testid":`input-edit-notes-${Y.id}`}),o.jsxs(ba,{value:m.photoType,onValueChange:_e=>g({...m,photoType:_e}),children:[o.jsx(Ms,{className:"text-sm","data-testid":`select-edit-type-${Y.id}`,children:o.jsx(_a,{})}),o.jsxs(Rs,{children:[o.jsx(ur,{value:"before",children:"Before"}),o.jsx(ur,{value:"after",children:"After"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(ue,{size:"sm",onClick:Ke,disabled:ae.isPending,className:"flex-1 bg-green-600 hover:bg-green-700","data-testid":`button-save-edit-${Y.id}`,children:[o.jsx(qn,{className:"mr-1 h-3 w-3"}),"Save"]}),o.jsxs(ue,{size:"sm",variant:"outline",onClick:()=>g(null),className:"flex-1","data-testid":`button-cancel-edit-${Y.id}`,children:[o.jsx(Pi,{className:"mr-1 h-3 w-3"}),"Cancel"]})]})]}):o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-200 mb-2","data-testid":`text-notes-${Y.id}`,children:Y.notes}),Y.workout&&o.jsxs("p",{className:"text-xs text-gray-400 mb-1","data-testid":`text-workout-${Y.id}`,children:["Linked to: ",Y.workout.name]}),o.jsxs("div",{className:"flex items-center text-xs text-gray-400",children:[o.jsx(ei,{className:"mr-1 h-3 w-3 text-red-500"}),o.jsx("span",{"data-testid":`text-date-${Y.id}`,children:Tn(new Date(Y.createdAt),"MMM d, yyyy")})]})]})})]},Y.id))}),De=()=>{var Y,_e;return o.jsx("div",{className:"space-y-6",children:H.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Cu,{className:"mx-auto h-12 w-12 text-red-500/60 mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No photos to compare"}),o.jsx("p",{className:"text-gray-300 mb-4",children:'Add both "before" and "after" photos to start comparing your progress'}),o.jsxs(ue,{onClick:()=>e(!0),className:"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white shadow-lg shadow-red-500/25","data-testid":"button-add-comparison-photo",children:[o.jsx(wc,{className:"mr-2 h-4 w-4"}),"Add Photos for Comparison"]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(ue,{variant:"outline",size:"sm",onClick:()=>_(Math.max(0,N-1)),disabled:N===0,className:"border-red-600/30 text-gray-300 hover:bg-red-600/20 hover:text-white disabled:opacity-50 disabled:hover:bg-transparent","data-testid":"button-prev-comparison",children:[o.jsx(N_,{className:"mr-2 h-4 w-4"}),"Previous"]}),o.jsxs("span",{className:"text-sm text-gray-300","data-testid":"text-comparison-counter",children:[N+1," of ",H.length]}),o.jsxs(ue,{variant:"outline",size:"sm",onClick:()=>_(Math.min(H.length-1,N+1)),disabled:N===H.length-1,className:"border-red-600/30 text-gray-300 hover:bg-red-600/20 hover:text-white disabled:opacity-50 disabled:hover:bg-transparent","data-testid":"button-next-comparison",children:["Next",o.jsx(av,{className:"ml-2 h-4 w-4"})]})]}),o.jsxs(ue,{variant:"outline",size:"sm",onClick:()=>_(0),className:"border-red-600/30 text-gray-300 hover:bg-red-600/20 hover:text-white","data-testid":"button-reset-comparison",children:[o.jsx(Kw,{className:"mr-2 h-4 w-4"}),"Start Over"]})]}),H[N]&&o.jsxs(Le,{className:"p-6 bg-gradient-to-br from-gray-900 to-black border border-red-600/30 shadow-xl shadow-red-500/10","data-testid":`card-comparison-${N}`,children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex items-center justify-center",children:o.jsx(Xe,{className:"bg-blue-100 text-blue-800 text-lg px-4 py-2","data-testid":"badge-before-comparison",children:"Before"})}),H[N].before?o.jsxs("div",{className:"space-y-3",children:[((Y=H[N].before)==null?void 0:Y.imageUrl)&&o.jsx("div",{className:"aspect-square overflow-hidden rounded-lg border-2 border-blue-200",children:o.jsx("img",{src:H[N].before.imageUrl,alt:H[N].before.notes||"Before photo",className:"w-full h-full object-cover","data-testid":"img-before-comparison"})}),o.jsxs("div",{className:"text-center space-y-2",children:[o.jsx("p",{className:"text-sm text-gray-200","data-testid":"text-before-notes",children:H[N].before.notes}),o.jsx("p",{className:"text-xs text-gray-400","data-testid":"text-before-date",children:Tn(new Date(H[N].before.createdAt),"MMM d, yyyy")})]})]}):o.jsx("div",{className:"aspect-square border-2 border-dashed border-red-600/30 rounded-lg flex items-center justify-center bg-black/20",children:o.jsxs("div",{className:"text-center text-gray-400",children:[o.jsx(Hi,{className:"mx-auto h-12 w-12 mb-2 text-red-500/50"}),o.jsx("p",{className:"text-sm",children:'No "before" photo'})]})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex items-center justify-center",children:o.jsx(Xe,{className:"bg-green-100 text-green-800 text-lg px-4 py-2","data-testid":"badge-after-comparison",children:"After"})}),H[N].after?o.jsxs("div",{className:"space-y-3",children:[((_e=H[N].after)==null?void 0:_e.imageUrl)&&o.jsx("div",{className:"aspect-square overflow-hidden rounded-lg border-2 border-green-200",children:o.jsx("img",{src:H[N].after.imageUrl,alt:H[N].after.notes||"After photo",className:"w-full h-full object-cover","data-testid":"img-after-comparison"})}),o.jsxs("div",{className:"text-center space-y-2",children:[o.jsx("p",{className:"text-sm text-gray-200","data-testid":"text-after-notes",children:H[N].after.notes}),o.jsx("p",{className:"text-xs text-gray-400","data-testid":"text-after-date",children:Tn(new Date(H[N].after.createdAt),"MMM d, yyyy")})]})]}):o.jsx("div",{className:"aspect-square border-2 border-dashed border-red-600/30 rounded-lg flex items-center justify-center bg-black/20",children:o.jsxs("div",{className:"text-center text-gray-400",children:[o.jsx(Hi,{className:"mx-auto h-12 w-12 mb-2 text-red-500/50"}),o.jsx("p",{className:"text-sm",children:'No "after" photo'})]})})]})]}),H[N].timeSpan&&o.jsx("div",{className:"mt-6 text-center",children:o.jsxs(Xe,{variant:"outline",className:"text-sm px-4 py-2","data-testid":"badge-timespan",children:["Time Difference: ",H[N].timeSpan]})})]})]})})};return o.jsx(Rd,{feature:"progress_photos",children:o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-950 relative overflow-hidden","data-testid":"progress-photos-page",children:[o.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0",children:[o.jsx("div",{className:"absolute top-20 left-10 w-32 h-28 opacity-20 animate-pulse",style:{animationDuration:"6s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"#dc2626",stroke:"#dc2626",strokeWidth:"2",opacity:"0.3"})})}),o.jsx("div",{className:"absolute top-40 right-16 w-24 h-21 opacity-15 animate-bounce",style:{animationDuration:"8s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"none",stroke:"#dc2626",strokeWidth:"1",opacity:"0.4"})})}),o.jsx("div",{className:"absolute top-96 left-1/4 w-28 h-24 opacity-25 animate-ping",style:{animationDuration:"10s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"#000000",stroke:"#dc2626",strokeWidth:"2",opacity:"0.6"})})}),o.jsx("div",{className:"absolute bottom-80 right-1/3 w-20 h-17 opacity-30 animate-bounce",style:{animationDuration:"7s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"#dc2626",stroke:"#000000",strokeWidth:"1",opacity:"0.5"})})}),o.jsx("div",{className:"absolute bottom-40 left-20 w-36 h-31 opacity-20 animate-pulse",style:{animationDuration:"9s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"none",stroke:"#dc2626",strokeWidth:"2",opacity:"0.3"})})}),o.jsx("div",{className:"absolute top-1/3 right-1/4 w-26 h-22 opacity-15 animate-ping",style:{animationDuration:"12s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"#000000",stroke:"#dc2626",strokeWidth:"1",opacity:"0.4"})})}),o.jsx("div",{className:"absolute top-10 left-10 text-red-500/20 text-6xl",children:""}),o.jsx("div",{className:"absolute bottom-10 right-10 text-red-500/20 text-6xl",children:""}),o.jsx("div",{className:"absolute top-1/2 left-20 text-red-500/15 text-5xl",children:""}),o.jsx("div",{className:"absolute bottom-1/4 right-20 text-red-500/15 text-5xl",children:""})]}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-500/5 to-transparent animate-pulse"}),o.jsxs("div",{className:"relative z-10 container mx-auto px-6 py-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-12",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-4xl font-bold bg-gradient-to-r from-red-500 to-red-300 bg-clip-text text-transparent mb-4 flex items-center",children:[o.jsx(Hi,{className:"mr-3 text-red-500",size:40}),"Progress Photos"]}),o.jsx("p",{className:"text-gray-300 text-lg",children:"Track your transformation journey with before and after photos"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(_O,{children:[o.jsx(NO,{asChild:!0,children:o.jsxs(ue,{variant:"outline",className:"bg-black/60 border-red-600/30 text-gray-300 hover:bg-red-600/20 hover:text-white backdrop-blur-sm","data-testid":"button-view-mode",children:[y==="grid"?o.jsxs(o.Fragment,{children:[o.jsx(L3,{className:"mr-2 h-4 w-4"}),"Grid"]}):o.jsxs(o.Fragment,{children:[o.jsx(Cu,{className:"mr-2 h-4 w-4"}),"Compare"]}),o.jsx(Yd,{className:"ml-2 h-4 w-4"})]})}),o.jsxs(oN,{className:"bg-black/95 border-red-600/30 backdrop-blur-sm",children:[o.jsxs(Gg,{onClick:()=>x("grid"),className:`${y==="grid"?"bg-red-600/20 text-white":"text-gray-300 hover:bg-red-600/20 hover:text-white"} cursor-pointer`,"data-testid":"menu-item-grid",children:[o.jsx(L3,{className:"mr-2 h-4 w-4"}),"Grid View"]}),o.jsxs(Gg,{onClick:()=>x("comparison"),className:`${y==="comparison"?"bg-red-600/20 text-white":"text-gray-300 hover:bg-red-600/20 hover:text-white"} cursor-pointer`,"data-testid":"menu-item-compare",children:[o.jsx(Cu,{className:"mr-2 h-4 w-4"}),"Compare"]})]})]}),o.jsxs(ml,{open:t,onOpenChange:e,children:[o.jsx(yv,{asChild:!0,children:o.jsxs(ue,{className:"bg-red-600 hover:bg-red-700 text-white","data-testid":"button-add-photo",children:[o.jsx(wc,{className:"mr-2 h-4 w-4"}),"Add Photo"]})}),o.jsxs(lo,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsxs(co,{children:[o.jsx(uo,{children:"Add Progress Photo"}),o.jsx(bv,{children:"Capture or upload a photo to track your fitness progress"})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx(it,{children:"Photo Capture"}),!i&&o.jsxs(ue,{type:"button",onClick:Y=>{var _e;Y.preventDefault(),(_e=O.current)==null||_e.click()},variant:"outline",className:"w-full","data-testid":"button-upload-photo",children:[o.jsx(Hi,{className:"mr-2 h-4 w-4"}),"Take/Upload Photo"]}),o.jsx("input",{ref:O,type:"file",accept:"image/*",capture:"environment",onChange:G,className:"hidden"}),i&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"relative",children:o.jsx("img",{src:i,alt:"Captured progress photo",className:"w-full rounded-lg",style:{maxHeight:"400px",objectFit:"cover"},"data-testid":"img-captured-photo"})}),o.jsxs(ue,{type:"button",onClick:()=>s(null),variant:"outline",className:"w-full","data-testid":"button-retake-photo",children:[o.jsx(Pi,{className:"mr-2 h-4 w-4"}),"Retake Photo"]})]}),o.jsx("canvas",{ref:T,className:"hidden"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(it,{htmlFor:"photo-notes",children:"Notes"}),o.jsx(il,{id:"photo-notes",placeholder:"Add notes about your progress, goals, or what this photo represents...",value:a,onChange:Y=>l(Y.target.value),className:"mt-1","data-testid":"input-photo-notes"})]}),o.jsxs("div",{children:[o.jsx(it,{htmlFor:"photo-type",children:"Photo Type"}),o.jsxs(ba,{value:h,onValueChange:Y=>f(Y),children:[o.jsx(Ms,{className:"mt-1","data-testid":"select-photo-type",children:o.jsx(_a,{})}),o.jsxs(Rs,{children:[o.jsx(ur,{value:"before",children:"Before"}),o.jsx(ur,{value:"after",children:"After"})]})]})]}),o.jsxs("div",{children:[o.jsx(it,{htmlFor:"workout-selection",children:"Link to Workout (Optional)"}),o.jsxs(ba,{value:c,onValueChange:d,children:[o.jsx(Ms,{className:"mt-1","data-testid":"select-workout",children:o.jsx(_a,{placeholder:"Choose a workout to link..."})}),o.jsx(Rs,{children:q.map(Y=>o.jsxs(ur,{value:Y.id,children:[Y.name," - ",Tn(new Date(Y.date),"MMM d, yyyy")]},Y.id))})]})]})]})]}),o.jsxs(wv,{children:[o.jsx(ue,{type:"button",onClick:()=>e(!1),variant:"outline","data-testid":"button-cancel-photo",children:"Cancel"}),o.jsx(ue,{type:"button",onClick:ie,disabled:le.isPending,className:"bg-red-600 hover:bg-red-700","data-testid":"button-save-photo",children:le.isPending?"Saving...":"Save Photo"})]})]})]})]})]}),y==="grid"?ze():De()]}),o.jsx(ml,{open:!!E,onOpenChange:Y=>!Y&&j(null),children:o.jsx(lo,{className:"max-w-4xl max-h-[90vh] overflow-y-auto bg-black/95 border-red-600/30",children:E&&o.jsxs(o.Fragment,{children:[o.jsx(co,{children:o.jsxs(uo,{className:"flex items-center gap-2 text-white",children:[o.jsx(Xe,{variant:E.photoType==="before"?"secondary":"default",className:E.photoType==="before"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800",children:E.photoType==="before"?"Before":"After"}),Tn(new Date(E.createdAt),"MMMM d, yyyy")]})}),o.jsxs("div",{className:"space-y-4",children:[E.imageUrl&&o.jsx("div",{className:"w-full rounded-lg overflow-hidden border border-red-600/30",children:o.jsx("img",{src:E.imageUrl,alt:E.notes||"Progress photo",className:"w-full h-auto object-contain max-h-[60vh]"})}),o.jsxs("div",{className:"space-y-2 text-gray-300",children:[o.jsxs("div",{children:[o.jsx(it,{className:"text-gray-400",children:"Notes"}),o.jsx("p",{className:"text-white mt-1",children:E.notes||"No notes"})]}),E.workout&&o.jsxs("div",{children:[o.jsx(it,{className:"text-gray-400",children:"Linked Workout"}),o.jsx("p",{className:"text-white mt-1",children:E.workout.name})]})]}),o.jsxs("div",{className:"flex gap-2 pt-4",children:[o.jsxs(ue,{variant:"outline",onClick:()=>{Ee(E),j(null)},className:"flex-1",children:[o.jsx(Zw,{className:"mr-2 h-4 w-4"}),"Edit"]}),o.jsxs(ue,{variant:"outline",onClick:()=>{Ue(E.id),j(null)},className:"flex-1 text-red-500 hover:text-red-600 hover:bg-red-600/10",children:[o.jsx(ul,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})})})]})})}function Spe(){const[t,e]=b.useState(new Date),[r,n]=b.useState(null),[i,s]=b.useState(null),[a,l]=b.useState(!1),[c,d]=b.useState(""),h=Rn(),{data:f}=Rt({queryKey:["/api/workouts/range",Tn(h4(t),"yyyy-MM-dd"),Tn(ab(t),"yyyy-MM-dd")]}),{data:m}=Rt({queryKey:["/api/calendar-notes"]}),g=h4(t),y=ab(t),x=xX({start:g,end:y}),N=yQ(g),_=Array.from({length:42},(F,q)=>{const H=q-N;return H<0||H>=x.length?null:x[H]}),w=F=>f?f.filter(q=>wf(new Date(q.date),F)):[],S=F=>{const q=Array.from(new Set(F.map(le=>le.category))),H={strength:"bg-primary",cardio:"bg-secondary",yoga:"bg-accent",swimming:"bg-blue-500"};return q.map(le=>H[le]||"bg-gray-500")},E=F=>{e(q=>F==="prev"?NQ(q,1):kO(q,1))},j=F=>m?m.filter(q=>wf(new Date(q.date),F)):[],D=Ut({mutationFn:async F=>dt("POST","/api/calendar-notes",F),onSuccess:()=>{h.invalidateQueries({queryKey:["/api/calendar-notes"]}),l(!1),d(""),n(null)}}),T=Ut({mutationFn:async({id:F,note:q})=>dt("PUT",`/api/calendar-notes/${F}`,{note:q}),onSuccess:()=>{h.invalidateQueries({queryKey:["/api/calendar-notes"]}),s(null),l(!1),d("")}}),O=Ut({mutationFn:async F=>dt("DELETE",`/api/calendar-notes/${F}`),onSuccess:()=>{h.invalidateQueries({queryKey:["/api/calendar-notes"]})}}),B=F=>{n(F);const q=j(F);q.length>0?(s(q[0]),d(q[0].note)):(s(null),d("")),l(!0)},P=()=>{!r||!c.trim()||(i?T.mutate({id:i.id,note:c}):D.mutate({date:Tn(r,"yyyy-MM-dd"),note:c}))},V=()=>{i&&(O.mutate(i.id),l(!1),s(null),d(""))};return o.jsxs("section",{className:"relative bg-gradient-to-br from-black via-red-900/30 to-black rounded-3xl shadow-2xl border border-red-600/50 p-8 overflow-hidden hexagon-bg hexagon-pattern",children:[o.jsxs("div",{className:"absolute inset-0",children:[o.jsx("div",{className:"absolute top-0 left-0 w-32 h-28 opacity-30 animate-pulse",style:{animationDuration:"4s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"#dc2626",stroke:"#dc2626",strokeWidth:"2",opacity:"0.6"})})}),o.jsx("div",{className:"absolute top-1/4 right-0 w-24 h-21 opacity-20 animate-bounce",style:{animationDuration:"6s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"none",stroke:"#dc2626",strokeWidth:"2",opacity:"0.8"})})}),o.jsx("div",{className:"absolute bottom-0 left-1/3 w-28 h-24 opacity-25 animate-ping",style:{animationDuration:"8s",animationDelay:"1s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"#000000",stroke:"#dc2626",strokeWidth:"1",opacity:"0.7"})})}),o.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-20 h-17 opacity-15 animate-pulse",style:{animationDuration:"5s",animationDelay:"2s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"#dc2626",stroke:"#000000",strokeWidth:"1",opacity:"0.5"})})}),o.jsx("div",{className:"absolute top-1/2 left-10 w-22 h-19 opacity-20 animate-bounce",style:{animationDuration:"7s",animationDelay:"0.5s"},children:o.jsx("svg",{viewBox:"0 0 120 104",className:"w-full h-full",children:o.jsx("polygon",{points:"30,2 90,2 120,52 90,102 30,102 0,52",fill:"none",stroke:"#dc2626",strokeWidth:"2",opacity:"0.4"})})}),o.jsx("div",{className:"absolute top-1/3 right-1/3 w-40 h-40 bg-gradient-to-br from-red-600/20 to-black/40 rounded-full blur-3xl opacity-30 animate-pulse",style:{animationDuration:"6s"}}),o.jsx("div",{className:"absolute bottom-1/3 left-1/4 w-32 h-32 bg-gradient-to-br from-black/60 to-red-600/20 rounded-full blur-2xl opacity-20 animate-ping",style:{animationDuration:"10s"}}),o.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-transparent via-red-900/10 to-black/60 animate-pulse",style:{animationDuration:"8s"}})]}),o.jsxs("div",{className:"relative z-10",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-2xl font-bold text-white drop-shadow-lg",children:"Workout Calendar"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>E("prev"),className:"text-gray-300 hover:text-cyan-300 transition-colors",children:o.jsx(rI,{})}),o.jsx("span",{className:"font-medium text-white drop-shadow-lg",children:Tn(t,"MMMM yyyy")}),o.jsx("button",{onClick:()=>E("next"),className:"text-gray-300 hover:text-cyan-300 transition-colors",children:o.jsx(Yp,{})})]})]}),o.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(F=>o.jsx("div",{className:"text-center text-xs font-medium text-muted py-2",children:F},F))}),o.jsx("div",{className:"grid grid-cols-7 gap-1",children:_.map((F,q)=>{if(!F)return o.jsx("div",{className:"aspect-square"},q);const H=w(F),le=S(H),ae=j(F),me=wf(F,new Date),R=ae.length>0;return o.jsxs("div",{onClick:()=>B(F),className:`aspect-square flex flex-col items-center justify-center text-sm border border-gray-100 rounded-lg hover:bg-gray-50 transition-colors cursor-pointer relative ${me?"border-primary bg-primary bg-opacity-10":""}`,"data-testid":`calendar-day-${Tn(F,"yyyy-MM-dd")}`,children:[o.jsx("span",{className:`${me?"text-red-400 font-bold":H.length>0?"text-white font-medium":"text-white"}`,children:Tn(F,"d")}),le.length>0&&o.jsx("div",{className:"absolute bottom-1 left-1 flex space-x-1",children:le.slice(0,3).map((G,ee)=>o.jsx("div",{className:`w-1 h-1 ${G} rounded-full`},ee))}),R&&o.jsx("div",{className:"absolute top-1 right-1",children:o.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full",title:"Has note"})})]},F.toISOString())})}),o.jsxs("div",{className:"mt-4 flex items-center justify-center space-x-4 text-xs",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),o.jsx("span",{className:"text-muted",children:"Strength"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-2 h-2 bg-secondary rounded-full"}),o.jsx("span",{className:"text-muted",children:"Cardio"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-2 h-2 bg-accent rounded-full"}),o.jsx("span",{className:"text-muted",children:"Yoga"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),o.jsx("span",{className:"text-muted",children:"Notes"})]})]}),o.jsx(ml,{open:a,onOpenChange:l,children:o.jsxs(lo,{className:"sm:max-w-md",children:[o.jsx(co,{children:o.jsxs(uo,{className:"flex items-center gap-2",children:[o.jsx(Zw,{className:"w-5 h-5"}),r?`Note for ${Tn(r,"MMMM d, yyyy")}`:"Calendar Note"]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(il,{placeholder:"Add a note for this day...",value:c,onChange:F=>d(F.target.value),className:"min-h-[100px]","data-testid":"note-textarea"}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("div",{children:i&&o.jsxs(ue,{variant:"destructive",size:"sm",onClick:V,"data-testid":"delete-note-button",children:[o.jsx(Pi,{className:"w-4 h-4 mr-1"}),"Delete"]})}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ue,{variant:"outline",size:"sm",onClick:()=>l(!1),"data-testid":"cancel-note-button",children:"Cancel"}),o.jsxs(ue,{size:"sm",onClick:P,disabled:!c.trim()||D.isPending||T.isPending,"data-testid":"save-note-button",children:[o.jsx(qn,{className:"w-4 h-4 mr-1"}),i?"Update":"Save"]})]})]})]})]})})]})]})}function Epe(){const{data:t}=Rt({queryKey:["/api/workouts"]}),e=new Date,r=(t==null?void 0:t.filter(a=>{const l=new Date(a.date);return l.getMonth()===e.getMonth()&&l.getFullYear()===e.getFullYear()}))||[],n=r.length,i=r.reduce((a,l)=>a+l.duration,0),s=r.reduce((a,l)=>a+l.caloriesBurned,0);return o.jsx("div",{className:"font-inter bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-200 min-h-screen",children:o.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ei,{className:"w-8 h-8 text-primary"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white","data-testid":"calendar-title",children:"Workout Calendar"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"View your workout schedule and track your consistency"})]})]}),o.jsxs(ue,{onClick:()=>{window.location.href="/workouts"},className:"flex items-center gap-2","data-testid":"schedule-workout-button",children:[o.jsx(wc,{className:"w-4 h-4"}),"Schedule Workout"]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-6",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:o.jsx(Xr,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"This Month"}),o.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white","data-testid":"monthly-workouts",children:[n," Workouts"]})]})]})}),o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-6",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-secondary/10 rounded-full flex items-center justify-center",children:o.jsx(Vc,{className:"w-5 h-5 text-secondary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Duration"}),o.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white","data-testid":"monthly-duration",children:[Math.round(i/60*10)/10,"h"]})]})]})}),o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-6",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-accent/10 rounded-full flex items-center justify-center",children:o.jsx(ei,{className:"w-5 h-5 text-accent"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Calories Burned"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white","data-testid":"monthly-calories",children:s.toLocaleString()})]})]})})]}),o.jsxs("div",{className:"grid lg:grid-cols-4 gap-8",children:[o.jsx("div",{className:"lg:col-span-3",children:o.jsx(Spe,{})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("section",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-6",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white mb-4",children:"Workout Types"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-3 h-3 bg-primary rounded-full"}),o.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Strength Training"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-3 h-3 bg-secondary rounded-full"}),o.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Cardio"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-3 h-3 bg-accent rounded-full"}),o.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Yoga"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),o.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Swimming"})]})]})]}),o.jsxs("section",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-6",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white mb-4",children:"Calendar Tips"}),o.jsxs("div",{className:"space-y-3 text-sm text-gray-600 dark:text-gray-400",children:[o.jsx("p",{children:" Click on any day to see your workout details"}),o.jsx("p",{children:" Aim for 3-4 workouts per week for best results"}),o.jsx("p",{children:" Colored dots indicate different workout types"}),o.jsx("p",{children:" Plan ahead by scheduling future workouts"})]})]})]})]})]})})}function Ape(){return o.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:o.jsx(Le,{className:"w-full max-w-md mx-4",children:o.jsxs(Ve,{className:"pt-6",children:[o.jsxs("div",{className:"flex mb-4 gap-2",children:[o.jsx(q0,{className:"h-8 w-8 text-red-500"}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),o.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const ML=Z_,RL=K_,kpe=Y_,FL=b.forwardRef(({className:t,...e},r)=>o.jsx(Jp,{className:be("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));FL.displayName=Jp.displayName;const jpe=Kd("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),QN=b.forwardRef(({side:t="right",className:e,children:r,...n},i)=>o.jsxs(kpe,{children:[o.jsx(FL,{}),o.jsxs(em,{ref:i,className:be(jpe({side:t}),e),...n,children:[r,o.jsxs(xv,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[o.jsx(Pi,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));QN.displayName=em.displayName;const LL=({className:t,...e})=>o.jsx("div",{className:be("flex flex-col space-y-2 text-center sm:text-left",t),...e});LL.displayName="SheetHeader";const BL=b.forwardRef(({className:t,...e},r)=>o.jsx(tm,{ref:r,className:be("text-lg font-semibold text-foreground",t),...e}));BL.displayName=tm.displayName;const Ppe=b.forwardRef(({className:t,...e},r)=>o.jsx(rm,{ref:r,className:be("text-sm text-muted-foreground",t),...e}));Ppe.displayName=rm.displayName;function Tpe(){const[t]=qs(),{signOut:e}=ns(),[r,n]=b.useState(!1),i=[{path:"/",label:"Home",icon:ov},{path:"/workouts",label:"Workouts",icon:hr},{path:"/progress",label:"Progress",icon:Xr},{path:"/community",label:"Community",icon:Xd},{path:"/subscription",label:"Premium",icon:eo},{path:"/meal-plans",label:"Meal Plans",icon:Fg},{path:"/workout-planner",label:"Workout Planner",icon:ti},{path:"/meal-tracker",label:"Barcode Scanner",icon:__},{path:"/mile-tracker",label:"Mile Tracker",icon:yc},{path:"/progress-photos",label:"Progress Photos",icon:Hi},{path:"/settings",label:"Settings",icon:yf}],s=a=>a==="/"?t==="/"||t==="/home":t.startsWith(a);return o.jsx("nav",{className:"bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 sticky top-0 z-50",children:o.jsxs("div",{className:"px-4 sm:px-6",children:[o.jsxs("div",{className:"flex justify-between items-center h-14",children:[o.jsxs(wn,{href:"/",className:"flex items-center space-x-2",children:[o.jsx(mt,{className:"text-primary",size:28}),o.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"FlexFlow"})]}),o.jsx("div",{className:"hidden md:block",children:o.jsxs(ue,{variant:"ghost",size:"sm",onClick:e,className:"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:[o.jsx(B3,{size:18,className:"mr-2"}),"Sign Out"]})}),o.jsx("div",{className:"md:hidden",children:o.jsxs(ML,{open:r,onOpenChange:n,children:[o.jsx(RL,{asChild:!0,children:o.jsx(ue,{variant:"ghost",size:"sm",className:"p-2",children:o.jsx(YH,{size:24})})}),o.jsx(QN,{side:"right",className:"w-64",children:o.jsx("div",{className:"flex flex-col space-y-4 mt-8",children:o.jsxs(ue,{variant:"outline",className:"w-full justify-start text-red-600 border-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",onClick:()=>{n(!1),e()},children:[o.jsx(B3,{size:18,className:"mr-2"}),"Sign Out"]})})})]})})]}),o.jsx("div",{className:"hidden lg:block border-t border-gray-200 dark:border-gray-800",children:o.jsx("div",{className:"flex items-center space-x-1 overflow-x-auto py-2",children:i.map((a,l)=>{const c=a.icon,d=s(a.path);return o.jsx(wn,{href:a.path,"data-testid":`desktop-nav-${a.label.toLowerCase().replace(/\s+/g,"-")}`,children:o.jsxs("button",{className:`flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-300 whitespace-nowrap desktop-slide-from-left ${d?"bg-primary text-white shadow-sm scale-105":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:scale-105"}`,style:{animationDelay:`${l*.03}s`},children:[o.jsx(c,{size:16,"aria-hidden":"true"}),o.jsx("span",{children:a.label})]})},a.path)})})})]})})}function Ipe(){const[t]=qs(),[e,r]=b.useState(!1),{signOut:n}=ns(),i=[{path:"/",label:"Home",icon:ov},{path:"/workouts",label:"Workouts",icon:hr},{path:"/progress",label:"Progress",icon:Xr},{path:"/community",label:"Community",icon:Xd}],s=[{path:"/subscription",label:"Premium",icon:eo},{path:"/news",label:"What's New",icon:Z0},{path:"/meal-plans",label:"Meal Plans",icon:Fg},{path:"/workout-planner",label:"Workout Planner",icon:ti},{path:"/meal-tracker",label:"Barcode Scanner",icon:__},{path:"/mile-tracker",label:"Mile Tracker",icon:yc},{path:"/progress-photos",label:"Progress Photos",icon:Hi},{path:"/settings",label:"Settings",icon:yf}],a=c=>c==="/"?t==="/"||t==="/home":t.startsWith(c),l=s.some(c=>a(c.path));return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800 z-50 safe-area-inset-bottom mobile-slide-up",children:o.jsxs("nav",{className:"grid grid-cols-5 h-16","aria-label":"Main navigation",children:[i.map(c=>{const d=c.icon,h=a(c.path);return o.jsxs(wn,{href:c.path,className:"flex flex-col items-center justify-center space-y-1 active:mobile-pop","data-testid":`bottom-nav-${c.label.toLowerCase()}`,"aria-label":`Navigate to ${c.label}`,"aria-current":h?"page":void 0,children:[o.jsx(d,{size:22,className:`transition-all duration-300 ${h?"text-primary mobile-pulse":"text-gray-500 dark:text-gray-400"}`,strokeWidth:h?2.5:2,"aria-hidden":"true"}),o.jsx("span",{className:`text-xs font-medium transition-colors ${h?"text-primary":"text-gray-500 dark:text-gray-400"}`,children:c.label})]},c.path)}),o.jsxs(ML,{open:e,onOpenChange:r,children:[o.jsx(RL,{asChild:!0,children:o.jsxs("button",{className:"flex flex-col items-center justify-center space-y-1","data-testid":"bottom-nav-more","aria-label":"Open more options menu",children:[o.jsx(HH,{size:22,className:`transition-colors ${l?"text-primary":"text-gray-500 dark:text-gray-400"}`,strokeWidth:l?2.5:2,"aria-hidden":"true"}),o.jsx("span",{className:`text-xs font-medium ${l?"text-primary":"text-gray-500 dark:text-gray-400"}`,children:"More"})]})}),o.jsxs(QN,{side:"bottom",className:"h-[80vh] rounded-t-3xl z-[80]",children:[o.jsx(LL,{className:"mb-6",children:o.jsx(BL,{className:"text-center text-xl",children:"More Options"})}),o.jsx("div",{className:"grid grid-cols-3 gap-4 px-2",children:s.map(c=>{const d=c.icon,h=a(c.path);return o.jsx(wn,{href:c.path,onClick:()=>r(!1),"data-testid":`more-menu-${c.label.toLowerCase().replace(/\s+/g,"-")}`,"aria-label":`Navigate to ${c.label}`,children:o.jsxs("div",{className:`flex flex-col items-center justify-center p-4 rounded-2xl transition-all ${h?"bg-primary/10 text-primary":"bg-gray-50 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[o.jsx(d,{size:28,className:"mb-2","aria-hidden":"true"}),o.jsx("span",{className:"text-xs font-medium text-center leading-tight",children:c.label})]})},c.path)})}),o.jsx("div",{className:"mt-8 px-4",children:o.jsx(ue,{variant:"outline",className:"w-full justify-center text-red-600 border-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",onClick:()=>{r(!1),n()},"data-testid":"more-menu-signout","aria-label":"Sign out of your account",children:"Sign Out"})})]})]})]})}),o.jsx("div",{className:"lg:hidden h-16"})]})}const Vh=[{id:"fitnessGoal",question:"What is your fitness goal?",type:"choice",options:["Lose weight and burn fat","Build muscle and gain strength","Improve endurance and cardio","General health and wellness","Athletic performance enhancement"]},{id:"experience",question:"How much strength training experience do you have?",type:"choice",options:["Complete beginner - never lifted weights","Some experience - less than 6 months","Moderate experience - 6 months to 2 years","Experienced - 2+ years of consistent training","Advanced - 5+ years with extensive knowledge"]},{id:"age",question:"What is your age?",type:"input",inputType:"number",placeholder:"Enter your age (e.g., 25)",min:13,max:100},{id:"height",question:"What is your height?",type:"height",description:"This helps us calculate your personalized calorie needs"},{id:"weight",question:"What is your current weight?",type:"weight",description:"Used for accurate calorie and workout recommendations"},{id:"goalWeight",question:"What is your goal weight?",type:"input",inputType:"number",placeholder:"Enter your target weight",min:50,max:500},{id:"workoutFrequency",question:"How often would you like to workout per week?",type:"choice",options:["2-3 times per week - I'm just starting","3-4 times per week - I want steady progress","4-5 times per week - I'm committed to fitness","5-6 times per week - Fitness is a priority","6-7 times per week - I love daily activity"]},{id:"workoutDuration",question:"How long would you like each workout to be?",type:"choice",options:["15-30 minutes - Quick and efficient","30-45 minutes - Moderate workout time","45-60 minutes - Standard gym session","60-75 minutes - Extended training","75+ minutes - Marathon sessions"]},{id:"consistency",question:"How consistent are you with working out currently?",type:"choice",options:["Just getting started - no routine yet","1-2 times per week when I can","3-4 times per week regularly","5-6 times per week consistently","Daily workouts are part of my lifestyle"]},{id:"location",question:"Where do you normally workout?",type:"choice",options:["At home with no equipment","At home with basic equipment","Local gym or fitness center","Outdoor spaces (parks, trails, etc.)","Multiple locations depending on the day"]}];function Dpe(){var m;const[,t]=qs(),[e,r]=b.useState(0),[n,i]=b.useState({fitnessGoal:"",experience:"",consistency:"",location:"",age:"",heightFeet:"",heightInches:"",weight:"",weightUnit:"lbs",goalWeight:"",workoutFrequency:"",workoutDuration:""}),s=Vh[e],a=(e+1)/Vh.length*100,l=g=>{i(y=>({...y,[s.id]:g}))},c=(g,y)=>{i(x=>({...x,[g]:y}))},d=()=>{if(e<Vh.length-1)r(g=>g+1);else{const g=new URLSearchParams;Object.entries(n).forEach(([y,x])=>{g.append(y,x)}),t(`/onboarding/plan?${g.toString()}`)}},h=()=>{e>0&&r(g=>g-1)},f=()=>{const g=s.id;return s.type==="choice"||s.type==="input"?n[g]!=="":s.type==="height"?n.heightFeet!==""&&n.heightInches!=="":s.type==="weight"?n.weight!==""&&n.weightUnit!=="":!1};return o.jsxs("div",{className:"relative min-h-screen bg-gradient-to-br from-primary/5 via-white to-secondary/5 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 overflow-hidden",children:[o.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0",children:[o.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-gradient-to-br from-purple-400 to-blue-500 rounded-full blur-3xl opacity-20 animate-pulse"}),o.jsx("div",{className:"absolute top-40 right-16 w-56 h-56 bg-gradient-to-br from-cyan-400 to-emerald-500 rounded-full blur-2xl opacity-25 animate-bounce",style:{animationDuration:"4s"}}),o.jsx("div",{className:"absolute bottom-20 left-1/4 w-64 h-64 bg-gradient-to-br from-pink-400 to-purple-500 rounded-full blur-3xl opacity-15 animate-ping",style:{animationDuration:"6s"}})]}),o.jsx("header",{className:"relative z-10 px-4 lg:px-6 h-14 flex items-center border-b bg-white/80 dark:bg-gray-800/80 backdrop-blur",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(mt,{className:"text-primary",size:32}),o.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"FlexFlow"})]})}),o.jsxs("div",{className:"relative z-10 container mx-auto px-4 py-16 max-w-2xl",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Let's Create Your Personal Plan"}),o.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Answer a few quick questions to get a customized fitness plan"})]}),o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex justify-between text-sm text-gray-600 dark:text-gray-400 mb-2",children:[o.jsxs("span",{children:["Question ",e+1," of ",Vh.length]}),o.jsxs("span",{children:[Math.round(a),"% Complete"]})]}),o.jsx(Lc,{value:a,className:"h-2"})]}),o.jsxs(Le,{className:"mb-8 bg-white/80 dark:bg-gray-800/80 backdrop-blur border-0 shadow-xl",children:[o.jsxs(kt,{children:[o.jsx(Ot,{className:"text-2xl text-center",children:s.question}),o.jsx(qr,{className:"text-center",children:s.type==="choice"?"Select the option that best describes you":s.description||"Please provide your information below"})]}),o.jsxs(Ve,{className:"space-y-3",children:[s.type==="choice"&&((m=s.options)==null?void 0:m.map((g,y)=>o.jsx(ue,{variant:n[s.id]===g?"default":"outline",className:"w-full h-auto p-4 text-left justify-start hover:scale-105 transition-all",onClick:()=>l(g),"data-testid":`option-${y}`,children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex-shrink-0 ${n[s.id]===g?"bg-primary border-primary":"border-gray-300"}`,children:n[s.id]===g&&o.jsx("div",{className:"w-2 h-2 bg-white rounded-full mx-auto mt-0.5"})}),o.jsx("span",{className:"text-wrap",children:g})]})},y))),s.type==="input"&&o.jsxs("div",{className:"space-y-4",children:[o.jsx(it,{htmlFor:s.id,className:"text-lg font-medium",children:s.placeholder}),o.jsx(Yt,{id:s.id,type:s.inputType,placeholder:s.placeholder,value:n[s.id],onChange:g=>c(s.id,g.target.value),min:s.min,max:s.max,className:"text-lg p-4 h-14","data-testid":`input-${s.id}`})]}),s.type==="height"&&o.jsxs("div",{className:"space-y-4",children:[o.jsx(it,{className:"text-lg font-medium",children:"Height"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(it,{htmlFor:"heightFeet",children:"Feet"}),o.jsx(Yt,{id:"heightFeet",type:"number",placeholder:"5",value:n.heightFeet,onChange:g=>c("heightFeet",g.target.value),min:"3",max:"8",className:"text-lg p-4 h-14","data-testid":"input-height-feet"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(it,{htmlFor:"heightInches",children:"Inches"}),o.jsx(Yt,{id:"heightInches",type:"number",placeholder:"10",value:n.heightInches,onChange:g=>c("heightInches",g.target.value),min:"0",max:"11",className:"text-lg p-4 h-14","data-testid":"input-height-inches"})]})]})]}),s.type==="weight"&&o.jsxs("div",{className:"space-y-4",children:[o.jsx(it,{className:"text-lg font-medium",children:"Current Weight"}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx("div",{className:"flex-1",children:o.jsx(Yt,{type:"number",placeholder:"Enter weight",value:n.weight,onChange:g=>c("weight",g.target.value),min:"50",max:"500",className:"text-lg p-4 h-14","data-testid":"input-weight"})}),o.jsx("div",{className:"w-24",children:o.jsxs(ba,{value:n.weightUnit,onValueChange:g=>c("weightUnit",g),children:[o.jsx(Ms,{className:"h-14 text-lg","data-testid":"select-weight-unit",children:o.jsx(_a,{})}),o.jsxs(Rs,{children:[o.jsx(ur,{value:"lbs",children:"lbs"}),o.jsx(ur,{value:"kg",children:"kg"})]})]})})]})]})]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsxs(ue,{variant:"outline",onClick:h,disabled:e===0,className:"flex items-center space-x-2","data-testid":"previous-button",children:[o.jsx(N_,{size:16}),o.jsx("span",{children:"Previous"})]}),o.jsxs(ue,{onClick:d,disabled:!f(),className:"flex items-center space-x-2","data-testid":"next-button",children:[o.jsx("span",{children:e===Vh.length-1?"Create My Plan":"Next"}),o.jsx(av,{size:16})]})]})]})]})}const Ope=t=>{const e=parseInt(t.age)||25,r=parseInt(t.heightFeet)||5,n=parseInt(t.heightInches)||8,i=parseFloat(t.weight)||160,s=t.weightUnit||"lbs",a=t.fitnessGoal||"",l=t.workoutFrequency||"",c=(r*12+n)*2.54,h=10*(s==="lbs"?i*.453592:i)+6.25*c-5*e+5;let f=1.2;l.includes("2-3 times")?f=1.375:l.includes("3-4 times")?f=1.55:l.includes("4-5 times")?f=1.725:(l.includes("5-6 times")||l.includes("6-7 times"))&&(f=1.9);const m=h*f;let g=m,y="";return a.includes("weight")||a.includes("fat")?(g=m-500,y="calorie deficit for healthy weight loss (1-2 lbs per week)"):a.includes("muscle")||a.includes("strength")?(g=m+300,y="calorie surplus for muscle building and strength gains"):a.includes("endurance")||a.includes("performance")?(g=m,y="maintenance calories to fuel your endurance training"):(g=m,y="maintenance calories for overall health and wellness"),{bmr:Math.round(h),tdee:Math.round(m),goal:Math.round(g),recommendation:y}},Mpe=t=>{const e=t.fitnessGoal||"",r=t.experience||"",n=t.consistency||"",i=t.location||"",s=t.workoutFrequency||"",a=t.workoutDuration||"",l=Ope(t);let c="beginner",d=2,h="20-30 minutes";s.includes("2-3 times")?d=3:s.includes("3-4 times")?d=4:s.includes("4-5 times")?d=5:s.includes("5-6 times")?d=6:s.includes("6-7 times")&&(d=7),a.includes("15-30 minutes")?h="15-30 minutes":a.includes("30-45 minutes")?h="30-45 minutes":a.includes("45-60 minutes")?h="45-60 minutes":a.includes("60-75 minutes")?h="60-75 minutes":a.includes("75+ minutes")&&(h="75+ minutes"),r.includes("Advanced")||r.includes("5+ years")?(c="advanced",d=6,h="60-75 minutes"):r.includes("Experienced")||r.includes("2+ years")?(c="intermediate",d=5,h="45-60 minutes"):r.includes("Moderate")||r.includes("6 months to 2 years")?(c="intermediate",d=4,h="40-50 minutes"):r.includes("Some experience")&&(c="beginner",d=3,h="25-35 minutes"),n.includes("Daily workouts")?(d=Math.max(d,6),h="45-60 minutes"):n.includes("5-6 times")?d=Math.max(d,5):n.includes("3-4 times")?d=Math.max(d,4):n.includes("1-2 times")?(d=Math.min(d,3),h="30-40 minutes"):n.includes("Just getting started")&&(d=2,h="20-30 minutes");let f=[];i.includes("no equipment")?f=["Bodyweight exercises","Resistance bands","Yoga mat","Water bottles as weights"]:i.includes("basic equipment")?f=["Adjustable dumbbells","Resistance bands","Yoga mat","Pull-up bar","Kettlebell"]:i.includes("gym")||i.includes("fitness center")?f=["Full gym access","Barbells & dumbbells","Cable machines","Cardio equipment","Free weights"]:i.includes("Outdoor")?f=["Bodyweight exercises","Running/walking paths","Park benches & equipment","Resistance bands"]:i.includes("Multiple locations")&&(f=["Adaptive equipment","Portable gear","Bodyweight routines","Gym & home options"]);let m=[],g="",y="";return e.includes("weight")||e.includes("fat")?(g="Fat Loss & Weight Management Plan",y="Designed to help you burn fat, lose weight, and improve your body composition through targeted cardio and strength training.",m=["HIIT cardio workouts for maximum calorie burn","Strength training to preserve muscle mass","Nutrition guidance for calorie deficit","Progress tracking with body measurements","Metabolic conditioning circuits","Recovery and rest day planning"]):e.includes("muscle")||e.includes("strength")?(g="Muscle Building & Strength Plan",y="Focus on building lean muscle mass and increasing strength through progressive resistance training and optimal nutrition.",m=["Progressive overload strength training","Compound movement focus (squats, deadlifts, bench)","Muscle-building nutrition protocols","Detailed workout logs and PR tracking","Hypertrophy-focused rep ranges","Strategic rest and recovery periods"]):e.includes("endurance")||e.includes("cardio")?(g="Endurance & Cardiovascular Plan",y="Build cardiovascular fitness, improve endurance, and enhance your aerobic capacity through structured cardio training.",m=["Progressive cardio training zones","Long-distance and interval training","Heart rate monitoring guidance","Endurance nutrition strategies","Running, cycling, and swimming workouts","VO2 max improvement protocols"]):e.includes("Athletic")||e.includes("performance")?(g="Athletic Performance Enhancement Plan",y="Elite-level training designed to improve athletic performance, power, speed, and sport-specific skills.",m=["Sport-specific movement patterns","Power and explosiveness training","Agility and speed development","Performance analytics and testing","Competition preparation protocols","Advanced recovery techniques"]):(e.includes("health")||e.includes("wellness"))&&(g="General Health & Wellness Plan",y="A balanced approach to fitness focusing on overall health, mobility, and sustainable lifestyle habits.",m=["Balanced strength and cardio training","Mobility and flexibility routines","Stress management through exercise","Sustainable healthy habits","Functional movement patterns","Holistic wellness approach"]),{title:g,description:y,workoutsPerWeek:d,sessionDuration:h,equipment:f,features:m,planType:c,calories:l}};function Rpe(){const[,t]=qs(),[e,r]=b.useState(null),[n,i]=b.useState(!0);b.useEffect(()=>{const a=new URLSearchParams(window.location.search),l={fitnessGoal:a.get("fitnessGoal")||"",experience:a.get("experience")||"",consistency:a.get("consistency")||"",location:a.get("location")||"",age:a.get("age")||"",heightFeet:a.get("heightFeet")||"",heightInches:a.get("heightInches")||"",weight:a.get("weight")||"",weightUnit:a.get("weightUnit")||"lbs",goalWeight:a.get("goalWeight")||"",workoutFrequency:a.get("workoutFrequency")||"",workoutDuration:a.get("workoutDuration")||""};setTimeout(()=>{const c=Mpe(l);r(c),i(!1)},1500)},[]);const s=()=>{if(e){const a={plan:e,onboardingAnswers:{fitnessGoal:new URLSearchParams(window.location.search).get("fitnessGoal")||"",experience:new URLSearchParams(window.location.search).get("experience")||"",consistency:new URLSearchParams(window.location.search).get("consistency")||"",location:new URLSearchParams(window.location.search).get("location")||"",age:new URLSearchParams(window.location.search).get("age")||"",heightFeet:new URLSearchParams(window.location.search).get("heightFeet")||"",heightInches:new URLSearchParams(window.location.search).get("heightInches")||"",weight:new URLSearchParams(window.location.search).get("weight")||"",weightUnit:new URLSearchParams(window.location.search).get("weightUnit")||"lbs",goalWeight:new URLSearchParams(window.location.search).get("goalWeight")||"",workoutFrequency:new URLSearchParams(window.location.search).get("workoutFrequency")||"",workoutDuration:new URLSearchParams(window.location.search).get("workoutDuration")||""}};localStorage.setItem("pendingPersonalPlan",JSON.stringify(a))}t("/auth-selection?from=onboarding")};return n?o.jsxs("div",{className:"relative min-h-screen bg-gradient-to-br from-primary/5 via-white to-secondary/5 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 overflow-hidden",children:[o.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0",children:[o.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-gradient-to-br from-purple-400 to-blue-500 rounded-full blur-3xl opacity-20 animate-pulse"}),o.jsx("div",{className:"absolute top-40 right-16 w-56 h-56 bg-gradient-to-br from-cyan-400 to-emerald-500 rounded-full blur-2xl opacity-25 animate-bounce",style:{animationDuration:"4s"}})]}),o.jsx("header",{className:"relative z-10 px-4 lg:px-6 h-14 flex items-center border-b bg-white/80 dark:bg-gray-800/80 backdrop-blur",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(mt,{className:"text-primary",size:32}),o.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"FlexFlow"})]})}),o.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-[80vh]",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Creating Your Personal Plan"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Analyzing your answers to build the perfect fitness routine..."})]})})]}):e?o.jsxs("div",{className:"relative min-h-screen bg-gradient-to-br from-primary/5 via-white to-secondary/5 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 overflow-hidden",children:[o.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0",children:[o.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-gradient-to-br from-purple-400 to-blue-500 rounded-full blur-3xl opacity-20 animate-pulse"}),o.jsx("div",{className:"absolute top-40 right-16 w-56 h-56 bg-gradient-to-br from-cyan-400 to-emerald-500 rounded-full blur-2xl opacity-25 animate-bounce",style:{animationDuration:"4s"}}),o.jsx("div",{className:"absolute bottom-20 left-1/4 w-64 h-64 bg-gradient-to-br from-pink-400 to-purple-500 rounded-full blur-3xl opacity-15 animate-ping",style:{animationDuration:"6s"}})]}),o.jsx("header",{className:"relative z-10 px-4 lg:px-6 h-14 flex items-center border-b bg-white/80 dark:bg-gray-800/80 backdrop-blur",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(mt,{className:"text-primary",size:32}),o.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"FlexFlow"})]})}),o.jsxs("div",{className:"relative z-10 container mx-auto px-4 py-16 max-w-4xl",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"flex items-center justify-center mb-4",children:o.jsx(pa,{className:"text-green-500 w-16 h-16"})}),o.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Your Personal Plan is Ready!"}),o.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Based on your answers, we've created a customized fitness plan just for you."})]}),o.jsxs(Le,{className:"mb-8 bg-white/80 dark:bg-gray-800/80 backdrop-blur border-0 shadow-xl",children:[o.jsxs(kt,{className:"text-center pb-4",children:[o.jsx("div",{className:"flex items-center justify-center mb-3",children:o.jsxs(Xe,{variant:e.planType==="advanced"?"default":e.planType==="intermediate"?"secondary":"outline",className:"text-sm px-4 py-1",children:[e.planType.charAt(0).toUpperCase()+e.planType.slice(1)," Level"]})}),o.jsx(Ot,{className:"text-2xl mb-2",children:e.title}),o.jsx(qr,{className:"text-lg",children:e.description})]}),o.jsxs(Ve,{children:[o.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[o.jsxs("div",{className:"text-center p-4 bg-primary/10 rounded-lg",children:[o.jsx(ti,{className:"text-primary w-8 h-8 mx-auto mb-2"}),o.jsx("div",{className:"text-2xl font-bold text-primary",children:e.workoutsPerWeek}),o.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Workouts per week"})]}),o.jsxs("div",{className:"text-center p-4 bg-secondary/10 rounded-lg",children:[o.jsx(Vc,{className:"text-secondary w-8 h-8 mx-auto mb-2"}),o.jsx("div",{className:"text-lg font-bold text-secondary",children:e.sessionDuration}),o.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Per session"})]}),o.jsxs("div",{className:"text-center p-4 bg-accent/10 rounded-lg",children:[o.jsx(yc,{className:"text-accent w-8 h-8 mx-auto mb-2"}),o.jsx("div",{className:"text-lg font-bold text-accent",children:"Flexible"}),o.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Location options"})]})]}),e.calories&&o.jsxs("div",{className:"mb-8 p-6 bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 rounded-lg border border-green-200 dark:border-green-700",children:[o.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[o.jsx(dl,{className:"w-5 h-5 mr-2 text-green-600"}),"Your Personalized Calorie Plan"]}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.calories.bmr}),o.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"BMR (Base Metabolic Rate)"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.calories.tdee}),o.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"TDEE (Total Daily Energy)"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-purple-600",children:e.calories.goal}),o.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Goal Calories"})]})]}),o.jsx("div",{className:"text-center",children:o.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["We recommend consuming ",o.jsxs("strong",{children:[e.calories.goal," calories per day"]})," - a ",e.calories.recommendation]})})]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center",children:[o.jsx(eo,{className:"w-5 h-5 mr-2 text-primary"}),"Recommended Equipment"]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:e.equipment.map((a,l)=>o.jsx(Xe,{variant:"outline",className:"px-3 py-1",children:a},l))})]}),o.jsxs("div",{className:"mb-8",children:[o.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[o.jsx(pa,{className:"w-5 h-5 mr-2 text-green-500"}),"What's Included"]}),o.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:e.features.map((a,l)=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(pa,{className:"w-4 h-4 text-green-500 flex-shrink-0"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:a})]},l))})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs(ue,{size:"lg",className:"text-lg px-8 py-4 mb-4",onClick:s,"data-testid":"create-account-button",children:["Create Your Account",o.jsx(av,{className:"ml-2",size:20})]}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Get started with your personalized fitness plan"})]})]})]})]})]}):null}function Fpe(){return o.jsxs("div",{className:"relative min-h-screen bg-gradient-to-br from-primary/5 via-white to-secondary/5 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 overflow-hidden",children:[o.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0",children:[o.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-gradient-to-br from-purple-400 to-blue-500 rounded-full blur-3xl opacity-20 animate-pulse"}),o.jsx("div",{className:"absolute top-40 right-16 w-56 h-56 bg-gradient-to-br from-cyan-400 to-emerald-500 rounded-full blur-2xl opacity-25 animate-bounce",style:{animationDuration:"4s"}}),o.jsx("div",{className:"absolute bottom-20 left-1/4 w-64 h-64 bg-gradient-to-br from-pink-400 to-purple-500 rounded-full blur-3xl opacity-15 animate-ping",style:{animationDuration:"6s"}}),o.jsx("div",{className:"absolute top-60 left-1/2 w-48 h-48 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full blur-2xl opacity-20 animate-pulse",style:{animationDuration:"3s"}}),o.jsx("div",{className:"absolute bottom-80 right-1/3 w-40 h-40 bg-gradient-to-br from-indigo-400 to-blue-500 rounded-full blur-3xl opacity-30 animate-bounce",style:{animationDuration:"5s"}})]}),o.jsx("header",{className:"relative z-10 px-4 lg:px-6 h-14 flex items-center border-b bg-white/80 dark:bg-gray-800/80 backdrop-blur",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(mt,{className:"text-primary",size:32}),o.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"FlexFlow"})]})}),o.jsxs("div",{className:"relative z-10 container mx-auto px-4 py-16 max-w-2xl",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"flex items-center justify-center mb-6",children:o.jsxs("div",{className:"relative",children:[o.jsx(pa,{className:"text-green-500 w-24 h-24 animate-pulse"}),o.jsx("div",{className:"absolute inset-0 rounded-full bg-green-500/20 animate-ping"})]})}),o.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-4",children:" Welcome to FlexFlow!"}),o.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300",children:"Your 7-day free trial has started successfully!"})]}),o.jsxs(Le,{className:"mb-8 bg-white/80 dark:bg-gray-800/80 backdrop-blur border-0 shadow-xl",children:[o.jsxs(kt,{className:"text-center",children:[o.jsx(Ot,{className:"text-2xl text-green-700 dark:text-green-400",children:"Trial Activated"}),o.jsx(qr,{children:"You now have full access to all FlexFlow premium features"})]}),o.jsxs(Ve,{children:[o.jsxs("div",{className:"space-y-4 mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[o.jsx(pa,{className:"w-6 h-6 text-green-500 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold text-green-800 dark:text-green-300",children:"Full Premium Access"}),o.jsx("div",{className:"text-sm text-green-600 dark:text-green-400",children:"Unlimited workouts, meal plans, and trainer consultations"})]})]}),o.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[o.jsx(pa,{className:"w-6 h-6 text-blue-500 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold text-blue-800 dark:text-blue-300",children:"7 Days Free"}),o.jsx("div",{className:"text-sm text-blue-600 dark:text-blue-400",children:"No charges until your trial expires"})]})]}),o.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[o.jsx(pa,{className:"w-6 h-6 text-purple-500 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold text-purple-800 dark:text-purple-300",children:"Cancel Anytime"}),o.jsx("div",{className:"text-sm text-purple-600 dark:text-purple-400",children:"No commitment - cancel before trial ends if not satisfied"})]})]})]}),o.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg mb-6",children:[o.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:"What's Next?"}),o.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Create your account to access your personalized home and start your fitness journey"})]}),o.jsx(wn,{href:"/auth",children:o.jsxs(ue,{className:"w-full",size:"lg",children:["Create Your Account ",o.jsx(av,{className:"ml-2 w-4 h-4"})]})})]})]}),o.jsx("div",{className:"text-center text-sm text-gray-500 dark:text-gray-400",children:o.jsx("p",{children:"Need help? Contact our support team anytime during your trial."})})]})]})}function Lpe({children:t}){const{user:e,isLoading:r}=ns(),[n,i]=b.useState(!1);return b.useEffect(()=>{if(!r&&e){const s=e,a=!s.firstName||!s.lastName;i(a)}else!r&&!e&&i(!1)},[e,r]),r?o.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-50 dark:bg-black",children:o.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full","aria-label":"Loading"})}):n?o.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-black flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl p-8 max-w-md w-full",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-red-600 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("span",{className:"text-2xl text-white",children:""})}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Welcome to FlexFlow!"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Let's complete your profile to personalize your fitness journey."})]}),o.jsx(_v,{isOpen:!0,setIsOpen:s=>{s||setTimeout(()=>{window.location.reload()},500)}})]})}):o.jsx(o.Fragment,{children:t})}const he=Symbol.for("drizzle:entityKind");function Mr(t,e){if(!t||typeof t!="object")return!1;if(t instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,he))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let r=Object.getPrototypeOf(t).constructor;if(r)for(;r;){if(he in r&&r[he]===e[he])return!0;r=Object.getPrototypeOf(r)}return!1}var ek;ek=he;class Vd{constructor(e,r){M(this,"name");M(this,"keyAsName");M(this,"primary");M(this,"notNull");M(this,"default");M(this,"defaultFn");M(this,"onUpdateFn");M(this,"hasDefault");M(this,"isUnique");M(this,"uniqueName");M(this,"uniqueType");M(this,"dataType");M(this,"columnType");M(this,"enumValues");M(this,"generated");M(this,"generatedIdentity");M(this,"config");this.table=e,this.config=r,this.name=r.name,this.keyAsName=r.keyAsName,this.notNull=r.notNull,this.default=r.default,this.defaultFn=r.defaultFn,this.onUpdateFn=r.onUpdateFn,this.hasDefault=r.hasDefault,this.primary=r.primaryKey,this.isUnique=r.isUnique,this.uniqueName=r.uniqueName,this.uniqueType=r.uniqueType,this.dataType=r.dataType,this.columnType=r.columnType,this.generated=r.generated,this.generatedIdentity=r.generatedIdentity}mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}M(Vd,ek,"Column");var tk;tk=he;class UL{constructor(e,r,n){M(this,"config");M(this,"$default",this.$defaultFn);M(this,"$onUpdate",this.$onUpdateFn);this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:r,columnType:n,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}M(UL,tk,"ColumnBuilder");const Wu=Symbol.for("drizzle:Name");var rk;rk=he;class zL{constructor(e,r){M(this,"reference");M(this,"_onUpdate","no action");M(this,"_onDelete","no action");this.reference=()=>{const{name:n,columns:i,foreignColumns:s}=e();return{name:n,columns:i,foreignTable:s[0].table,foreignColumns:s}},r&&(this._onUpdate=r.onUpdate,this._onDelete=r.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new $L(e,this)}}M(zL,rk,"PgForeignKeyBuilder");var nk;nk=he;class $L{constructor(e,r){M(this,"reference");M(this,"onUpdate");M(this,"onDelete");this.table=e,this.reference=r.reference,this.onUpdate=r._onUpdate,this.onDelete=r._onDelete}getName(){const{name:e,columns:r,foreignColumns:n}=this.reference(),i=r.map(l=>l.name),s=n.map(l=>l.name),a=[this.table[Wu],...i,n[0].table[Wu],...s];return e??`${a.join("_")}_fk`}}M($L,nk,"PgForeignKey");function Bpe(t,...e){return t(...e)}function Upe(t,e){return`${t[Wu]}_${e.join("_")}_unique`}function MA(t,e,r){for(let n=e;n<t.length;n++){const i=t[n];if(i==="\\"){n++;continue}if(i==='"')return[t.slice(e,n).replace(/\\/g,""),n+1];if(!r&&(i===","||i==="}"))return[t.slice(e,n).replace(/\\/g,""),n]}return[t.slice(e).replace(/\\/g,""),t.length]}function VL(t,e=0){const r=[];let n=e,i=!1;for(;n<t.length;){const s=t[n];if(s===","){(i||n===e)&&r.push(""),i=!0,n++;continue}if(i=!1,s==="\\"){n+=2;continue}if(s==='"'){const[c,d]=MA(t,n+1,!0);r.push(c),n=d;continue}if(s==="}")return[r,n+1];if(s==="{"){const[c,d]=VL(t,n+1);r.push(c),n=d;continue}const[a,l]=MA(t,n,!1);r.push(a),n=l}return[r,n]}function zpe(t){const[e]=VL(t,1);return e}function WL(t){return`{${t.map(e=>Array.isArray(e)?WL(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}var ik,sk;class Tt extends(sk=UL,ik=he,sk){constructor(){super(...arguments);M(this,"foreignKeyConfigs",[])}array(r){return new GL(this.config.name,this,r)}references(r,n={}){return this.foreignKeyConfigs.push({ref:r,actions:n}),this}unique(r,n){return this.config.isUnique=!0,this.config.uniqueName=r,this.config.uniqueType=n==null?void 0:n.nulls,this}generatedAlwaysAs(r){return this.config.generated={as:r,type:"always",mode:"stored"},this}buildForeignKeys(r,n){return this.foreignKeyConfigs.map(({ref:i,actions:s})=>Bpe((a,l)=>{const c=new zL(()=>{const d=a();return{columns:[r],foreignColumns:[d]}});return l.onUpdate&&c.onUpdate(l.onUpdate),l.onDelete&&c.onDelete(l.onDelete),c.build(n)},i,s))}buildExtraConfigColumn(r){return new HL(r,this.config)}}M(Tt,ik,"PgColumnBuilder");var ak,ok;class ct extends(ok=Vd,ak=he,ok){constructor(e,r){r.uniqueName||(r.uniqueName=Upe(e,[r.name])),super(e,r),this.table=e}}M(ct,ak,"PgColumn");var lk,ck;class HL extends(ck=ct,lk=he,ck){constructor(){super(...arguments);M(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});M(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(r){return this.indexConfig.opClass=r,this}}M(HL,lk,"ExtraConfigColumn");var uk;uk=he;class cg{constructor(e,r,n,i){M(this,"name");M(this,"keyAsName");M(this,"type");M(this,"indexConfig");this.name=e,this.keyAsName=r,this.type=n,this.indexConfig=i}}M(cg,uk,"IndexedColumn");var dk,hk;class GL extends(hk=Tt,dk=he,hk){constructor(e,r,n){super(e,"array","PgArray"),this.config.baseBuilder=r,this.config.size=n}build(e){const r=this.config.baseBuilder.build(e);return new m2(e,this.config,r)}}M(GL,dk,"PgArrayBuilder");var fk,pk;const L1=class L1 extends(pk=ct,fk=he,pk){constructor(r,n,i,s){super(r,n);M(this,"size");this.baseColumn=i,this.range=s,this.size=n.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(r){return typeof r=="string"&&(r=zpe(r)),r.map(n=>this.baseColumn.mapFromDriverValue(n))}mapToDriverValue(r,n=!1){const i=r.map(s=>s===null?null:Mr(this.baseColumn,L1)?this.baseColumn.mapToDriverValue(s,!0):this.baseColumn.mapToDriverValue(s));return n?i:WL(i)}};M(L1,fk,"PgArray");let m2=L1;const RA=Symbol.for("drizzle:isPgEnum");function $pe(t){return!!t&&typeof t=="function"&&RA in t&&t[RA]===!0}var mk;mk=he;class JN{constructor(e,r,n,i=!1){this._={brand:"Subquery",sql:e,selectedFields:r,alias:n,isWith:i}}}M(JN,mk,"Subquery");const Vpe={startActiveSpan(t,e){return e()}},Hu=Symbol.for("drizzle:ViewBaseConfig"),Iy=Symbol.for("drizzle:Schema"),FA=Symbol.for("drizzle:Columns"),LA=Symbol.for("drizzle:ExtraConfigColumns"),Dy=Symbol.for("drizzle:OriginalName"),Oy=Symbol.for("drizzle:BaseName"),b1=Symbol.for("drizzle:IsAlias"),BA=Symbol.for("drizzle:ExtraConfigBuilder"),qL=Symbol.for("drizzle:IsDrizzleTable");var gk,vk,xk,yk,wk,bk,_k,Nk,Ck,Sk;Sk=he,Ck=Wu,Nk=Dy,_k=Iy,bk=FA,wk=LA,yk=Oy,xk=b1,vk=qL,gk=BA;class Xn{constructor(e,r,n){M(this,Ck);M(this,Nk);M(this,_k);M(this,bk);M(this,wk);M(this,yk);M(this,xk,!1);M(this,vk,!0);M(this,gk);this[Wu]=this[Dy]=e,this[Iy]=r,this[Oy]=n}}M(Xn,Sk,"Table"),M(Xn,"Symbol",{Name:Wu,Schema:Iy,OriginalName:Dy,Columns:FA,ExtraConfigColumns:LA,BaseName:Oy,IsAlias:b1,ExtraConfigBuilder:BA});function ZL(t){return typeof t=="object"&&t!==null&&qL in t}function Wpe(t){return t!=null&&typeof t.getSQL=="function"}function Hpe(t){var r;const e={sql:"",params:[]};for(const n of t)e.sql+=n.sql,e.params.push(...n.params),(r=n.typings)!=null&&r.length&&(e.typings||(e.typings=[]),e.typings.push(...n.typings));return e}var Ek;Ek=he;class $i{constructor(e){M(this,"value");this.value=Array.isArray(e)?e:[e]}getSQL(){return new Cr([this])}}M($i,Ek,"StringChunk");var Ak;Ak=he;const Hl=class Hl{constructor(e){M(this,"decoder",KL);M(this,"shouldInlineParams",!1);this.queryChunks=e}append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return Vpe.startActiveSpan("drizzle.buildSQL",r=>{const n=this.buildQueryFromSourceParams(this.queryChunks,e);return r==null||r.setAttributes({"drizzle.query.text":n.sql,"drizzle.query.params":JSON.stringify(n.params)}),n})}buildQueryFromSourceParams(e,r){const n=Object.assign({},r,{inlineParams:r.inlineParams||this.shouldInlineParams,paramStartIndex:r.paramStartIndex||{value:0}}),{casing:i,escapeName:s,escapeParam:a,prepareTyping:l,inlineParams:c,paramStartIndex:d}=n;return Hpe(e.map(h=>{var f;if(Mr(h,$i))return{sql:h.value.join(""),params:[]};if(Mr(h,_1))return{sql:s(h.value),params:[]};if(h===void 0)return{sql:"",params:[]};if(Array.isArray(h)){const m=[new $i("(")];for(const[g,y]of h.entries())m.push(y),g<h.length-1&&m.push(new $i(", "));return m.push(new $i(")")),this.buildQueryFromSourceParams(m,n)}if(Mr(h,Hl))return this.buildQueryFromSourceParams(h.queryChunks,{...n,inlineParams:c||h.shouldInlineParams});if(Mr(h,Xn)){const m=h[Xn.Symbol.Schema],g=h[Xn.Symbol.Name];return{sql:m===void 0||h[b1]?s(g):s(m)+"."+s(g),params:[]}}if(Mr(h,Vd)){const m=i.getColumnCasing(h);if(r.invokeSource==="indexes")return{sql:s(m),params:[]};const g=h.table[Xn.Symbol.Schema];return{sql:h.table[b1]||g===void 0?s(h.table[Xn.Symbol.Name])+"."+s(m):s(g)+"."+s(h.table[Xn.Symbol.Name])+"."+s(m),params:[]}}if(Mr(h,QL)){const m=h[Hu].schema,g=h[Hu].name;return{sql:m===void 0||h[Hu].isAlias?s(g):s(m)+"."+s(g),params:[]}}if(Mr(h,eC)){if(Mr(h.value,N1))return{sql:a(d.value++,h),params:[h],typings:["none"]};const m=h.value===null?null:h.encoder.mapToDriverValue(h.value);if(Mr(m,Hl))return this.buildQueryFromSourceParams([m],n);if(c)return{sql:this.mapInlineParam(m,n),params:[]};let g=["none"];return l&&(g=[l(h.encoder)]),{sql:a(d.value++,m),params:[m],typings:g}}return Mr(h,N1)?{sql:a(d.value++,h),params:[h],typings:["none"]}:Mr(h,Hl.Aliased)&&h.fieldAlias!==void 0?{sql:s(h.fieldAlias),params:[]}:Mr(h,JN)?h._.isWith?{sql:s(h._.alias),params:[]}:this.buildQueryFromSourceParams([new $i("("),h._.sql,new $i(") "),new _1(h._.alias)],n):$pe(h)?h.schema?{sql:s(h.schema)+"."+s(h.enumName),params:[]}:{sql:s(h.enumName),params:[]}:Wpe(h)?(f=h.shouldOmitSQLParens)!=null&&f.call(h)?this.buildQueryFromSourceParams([h.getSQL()],n):this.buildQueryFromSourceParams([new $i("("),h.getSQL(),new $i(")")],n):c?{sql:this.mapInlineParam(h,n),params:[]}:{sql:a(d.value++,h),params:[h],typings:["none"]}}))}mapInlineParam(e,{escapeString:r}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return r(e);if(typeof e=="object"){const n=e.toString();return r(n==="[object Object]"?JSON.stringify(e):n)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new Hl.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}};M(Hl,Ak,"SQL");let Cr=Hl;var kk;kk=he;class _1{constructor(e){M(this,"brand");this.value=e}getSQL(){return new Cr([this])}}M(_1,kk,"Name");const KL={mapFromDriverValue:t=>t},YL={mapToDriverValue:t=>t};({...KL,...YL});var jk;jk=he;class eC{constructor(e,r=YL){M(this,"brand");this.value=e,this.encoder=r}getSQL(){return new Cr([this])}}M(eC,jk,"Param");function ot(t,...e){const r=[];(e.length>0||t.length>0&&t[0]!=="")&&r.push(new $i(t[0]));for(const[n,i]of e.entries())r.push(i,new $i(t[n+1]));return new Cr(r)}(t=>{function e(){return new Cr([])}t.empty=e;function r(c){return new Cr(c)}t.fromList=r;function n(c){return new Cr([new $i(c)])}t.raw=n;function i(c,d){const h=[];for(const[f,m]of c.entries())f>0&&d!==void 0&&h.push(d),h.push(m);return new Cr(h)}t.join=i;function s(c){return new _1(c)}t.identifier=s;function a(c){return new N1(c)}t.placeholder=a;function l(c,d){return new eC(c,d)}t.param=l})(ot||(ot={}));(t=>{var r;r=he;const n=class n{constructor(s,a){M(this,"isSelectionField",!1);this.sql=s,this.fieldAlias=a}getSQL(){return this.sql}clone(){return new n(this.sql,this.fieldAlias)}};M(n,r,"SQL.Aliased");let e=n;t.Aliased=e})(Cr||(Cr={}));var Pk;Pk=he;class N1{constructor(e){this.name=e}getSQL(){return new Cr([this])}}M(N1,Pk,"Placeholder");const XL=Symbol.for("drizzle:IsDrizzleView");var Tk,Ik,Dk;Dk=he,Ik=Hu,Tk=XL;class QL{constructor({name:e,schema:r,selectedFields:n,query:i}){M(this,Ik);M(this,Tk,!0);this[Hu]={name:e,originalName:e,schema:r,selectedFields:n,query:i,isExisting:!i,isAlias:!1}}getSQL(){return new Cr([this])}}M(QL,Dk,"View");function Gpe(t){return typeof t=="object"&&t!==null&&XL in t}Vd.prototype.getSQL=function(){return new Cr([this])};Xn.prototype.getSQL=function(){return new Cr([this])};JN.prototype.getSQL=function(){return new Cr([this])};function qpe(t){return t[Xn.Symbol.Columns]}function Zpe(t){return t[Hu].selectedFields}function fn(t,e){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:e}}var Ok,Mk;class ym extends(Mk=Tt,Ok=he,Mk){generatedAlwaysAsIdentity(e){if(e){const{name:r,...n}=e;this.config.generatedIdentity={type:"always",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){const{name:r,...n}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}M(ym,Ok,"PgIntColumnBaseBuilder");var Rk,Fk;class JL extends(Fk=ym,Rk=he,Fk){constructor(e){super(e,"number","PgBigInt53")}build(e){return new e9(e,this.config)}}M(JL,Rk,"PgBigInt53Builder");var Lk,Bk;class e9 extends(Bk=ct,Lk=he,Bk){getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}M(e9,Lk,"PgBigInt53");var Uk,zk;class t9 extends(zk=ym,Uk=he,zk){constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new r9(e,this.config)}}M(t9,Uk,"PgBigInt64Builder");var $k,Vk;class r9 extends(Vk=ct,$k=he,Vk){getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}M(r9,$k,"PgBigInt64");function Kpe(t,e){const{name:r,config:n}=fn(t,e);return n.mode==="number"?new JL(r):new t9(r)}var Wk,Hk;class n9 extends(Hk=Tt,Wk=he,Hk){constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new i9(e,this.config)}}M(n9,Wk,"PgBigSerial53Builder");var Gk,qk;class i9 extends(qk=ct,Gk=he,qk){getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}M(i9,Gk,"PgBigSerial53");var Zk,Kk;class s9 extends(Kk=Tt,Zk=he,Kk){constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new a9(e,this.config)}}M(s9,Zk,"PgBigSerial64Builder");var Yk,Xk;class a9 extends(Xk=ct,Yk=he,Xk){getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}M(a9,Yk,"PgBigSerial64");function Ype(t,e){const{name:r,config:n}=fn(t,e);return n.mode==="number"?new n9(r):new s9(r)}var Qk,Jk;class o9 extends(Jk=Tt,Qk=he,Jk){constructor(e){super(e,"boolean","PgBoolean")}build(e){return new l9(e,this.config)}}M(o9,Qk,"PgBooleanBuilder");var ej,tj;class l9 extends(tj=ct,ej=he,tj){getSQLType(){return"boolean"}}M(l9,ej,"PgBoolean");function Jr(t){return new o9(t??"")}var rj,nj;class c9 extends(nj=Tt,rj=he,nj){constructor(e,r){super(e,"string","PgChar"),this.config.length=r.length,this.config.enumValues=r.enum}build(e){return new u9(e,this.config)}}M(c9,rj,"PgCharBuilder");var ij,sj;class u9 extends(sj=ct,ij=he,sj){constructor(){super(...arguments);M(this,"length",this.config.length);M(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}M(u9,ij,"PgChar");function Xpe(t,e={}){const{name:r,config:n}=fn(t,e);return new c9(r,n)}var aj,oj;class d9 extends(oj=Tt,aj=he,oj){constructor(e){super(e,"string","PgCidr")}build(e){return new h9(e,this.config)}}M(d9,aj,"PgCidrBuilder");var lj,cj;class h9 extends(cj=ct,lj=he,cj){getSQLType(){return"cidr"}}M(h9,lj,"PgCidr");function Qpe(t){return new d9(t??"")}var uj,dj;class f9 extends(dj=Tt,uj=he,dj){constructor(e,r,n){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=r,this.config.customTypeParams=n}build(e){return new p9(e,this.config)}}M(f9,uj,"PgCustomColumnBuilder");var hj,fj;class p9 extends(fj=ct,hj=he,fj){constructor(r,n){super(r,n);M(this,"sqlName");M(this,"mapTo");M(this,"mapFrom");this.sqlName=n.customTypeParams.dataType(n.fieldConfig),this.mapTo=n.customTypeParams.toDriver,this.mapFrom=n.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(r){return typeof this.mapFrom=="function"?this.mapFrom(r):r}mapToDriverValue(r){return typeof this.mapTo=="function"?this.mapTo(r):r}}M(p9,hj,"PgCustomColumn");function Jpe(t){return(e,r)=>{const{name:n,config:i}=fn(e,r);return new f9(n,i,t)}}var pj,mj;class lh extends(mj=Tt,pj=he,mj){defaultNow(){return this.default(ot`now()`)}}M(lh,pj,"PgDateColumnBaseBuilder");var gj,vj;class m9 extends(vj=lh,gj=he,vj){constructor(e){super(e,"date","PgDate")}build(e){return new g9(e,this.config)}}M(m9,gj,"PgDateBuilder");var xj,yj;class g9 extends(yj=ct,xj=he,yj){getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}M(g9,xj,"PgDate");var wj,bj;class v9 extends(bj=lh,wj=he,bj){constructor(e){super(e,"string","PgDateString")}build(e){return new x9(e,this.config)}}M(v9,wj,"PgDateStringBuilder");var _j,Nj;class x9 extends(Nj=ct,_j=he,Nj){getSQLType(){return"date"}}M(x9,_j,"PgDateString");function eme(t,e){const{name:r,config:n}=fn(t,e);return(n==null?void 0:n.mode)==="date"?new m9(r):new v9(r)}var Cj,Sj;class y9 extends(Sj=Tt,Cj=he,Sj){constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new w9(e,this.config)}}M(y9,Cj,"PgDoublePrecisionBuilder");var Ej,Aj;class w9 extends(Aj=ct,Ej=he,Aj){getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}M(w9,Ej,"PgDoublePrecision");function tme(t){return new y9(t??"")}var kj,jj;class b9 extends(jj=Tt,kj=he,jj){constructor(e){super(e,"string","PgInet")}build(e){return new _9(e,this.config)}}M(b9,kj,"PgInetBuilder");var Pj,Tj;class _9 extends(Tj=ct,Pj=he,Tj){getSQLType(){return"inet"}}M(_9,Pj,"PgInet");function rme(t){return new b9(t??"")}var Ij,Dj;class N9 extends(Dj=ym,Ij=he,Dj){constructor(e){super(e,"number","PgInteger")}build(e){return new C9(e,this.config)}}M(N9,Ij,"PgIntegerBuilder");var Oj,Mj;class C9 extends(Mj=ct,Oj=he,Mj){getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}M(C9,Oj,"PgInteger");function Ce(t){return new N9(t??"")}var Rj,Fj;class S9 extends(Fj=Tt,Rj=he,Fj){constructor(e,r){super(e,"string","PgInterval"),this.config.intervalConfig=r}build(e){return new E9(e,this.config)}}M(S9,Rj,"PgIntervalBuilder");var Lj,Bj;class E9 extends(Bj=ct,Lj=he,Bj){constructor(){super(...arguments);M(this,"fields",this.config.intervalConfig.fields);M(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const r=this.fields?` ${this.fields}`:"",n=this.precision?`(${this.precision})`:"";return`interval${r}${n}`}}M(E9,Lj,"PgInterval");function nme(t,e={}){const{name:r,config:n}=fn(t,e);return new S9(r,n)}var Uj,zj;class A9 extends(zj=Tt,Uj=he,zj){constructor(e){super(e,"json","PgJson")}build(e){return new k9(e,this.config)}}M(A9,Uj,"PgJsonBuilder");var $j,Vj;class k9 extends(Vj=ct,$j=he,Vj){constructor(e,r){super(e,r)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}M(k9,$j,"PgJson");function ime(t){return new A9(t??"")}var Wj,Hj;class j9 extends(Hj=Tt,Wj=he,Hj){constructor(e){super(e,"json","PgJsonb")}build(e){return new P9(e,this.config)}}M(j9,Wj,"PgJsonbBuilder");var Gj,qj;class P9 extends(qj=ct,Gj=he,qj){constructor(e,r){super(e,r)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}M(P9,Gj,"PgJsonb");function ch(t){return new j9(t??"")}var Zj,Kj;class T9 extends(Kj=Tt,Zj=he,Kj){constructor(e){super(e,"array","PgLine")}build(e){return new I9(e,this.config)}}M(T9,Zj,"PgLineBuilder");var Yj,Xj;class I9 extends(Xj=ct,Yj=he,Xj){getSQLType(){return"line"}mapFromDriverValue(e){const[r,n,i]=e.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n),Number.parseFloat(i)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}M(I9,Yj,"PgLine");var Qj,Jj;class D9 extends(Jj=Tt,Qj=he,Jj){constructor(e){super(e,"json","PgLineABC")}build(e){return new O9(e,this.config)}}M(D9,Qj,"PgLineABCBuilder");var e5,t5;class O9 extends(t5=ct,e5=he,t5){getSQLType(){return"line"}mapFromDriverValue(e){const[r,n,i]=e.slice(1,-1).split(",");return{a:Number.parseFloat(r),b:Number.parseFloat(n),c:Number.parseFloat(i)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}M(O9,e5,"PgLineABC");function sme(t,e){const{name:r,config:n}=fn(t,e);return!(n!=null&&n.mode)||n.mode==="tuple"?new T9(r):new D9(r)}var r5,n5;class M9 extends(n5=Tt,r5=he,n5){constructor(e){super(e,"string","PgMacaddr")}build(e){return new R9(e,this.config)}}M(M9,r5,"PgMacaddrBuilder");var i5,s5;class R9 extends(s5=ct,i5=he,s5){getSQLType(){return"macaddr"}}M(R9,i5,"PgMacaddr");function ame(t){return new M9(t??"")}var a5,o5;class F9 extends(o5=Tt,a5=he,o5){constructor(e){super(e,"string","PgMacaddr8")}build(e){return new L9(e,this.config)}}M(F9,a5,"PgMacaddr8Builder");var l5,c5;class L9 extends(c5=ct,l5=he,c5){getSQLType(){return"macaddr8"}}M(L9,l5,"PgMacaddr8");function ome(t){return new F9(t??"")}var u5,d5;class B9 extends(d5=Tt,u5=he,d5){constructor(e,r,n){super(e,"string","PgNumeric"),this.config.precision=r,this.config.scale=n}build(e){return new U9(e,this.config)}}M(B9,u5,"PgNumericBuilder");var h5,f5;class U9 extends(f5=ct,h5=he,f5){constructor(r,n){super(r,n);M(this,"precision");M(this,"scale");this.precision=n.precision,this.scale=n.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}M(U9,h5,"PgNumeric");function z9(t,e){const{name:r,config:n}=fn(t,e);return new B9(r,n==null?void 0:n.precision,n==null?void 0:n.scale)}const Ao=z9;var p5,m5;class $9 extends(m5=Tt,p5=he,m5){constructor(e){super(e,"array","PgPointTuple")}build(e){return new V9(e,this.config)}}M($9,p5,"PgPointTupleBuilder");var g5,v5;class V9 extends(v5=ct,g5=he,v5){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[r,n]=e.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}M(V9,g5,"PgPointTuple");var x5,y5;class W9 extends(y5=Tt,x5=he,y5){constructor(e){super(e,"json","PgPointObject")}build(e){return new H9(e,this.config)}}M(W9,x5,"PgPointObjectBuilder");var w5,b5;class H9 extends(b5=ct,w5=he,b5){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[r,n]=e.slice(1,-1).split(",");return{x:Number.parseFloat(r),y:Number.parseFloat(n)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}M(H9,w5,"PgPointObject");function lme(t,e){const{name:r,config:n}=fn(t,e);return!(n!=null&&n.mode)||n.mode==="tuple"?new $9(r):new W9(r)}function cme(t){const e=[];for(let r=0;r<t.length;r+=2)e.push(Number.parseInt(t.slice(r,r+2),16));return new Uint8Array(e)}function UA(t,e){const r=new ArrayBuffer(8),n=new DataView(r);for(let i=0;i<8;i++)n.setUint8(i,t[e+i]);return n.getFloat64(0,!0)}function G9(t){const e=cme(t);let r=0;const n=e[r];r+=1;const i=new DataView(e.buffer),s=i.getUint32(r,n===1);if(r+=4,s&536870912&&(i.getUint32(r,n===1),r+=4),(s&65535)===1){const a=UA(e,r);r+=8;const l=UA(e,r);return r+=8,[a,l]}throw new Error("Unsupported geometry type")}var _5,N5;class q9 extends(N5=Tt,_5=he,N5){constructor(e){super(e,"array","PgGeometry")}build(e){return new Z9(e,this.config)}}M(q9,_5,"PgGeometryBuilder");var C5,S5;class Z9 extends(S5=ct,C5=he,S5){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return G9(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}M(Z9,C5,"PgGeometry");var E5,A5;class K9 extends(A5=Tt,E5=he,A5){constructor(e){super(e,"json","PgGeometryObject")}build(e){return new Y9(e,this.config)}}M(K9,E5,"PgGeometryObjectBuilder");var k5,j5;class Y9 extends(j5=ct,k5=he,j5){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){const r=G9(e);return{x:r[0],y:r[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}M(Y9,k5,"PgGeometryObject");function ume(t,e){const{name:r,config:n}=fn(t,e);return!(n!=null&&n.mode)||n.mode==="tuple"?new q9(r):new K9(r)}var P5,T5;class X9 extends(T5=Tt,P5=he,T5){constructor(e,r){super(e,"number","PgReal"),this.config.length=r}build(e){return new Q9(e,this.config)}}M(X9,P5,"PgRealBuilder");var I5,D5;class Q9 extends(D5=ct,I5=he,D5){constructor(r,n){super(r,n);M(this,"mapFromDriverValue",r=>typeof r=="string"?Number.parseFloat(r):r)}getSQLType(){return"real"}}M(Q9,I5,"PgReal");function dme(t){return new X9(t??"")}var O5,M5;class J9 extends(M5=Tt,O5=he,M5){constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new eB(e,this.config)}}M(J9,O5,"PgSerialBuilder");var R5,F5;class eB extends(F5=ct,R5=he,F5){getSQLType(){return"serial"}}M(eB,R5,"PgSerial");function hme(t){return new J9(t??"")}var L5,B5;class tB extends(B5=ym,L5=he,B5){constructor(e){super(e,"number","PgSmallInt")}build(e){return new rB(e,this.config)}}M(tB,L5,"PgSmallIntBuilder");var U5,z5;class rB extends(z5=ct,U5=he,z5){constructor(){super(...arguments);M(this,"mapFromDriverValue",r=>typeof r=="string"?Number(r):r)}getSQLType(){return"smallint"}}M(rB,U5,"PgSmallInt");function fme(t){return new tB(t??"")}var $5,V5;class nB extends(V5=Tt,$5=he,V5){constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new iB(e,this.config)}}M(nB,$5,"PgSmallSerialBuilder");var W5,H5;class iB extends(H5=ct,W5=he,H5){getSQLType(){return"smallserial"}}M(iB,W5,"PgSmallSerial");function pme(t){return new nB(t??"")}var G5,q5;class sB extends(q5=Tt,G5=he,q5){constructor(e,r){super(e,"string","PgText"),this.config.enumValues=r.enum}build(e){return new aB(e,this.config)}}M(sB,G5,"PgTextBuilder");var Z5,K5;class aB extends(K5=ct,Z5=he,K5){constructor(){super(...arguments);M(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}M(aB,Z5,"PgText");function Pe(t,e={}){const{name:r,config:n}=fn(t,e);return new sB(r,n)}var Y5,X5;class oB extends(X5=lh,Y5=he,X5){constructor(e,r,n){super(e,"string","PgTime"),this.withTimezone=r,this.precision=n,this.config.withTimezone=r,this.config.precision=n}build(e){return new lB(e,this.config)}}M(oB,Y5,"PgTimeBuilder");var Q5,J5;class lB extends(J5=ct,Q5=he,J5){constructor(r,n){super(r,n);M(this,"withTimezone");M(this,"precision");this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}M(lB,Q5,"PgTime");function mme(t,e={}){const{name:r,config:n}=fn(t,e);return new oB(r,n.withTimezone??!1,n.precision)}var eP,tP;class cB extends(tP=lh,eP=he,tP){constructor(e,r,n){super(e,"date","PgTimestamp"),this.config.withTimezone=r,this.config.precision=n}build(e){return new uB(e,this.config)}}M(cB,eP,"PgTimestampBuilder");var rP,nP;class uB extends(nP=ct,rP=he,nP){constructor(r,n){super(r,n);M(this,"withTimezone");M(this,"precision");M(this,"mapFromDriverValue",r=>new Date(this.withTimezone?r:r+"+0000"));M(this,"mapToDriverValue",r=>r.toISOString());this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}M(uB,rP,"PgTimestamp");var iP,sP;class dB extends(sP=lh,iP=he,sP){constructor(e,r,n){super(e,"string","PgTimestampString"),this.config.withTimezone=r,this.config.precision=n}build(e){return new hB(e,this.config)}}M(dB,iP,"PgTimestampStringBuilder");var aP,oP;class hB extends(oP=ct,aP=he,oP){constructor(r,n){super(r,n);M(this,"withTimezone");M(this,"precision");this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}M(hB,aP,"PgTimestampString");function Oe(t,e={}){const{name:r,config:n}=fn(t,e);return(n==null?void 0:n.mode)==="string"?new dB(r,n.withTimezone??!1,n.precision):new cB(r,(n==null?void 0:n.withTimezone)??!1,n==null?void 0:n.precision)}var lP,cP;class fB extends(cP=Tt,lP=he,cP){constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(ot`gen_random_uuid()`)}build(e){return new pB(e,this.config)}}M(fB,lP,"PgUUIDBuilder");var uP,dP;class pB extends(dP=ct,uP=he,dP){getSQLType(){return"uuid"}}M(pB,uP,"PgUUID");function gme(t){return new fB(t??"")}var hP,fP;class mB extends(fP=Tt,hP=he,fP){constructor(e,r){super(e,"string","PgVarchar"),this.config.length=r.length,this.config.enumValues=r.enum}build(e){return new gB(e,this.config)}}M(mB,hP,"PgVarcharBuilder");var pP,mP;class gB extends(mP=ct,pP=he,mP){constructor(){super(...arguments);M(this,"length",this.config.length);M(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}M(gB,pP,"PgVarchar");function de(t,e={}){const{name:r,config:n}=fn(t,e);return new mB(r,n)}var gP,vP;class vB extends(vP=Tt,gP=he,vP){constructor(e,r){super(e,"string","PgBinaryVector"),this.config.dimensions=r.dimensions}build(e){return new xB(e,this.config)}}M(vB,gP,"PgBinaryVectorBuilder");var xP,yP;class xB extends(yP=ct,xP=he,yP){constructor(){super(...arguments);M(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}M(xB,xP,"PgBinaryVector");function vme(t,e){const{name:r,config:n}=fn(t,e);return new vB(r,n)}var wP,bP;class yB extends(bP=Tt,wP=he,bP){constructor(e,r){super(e,"array","PgHalfVector"),this.config.dimensions=r.dimensions}build(e){return new wB(e,this.config)}}M(yB,wP,"PgHalfVectorBuilder");var _P,NP;class wB extends(NP=ct,_P=he,NP){constructor(){super(...arguments);M(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}M(wB,_P,"PgHalfVector");function xme(t,e){const{name:r,config:n}=fn(t,e);return new yB(r,n)}var CP,SP;class bB extends(SP=Tt,CP=he,SP){constructor(e,r){super(e,"string","PgSparseVector"),this.config.dimensions=r.dimensions}build(e){return new _B(e,this.config)}}M(bB,CP,"PgSparseVectorBuilder");var EP,AP;class _B extends(AP=ct,EP=he,AP){constructor(){super(...arguments);M(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}M(_B,EP,"PgSparseVector");function yme(t,e){const{name:r,config:n}=fn(t,e);return new bB(r,n)}var kP,jP;class NB extends(jP=Tt,kP=he,jP){constructor(e,r){super(e,"array","PgVector"),this.config.dimensions=r.dimensions}build(e){return new CB(e,this.config)}}M(NB,kP,"PgVectorBuilder");var PP,TP;class CB extends(TP=ct,PP=he,TP){constructor(){super(...arguments);M(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}M(CB,PP,"PgVector");function wme(t,e){const{name:r,config:n}=fn(t,e);return new NB(r,n)}function bme(){return{bigint:Kpe,bigserial:Ype,boolean:Jr,char:Xpe,cidr:Qpe,customType:Jpe,date:eme,doublePrecision:tme,inet:rme,integer:Ce,interval:nme,json:ime,jsonb:ch,line:sme,macaddr:ame,macaddr8:ome,numeric:z9,point:lme,geometry:ume,real:dme,serial:hme,smallint:fme,smallserial:pme,text:Pe,time:mme,timestamp:Oe,uuid:gme,varchar:de,bit:vme,halfvec:xme,sparsevec:yme,vector:wme}}const g2=Symbol.for("drizzle:PgInlineForeignKeys"),zA=Symbol.for("drizzle:EnableRLS");var IP,DP,OP,MP,RP;class Sf extends(RP=Xn,MP=he,OP=g2,DP=zA,IP=Xn.Symbol.ExtraConfigBuilder,RP){constructor(){super(...arguments);M(this,OP,[]);M(this,DP,!1);M(this,IP)}}M(Sf,MP,"PgTable"),M(Sf,"Symbol",Object.assign({},Xn.Symbol,{InlineForeignKeys:g2,EnableRLS:zA}));function _me(t,e,r,n,i=t){const s=new Sf(t,n,i),a=typeof e=="function"?e(bme()):e,l=Object.fromEntries(Object.entries(a).map(([h,f])=>{const m=f;m.setName(h);const g=m.build(s);return s[g2].push(...m.buildForeignKeys(g,s)),[h,g]})),c=Object.fromEntries(Object.entries(a).map(([h,f])=>{const m=f;m.setName(h);const g=m.buildExtraConfigColumn(s);return[h,g]})),d=Object.assign(s,l);return d[Xn.Symbol.Columns]=l,d[Xn.Symbol.ExtraConfigColumns]=c,r&&(d[Sf.Symbol.ExtraConfigBuilder]=r),Object.assign(d,{enableRLS:()=>(d[Sf.Symbol.EnableRLS]=!0,d)})}const Nt=(t,e,r)=>_me(t,e,r,void 0);var FP;FP=he;class SB{constructor(e,r){this.unique=e,this.name=r}on(...e){return new ug(e.map(r=>{if(Mr(r,Cr))return r;r=r;const n=new cg(r.name,!!r.keyAsName,r.columnType,r.indexConfig);return r.indexConfig=JSON.parse(JSON.stringify(r.defaultConfig)),n}),this.unique,!1,this.name)}onOnly(...e){return new ug(e.map(r=>{if(Mr(r,Cr))return r;r=r;const n=new cg(r.name,!!r.keyAsName,r.columnType,r.indexConfig);return r.indexConfig=r.defaultConfig,n}),this.unique,!0,this.name)}using(e,...r){return new ug(r.map(n=>{if(Mr(n,Cr))return n;n=n;const i=new cg(n.name,!!n.keyAsName,n.columnType,n.indexConfig);return n.indexConfig=JSON.parse(JSON.stringify(n.defaultConfig)),i}),this.unique,!0,this.name,e)}}M(SB,FP,"PgIndexBuilderOn");var LP;LP=he;class ug{constructor(e,r,n,i,s="btree"){M(this,"config");this.config={name:i,columns:e,unique:r,only:n,method:s}}concurrently(){return this.config.concurrently=!0,this}with(e){return this.config.with=e,this}where(e){return this.config.where=e,this}build(e){return new EB(this.config,e)}}M(ug,LP,"PgIndexBuilder");var BP;BP=he;class EB{constructor(e,r){M(this,"config");this.config={...e,table:r}}}M(EB,BP,"PgIndex");function Nme(t){return new SB(!1,t)}const vr={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function kr(t,e){return e.includes(t.columnType)}function Cme(t){return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0}const Sme=At.union([At.string(),At.number(),At.boolean(),At.null()]),Eme=At.union([Sme,At.record(At.any()),At.array(At.any())]),Ame=At.custom(t=>t instanceof Buffer);function AB(t,e){const r=(e==null?void 0:e.zodInstance)??At,n=(e==null?void 0:e.coerce)??{};let i;return Cme(t)&&(i=t.enumValues.length?r.enum(t.enumValues):r.string()),i||(kr(t,["PgGeometry","PgPointTuple"])?i=r.tuple([r.number(),r.number()]):kr(t,["PgGeometryObject","PgPointObject"])?i=r.object({x:r.number(),y:r.number()}):kr(t,["PgHalfVector","PgVector"])?(i=r.array(r.number()),i=t.dimensions?i.length(t.dimensions):i):kr(t,["PgLine"])?i=r.tuple([r.number(),r.number(),r.number()]):kr(t,["PgLineABC"])?i=r.object({a:r.number(),b:r.number(),c:r.number()}):kr(t,["PgArray"])?(i=r.array(AB(t.baseColumn,r)),i=t.size?i.length(t.size):i):t.dataType==="array"?i=r.array(r.any()):t.dataType==="number"?i=kme(t,r,n):t.dataType==="bigint"?i=jme(t,r,n):t.dataType==="boolean"?i=n===!0||n.boolean?r.coerce.boolean():r.boolean():t.dataType==="date"?i=n===!0||n.date?r.coerce.date():r.date():t.dataType==="string"?i=Pme(t,r,n):t.dataType==="json"?i=Eme:t.dataType==="custom"?i=r.any():t.dataType==="buffer"&&(i=Ame)),i||(i=r.any()),i}function kme(t,e,r){let n=t.getSQLType().includes("unsigned"),i,s,a=!1;kr(t,["MySqlTinyInt","SingleStoreTinyInt"])?(i=n?0:vr.INT8_MIN,s=n?vr.INT8_UNSIGNED_MAX:vr.INT8_MAX,a=!0):kr(t,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(i=n?0:vr.INT16_MIN,s=n?vr.INT16_UNSIGNED_MAX:vr.INT16_MAX,a=!0):kr(t,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(i=n?0:vr.INT24_MIN,s=n?vr.INT24_UNSIGNED_MAX:vr.INT24_MAX,a=kr(t,["MySqlMediumInt","SingleStoreMediumInt"])):kr(t,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(i=n?0:vr.INT32_MIN,s=n?vr.INT32_UNSIGNED_MAX:vr.INT32_MAX,a=!0):kr(t,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(i=n?0:vr.INT48_MIN,s=n?vr.INT48_UNSIGNED_MAX:vr.INT48_MAX):kr(t,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(n=n||kr(t,["MySqlSerial","SingleStoreSerial"]),i=n?0:Number.MIN_SAFE_INTEGER,s=Number.MAX_SAFE_INTEGER,a=!0):kr(t,["MySqlYear","SingleStoreYear"])?(i=1901,s=2155,a=!0):(i=Number.MIN_SAFE_INTEGER,s=Number.MAX_SAFE_INTEGER);let l=r===!0||r!=null&&r.number?e.coerce.number():e.number();return l=l.min(i).max(s),a?l.int():l}function jme(t,e,r){const n=t.getSQLType().includes("unsigned"),i=n?0n:vr.INT64_MIN,s=n?vr.INT64_UNSIGNED_MAX:vr.INT64_MAX;return(r===!0||r!=null&&r.bigint?e.coerce.bigint():e.bigint()).min(i).max(s)}function Pme(t,e,r){if(kr(t,["PgUUID"]))return e.string().uuid();let n,i,s=!1;kr(t,["PgVarchar","SQLiteText"])?n=t.length:kr(t,["MySqlVarChar","SingleStoreVarChar"])?n=t.length??vr.INT16_UNSIGNED_MAX:kr(t,["MySqlText","SingleStoreText"])&&(t.textType==="longtext"?n=vr.INT32_UNSIGNED_MAX:t.textType==="mediumtext"?n=vr.INT24_UNSIGNED_MAX:t.textType==="text"?n=vr.INT16_UNSIGNED_MAX:n=vr.INT8_UNSIGNED_MAX),kr(t,["PgChar","MySqlChar","SingleStoreChar"])&&(n=t.length,s=!0),kr(t,["PgBinaryVector"])&&(i=/^[01]+$/,n=t.dimensions);let a=r===!0||r!=null&&r.string?e.coerce.string():e.string();return a=i?a.regex(i):a,n&&s?a.length(n):n?a.max(n):a}function kB(t){return ZL(t)?qpe(t):Zpe(t)}function jB(t,e,r,n){const i={};for(const[s,a]of Object.entries(t)){if(!Mr(a,Vd)&&!Mr(a,Cr)&&!Mr(a,Cr.Aliased)&&typeof a=="object"){const f=ZL(a)||Gpe(a)?kB(a):a;i[s]=jB(f,e[s]??{},r,n);continue}const l=e[s];if(l!==void 0&&typeof l!="function"){i[s]=l;continue}const c=Mr(a,Vd)?a:void 0,d=c?AB(c,n):At.any(),h=typeof l=="function"?l(d):d;r.never(c)||(i[s]=h,c&&(r.nullable(c)&&(i[s]=i[s].nullable()),r.optional(c)&&(i[s]=i[s].optional())))}return At.object(i)}const Tme={never:t=>{var e,r;return((e=t==null?void 0:t.generated)==null?void 0:e.type)==="always"||((r=t==null?void 0:t.generatedIdentity)==null?void 0:r.type)==="always"},optional:t=>!t.notNull||t.notNull&&t.hasDefault,nullable:t=>!t.notNull},It=(t,e)=>{const r=kB(t);return jB(r,{},Tme)};Nt("sessions",{sid:de("sid").primaryKey(),sess:ch("sess").notNull(),expire:Oe("expire").notNull()},t=>[Nme("IDX_session_expire").on(t.expire)]);const Sr=Nt("users",{id:de("id").primaryKey().default(ot`gen_random_uuid()`),email:de("email").unique(),username:de("username").unique(),passwordHash:de("password_hash"),firstName:de("first_name"),lastName:de("last_name"),profileImageUrl:de("profile_image_url"),authProvider:de("auth_provider").default("local"),isEmailVerified:Jr("is_email_verified").default(!1),streak:Ce("streak").notNull().default(0),lastWorkoutDate:Oe("last_workout_date"),lastActivityDate:Oe("last_activity_date"),subscriptionStatus:de("subscription_status").default("free_trial"),subscriptionStartDate:Oe("subscription_start_date"),lastPaymentDate:Oe("last_payment_date"),subscriptionExpiresAt:Oe("subscription_expires_at"),trialStartDate:Oe("trial_start_date").defaultNow(),trialEndDate:Oe("trial_end_date").default(ot`NOW() + INTERVAL '7 days'`),stripeCustomerId:de("stripe_customer_id"),stripeSubscriptionId:de("stripe_subscription_id"),appleOriginalTransactionId:de("apple_original_transaction_id"),personalPlanData:Pe("personal_plan_data"),createdAt:Oe("created_at").defaultNow(),updatedAt:Oe("updated_at").defaultNow()}),tC=Nt("exercises",{id:de("id").primaryKey().default(ot`gen_random_uuid()`),name:Pe("name").notNull(),category:Pe("category").notNull(),description:Pe("description"),muscleGroups:Pe("muscle_groups").array(),equipment:Pe("equipment"),createdAt:Oe("created_at").defaultNow().notNull()}),Lv=Nt("workouts",{id:de("id").primaryKey().default(ot`gen_random_uuid()`),userId:de("user_id").references(()=>Sr.id).notNull(),name:Pe("name").notNull(),category:Pe("category").notNull(),duration:Ce("duration").notNull(),caloriesBurned:Ce("calories_burned").notNull(),notes:Pe("notes"),date:Oe("date").notNull(),difficultyLevel:Ce("difficulty_level").default(3),perceivedExertion:Ce("perceived_exertion"),completionRate:Ce("completion_rate").default(100),aiDifficultyRecommendation:Ce("ai_difficulty_recommendation"),performanceScore:Ce("performance_score"),createdAt:Oe("created_at").defaultNow().notNull()}),Ime=Nt("workout_exercises",{id:de("id").primaryKey().default(ot`gen_random_uuid()`),workoutId:de("workout_id").references(()=>Lv.id).notNull(),exerciseId:de("exercise_id").references(()=>tC.id).notNull(),sets:Ce("sets"),reps:Ce("reps"),weight:Ce("weight"),distance:Ce("distance"),duration:Ce("duration"),notes:Pe("notes"),targetSets:Ce("target_sets"),targetReps:Ce("target_reps"),targetWeight:Ce("target_weight"),targetDuration:Ce("target_duration"),completed:Jr("completed").default(!0),difficultyAdjustment:Ce("difficulty_adjustment").default(0)}),Dme=Nt("workout_preferences",{id:de("id").primaryKey().default(ot`gen_random_uuid()`),userId:de("user_id").references(()=>Sr.id).notNull().unique(),fitnessLevel:Pe("fitness_level").notNull(),primaryGoals:Pe("primary_goals").array().notNull(),workoutDaysPerWeek:Ce("workout_days_per_week").notNull().default(3),sessionDuration:Ce("session_duration").notNull().default(45),availableEquipment:Pe("available_equipment").array().notNull().default(ot`ARRAY[]::text[]`),preferredWorkoutTypes:Pe("preferred_workout_types").array().notNull(),injuriesOrLimitations:Pe("injuries_or_limitations").array().default(ot`ARRAY[]::text[]`),createdAt:Oe("created_at").defaultNow().notNull(),updatedAt:Oe("updated_at").defaultNow().notNull()}),PB=Nt("workout_plans",{id:de("id").primaryKey().default(ot`gen_random_uuid()`),userId:de("user_id").references(()=>Sr.id).notNull(),name:Pe("name").notNull(),description:Pe("description"),durationWeeks:Ce("duration_weeks").notNull().default(4),isActive:Jr("is_active").default(!1),generatedAt:Oe("generated_at").defaultNow().notNull(),startDate:Oe("start_date"),endDate:Oe("end_date")}),Ome=Nt("planned_workouts",{id:de("id").primaryKey().default(ot`gen_random_uuid()`),planId:de("plan_id").references(()=>PB.id).notNull(),dayOfWeek:Ce("day_of_week").notNull(),weekNumber:Ce("week_number").notNull(),workoutType:Pe("workout_type").notNull(),name:Pe("name").notNull(),description:Pe("description"),estimatedDuration:Ce("estimated_duration").notNull(),targetCalories:Ce("target_calories"),exercises:ch("exercises").default(ot`'[]'::jsonb`),isRestDay:Jr("is_rest_day").default(!1),completed:Jr("completed").default(!1),completedAt:Oe("completed_at")}),Mme=Nt("goals",{id:de("id").primaryKey().default(ot`gen_random_uuid()`),userId:de("user_id").references(()=>Sr.id).notNull(),type:Pe("type").notNull(),target:Ce("target").notNull(),current:Ce("current").notNull().default(0),period:Pe("period").notNull().default("weekly"),isActive:Jr("is_active").notNull().default(!0),createdAt:Oe("created_at").defaultNow().notNull()}),Rme=Nt("payments",{id:de("id").primaryKey().default(ot`gen_random_uuid()`),userId:de("user_id").references(()=>Sr.id).notNull(),stripePaymentIntentId:de("stripe_payment_intent_id").unique().notNull(),amount:Ce("amount").notNull(),currency:de("currency").default("usd").notNull(),status:de("status").notNull(),description:Pe("description"),createdAt:Oe("created_at").defaultNow().notNull(),updatedAt:Oe("updated_at").defaultNow().notNull()}),Bv=Nt("trainers",{id:de("id").primaryKey().default(ot`gen_random_uuid()`),userId:de("user_id").references(()=>Sr.id).notNull(),bio:Pe("bio").notNull(),specialties:Pe("specialties").array().notNull(),certifications:Pe("certifications").array(),experience:Ce("experience").notNull(),hourlyRate:Ce("hourly_rate").notNull(),location:Pe("location"),isActive:Jr("is_active").notNull().default(!0),rating:Ce("rating").default(0),totalReviews:Ce("total_reviews").default(0),subscriptionStatus:de("subscription_status").default("inactive"),lastPaymentDate:Oe("last_payment_date"),subscriptionExpiresAt:Oe("subscription_expires_at"),createdAt:Oe("created_at").defaultNow().notNull()}),TB=Nt("trainer_services",{id:de("id").primaryKey().default(ot`gen_random_uuid()`),trainerId:de("trainer_id").references(()=>Bv.id).notNull(),name:Pe("name").notNull(),description:Pe("description").notNull(),duration:Ce("duration").notNull(),price:Ce("price").notNull(),isActive:Jr("is_active").notNull().default(!0),createdAt:Oe("created_at").defaultNow().notNull()}),IB=Nt("bookings",{id:de("id").primaryKey().default(ot`gen_random_uuid()`),userId:de("user_id").references(()=>Sr.id).notNull(),trainerId:de("trainer_id").references(()=>Bv.id).notNull(),serviceId:de("service_id").references(()=>TB.id).notNull(),scheduledAt:Oe("scheduled_at").notNull(),status:Pe("status").notNull().default("pending"),totalPrice:Ce("total_price").notNull(),trainerEarnings:Ce("trainer_earnings"),platformCommission:Ce("platform_commission"),stripePaymentIntentId:Pe("stripe_payment_intent_id"),notes:Pe("notes"),createdAt:Oe("created_at").defaultNow().notNull()}),Fme=Nt("trainer_reviews",{id:de("id").primaryKey().default(ot`gen_random_uuid()`),userId:de("user_id").references(()=>Sr.id).notNull(),trainerId:de("trainer_id").references(()=>Bv.id).notNull(),bookingId:de("booking_id").references(()=>IB.id).notNull(),rating:Ce("rating").notNull(),comment:Pe("comment"),createdAt:Oe("created_at").defaultNow().notNull()}),Lme=Nt("user_activity_log",{id:de("id").primaryKey().default(ot`gen_random_uuid()`),userId:de("user_id").references(()=>Sr.id).notNull(),actionType:de("action_type").notNull(),actionDetails:Pe("action_details"),ipAddress:de("ip_address"),userAgent:Pe("user_agent"),sessionId:de("session_id"),createdAt:Oe("created_at").defaultNow().notNull()}),DB=Nt("badges",{id:de("id").primaryKey().default(ot`gen_random_uuid()`),name:Pe("name").notNull(),description:Pe("description").notNull(),iconName:Pe("icon_name").notNull(),category:Pe("category").notNull(),requiredDays:Ce("required_days"),createdAt:Oe("created_at").defaultNow().notNull()}),Bme=Nt("user_badges",{id:de("id").primaryKey().default(ot`gen_random_uuid()`),userId:de("user_id").references(()=>Sr.id).notNull(),badgeId:de("badge_id").references(()=>DB.id).notNull(),earnedAt:Oe("earned_at").defaultNow().notNull()}),Ume=Nt("news",{id:de("id").primaryKey().default(ot`gen_random_uuid()`),title:Pe("title").notNull(),content:Pe("content").notNull(),category:de("category").notNull(),imageUrl:de("image_url"),isPublished:Jr("is_published").notNull().default(!0),publishedAt:Oe("published_at").defaultNow().notNull(),createdAt:Oe("created_at").defaultNow().notNull()});It(Sr).omit({id:!0,createdAt:!0,updatedAt:!0});const zme=At.object({username:At.string().min(3).max(30).regex(/^[a-zA-Z0-9_]+$/,"Username can only contain letters, numbers, and underscores"),email:At.string().email(),password:At.string().min(8).regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,"Password must contain at least one uppercase letter, one lowercase letter, and one number"),firstName:At.string().min(1).max(50),lastName:At.string().min(1).max(50),personalPlanData:At.any().optional()}),$me=At.object({identifier:At.string().min(1),password:At.string().min(1)});It(tC).omit({id:!0,createdAt:!0});It(Lv).omit({id:!0,createdAt:!0});It(Ime).omit({id:!0});It(Mme).omit({id:!0,createdAt:!0});It(Dme).omit({id:!0,createdAt:!0,updatedAt:!0});It(PB).omit({id:!0,generatedAt:!0});It(Ome).omit({id:!0});It(Lme).omit({id:!0,createdAt:!0});It(DB).omit({id:!0,createdAt:!0});It(Ume).omit({id:!0,createdAt:!0,publishedAt:!0});It(Bme).omit({id:!0,earnedAt:!0});It(Rme).omit({id:!0,createdAt:!0,updatedAt:!0});It(Bv).omit({id:!0,rating:!0,totalReviews:!0,subscriptionStatus:!0,lastPaymentDate:!0,subscriptionExpiresAt:!0,createdAt:!0});It(TB).omit({id:!0,createdAt:!0});It(IB).omit({id:!0,createdAt:!0});It(Fme).omit({id:!0,createdAt:!0});const Vme=Nt("food_entries",{id:de("id").primaryKey().default(ot`gen_random_uuid()`),userId:de("user_id").notNull(),name:de("name").notNull(),description:de("description"),calories:Ce("calories").notNull(),protein:Ce("protein").default(0),carbs:Ce("carbs").default(0),fat:Ce("fat").default(0),fiber:Ce("fiber").default(0),sugar:Ce("sugar").default(0),sodium:Ce("sodium").default(0),servingSize:de("serving_size"),imageUrl:de("image_url"),confidence:Ce("confidence"),loggedAt:Oe("logged_at").defaultNow(),createdAt:Oe("created_at").defaultNow()});It(Vme).omit({id:!0,createdAt:!0});const OB=Nt("mile_tracker_sessions",{id:de("id").primaryKey().default(ot`gen_random_uuid()`),userId:de("user_id").references(()=>Sr.id).notNull(),activityType:Pe("activity_type").notNull(),totalDistance:Ce("total_distance").notNull(),totalTime:Ce("total_time").notNull(),averagePace:Ce("average_pace"),status:Pe("status").notNull().default("active"),startedAt:Oe("started_at").defaultNow().notNull(),completedAt:Oe("completed_at"),createdAt:Oe("created_at").defaultNow().notNull()}),Wme=Nt("mile_tracker_splits",{id:de("id").primaryKey().default(ot`gen_random_uuid()`),sessionId:de("session_id").references(()=>OB.id).notNull(),mileNumber:Ce("mile_number").notNull(),splitTime:Ce("split_time").notNull(),cumulativeTime:Ce("cumulative_time").notNull(),pace:Ce("pace").notNull(),completedAt:Oe("completed_at").defaultNow().notNull()});It(OB).omit({id:!0,createdAt:!0});It(Wme).omit({id:!0});const Hme=Nt("community_posts",{id:de("id").primaryKey().default(ot`gen_random_uuid()`),userId:de("user_id").references(()=>Sr.id).notNull(),content:Pe("content").notNull(),postType:Pe("post_type").notNull().default("message"),workoutId:de("workout_id").references(()=>Lv.id),imageUrl:de("image_url"),likes:Ce("likes").notNull().default(0),dislikes:Ce("dislikes").notNull().default(0),createdAt:Oe("created_at").defaultNow().notNull()});It(Hme).omit({id:!0,likes:!0,dislikes:!0,createdAt:!0});const rC=Nt("meal_plans",{id:de("id").primaryKey().default(ot`gen_random_uuid()`),name:Pe("name").notNull(),description:Pe("description").notNull(),goal:Pe("goal").notNull(),dailyCalories:Ce("daily_calories").notNull(),dailyProtein:Ce("daily_protein").notNull(),dailyCarbs:Ce("daily_carbs").notNull(),dailyFat:Ce("daily_fat").notNull(),duration:Ce("duration").notNull().default(7),isActive:Jr("is_active").notNull().default(!0),createdAt:Oe("created_at").defaultNow().notNull()}),MB=Nt("meal_plan_days",{id:de("id").primaryKey().default(ot`gen_random_uuid()`),mealPlanId:de("meal_plan_id").references(()=>rC.id).notNull(),dayNumber:Ce("day_number").notNull(),name:Pe("name").notNull()}),Gme=Nt("meal_plan_meals",{id:de("id").primaryKey().default(ot`gen_random_uuid()`),mealPlanDayId:de("meal_plan_day_id").references(()=>MB.id).notNull(),mealType:Pe("meal_type").notNull(),name:Pe("name").notNull(),description:Pe("description"),calories:Ce("calories").notNull(),protein:Ce("protein").notNull(),carbs:Ce("carbs").notNull(),fat:Ce("fat").notNull(),ingredients:Pe("ingredients").array().notNull(),instructions:Pe("instructions").array(),prepTime:Ce("prep_time"),servings:Ce("servings").notNull().default(1),imageUrl:Pe("image_url"),ingredientImages:ch("ingredient_images")}),qme=Nt("user_meal_plans",{id:de("id").primaryKey().default(ot`gen_random_uuid()`),userId:de("user_id").references(()=>Sr.id).notNull(),mealPlanId:de("meal_plan_id").references(()=>rC.id).notNull(),startDate:Oe("start_date").notNull(),endDate:Oe("end_date"),isActive:Jr("is_active").notNull().default(!0),createdAt:Oe("created_at").defaultNow().notNull()}),RB=Nt("food_items",{id:de("id").primaryKey().default(ot`gen_random_uuid()`),name:Pe("name").notNull(),category:Pe("category").notNull(),caloriesPer100g:Ce("calories_per_100g").notNull(),proteinPer100g:Ce("protein_per_100g").default(0),carbsPer100g:Ce("carbs_per_100g").default(0),fatPer100g:Ce("fat_per_100g").default(0),fiberPer100g:Ce("fiber_per_100g").default(0),commonServingSize:Pe("common_serving_size"),isCommon:Jr("is_common").default(!0),imageUrl:Pe("image_url"),createdAt:Oe("created_at").defaultNow().notNull()}),Zme=Nt("user_food_preferences",{id:de("id").primaryKey().default(ot`gen_random_uuid()`),userId:de("user_id").references(()=>Sr.id).notNull(),foodItemId:de("food_item_id").references(()=>RB.id).notNull(),preference:Pe("preference").notNull(),createdAt:Oe("created_at").defaultNow().notNull(),updatedAt:Oe("updated_at").defaultNow()});It(rC).omit({id:!0,createdAt:!0});It(MB).omit({id:!0});It(Gme).omit({id:!0});It(qme).omit({id:!0,createdAt:!0});It(RB).omit({id:!0,createdAt:!0});It(Zme).omit({id:!0,createdAt:!0,updatedAt:!0});const Kme=Nt("calendar_notes",{id:de("id").primaryKey().default(ot`gen_random_uuid()`),userId:de("user_id").references(()=>Sr.id).notNull(),date:Oe("date").notNull(),note:Pe("note").notNull(),createdAt:Oe("created_at").defaultNow().notNull(),updatedAt:Oe("updated_at").defaultNow().notNull()});It(Kme).omit({id:!0,createdAt:!0,updatedAt:!0});const Yme=Nt("user_meal_preferences",{id:de("id").primaryKey().default(ot`gen_random_uuid()`),userId:de("user_id").references(()=>Sr.id).notNull(),goal:Pe("goal").notNull(),dailyCalories:Ce("daily_calories").notNull(),dietaryRestrictions:Pe("dietary_restrictions").array().default([]),allergies:Pe("allergies").array().default([]),preferences:Pe("preferences").array().default([]),lastGeneratedAt:Oe("last_generated_at"),autoGenerate:Jr("auto_generate").default(!0),createdAt:Oe("created_at").defaultNow().notNull(),updatedAt:Oe("updated_at").defaultNow().notNull()});It(Yme).omit({id:!0,createdAt:!0,updatedAt:!0});const Xme=Nt("ai_difficulty_adjustments",{id:de("id").primaryKey().default(ot`gen_random_uuid()`),userId:de("user_id").references(()=>Sr.id).notNull(),exerciseId:de("exercise_id").references(()=>tC.id).notNull(),currentDifficulty:Ce("current_difficulty").notNull().default(3),suggestedDifficulty:Ce("suggested_difficulty").notNull(),confidenceScore:Ce("confidence_score").notNull(),reasoningFactors:ch("reasoning_factors"),performanceTrend:Pe("performance_trend"),applied:Jr("applied").default(!1),appliedAt:Oe("applied_at"),createdAt:Oe("created_at").defaultNow().notNull(),updatedAt:Oe("updated_at").defaultNow().notNull()}),Qme=Nt("meal_entries",{id:de("id").primaryKey().default(ot`gen_random_uuid()`),userId:de("user_id").references(()=>Sr.id).notNull(),mealType:de("meal_type").notNull(),mealName:de("meal_name").notNull(),description:Pe("description"),imageUrl:de("image_url"),totalCalories:Ce("total_calories").notNull(),protein:Ao("protein",{precision:8,scale:2}).notNull(),carbs:Ao("carbs",{precision:8,scale:2}).notNull(),fat:Ao("fat",{precision:8,scale:2}).notNull(),fiber:Ao("fiber",{precision:8,scale:2}).default("0"),sugar:Ao("sugar",{precision:8,scale:2}).default("0"),sodium:Ao("sodium",{precision:8,scale:2}).default("0"),confidence:Ao("confidence",{precision:3,scale:2}).default("0.85"),analysisRaw:Pe("analysis_raw"),createdAt:Oe("created_at").defaultNow().notNull(),loggedAt:Oe("logged_at").defaultNow().notNull()});It(Xme).omit({id:!0,createdAt:!0,updatedAt:!0});It(Qme).omit({id:!0,createdAt:!0});const Jme=Nt("progress_photos",{id:de("id").primaryKey().default(ot`gen_random_uuid()`),userId:de("user_id").references(()=>Sr.id).notNull(),imageUrl:de("image_url").notNull(),photoType:de("photo_type").notNull().default("progress"),workoutId:de("workout_id").references(()=>Lv.id),notes:Pe("notes"),weight:Ao("weight",{precision:5,scale:2}),bodyPart:de("body_part"),isPublic:Jr("is_public").default(!1),createdAt:Oe("created_at").defaultNow().notNull()});It(Jme).omit({id:!0,createdAt:!0});const e0e=Nt("notification_preferences",{id:de("id").primaryKey().default(ot`gen_random_uuid()`),userId:de("user_id").references(()=>Sr.id).notNull().unique(),workoutRemindersEnabled:Jr("workout_reminders_enabled").default(!0).notNull(),mealNotificationsEnabled:Jr("meal_notifications_enabled").default(!0).notNull(),breakfastTime:de("breakfast_time").default("08:00"),lunchTime:de("lunch_time").default("12:00"),dinnerTime:de("dinner_time").default("18:00"),lastWorkoutReminderSent:Oe("last_workout_reminder_sent"),notificationPermissionGranted:Jr("notification_permission_granted").default(!1),createdAt:Oe("created_at").defaultNow().notNull(),updatedAt:Oe("updated_at").defaultNow().notNull()}),t0e=Nt("subscription_audit",{id:de("id").primaryKey().default(ot`gen_random_uuid()`),userId:de("user_id").references(()=>Sr.id).notNull(),fromStatus:de("from_status").notNull(),toStatus:de("to_status").notNull(),reason:de("reason").notNull(),timestamp:Oe("timestamp").defaultNow().notNull(),metadata:ch("metadata")});It(e0e).omit({id:!0,createdAt:!0,updatedAt:!0});It(t0e).omit({id:!0,timestamp:!0});function r0e({mode:t="signup"}){const[e,r]=b.useState(t==="signin"),[n,i]=b.useState(!1);b.useState(!1);const{toast:s}=xi(),{signIn:a}=ns(),[,l]=qs(),c=Gb({resolver:qb(zme),defaultValues:{username:"",email:"",password:"",firstName:"",lastName:""}}),d=Gb({resolver:qb($me),defaultValues:{identifier:"",password:""}}),h=Ut({mutationFn:async x=>{const N=localStorage.getItem("pendingPersonalPlan"),_={...x,personalPlanData:N?JSON.parse(N):null};return(await dt("POST","/api/auth/signup",_)).json()},onSuccess:x=>{localStorage.removeItem("pendingPersonalPlan"),s({title:" Welcome to FlexFlow!",description:"Your account has been created successfully."}),a(x.user,x.token),setTimeout(()=>l("/tutorial"),100)},onError:x=>{const N=x.message||"Failed to create account";s({title:"Sign Up Failed",description:N,variant:"destructive"})}}),f=Ut({mutationFn:async x=>(await dt("POST","/api/auth/signin",x)).json(),onSuccess:x=>{s({title:"Welcome back!",description:"You've been signed in successfully."}),a(x.user,x.token),setTimeout(()=>l("/"),100)},onError:x=>{const N=x.message||"Invalid credentials";s({title:"Sign In Failed",description:N,variant:"destructive"})}}),m=x=>{h.mutate(x)},g=x=>{f.mutate(x)},y=()=>{r(!e),c.reset(),d.reset()};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-600 via-red-700 to-black flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"flex items-center justify-center mb-4",children:o.jsx("div",{className:"bg-white rounded-full p-3",children:o.jsx(hr,{className:"w-8 h-8 text-red-600"})})}),o.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"FlexFlow"}),o.jsx("p",{className:"text-red-100",children:e?"Welcome back! Sign in to continue your fitness journey.":"Join thousands of users transforming their fitness."})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e?"Sign In":"Create Account"}),o.jsx("p",{className:"text-gray-600 mt-1",children:e?"Enter your credentials to access your account":"Fill in your details to get started"})]}),e?o.jsxs("form",{onSubmit:d.handleSubmit(g),className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(it,{htmlFor:"identifier",children:"Username or Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(Hf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),o.jsx(Yt,{id:"identifier",type:"text",placeholder:"Enter username or email",className:"pl-10",...d.register("identifier"),"data-testid":"signin-identifier"})]}),d.formState.errors.identifier&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.formState.errors.identifier.message})]}),o.jsxs("div",{children:[o.jsx(it,{htmlFor:"password",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Su,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),o.jsx(Yt,{id:"password",type:n?"text":"password",placeholder:"Enter your password",className:"pl-10 pr-10",...d.register("password"),"data-testid":"signin-password"}),o.jsx("button",{type:"button",onClick:()=>i(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400","data-testid":"toggle-password",children:n?o.jsx(R3,{className:"w-4 h-4"}):o.jsx(Cu,{className:"w-4 h-4"})})]}),d.formState.errors.password&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.formState.errors.password.message})]}),o.jsx(ue,{type:"submit",className:"w-full bg-red-600 hover:bg-red-700",disabled:f.isPending,"data-testid":"signin-submit",children:f.isPending?"Signing In...":"Sign In"})]}):o.jsxs("form",{onSubmit:c.handleSubmit(m),className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(it,{htmlFor:"firstName",children:"First Name"}),o.jsx(Yt,{id:"firstName",type:"text",placeholder:"John",...c.register("firstName"),"data-testid":"signup-firstname"}),c.formState.errors.firstName&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.formState.errors.firstName.message})]}),o.jsxs("div",{children:[o.jsx(it,{htmlFor:"lastName",children:"Last Name"}),o.jsx(Yt,{id:"lastName",type:"text",placeholder:"Doe",...c.register("lastName"),"data-testid":"signup-lastname"}),c.formState.errors.lastName&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.formState.errors.lastName.message})]})]}),o.jsxs("div",{children:[o.jsx(it,{htmlFor:"username",children:"Username"}),o.jsxs("div",{className:"relative",children:[o.jsx(Hf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),o.jsx(Yt,{id:"username",type:"text",placeholder:"Choose a username",className:"pl-10",...c.register("username"),"data-testid":"signup-username"})]}),c.formState.errors.username&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.formState.errors.username.message})]}),o.jsxs("div",{children:[o.jsx(it,{htmlFor:"email",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(sI,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),o.jsx(Yt,{id:"email",type:"email",placeholder:"Enter your email",className:"pl-10",...c.register("email"),"data-testid":"signup-email"})]}),c.formState.errors.email&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.formState.errors.email.message})]}),o.jsxs("div",{children:[o.jsx(it,{htmlFor:"signup-password",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Su,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),o.jsx(Yt,{id:"signup-password",type:n?"text":"password",placeholder:"Create a password",className:"pl-10 pr-10",...c.register("password"),"data-testid":"signup-password"}),o.jsx("button",{type:"button",onClick:()=>i(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:n?o.jsx(R3,{className:"w-4 h-4"}):o.jsx(Cu,{className:"w-4 h-4"})})]}),c.formState.errors.password&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.formState.errors.password.message}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Must contain at least 8 characters, one uppercase, one lowercase, and one number."})]}),o.jsx(ue,{type:"submit",className:"w-full bg-red-600 hover:bg-red-700",disabled:h.isPending,"data-testid":"signup-submit",children:h.isPending?"Creating Account...":"Create Account"})]}),o.jsx("div",{className:"text-center mt-6",children:o.jsxs("p",{className:"text-gray-600",children:[e?"Don't have an account? ":"Already have an account? ",o.jsx("button",{onClick:y,className:"text-red-600 hover:text-red-700 font-medium","data-testid":"toggle-auth-mode",children:e?"Sign up":"Sign in"})]})})]}),o.jsx("div",{className:"text-center mt-8",children:o.jsx("p",{className:"text-red-100 text-sm",children:"By signing up, you agree to our Terms of Service and Privacy Policy."})})]})})}function n0e(){const[t,e]=b.useState(()=>new URLSearchParams(window.location.search).get("from")==="onboarding"?"signup":"selection");ns(),qs();const r=()=>{e("selection")};return t==="signin"||t==="signup"?o.jsxs("div",{children:[o.jsx("div",{className:"absolute top-4 left-4 z-50",children:o.jsxs(ue,{variant:"ghost",onClick:r,className:"text-white hover:bg-white/10",children:[o.jsx(N_,{className:"w-4 h-4 mr-2"}),"Back"]})}),o.jsx(r0e,{mode:t})]}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-600 via-red-700 to-black flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-lg",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"flex items-center justify-center mb-4",children:o.jsx("div",{className:"bg-white rounded-full p-3",children:o.jsx(mt,{className:"w-8 h-8 text-red-600"})})}),o.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Welcome to FlexFlow"}),o.jsx("p",{className:"text-black font-semibold text-lg mb-2",children:"Eat Clean, Think Smart, Train HARD!"}),o.jsx("p",{className:"text-red-100",children:"Choose how you'd like to access your account"})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 space-y-4",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 text-center mb-6",children:"Sign In Options"}),o.jsx(ue,{onClick:()=>e("signup"),className:"w-full h-16 bg-red-600 hover:bg-red-700 text-white text-lg font-medium","data-testid":"create-account-button",children:o.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[o.jsx(Hf,{className:"w-6 h-6"}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{children:"Create New Account"}),o.jsx("div",{className:"text-sm text-red-100 font-normal",children:"Set up with username & password"})]})]})}),o.jsx(ue,{onClick:()=>e("signin"),variant:"outline",className:"w-full h-16 border-2 border-red-600 text-red-600 hover:bg-red-50 text-lg font-medium","data-testid":"signin-button",children:o.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[o.jsx(sI,{className:"w-6 h-6"}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{children:"Sign In to Existing Account"}),o.jsx("div",{className:"text-sm text-gray-600 font-normal",children:"Use username/email & password"})]})]})})]}),o.jsxs("div",{className:"text-center mt-8",children:[o.jsx("p",{className:"text-red-100 text-sm",children:"Choose your preferred sign-in method to access all FlexFlow features."}),o.jsx("p",{className:"text-red-200 text-xs mt-2",children:"By continuing, you agree to our Terms of Service and Privacy Policy."})]})]})})}const Ol=[{id:1,title:"Welcome to FlexFlow!",description:"Your complete fitness companion is ready to help you achieve your health goals.",icon:o.jsx(hr,{className:"h-12 w-12 text-red-500"}),features:["AI-powered workout recommendations","Personalized meal planning","Progress tracking and analytics","Community support and challenges"]},{id:2,title:"Track Your Workouts",description:"Log exercises, sets, reps, and weights. Track your progress over time with detailed analytics.",icon:o.jsx(Xr,{className:"h-12 w-12 text-blue-500"}),features:["Extensive exercise database with instructions","Custom workout creation","Progress photos and measurements","Performance analytics and charts"]},{id:3,title:"Set and Achieve Goals",description:"Create specific fitness goals and track your progress with smart reminders and milestones.",icon:o.jsx(ti,{className:"h-12 w-12 text-green-500"}),features:["Weight loss/gain targets","Strength improvement goals","Consistency tracking","Achievement badges and rewards"]},{id:4,title:"AI-Powered Meal Planning",description:"Get personalized meal plans based on your goals, preferences, and dietary restrictions.",icon:o.jsx(Hi,{className:"h-12 w-12 text-orange-500"}),features:["Food scanning and nutrition tracking","Custom meal plan generation","Dietary restriction support","Calorie and macro tracking"]},{id:5,title:"Community & Trainers",description:"Connect with other fitness enthusiasts and find professional trainers to guide your journey.",icon:o.jsx(Xd,{className:"h-12 w-12 text-purple-500"}),features:["Community challenges and leaderboards","Share progress and achievements","Book sessions with certified trainers","Get expert advice and motivation"]},{id:6,title:"Ready to Start!",description:"You're all set to begin your fitness journey. Let's explore your personalized home.",icon:o.jsx(Yi,{className:"h-12 w-12 text-yellow-500"}),features:["Access your personalized home","View your fitness plan and goals","Start logging workouts today","Explore all features at your own pace"]}];function i0e(){const[t,e]=b.useState(0),[,r]=qs(),{isAuthenticated:n,isLoading:i}=ns();if(b.useEffect(()=>{!i&&!n&&r("/auth")},[n,i,r]),i)return o.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-900",children:o.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-red-500 border-t-transparent rounded-full"})});if(!n)return null;const s=Ol[t],a=t===Ol.length-1,l=t===0,c=()=>{a?r("/"):e(f=>Math.min(f+1,Ol.length-1))},d=()=>{e(f=>Math.max(f-1,0))},h=()=>{r("/")};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black text-white",children:[o.jsx("div",{className:"bg-black/20 border-b border-gray-700",children:o.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(hr,{className:"h-8 w-8 text-red-500"}),o.jsx("span",{className:"text-2xl font-bold",children:"FlexFlow"})]}),o.jsx(Xe,{variant:"secondary",className:"bg-red-500/20 text-red-300 border-red-500/30",children:"Tutorial"})]}),o.jsx(ue,{variant:"ghost",onClick:h,className:"text-gray-400 hover:text-white","data-testid":"button-skip-tutorial",children:"Skip Tutorial"})]})}),o.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("span",{className:"text-sm text-gray-400",children:["Step ",t+1," of ",Ol.length]}),o.jsxs("span",{className:"text-sm text-gray-400",children:[Math.round((t+1)/Ol.length*100),"% Complete"]})]}),o.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:o.jsx("div",{className:"bg-gradient-to-r from-red-500 to-orange-500 h-2 rounded-full transition-all duration-300 ease-out",style:{width:`${(t+1)/Ol.length*100}%`}})})]}),o.jsxs(Le,{className:"bg-gray-800/50 border-gray-700 backdrop-blur-sm",children:[o.jsxs(kt,{className:"text-center pb-6",children:[o.jsx("div",{className:"flex justify-center mb-4",children:s.icon}),o.jsx(Ot,{className:"text-3xl font-bold text-white mb-2",children:s.title}),o.jsx(qr,{className:"text-lg text-gray-300 max-w-2xl mx-auto",children:s.description})]}),o.jsxs(Ve,{children:[o.jsx("div",{className:"grid md:grid-cols-2 gap-4 mb-8",children:s.features.map((f,m)=>o.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-700/30 rounded-lg border border-gray-600/30",children:[o.jsx(VH,{className:"h-5 w-5 text-green-400 flex-shrink-0"}),o.jsx("span",{className:"text-gray-200",children:f})]},m))}),o.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-gray-700",children:[o.jsxs(ue,{variant:"outline",onClick:d,disabled:l,className:"border-gray-600 text-gray-300 hover:bg-gray-700 disabled:opacity-50","data-testid":"button-previous-step",children:[o.jsx(rI,{className:"h-4 w-4 mr-1"}),"Previous"]}),o.jsx("div",{className:"flex space-x-2",children:Ol.map((f,m)=>o.jsx("button",{onClick:()=>e(m),className:`w-3 h-3 rounded-full transition-all duration-200 ${m===t?"bg-red-500":m<t?"bg-green-500":"bg-gray-600"}`,"data-testid":`button-step-${m+1}`},m))}),o.jsx(ue,{onClick:c,className:"bg-red-500 hover:bg-red-600 text-white","data-testid":a?"button-go-to-home":"button-next-step",children:a?o.jsxs(o.Fragment,{children:["Go to Home",o.jsx(ov,{className:"h-4 w-4 ml-1"})]}):o.jsxs(o.Fragment,{children:["Next",o.jsx(Yp,{className:"h-4 w-4 ml-1"})]})})]})]})]}),a&&o.jsx(Le,{className:"mt-6 bg-gradient-to-r from-red-500/10 to-orange-500/10 border-red-500/30",children:o.jsx(Ve,{className:"pt-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:" You're Ready to Begin!"}),o.jsx("p",{className:"text-gray-300 mb-4",children:"Your personalized fitness home is waiting. Start by setting your first goal or logging a workout."}),o.jsxs("div",{className:"flex justify-center space-x-3",children:[o.jsxs(Xe,{variant:"secondary",className:"bg-red-500/20 text-red-300 border-red-500/30",children:[o.jsx(ti,{className:"h-3 w-3 mr-1"}),"Set Goals"]}),o.jsxs(Xe,{variant:"secondary",className:"bg-blue-500/20 text-blue-300 border-blue-500/30",children:[o.jsx(hr,{className:"h-3 w-3 mr-1"}),"Log Workouts"]}),o.jsxs(Xe,{variant:"secondary",className:"bg-green-500/20 text-green-300 border-green-500/30",children:[o.jsx(ei,{className:"h-3 w-3 mr-1"}),"Plan Meals"]})]})]})})})]})]})}function s0e(){return o.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[o.jsxs("header",{className:"px-4 lg:px-6 h-14 flex items-center border-b bg-white dark:bg-gray-800 shadow-sm",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(mt,{className:"text-red-600",size:32}),o.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"FlexFlow"})]}),o.jsx("div",{className:"ml-auto",children:o.jsx(ue,{asChild:!0,variant:"outline",children:o.jsx("a",{href:"/","data-testid":"back-home",children:"Back to Home"})})})]}),o.jsx("main",{className:"container mx-auto px-4 py-12 max-w-4xl",children:o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-8",children:"Terms of Service"}),o.jsxs("div",{className:"prose prose-gray dark:prose-invert max-w-none",children:[o.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:["Last updated: ",new Date().toLocaleDateString()]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"1. Acceptance of Terms"}),o.jsx("p",{children:'By accessing and using FlexFlow ("the Service"), you accept and agree to be bound by the terms and provision of this agreement. These Terms of Service govern your use of the FlexFlow fitness tracking application and related services.'})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"2. Use of the Service"}),o.jsx("p",{children:"FlexFlow provides fitness tracking, workout logging, and wellness management tools. You agree to:"}),o.jsxs("ul",{className:"list-disc pl-6 mt-2",children:[o.jsx("li",{children:"Use the Service only for lawful purposes"}),o.jsx("li",{children:"Provide accurate and complete information when creating your account"}),o.jsx("li",{children:"Maintain the security and confidentiality of your account credentials"}),o.jsx("li",{children:"Not share your account with others"}),o.jsx("li",{children:"Not use the Service to upload harmful or inappropriate content"})]})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"3. User Accounts"}),o.jsx("p",{children:"You are responsible for maintaining the confidentiality of your account information and password. You agree to accept responsibility for all activities that occur under your account."})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"4. Subscription and Payments"}),o.jsx("p",{children:"FlexFlow offers both free and premium subscription tiers. Premium subscriptions are billed automatically on a recurring basis. You may cancel your subscription at any time through your account settings."})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"5. Health and Safety Disclaimer"}),o.jsx("p",{children:"FlexFlow is not a substitute for professional medical advice. Always consult with healthcare professionals before starting any fitness program. Use of fitness tracking data should not replace medical supervision for health conditions."})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"6. Data Privacy"}),o.jsx("p",{children:"Your privacy is important to us. Please review our Privacy Policy, which also governs your use of the Service, to understand our practices regarding your personal information."})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"7. Limitation of Liability"}),o.jsx("p",{children:"FlexFlow shall not be liable for any indirect, incidental, special, consequential, or punitive damages, or any loss of profits or revenues, whether incurred directly or indirectly, or any loss of data, use, goodwill, or other intangible losses."})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"8. Modifications to Terms"}),o.jsx("p",{children:"We reserve the right to modify these terms at any time. We will notify users of any material changes via email or through the Service. Continued use of the Service after such modifications constitutes acceptance of the updated terms."})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"9. Contact Information"}),o.jsx("p",{children:"If you have any questions about these Terms of Service, please contact us through the FlexFlow application or website."})]})]})]})})]})}function a0e(){return o.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[o.jsxs("header",{className:"px-4 lg:px-6 h-14 flex items-center border-b bg-white dark:bg-gray-800 shadow-sm",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(mt,{className:"text-red-600",size:32}),o.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"FlexFlow"})]}),o.jsx("div",{className:"ml-auto",children:o.jsx(ue,{asChild:!0,variant:"outline",children:o.jsx("a",{href:"/","data-testid":"back-home",children:"Back to Home"})})})]}),o.jsx("main",{className:"container mx-auto px-4 py-12 max-w-4xl",children:o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-8",children:"Privacy Policy"}),o.jsxs("div",{className:"prose prose-gray dark:prose-invert max-w-none",children:[o.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:["Last updated: ",new Date().toLocaleDateString()]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"1. Information We Collect"}),o.jsx("p",{children:"FlexFlow collects information you provide directly to us, such as:"}),o.jsxs("ul",{className:"list-disc pl-6 mt-2",children:[o.jsx("li",{children:"Account information (name, email address, username)"}),o.jsx("li",{children:"Profile information (age, height, weight, fitness goals)"}),o.jsx("li",{children:"Workout and fitness data (exercises, sets, reps, duration)"}),o.jsx("li",{children:"Progress tracking data (measurements, achievements, streaks)"}),o.jsx("li",{children:"Communication data when you contact us for support"})]})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"2. How We Use Your Information"}),o.jsx("p",{children:"We use the information we collect to:"}),o.jsxs("ul",{className:"list-disc pl-6 mt-2",children:[o.jsx("li",{children:"Provide and maintain our fitness tracking services"}),o.jsx("li",{children:"Personalize your workout recommendations and meal plans"}),o.jsx("li",{children:"Track your progress and generate fitness analytics"}),o.jsx("li",{children:"Send you notifications about your fitness goals and achievements"}),o.jsx("li",{children:"Provide customer support and respond to your inquiries"}),o.jsx("li",{children:"Improve our services and develop new features"})]})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"3. Information Sharing and Disclosure"}),o.jsx("p",{children:"We do not sell, trade, or otherwise transfer your personal information to third parties. We may share your information in limited circumstances:"}),o.jsxs("ul",{className:"list-disc pl-6 mt-2",children:[o.jsx("li",{children:"With your consent or at your direction"}),o.jsx("li",{children:"To comply with legal obligations or court orders"}),o.jsx("li",{children:"To protect our rights, privacy, safety, or property"}),o.jsx("li",{children:"In connection with business transfers or mergers"})]})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"4. Health Data Privacy"}),o.jsx("p",{children:"Your health and fitness data is especially sensitive. We implement strong security measures to protect this information and will never use your health data for advertising or marketing purposes without your explicit consent."})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"5. Data Security"}),o.jsx("p",{children:"We implement appropriate technical and organizational security measures to protect your personal information against unauthorized access, alteration, disclosure, or destruction. This includes encryption of sensitive data and regular security assessments."})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"6. Data Retention"}),o.jsx("p",{children:"We retain your personal information for as long as your account is active or as needed to provide you services. If you wish to delete your account or request that we no longer use your information, please contact us."})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"7. Your Rights and Choices"}),o.jsx("p",{children:"You have the right to:"}),o.jsxs("ul",{className:"list-disc pl-6 mt-2",children:[o.jsx("li",{children:"Access and update your personal information"}),o.jsx("li",{children:"Delete your account and associated data"}),o.jsx("li",{children:"Opt out of promotional communications"}),o.jsx("li",{children:"Request a copy of your data"}),o.jsx("li",{children:"Restrict or object to certain processing of your data"})]})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"8. Cookies and Tracking"}),o.jsx("p",{children:"We use cookies and similar technologies to enhance your experience, analyze usage patterns, and improve our services. You can control cookie preferences through your browser settings."})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"9. Children's Privacy"}),o.jsx("p",{children:"FlexFlow is not intended for use by children under 13 years of age. We do not knowingly collect personal information from children under 13. If you become aware that a child has provided us with personal information, please contact us."})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"10. Changes to This Privacy Policy"}),o.jsx("p",{children:'We may update this Privacy Policy from time to time. We will notify you of any material changes by posting the new Privacy Policy on this page and updating the "Last updated" date.'})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"11. Contact Us"}),o.jsx("p",{children:"If you have any questions about this Privacy Policy or our privacy practices, please contact us through the FlexFlow application or website."})]})]})]})})]})}function o0e(){const{data:t}=Rt({queryKey:["/api/notification-preferences"],refetchInterval:6e4}),e=b.useCallback((i,s,a)=>{"Notification"in window&&Notification.permission==="granted"&&new Notification(i,{body:s,icon:a||"/favicon.ico",badge:"/favicon.ico",tag:"flexflow-notification",requireInteraction:!1})},[]),r=b.useCallback((i,s)=>{const a=new Date;if(`${String(a.getHours()).padStart(2,"0")}:${String(a.getMinutes()).padStart(2,"0")}`===s){const c={breakfast:"Breakfast",lunch:"Lunch",dinner:"Dinner"},d=`last-${i}-notification`,h=localStorage.getItem(d),f=a.toDateString();h!==f&&(e(`${c[i]} Time! `,`It's time for ${c[i].toLowerCase()}. Don't forget to log your meal!`),localStorage.setItem(d,f))}},[e]),n=b.useCallback(async()=>{if(t!=null&&t.workoutRemindersEnabled)try{const i=await fetch("/api/notification-preferences/workout-reminder-needed",{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(!i.ok)return;if((await i.json()).reminderNeeded){const a="last-workout-reminder",l=localStorage.getItem(a),c=Date.now(),d=60*60*1e3;(!l||c-parseInt(l)>d)&&(e("Workout Reminder ","You haven't logged a workout in 24 hours. Time to get moving!"),localStorage.setItem(a,String(c)),await dt("POST","/api/notification-preferences/workout-reminder-sent",{}))}}catch(i){console.error("Error checking workout reminder:",i)}},[t==null?void 0:t.workoutRemindersEnabled,e]);return b.useEffect(()=>{if(!t||!t.notificationPermissionGranted)return;t.workoutRemindersEnabled&&n();const i=setInterval(()=>{t.mealNotificationsEnabled&&(r("breakfast",t.breakfastTime),r("lunch",t.lunchTime),r("dinner",t.dinnerTime)),t.workoutRemindersEnabled&&n()},6e4);return()=>clearInterval(i)},[t,r,n]),{preferences:t,showNotification:e,isEnabled:(t==null?void 0:t.notificationPermissionGranted)??!1}}function l0e(){return o0e(),null}function c0e({onComplete:t}){const[e,r]=b.useState(!1);return b.useEffect(()=>{const n=setTimeout(()=>{r(!0)},2e3),i=setTimeout(()=>{t()},2500);return()=>{clearTimeout(n),clearTimeout(i)}},[t]),o.jsx("div",{className:`fixed inset-0 z-50 flex flex-col items-center justify-center bg-gradient-to-br from-black via-gray-900 to-black transition-opacity duration-500 ${e?"opacity-0":"opacity-100"}`,"data-testid":"splash-screen",children:o.jsxs("div",{className:"flex flex-col items-center space-y-6 animate-in fade-in zoom-in duration-700",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 bg-primary/20 blur-3xl rounded-full animate-pulse"}),o.jsx(hr,{className:"w-20 h-20 text-primary relative z-10",strokeWidth:2.5})]}),o.jsxs("div",{className:"text-center space-y-2",children:[o.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-white tracking-tight",children:"FlexFlow Fitness"}),o.jsx("p",{className:"text-xl md:text-2xl text-gray-300 font-medium tracking-wide",children:"Stay Strong Stay Fit"})]}),o.jsxs("div",{className:"flex space-x-1 mt-8",children:[o.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"0ms"}}),o.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"150ms"}}),o.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})})}function u0e(){const{isAuthenticated:t,isLoading:e}=ns();return e?o.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-50 dark:bg-black",children:o.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full","aria-label":"Loading"})}):o.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-black pt-safe",children:[t&&o.jsxs(o.Fragment,{children:[o.jsx(Tpe,{}),o.jsx(l0e,{})]}),o.jsx("main",{className:"pb-safe",children:o.jsxs(nW,{children:[o.jsx(sr,{path:"/terms-of-service",component:s0e}),o.jsx(sr,{path:"/privacy-policy",component:a0e}),o.jsx(sr,{path:"/tutorial",component:i0e}),t?o.jsxs(Lpe,{children:[o.jsx(sr,{path:"/",component:u4}),o.jsx(sr,{path:"/home",component:u4}),o.jsx(sr,{path:"/dashboard",component:YY}),o.jsx(sr,{path:"/subscription",component:v4}),o.jsx(sr,{path:"/user/subscription",component:v4}),o.jsx(sr,{path:"/mile-tracker",component:wJ}),o.jsx(sr,{path:"/community",component:Lae}),o.jsx(sr,{path:"/meal-plans",component:Cle}),o.jsx(sr,{path:"/workout-planner",component:qle}),o.jsx(sr,{path:"/meal-tracker",component:Vhe}),o.jsx(sr,{path:"/settings",component:pfe}),o.jsx(sr,{path:"/workouts",component:xpe}),o.jsx(sr,{path:"/progress",component:Npe}),o.jsx(sr,{path:"/progress-photos",component:Cpe}),o.jsx(sr,{path:"/calendar",component:Epe}),o.jsx(sr,{path:"/news",component:ype})]}):o.jsxs(o.Fragment,{children:[o.jsx(sr,{path:"/",component:Whe}),o.jsx(sr,{path:"/auth-selection",component:n0e}),o.jsx(sr,{path:"/onboarding",component:Dpe}),o.jsx(sr,{path:"/onboarding/plan",component:Rpe}),o.jsx(sr,{path:"/trial-success",component:Fpe})]}),o.jsx(sr,{component:Ape})]})}),t&&o.jsx(Ipe,{})]})}function d0e(){const[t,e]=b.useState(!0),r=()=>{e(!1)};return o.jsx(NW,{client:Vw,children:o.jsx(yZ,{children:o.jsxs(mZ,{children:[o.jsx($G,{}),t?o.jsx(c0e,{onComplete:r}):o.jsx(u0e,{})]})})})}var v2;(function(t){t.Dark="DARK",t.Light="LIGHT",t.Default="DEFAULT"})(v2||(v2={}));var $A;(function(t){t.None="NONE",t.Slide="SLIDE",t.Fade="FADE"})($A||($A={}));const VA=rv("StatusBar");J8(document.getElementById("root")).render(o.jsx(d0e,{}));Qn.getPlatform()==="ios"&&(VA.setOverlaysWebView({overlay:!0}).catch(()=>{}),VA.setStyle({style:v2.Light}).catch(()=>{}));
